(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/SFx":function(n,t,l){var e={"./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-nz":"b1Dy","./en-nz.js":"b1Dy"};function u(n){var t=r(n);return l(t)}function r(n){var t=e[n];if(!(t+1)){var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}return t}u.keys=function(){return Object.keys(e)},u.resolve=r,n.exports=u,u.id="/SFx"},0:function(n,t,l){n.exports=l("zUnb")},B751:function(n,t,l){var e,u;void 0===(u="function"==typeof(e=function(n){var t,l,e,u=n;void 0===u&&(window.rison={}),u.uri_ok={"~":!0,"!":!0,"*":!0,"(":!1,")":!1,"-":!0,_:!0,".":!0,",":!0,":":!1,"@":!0,$:!0,"'":!0,"/":!0},function(){for(var n=[],t=0;t<16;t++)for(var l=0;l<16;l++)if(t+l!=0){var e=String.fromCharCode(16*t+l);/\w|[-_.\/~]/.test(e)||n.push("\\u00"+t.toString(16)+l.toString(16))}u.not_idchar=n.join("")}(),u.not_idchar=" '!:(),*@$",u.not_idstart="-0123456789",e="[^"+u.not_idstart+u.not_idchar+"][^"+u.not_idchar+"]*",u.id_ok=new RegExp("^"+e+"$"),u.next_id=new RegExp(e,"g"),u.quote=function(n){return/^[-A-Za-z0-9~!*()_.',:@$\/]*$/.test(n)?n:encodeURIComponent(n).replace("%2C",",","g").replace("%3A",":","g").replace("%40","@","g").replace("%24","$","g").replace("%2F","/","g").replace("%20","+","g")},t={"'":!0,"!":!0},l={array:function(n){var t,e,u,r,i=["!("],o=n.length;for(u=0;u<o;u+=1)(e=l[typeof(r=n[u])])&&"string"==typeof(r=e(r))&&(t&&(i[i.length]=","),i[i.length]=r,t=!0);return i[i.length]=")",i.join("")},boolean:function(n){return n?"!t":"!f"},null:function(n){return"!n"},number:function(n){return isFinite(n)?String(n).replace(/\+/,""):"!n"},object:function(n){if(n){if(n instanceof Array)return l.array(n);if("object"==typeof n.__prototype__&&void 0!==n.__prototype__.encode_rison)return n.encode_rison();var t,e,u,r,i,o=["("],s=[];for(u in n)s[s.length]=u;for(s.sort(),i=0;i<s.length;i++)(e=l[typeof(r=n[u=s[i]])])&&"string"==typeof(r=e(r))&&(t&&(o[o.length]=","),o.push(l.string(u),":",r),t=!0);return o[o.length]=")",o.join("")}return"!n"},string:function(n){return""==n?"''":u.id_ok.test(n)?n:"'"+(n=n.replace(/(['!])/g,function(n,l){return t[l]?"!"+l:l}))+"'"},undefined:function(n){}},u.encode=function(n){return l[typeof n](n)},u.encode_object=function(n){if("object"!=typeof n||null===n||n instanceof Array)throw new Error("rison.encode_object expects an object argument");var t=l[typeof n](n);return t.substring(1,t.length-1)},u.encode_array=function(n){if(!(n instanceof Array))throw new Error("rison.encode_array expects an array argument");var t=l[typeof n](n);return t.substring(2,t.length-1)},u.encode_uri=function(n){return u.quote(l[typeof n](n))},u.decode=function(n){return new u.parser(function(n){throw Error("rison decoder error: "+n)}).parse(n)},u.decode_object=function(n){return u.decode("("+n+")")},u.decode_array=function(n){return u.decode("!("+n+")")},u.parser=function(n){this.errorHandler=n},u.parser.WHITESPACE="",u.parser.prototype.setOptions=function(n){n.errorHandler&&(this.errorHandler=n.errorHandler)},u.parser.prototype.parse=function(n){this.string=n,this.index=0,this.message=null;var t=this.readValue();return!this.message&&this.next()&&(t=this.error("unable to parse string as rison: '"+u.encode(n)+"'")),this.message&&this.errorHandler&&this.errorHandler(this.message,this.index),t},u.parser.prototype.error=function(n){"undefined"!=typeof console&&console.log("rison parser error: ",n),this.message=n},u.parser.prototype.readValue=function(){var n=this.next(),t=n&&this.table[n];if(t)return t.apply(this);var l=this.string,e=this.index-1;u.next_id.lastIndex=e;var r=u.next_id.exec(l);if(r.length>0){var i=r[0];return this.index=e+i.length,i}return this.error(n?"invalid character: '"+n+"'":"empty expression")},u.parser.parse_array=function(n){for(var t,l=[];")"!=(t=n.next());){if(!t)return n.error("unmatched '!('");if(l.length)","!=t&&n.error("missing ','");else{if(","==t)return n.error("extra ','");--n.index}var e=n.readValue();if(void 0===e)return;l.push(e)}return l},u.parser.bangs={t:!0,f:!1,n:null,"(":u.parser.parse_array},u.parser.prototype.table={"!":function(){var n=this.string.charAt(this.index++);if(!n)return this.error('"!" at end of input');var t=u.parser.bangs[n];return"function"==typeof t?t.call(null,this):void 0===t?this.error('unknown literal: "!'+n+'"'):t},"(":function(){for(var n,t={},l=0;")"!=(n=this.next());){if(l)","!=n&&this.error("missing ','");else{if(","==n)return this.error("extra ','");--this.index}var e=this.readValue();if(void 0===e)return;if(":"!=this.next())return this.error("missing ':'");var u=this.readValue();if(void 0===u)return;t[e]=u,l++}return t},"'":function(){for(var n,t=this.string,l=this.index,e=l,u=[];"'"!=(n=t.charAt(l++));){if(!n)return this.error('unmatched "\'"');if("!"==n){if(e<l-1&&u.push(t.slice(e,l-1)),n=t.charAt(l++),!("!'".indexOf(n)>=0))return this.error('invalid string escape: "!'+n+'"');u.push(n),e=l}}return e<l-1&&u.push(t.slice(e,l-1)),this.index=l,1==u.length?u[0]:u.join("")},"-":function(){var n=this.string,t=this.index,l=t-1,e="int",u="-",r={"int+.":"frac","int+e":"exp","frac+e":"exp"};do{var i=n.charAt(t++);if(!i)break;"0"<=i&&i<="9"||(u.indexOf(i)>=0?u="":"exp"==(e=r[e+"+"+i.toLowerCase()])&&(u="-"))}while(e);return this.index=--t,"-"==(n=n.slice(l,t))?this.error("invalid number"):Number(n)}},function(n){for(var t=0;t<=9;t++)n[String(t)]=n["-"]}(u.parser.prototype.table),u.parser.prototype.next=function(){var n=this.string,t=this.index;do{if(t==n.length)return;var l=n.charAt(t++)}while(u.parser.WHITESPACE.indexOf(l)>=0);return this.index=t,l}})?e.apply(t,[t]):e)||(n.exports=u)},QsGe:function(n,t){function l(n){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="QsGe"},aBC6:function(n,t,l){var e={"./diff_match_patch_uncompressed":"TcsW","./diff_match_patch_uncompressed.js":"TcsW"};function u(n){var t=r(n);return l(t)}function r(n){var t=e[n];if(!(t+1)){var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}return t}u.keys=function(){return Object.keys(e)},u.resolve=r,n.exports=u,u.id="aBC6"},crnd:function(n,t){function l(n){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="crnd"},zUnb:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),u=l("NlKi"),r=function(){function n(){}return n.initialize=function(){u.config("https://6449144eee1d48808d449bde50a3b076@sentry.io/62485",{release:"1.61"}).install()},n.prototype.error=function(n){n&&"Response with status: 0  for URL: null"!==n.message&&u.captureException(n)},n}(),i=function(){},o=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m){this.dock=n,this.dialogManager=t,this.identity=l,this.studyStagingArea=e,this.resultsStagingArea=u,this.applicationInsightsRouteChangedHandler=r,this.pusher=i,this.jsonEditor=o,this.carConfigValidationStagingArea=s,this.userSettingsCache=a,this.unitsManager=c,this.simVersionDocumentCache=d,this.localUserSettingsManager=b,this.getUserSimVersion=f,this.getTenantSimVersion=p,this.getSimVersion=h,this.getSimVersionOrOverrideService=g,this.studyNotifier=y,this.worksheetDock=m}return n.prototype.ngOnInit=function(){this.identity.serviceOnInit(),this.localUserSettingsManager.serviceOnInit(),this.getUserSimVersion.serviceOnInit(),this.getTenantSimVersion.serviceOnInit(),this.getSimVersion.serviceOnInit(),this.studyStagingArea.serviceOnInit(),this.resultsStagingArea.serviceOnInit(),this.applicationInsightsRouteChangedHandler.serviceOnInit(),this.pusher.serviceOnInit(),this.jsonEditor.serviceOnInit(),this.carConfigValidationStagingArea.serviceOnInit(),this.userSettingsCache.serviceOnInit(),this.unitsManager.serviceOnInit(),this.simVersionDocumentCache.serviceOnInit(),this.getSimVersionOrOverrideService.serviceOnInit(),this.studyNotifier.serviceOnInit(),this.worksheetDock.serviceOnInit()},n.prototype.onEscape=function(){this.dialogManager.dismiss()},n}(),s=l("pMnS"),a=function(){},c=e.sb({encapsulation:2,styles:[[".loader-container{font-size:.5em}.loader-centered{text-align:center}.loader-content{font-size:2.2em;margin-left:.5em;vertical-align:top}.loader-content:empty{display:none}"]],data:{}});function d(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"div",[["class","loader-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,0,"div",[["class","logo-icon loader"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"span",[["class","loader-content"]],null,null,null,null,null)),e.Db(null,0),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],null,null)}var b=l("ZYCi"),f=l("Ip0R"),p=function(){function n(){}return n.prototype.transform=function(n){return(t=n.toString().split("."))[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".");var t},n}(),h=function(){function n(){this.alertType="danger",this.customClass=""}return Object.defineProperty(n.prototype,"show",{get:function(){return!!(this.message||this.messages&&this.messages.length)},enumerable:!0,configurable:!0}),n.prototype.splitMessage=function(){return this.messages||(this.message?this.message.split("\n"):[])},n}(),g=e.sb({encapsulation:2,styles:[],data:{}});function y(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["id","error-message"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function m(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,y)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.splitMessage())},function(n,t){var l=t.component;n(t,0,0,e.wb(2,"alert alert-",l.alertType," ",l.customClass,""))})}function v(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,m)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.show)},null)}var w=function(){function n(n,t,l){this.identity=n,this.studyStub=t,this.getFriendlyErrorAndLog=l,this.isLoading=!1}return n.prototype.load=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.isLoading=!0,this.tenantId||(this.tenantId=this.identity.get().tenantId),n=this,[4,this.studyStub.getTenantBillableStoredSimulationCount(this.tenantId)];case 1:return n.data=l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return this.isLoading=!1,[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),M="administrator",C="tenant-administrator",S="test-user",I="deleted-user",x=function(){function n(n,t,l,e,u,r,i){this.authenticated=n,this.accessToken=t,this.refreshToken=l,this.userId=e,this.tenantId=u,this.roles=r,this.nonImpersonatedUserId=i,this.roles||(this.roles=[])}return n.fromMutable=function(t){return new n(t.authenticated,t.accessToken,t.refreshToken,t.userId,t.tenantId,t.roles,t.nonImpersonatedUserId)},n.toMutable=function(n){return{authenticated:n.authenticated,accessToken:n.accessToken,refreshToken:n.refreshToken,userId:n.userId,tenantId:n.tenantId,roles:n.roles?n.roles.slice():[],nonImpersonatedUserId:n.nonImpersonatedUserId}},n.prototype.isInRole=function(n){return!!this.roles&&-1!==this.roles.indexOf(n)},Object.defineProperty(n.prototype,"isTestUser",{get:function(){return this.isInRole(S)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAdministrator",{get:function(){return this.isInRole(M)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTenantAdministrator",{get:function(){return this.isAdministrator||this.isInRole(C)},enumerable:!0,configurable:!0}),n.unauthenticated=new n(!1,void 0,void 0,void 0,void 0,[],void 0),n}(),O=function(){function n(n,t){this.localStorageService=n,this.applicationInsights=t,this.changed=new e.n,this.userChanged=new e.n}return n.prototype.serviceOnInit=function(){var n=this.localStorageService.getItem("currentUser");this.userIdentity=n?x.fromMutable(n):x.unauthenticated,this.updateApplicationInsights()},n.prototype.clear=function(){this.set(x.unauthenticated),this.localStorageService.clear()},n.prototype.set=function(n){var t=this.userIdentity;this.userIdentity=n;var l=x.toMutable(n);this.localStorageService.setItem("currentUser",l),this.updateApplicationInsights(),t.userId!==n.userId&&this.userChanged.emit(n),this.changed.emit(n)},n.prototype.get=function(){return this.userIdentity},Object.defineProperty(n.prototype,"isTestUser",{get:function(){return this.userIdentity.isTestUser},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAdministrator",{get:function(){return this.userIdentity.isAdministrator},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTenantAdministrator",{get:function(){return this.userIdentity.isTenantAdministrator},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showWorksheets",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.updateApplicationInsights=function(){this.applicationInsights.setAuthenticatedUserContext(this.userIdentity.userId,this.userIdentity.tenantId)},n}(),k=new(function(){function n(){}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value||this.populateValue()},enumerable:!0,configurable:!0}),n.prototype.reset=function(){this._value=void 0,this.hardCodedApiUrl="",this.getHostname=function(){return window.location.hostname}},n.prototype.populateValue=function(){if(this.hardCodedApiUrl)this._value=this.hardCodedApiUrl;else{var n=this.getHostname().replace("portal","api").replace("canopy-web","canopy-api");this._value="https://"+n+"/"}return this._value},n}());k.reset();var T,P,E,_,V,j,R,F=l("t/Na"),A=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},L=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},D=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.get=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"availability?"+(void 0===n?"":"full="+n+"&")+(void 0===t?"":"ping="+t+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.head=function(){return A(this,void 0,void 0,function(){var n;return L(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"availability"))];case 1:return t.sent(),[3,3];case 2:throw n=t.sent(),this.getHttpError.execute(n);case 3:return[2]}})})},n}(),N=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getWorksheet=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"worksheets/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===l?"":"configVersion="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.postWorksheet=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"worksheets/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.putWorksheet=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"worksheets/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)),JSON.stringify(l),{headers:e})];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.postDuplicateConfigs=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"worksheets/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/duplicate?"+(void 0===e?"":"simVersion="+encodeURIComponent(e)+"&")),JSON.stringify(l),{headers:u})];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n}(),U=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.postTenant=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"tenants"),JSON.stringify(n),{headers:t})];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.putTenant=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"tenants/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.deleteTenant=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.delete(this.fixUrl.execute(k.value+"tenants/"+encodeURIComponent(n)))];case 1:return l.sent(),[3,3];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.getTenant=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenants/"+encodeURIComponent(n)))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.getTenants=function(){return A(this,void 0,void 0,function(){var n;return L(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenants"))];case 1:return[2,t.sent().body];case 2:throw n=t.sent(),this.getHttpError.execute(n);case 3:return[2]}})})},n.prototype.getTenantUsers=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenants/"+encodeURIComponent(n)+"/users"))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n}(),Q=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.encrypt=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/encrypt?"+(void 0===t?"":"description="+encodeURIComponent(t)+"&")),JSON.stringify(n),{headers:l})];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.decrypt=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/decrypt"),JSON.stringify(n),{headers:t})];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.encryptWithMetadata=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/encryptWithMetadata"),JSON.stringify(n),{headers:t})];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.decryptWithMetadata=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/decryptWithMetadata"),JSON.stringify(n),{headers:t})];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.upgradeConfigDeprecated=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/upgrade/"+encodeURIComponent(n)+"?"+(void 0===l?"":"subTreePath="+encodeURIComponent(l)+"&")),JSON.stringify(t),{headers:e})];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.upgradeConfig=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/upgrade/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")),JSON.stringify(l),{headers:u})];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.getConfigs=function(n,t,l,e,u){return A(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"?"+(void 0===t?"":"configType="+encodeURIComponent(JSON.stringify(t))+"&")+(void 0===l?"":"filter="+encodeURIComponent(JSON.stringify(l))+"&")+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")+(void 0===u?"":"resultType="+encodeURIComponent(u)+"&")))];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.getConfigNames=function(n,t,l,e,u){return A(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/names?"+(void 0===t?"":"configType="+encodeURIComponent(JSON.stringify(t))+"&")+(void 0===l?"":"resultType="+encodeURIComponent(l)+"&")+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")+(void 0===u?"":"simVersion="+encodeURIComponent(u)+"&")))];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.postConfigs=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/batch?"+(void 0===l?"":"subTreePath="+encodeURIComponent(l)+"&")),JSON.stringify(t),{headers:e})];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.postConfig=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"?"+(void 0===l?"":"subTreePath="+encodeURIComponent(l)+"&")),JSON.stringify(t),{headers:e})];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.putConfig=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")),JSON.stringify(l),{headers:u})];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.putConfigOwner=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/owner"),JSON.stringify(l),{headers:e})];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.deleteConfig=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.delete(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===l?"":"subTreePath="+encodeURIComponent(l)+"&")+(void 0===e?"":"undelete="+e+"&")))];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getConfigVersions=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/versions?"+(void 0===l?"":"subTreePath="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getConfig=function(n,t,l,e,u){return A(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===l?"":"subTreePath="+encodeURIComponent(l)+"&")+(void 0===e?"":"simVersion="+encodeURIComponent(e)+"&")+(void 0===u?"":"configVersion="+encodeURIComponent(u)+"&")))];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.postConfigsDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/batch?"+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")),JSON.stringify(l),{headers:u})];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.postConfigDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")),JSON.stringify(l),{headers:u})];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.putConfigDeprecated=function(n,t,l,e,u){return A(this,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"?"+(void 0===u?"":"subTreePath="+encodeURIComponent(u)+"&")),JSON.stringify(e),{headers:r})];case 1:return o.sent(),[3,3];case 2:throw i=o.sent(),this.getHttpError.execute(i);case 3:return[2]}})})},n.prototype.deleteConfigDeprecated=function(n,t,l,e,u){return A(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.http.delete(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"?"+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")+(void 0===u?"":"undelete="+u+"&")))];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.getConfigVersionsDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/versions?"+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")))];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getConfigWithoutUserIdDeprecated=function(n,t,l,e,u){return A(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/auto/"+encodeURIComponent(t)+"?"+(void 0===l?"":"subTreePath="+encodeURIComponent(l)+"&")+(void 0===e?"":"simVersion="+encodeURIComponent(e)+"&")+(void 0===u?"":"configVersion="+encodeURIComponent(u)+"&")))];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.getConfigDeprecated=function(n,t,l,e,u,r){return A(this,void 0,void 0,function(){var i;return L(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"configs/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"?"+(void 0===e?"":"subTreePath="+encodeURIComponent(e)+"&")+(void 0===u?"":"simVersion="+encodeURIComponent(u)+"&")+(void 0===r?"":"configVersion="+encodeURIComponent(r)+"&")))];case 1:return[2,o.sent().body];case 2:throw i=o.sent(),this.getHttpError.execute(i);case 3:return[2]}})})},n}(),J=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getTestAutoScaleFormula=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"pools/"+encodeURIComponent(n)+"/autoscale/test?"+(void 0===t?"":"poolId="+encodeURIComponent(t)+"&")+(void 0===l?"":"formula="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getPoolStatus=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"pools/"+encodeURIComponent(n)+"?"+(void 0===t?"":"poolType="+encodeURIComponent(t)+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getPools=function(){return A(this,void 0,void 0,function(){var n;return L(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"pools"))];case 1:return[2,t.sent().body];case 2:throw n=t.sent(),this.getHttpError.execute(n);case 3:return[2]}})})},n}(),H=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getDownloads=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"sim-versions/"+encodeURIComponent(n)+"/downloads?"+(void 0===t?"":"tenantId="+encodeURIComponent(t)+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getDocuments=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"sim-versions/"+encodeURIComponent(n)+"/documents?"+(void 0===t?"":"tenantId="+encodeURIComponent(t)+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getDocument=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"sim-versions/"+encodeURIComponent(n)+"/documents/"+encodeURI(t)+"?"+(void 0===l?"":"tenantId="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getWikiDocument=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"sim-versions/"+encodeURIComponent(n)+"/wiki/"+encodeURI(t)+"?"+(void 0===l?"":"tenantId="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.postSimVersion=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"sim-versions/current"),JSON.stringify(n),{headers:t})];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getSimVersion=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"sim-versions/current?"+(void 0===n?"":"tenantId="+encodeURIComponent(n)+"&")))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n}(),q=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getAllTenantsStudyStatistics=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/statistics?"+(void 0===n?"":"startDate="+encodeURIComponent(n)+"&")+(void 0===t?"":"endDate="+encodeURIComponent(t)+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getTenantBillableStoredSimulationCount=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/statistics/stored/"+encodeURIComponent(n)))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.getTenantStudyStatistics=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/statistics/"+encodeURIComponent(n)+"?"+(void 0===t?"":"startDate="+encodeURIComponent(t)+"&")+(void 0===l?"":"endDate="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getStudyTypes=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/types?"+(void 0===n?"":"tenantId="+encodeURIComponent(n)+"&")))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.getSimType=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/types/sims/"+encodeURIComponent(n)+"?"+(void 0===t?"":"tenantId="+encodeURIComponent(t)+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getStudyType=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/types/"+encodeURIComponent(n)+"?"+(void 0===t?"":"tenantId="+encodeURIComponent(t)+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getStudies=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"?"+(void 0===t?"":"filter="+encodeURIComponent(JSON.stringify(t))+"&")+(void 0===l?"":"includeTransient="+l+"&")+(void 0===e?"":"resultType="+encodeURIComponent(e)+"&")))];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getTenantAccessInformation=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/access"))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.postStudy=function(n,t,l){return A(this,void 0,void 0,function(){var e,u,r,i,o;return L(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"?"+(void 0===l?"":"runInline="+l+"&")),JSON.stringify(t),{headers:e})];case 1:return u=s.sent(),r=u.body,(i=u.headers.get("additional-data"))&&((r=r||{}).study=JSON.parse(i)),[2,r];case 2:throw o=s.sent(),this.getHttpError.execute(o);case 3:return[2]}})})},n.prototype.putStudy=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)),JSON.stringify(l),{headers:e})];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.putStudyOwner=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/owner"),JSON.stringify(l),{headers:e})];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.deleteStudy=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.delete(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===l?"":"undelete="+l+"&")))];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getStudy=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===l?"":"simVersion="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getStudyDownload_url=function(n,t,l,e,u,r,i,o){return this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/download?"+(void 0===l?"":"accessSignature="+encodeURIComponent(l)+"&")+(void 0===e?"":"expiry="+encodeURIComponent(e)+"&")+(void 0===u?"":"fileName="+encodeURIComponent(u)+"&")+(void 0===r?"":"full="+r+"&")+(void 0===i?"":"channelsAsCsv="+i+"&")+(void 0===o?"":"mergedScalarResultsOnly="+o+"&"))},n.prototype.getStudyDownload=function(n,t,l,e,u,r,i,o){return A(this,void 0,void 0,function(){var s;return L(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/download?"+(void 0===l?"":"accessSignature="+encodeURIComponent(l)+"&")+(void 0===e?"":"expiry="+encodeURIComponent(e)+"&")+(void 0===u?"":"fileName="+encodeURIComponent(u)+"&")+(void 0===r?"":"full="+r+"&")+(void 0===i?"":"channelsAsCsv="+i+"&")+(void 0===o?"":"mergedScalarResultsOnly="+o+"&")))];case 1:return a.sent(),[3,3];case 2:throw s=a.sent(),this.getHttpError.execute(s);case 3:return[2]}})})},n.prototype.getStudyJobDownload_url=function(n,t,l,e,u,r,i,o){return this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/jobs/"+encodeURIComponent(l)+"/download?"+(void 0===e?"":"accessSignature="+encodeURIComponent(e)+"&")+(void 0===u?"":"expiry="+encodeURIComponent(u)+"&")+(void 0===r?"":"fileName="+encodeURIComponent(r)+"&")+(void 0===i?"":"channelsAsCsv="+i+"&")+(void 0===o?"":"simTypeChannels="+encodeURIComponent(o)+"&"))},n.prototype.getStudyJobDownload=function(n,t,l,e,u,r,i,o){return A(this,void 0,void 0,function(){var s;return L(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/jobs/"+encodeURIComponent(l)+"/download?"+(void 0===e?"":"accessSignature="+encodeURIComponent(e)+"&")+(void 0===u?"":"expiry="+encodeURIComponent(u)+"&")+(void 0===r?"":"fileName="+encodeURIComponent(r)+"&")+(void 0===i?"":"channelsAsCsv="+i+"&")+(void 0===o?"":"simTypeChannels="+encodeURIComponent(o)+"&")))];case 1:return a.sent(),[3,3];case 2:throw s=a.sent(),this.getHttpError.execute(s);case 3:return[2]}})})},n.prototype.getStudyDownloadUrl=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/download-url"))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getStudyMetadata=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/metadata"))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getStudyJobs=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/jobs?"+(void 0===l?"":"filter="+encodeURIComponent(JSON.stringify(l))+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getStudyJob=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/jobs/"+encodeURIComponent(l)+"?"+(void 0===e?"":"simVersion="+encodeURIComponent(e)+"&")))];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getStudyJobMetadata=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/jobs/"+encodeURIComponent(l)+"/metadata"))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.mergeStudy=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/merge?"+(void 0===l?"":"forceMergeFromBaseline="+l+"&")))];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.postStudyDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r,i,o,s;return L(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"?"+(void 0===e?"":"runInline="+e+"&")),JSON.stringify(l),{headers:u})];case 1:return r=a.sent(),i=r.body,(o=r.headers.get("additional-data"))&&((i=i||{}).study=JSON.parse(o)),[2,i];case 2:throw s=a.sent(),this.getHttpError.execute(s);case 3:return[2]}})})},n.prototype.putStudyDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)),JSON.stringify(e),{headers:u})];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.deleteStudyDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.delete(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"?"+(void 0===e?"":"undelete="+e+"&")))];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getStudyWithoutUserIdDeprecated=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/auto/"+encodeURIComponent(t)+"?"+(void 0===l?"":"simVersion="+encodeURIComponent(l)+"&")))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getStudyDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"?"+(void 0===e?"":"simVersion="+encodeURIComponent(e)+"&")))];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getStudyDownloadDeprecated_url=function(n,t,l,e,u,r,i,o,s){return this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/download?"+(void 0===e?"":"accessSignature="+encodeURIComponent(e)+"&")+(void 0===u?"":"expiry="+encodeURIComponent(u)+"&")+(void 0===r?"":"fileName="+encodeURIComponent(r)+"&")+(void 0===i?"":"full="+i+"&")+(void 0===o?"":"channelsAsCsv="+o+"&")+(void 0===s?"":"mergedScalarResultsOnly="+s+"&"))},n.prototype.getStudyDownloadDeprecated=function(n,t,l,e,u,r,i,o,s){return A(this,void 0,void 0,function(){var a;return L(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/download?"+(void 0===e?"":"accessSignature="+encodeURIComponent(e)+"&")+(void 0===u?"":"expiry="+encodeURIComponent(u)+"&")+(void 0===r?"":"fileName="+encodeURIComponent(r)+"&")+(void 0===i?"":"full="+i+"&")+(void 0===o?"":"channelsAsCsv="+o+"&")+(void 0===s?"":"mergedScalarResultsOnly="+s+"&")))];case 1:return c.sent(),[3,3];case 2:throw a=c.sent(),this.getHttpError.execute(a);case 3:return[2]}})})},n.prototype.getStudyJobDownloadDeprecated_url=function(n,t,l,e,u,r,i,o,s){return this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/jobs/"+encodeURIComponent(e)+"/download?"+(void 0===u?"":"accessSignature="+encodeURIComponent(u)+"&")+(void 0===r?"":"expiry="+encodeURIComponent(r)+"&")+(void 0===i?"":"fileName="+encodeURIComponent(i)+"&")+(void 0===o?"":"channelsAsCsv="+o+"&")+(void 0===s?"":"simTypeChannels="+encodeURIComponent(s)+"&"))},n.prototype.getStudyJobDownloadDeprecated=function(n,t,l,e,u,r,i,o,s){return A(this,void 0,void 0,function(){var a;return L(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/jobs/"+encodeURIComponent(e)+"/download?"+(void 0===u?"":"accessSignature="+encodeURIComponent(u)+"&")+(void 0===r?"":"expiry="+encodeURIComponent(r)+"&")+(void 0===i?"":"fileName="+encodeURIComponent(i)+"&")+(void 0===o?"":"channelsAsCsv="+o+"&")+(void 0===s?"":"simTypeChannels="+encodeURIComponent(s)+"&")))];case 1:return c.sent(),[3,3];case 2:throw a=c.sent(),this.getHttpError.execute(a);case 3:return[2]}})})},n.prototype.getStudyDownloadUrlDeprecated=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/download-url"))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getStudyMetadataWithoutUserIdDeprecated=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/auto/"+encodeURIComponent(t)+"/metadata"))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getStudyMetadataDeprecated=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/metadata"))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getStudyJobsDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/jobs?"+(void 0===e?"":"filter="+encodeURIComponent(JSON.stringify(e))+"&")))];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getStudyJobDeprecated=function(n,t,l,e,u){return A(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/jobs/"+encodeURIComponent(e)+"?"+(void 0===u?"":"simVersion="+encodeURIComponent(u)+"&")))];case 1:return[2,i.sent().body];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n.prototype.getStudyJobMetadataDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/jobs/"+encodeURIComponent(e)+"/metadata"))];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.mergeStudyDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"studies/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)+"/merge?"+(void 0===e?"":"forceMergeFromBaseline="+e+"&")))];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n}(),B=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getAllSupportSessions=function(){return A(this,void 0,void 0,function(){var n;return L(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"support-sessions/all"))];case 1:return[2,t.sent().body];case 2:throw n=t.sent(),this.getHttpError.execute(n);case 3:return[2]}})})},n.prototype.getSupportSession=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"support-sessions/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.putSupportSession=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"support-sessions/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)),JSON.stringify(l),{headers:e})];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n.prototype.getSupportSessionDeprecated=function(n,t,l){return A(this,void 0,void 0,function(){var e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"support-sessions/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)))];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.putSupportSessionDeprecated=function(n,t,l,e){return A(this,void 0,void 0,function(){var u,r;return L(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"support-sessions/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(l)),JSON.stringify(e),{headers:u})];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),this.getHttpError.execute(r);case 3:return[2]}})})},n}(),z=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getTenantChannelWhitelists=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenant-settings/channel-whitelists/"+encodeURIComponent(n)))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.putTenantChannelWhitelists=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"tenant-settings/channel-whitelists/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getTenantDefaultCustomPropertyNames=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenant-settings/default-custom-property-names/"+encodeURIComponent(n)+"?"+(void 0===t?"":"targetType="+encodeURIComponent(t)+"&")))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.putTenantDefaultCustomPropertyNames=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"tenant-settings/default-custom-property-names/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getTenantChannelImportMappings=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenant-settings/channel-import-mappings/"+encodeURIComponent(n)))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.putTenantChannelImportMappings=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"tenant-settings/channel-import-mappings/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getTenantWorksheetLabelDefinitions=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenant-settings/worksheet-label-definitions/"+encodeURIComponent(n)))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.putTenantWorksheetLabelDefinitions=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"tenant-settings/worksheet-label-definitions/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getTenantSettingsSimVersion=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenant-settings/sim-version/"+encodeURIComponent(n)))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.putTenantSettingsSimVersion=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"tenant-settings/sim-version/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return u.sent(),[3,3];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n.prototype.getAdminTenantSettings=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"tenant-settings/admin/"+encodeURIComponent(n)))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n.prototype.putAdminTenantSettings=function(n,t){return A(this,void 0,void 0,function(){var l,e;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),l=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"tenant-settings/admin/"+encodeURIComponent(n)),JSON.stringify(t),{headers:l})];case 1:return[2,u.sent().body];case 2:throw e=u.sent(),this.getHttpError.execute(e);case 3:return[2]}})})},n}(),K=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getUserSettings=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"user-settings/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.putUserSettings=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"user-settings/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)),JSON.stringify(l),{headers:e})];case 1:return[2,r.sent().body];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n}(),W=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.upgradeListFilter=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"list-filters/upgrade?"+(void 0===n?"":"filter="+encodeURIComponent(JSON.stringify(n))+"&")))];case 1:return[2,l.sent().body];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n}(),G=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.get=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"account-settings/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.put=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"account-settings/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)),JSON.stringify(l),{headers:e})];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n}(),Y=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.postInitialize=function(){return A(this,void 0,void 0,function(){var n;return L(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.http.post(this.fixUrl.execute(k.value+"membership/initialize"),"")];case 1:return t.sent(),[3,3];case 2:throw n=t.sent(),this.getHttpError.execute(n);case 3:return[2]}})})},n.prototype.postRegistration=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"membership/registrations"),JSON.stringify(n),{headers:t})];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.postPasswordResetRequest=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"membership/password-reset-requests"),JSON.stringify(n),{headers:t})];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.postPasswordResetConfirmation=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"membership/password-reset-confirmations"),JSON.stringify(n),{headers:t})];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getPasswordResetTokenValidity=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"membership/password-reset-tokens/"+encodeURIComponent(n)+"?"+(void 0===t?"":"token="+encodeURIComponent(t)+"&")))];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.postIdentifiedUser=function(n){return A(this,void 0,void 0,function(){var t,l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=(new F.g).set("Content-Type","application/json"),[4,this.http.post(this.fixUrl.execute(k.value+"membership/identified-users"),JSON.stringify(n),{headers:t})];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.deleteRefreshTokens=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.delete(this.fixUrl.execute(k.value+"membership/refresh-tokens/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)))];case 1:return e.sent(),[3,3];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getUserRoles=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"membership/roles/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.getUpvotyToken=function(n,t){return A(this,void 0,void 0,function(){var l;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"membership/upvoty-token/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)))];case 1:return[2,e.sent().body];case 2:throw l=e.sent(),this.getHttpError.execute(l);case 3:return[2]}})})},n.prototype.putUserRole=function(n,t,l){return A(this,void 0,void 0,function(){var e,u;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=(new F.g).set("Content-Type","application/json"),[4,this.http.put(this.fixUrl.execute(k.value+"membership/roles/"+encodeURIComponent(n)+"/"+encodeURIComponent(t)),JSON.stringify(l),{headers:e})];case 1:return r.sent(),[3,3];case 2:throw u=r.sent(),this.getHttpError.execute(u);case 3:return[2]}})})},n}(),Z=function(){function n(n,t,l){this.http=n,this.getHttpError=t,this.fixUrl=l}return n.prototype.getLatestMessageAndClearMailbox=function(n){return A(this,void 0,void 0,function(){var t;return L(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.http.get(this.fixUrl.execute(k.value+"test-mailboxes/"+encodeURIComponent(n)))];case 1:return l.sent(),[3,3];case 2:throw t=l.sent(),this.getHttpError.execute(t);case 3:return[2]}})})},n}();!function(n){n.car="car",n.track="track",n.weather="weather",n.exploration="exploration",n.virtual4PostOptions="virtual4PostOptions",n.bankedLimitSimOptions="bankedLimitSimOptions",n.limitSimOptions="limitSimOptions",n.subLimitSimOptions="subLimitSimOptions",n.thermalReplayOptions="thermalReplayOptions",n.pacejkaTyres="pacejkaTyres",n.channelInferenceOptions="channelInferenceOptions",n.overtaking="overtaking",n.userMaths="userMaths",n.constraints="constraints",n.telemetry="telemetry",n.files="files",n.driveCycle="driveCycle",n.study="study",n.worksheet="worksheet",n.aircraft="aircraft",n.iliadBoat="iliadBoat",n.iliadCollocationOptions="iliadCollocationOptions",n.iliadVppOptions="iliadVppOptions"}(T||(T={})),function(n){n.all="all",n.queryOnly="queryOnly",n.groupOnly="groupOnly"}(P||(P={})),function(n){n.creationDate="creationDate",n.modifiedDate="modifiedDate",n.name="name",n.index="index",n.state="state"}(E||(E={})),function(n){n.open="open",n.closed="closed"}(_||(_={})),function(n){n.true="true",n.false="false"}(V||(V={})),function(n){n.successful="successful",n.failed="failed"}(j||(j={})),function(n){n.and="and",n.or="or"}(R||(R={}));var X,nn=function(){return[R.and,R.or]};!function(n){n.equals="equals",n.notEquals="notEquals",n.lessThan="lessThan",n.greaterThan="greaterThan",n.lessThanOrEquals="lessThanOrEquals",n.greaterThanOrEquals="greaterThanOrEquals",n.exists="exists",n.notExists="notExists"}(X||(X={}));var tn,ln,en,un,rn,on,sn,an,cn,dn,bn,fn,pn,hn,gn,yn,mn,vn,wn=function(){return[X.equals,X.notEquals,X.lessThan,X.greaterThan,X.lessThanOrEquals,X.greaterThanOrEquals,X.exists,X.notExists]};!function(n){n.metadata="metadata",n.customProperty="customProperty",n.config="config",n.configMetadata="configMetadata"}(tn||(tn={})),function(n){n.userId="userId",n.simVersion="simVersion",n.creationDate="creationDate",n.modifiedDate="modifiedDate",n.studyType="studyType",n.executionTimeSeconds="executionTimeSeconds",n.jobCount="jobCount",n.succeededJobCount="succeededJobCount",n.failedJobCount="failedJobCount",n.succeededComputeCredits="succeededComputeCredits",n.succeededStorageCredits="succeededStorageCredits",n.state="state",n.supportSession="supportSession",n.name="name",n.parentWorksheetId="parentWorksheetId"}(ln||(ln={})),function(n){n.name="name"}(en||(en={})),function(n){n.automatedTest="automatedTest",n.automatedTest2="automatedTest2",n.car="car",n.track="track",n.weather="weather",n.exploration="exploration",n.virtual4PostOptions="virtual4PostOptions",n.bankedLimitSimOptions="bankedLimitSimOptions",n.limitSimOptions="limitSimOptions",n.subLimitSimOptions="subLimitSimOptions",n.thermalReplayOptions="thermalReplayOptions",n.channelInferenceOptions="channelInferenceOptions",n.overtaking="overtaking",n.driveCycle="driveCycle",n.userMaths="userMaths",n.constraints="constraints",n.telemetry="telemetry",n.files="files",n.aircraft="aircraft",n.iliadBoat="iliadBoat",n.iliadCollocationOptions="iliadCollocationOptions",n.iliadVppOptions="iliadVppOptions",n.pacejkaTyres="pacejkaTyres",n.pacejkaCanopyConverterOptions="pacejkaCanopyConverterOptions",n.lineMultiPlot="lineMultiPlot",n.pointMultiPlot="pointMultiPlot",n.parallelCoordinates="parallelCoordinates",n.pointScatterPlot="pointScatterPlot",n.lineScatterPlot="lineScatterPlot",n.definition="definition",n.job="job",n.result="result",n.baseline="baseline",n.deletedDefinition="deletedDefinition",n.study="study",n.worksheet="worksheet",n.automatedTestCustomView="automatedTestCustomView",n.automatedTestFilter="automatedTestFilter",n.automatedTestViewer="automatedTestViewer",n.automatedTest2CustomView="automatedTest2CustomView",n.automatedTest2Filter="automatedTest2Filter",n.automatedTest2Viewer="automatedTest2Viewer",n.carCustomView="carCustomView",n.carFilter="carFilter",n.carViewer="carViewer",n.trackCustomView="trackCustomView",n.trackFilter="trackFilter",n.trackViewer="trackViewer",n.weatherCustomView="weatherCustomView",n.weatherFilter="weatherFilter",n.weatherViewer="weatherViewer",n.explorationCustomView="explorationCustomView",n.explorationFilter="explorationFilter",n.explorationViewer="explorationViewer",n.virtual4PostOptionsCustomView="virtual4PostOptionsCustomView",n.virtual4PostOptionsFilter="virtual4PostOptionsFilter",n.virtual4PostOptionsViewer="virtual4PostOptionsViewer",n.bankedLimitSimOptionsCustomView="bankedLimitSimOptionsCustomView",n.bankedLimitSimOptionsFilter="bankedLimitSimOptionsFilter",n.bankedLimitSimOptionsViewer="bankedLimitSimOptionsViewer",n.limitSimOptionsCustomView="limitSimOptionsCustomView",n.limitSimOptionsFilter="limitSimOptionsFilter",n.limitSimOptionsViewer="limitSimOptionsViewer",n.subLimitSimOptionsCustomView="subLimitSimOptionsCustomView",n.subLimitSimOptionsFilter="subLimitSimOptionsFilter",n.subLimitSimOptionsViewer="subLimitSimOptionsViewer",n.thermalReplayOptionsCustomView="thermalReplayOptionsCustomView",n.thermalReplayOptionsFilter="thermalReplayOptionsFilter",n.thermalReplayOptionsViewer="thermalReplayOptionsViewer",n.channelInferenceOptionsCustomView="channelInferenceOptionsCustomView",n.channelInferenceOptionsFilter="channelInferenceOptionsFilter",n.channelInferenceOptionsViewer="channelInferenceOptionsViewer",n.overtakingCustomView="overtakingCustomView",n.overtakingFilter="overtakingFilter",n.overtakingViewer="overtakingViewer",n.driveCycleCustomView="driveCycleCustomView",n.driveCycleFilter="driveCycleFilter",n.driveCycleViewer="driveCycleViewer",n.userMathsCustomView="userMathsCustomView",n.userMathsFilter="userMathsFilter",n.userMathsViewer="userMathsViewer",n.constraintsCustomView="constraintsCustomView",n.constraintsFilter="constraintsFilter",n.constraintsViewer="constraintsViewer",n.telemetryCustomView="telemetryCustomView",n.telemetryFilter="telemetryFilter",n.telemetryViewer="telemetryViewer",n.filesCustomView="filesCustomView",n.filesFilter="filesFilter",n.filesViewer="filesViewer",n.aircraftCustomView="aircraftCustomView",n.aircraftFilter="aircraftFilter",n.aircraftViewer="aircraftViewer",n.iliadBoatCustomView="iliadBoatCustomView",n.iliadBoatFilter="iliadBoatFilter",n.iliadBoatViewer="iliadBoatViewer",n.iliadCollocationOptionsCustomView="iliadCollocationOptionsCustomView",n.iliadCollocationOptionsFilter="iliadCollocationOptionsFilter",n.iliadCollocationOptionsViewer="iliadCollocationOptionsViewer",n.iliadVppOptionsCustomView="iliadVppOptionsCustomView",n.iliadVppOptionsFilter="iliadVppOptionsFilter",n.iliadVppOptionsViewer="iliadVppOptionsViewer",n.pacejkaTyresCustomView="pacejkaTyresCustomView",n.pacejkaTyresFilter="pacejkaTyresFilter",n.pacejkaTyresViewer="pacejkaTyresViewer",n.pacejkaCanopyConverterOptionsCustomView="pacejkaCanopyConverterOptionsCustomView",n.pacejkaCanopyConverterOptionsFilter="pacejkaCanopyConverterOptionsFilter",n.pacejkaCanopyConverterOptionsViewer="pacejkaCanopyConverterOptionsViewer",n.lineMultiPlotCustomView="lineMultiPlotCustomView",n.lineMultiPlotFilter="lineMultiPlotFilter",n.lineMultiPlotViewer="lineMultiPlotViewer",n.pointMultiPlotCustomView="pointMultiPlotCustomView",n.pointMultiPlotFilter="pointMultiPlotFilter",n.pointMultiPlotViewer="pointMultiPlotViewer",n.parallelCoordinatesCustomView="parallelCoordinatesCustomView",n.parallelCoordinatesFilter="parallelCoordinatesFilter",n.parallelCoordinatesViewer="parallelCoordinatesViewer",n.pointScatterPlotCustomView="pointScatterPlotCustomView",n.pointScatterPlotFilter="pointScatterPlotFilter",n.pointScatterPlotViewer="pointScatterPlotViewer",n.lineScatterPlotCustomView="lineScatterPlotCustomView",n.lineScatterPlotFilter="lineScatterPlotFilter",n.lineScatterPlotViewer="lineScatterPlotViewer",n.definitionCustomView="definitionCustomView",n.definitionFilter="definitionFilter",n.definitionViewer="definitionViewer",n.jobCustomView="jobCustomView",n.jobFilter="jobFilter",n.jobViewer="jobViewer",n.resultCustomView="resultCustomView",n.resultFilter="resultFilter",n.resultViewer="resultViewer",n.baselineCustomView="baselineCustomView",n.baselineFilter="baselineFilter",n.baselineViewer="baselineViewer",n.deletedDefinitionCustomView="deletedDefinitionCustomView",n.deletedDefinitionFilter="deletedDefinitionFilter",n.deletedDefinitionViewer="deletedDefinitionViewer",n.studyCustomView="studyCustomView",n.studyFilter="studyFilter",n.studyViewer="studyViewer",n.worksheetCustomView="worksheetCustomView",n.worksheetFilter="worksheetFilter",n.worksheetViewer="worksheetViewer"}(un||(un={})),function(n){n.name="name",n.nameAndId="nameAndId",n.matchedNameAndId="matchedNameAndId",n.nameAndIdAndOwner="nameAndIdAndOwner",n.matchedNameAndIdAndOwner="matchedNameAndIdAndOwner"}(rn||(rn={})),function(n){n.primary="primary",n.secondary="secondary",n.heavy="heavy",n.studyMonitor="studyMonitor"}(on||(on={})),function(n){n.active="active",n.deleting="deleting",n.upgrading="upgrading"}(sn||(sn={})),function(n){n.steady="steady",n.resizing="resizing",n.stopping="stopping"}(an||(an={})),function(n){n.StraightSim="StraightSim",n.ApexSim="ApexSim",n.QuasiStaticLap="QuasiStaticLap",n.GenerateRacingLine="GenerateRacingLine",n.DeploymentLap="DeploymentLap",n.FailureSim="FailureSim",n.SuccessSim="SuccessSim",n.Virtual4Post="Virtual4Post",n.LimitSim="LimitSim",n.DriveCycleSim="DriveCycleSim",n.DynamicLap="DynamicLap",n.DragSim="DragSim",n.DynamicMultiLap="DynamicMultiLap",n.ThermalReplay="ThermalReplay",n.TyreReplay="TyreReplay",n.PacejkaCanopyConverter="PacejkaCanopyConverter",n.AircraftSim="AircraftSim",n.ChannelInference="ChannelInference",n.Telemetry="Telemetry",n.OvertakingLap="OvertakingLap",n.TyreThermalDynamicLap="TyreThermalDynamicLap",n.TyreThermalDynamicMultiLap="TyreThermalDynamicMultiLap",n.DynamicLapWithSLS="DynamicLapWithSLS",n.DynamicLapHD="DynamicLapHD",n.IliadCollocation="IliadCollocation",n.SubLimitSim="SubLimitSim",n.BankedLimitSim="BankedLimitSim",n.ConstraintSatisfier="ConstraintSatisfier",n.PostProcessUserMaths="PostProcessUserMaths",n.TrackConverter="TrackConverter"}(cn||(cn={})),function(n){n.enabled="enabled",n.disabled="disabled"}(dn||(dn={})),function(n){n.straightSim="straightSim",n.apexSim="apexSim",n.quasiStaticLap="quasiStaticLap",n.generateRacingLine="generateRacingLine",n.quasiStaticLapWithGenerateRacingLine="quasiStaticLapWithGenerateRacingLine",n.deploymentLap="deploymentLap",n.failureSim="failureSim",n.successSim="successSim",n.virtual4Post="virtual4Post",n.limitSim="limitSim",n.driveCycleSim="driveCycleSim",n.dynamicLap="dynamicLap",n.dynamicLapWithSLS="dynamicLapWithSLS",n.dynamicLapHD="dynamicLapHD",n.dynamicMultiLap="dynamicMultiLap",n.tyreThermalDynamicLap="tyreThermalDynamicLap",n.tyreThermalDynamicMultiLap="tyreThermalDynamicMultiLap",n.overtakingLap="overtakingLap",n.allLapSims="allLapSims",n.dragSim="dragSim",n.thermalReplay="thermalReplay",n.tyreReplay="tyreReplay",n.pacejkaCanopyConverter="pacejkaCanopyConverter",n.aircraftSim="aircraftSim",n.channelInference="channelInference",n.telemetry="telemetry",n.iliadCollocation="iliadCollocation",n.subLimitSim="subLimitSim",n.bankedLimitSim="bankedLimitSim",n.postProcessUserMaths="postProcessUserMaths",n.trackConverter="trackConverter",n.unknown="unknown"}(bn||(bn={})),function(n){n.enabled="enabled",n.disabled="disabled"}(fn||(fn={})),function(n){n.automatedTest="automatedTest",n.config="config",n.study="study",n.tenantSettings="tenantSettings",n.adminTenantSettings="adminTenantSettings",n.configSubTree="configSubTree",n.userSettings="userSettings",n.job="job"}(pn||(pn={})),function(n){n.idle="idle",n.rebooting="rebooting",n.reimaging="reimaging",n.running="running",n.unusable="unusable",n.creating="creating",n.starting="starting",n.waitingForStartTask="waitingForStartTask",n.startTaskFailed="startTaskFailed",n.unknown="unknown",n.leavingPool="leavingPool",n.offline="offline",n.preempted="preempted"}(hn||(hn={})),function(n){n.enabled="enabled",n.disabled="disabled"}(gn||(gn={})),(mn=yn||(yn={})).completed="completed",mn.failed="failed",mn.running="running",mn.buildingAndRunning="buildingAndRunning",mn.posponed="posponed",function(n){n.dispatched="dispatched",n.successful="successful",n.failed="failed"}(vn||(vn={}));var Mn="studyId",Cn="/wiki/Release-Notes",Sn="/wiki/Encryption",In="\u200b",xn=/\u200b/g,On=function(){function n(n){this.logError=n}return n.prototype.execute=function(n){if(!n.isCancellationError)return this.logError.execute(n),n.isDisplayable?n.message||"An error has occurred.":n.isConnectionError?"Unable to communicate with the server. Make sure you are connected to the internet and try again.":"An error has occurred."},n}(),kn=e.sb({encapsulation:2,styles:[],data:{}});function Tn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary btn-smart"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.load()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Calculate"])),(n()(),e.Mb(-1,null,["\n  "]))],null,null)}function Pn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","loader-centered"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function En(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n        ","\n      "])),e.Ib(4,1),(n()(),e.Mb(5,null,["\n      storage credit","\n      are currently in use by\n      "])),(n()(),e.ub(6,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["\n        ","\n      "])),e.Ib(8,1),(n()(),e.Mb(9,null,["\n      simulation",".\n    "]))],null,function(n,t){var l=t.component;n(t,3,0,e.Nb(t,3,0,n(t,4,0,e.Eb(t.parent.parent,0),l.data.succeededStorageCredits))),n(t,5,0,1===l.data.succeededStorageCredits?"":"s"),n(t,7,0,e.Nb(t,7,0,n(t,8,0,e.Eb(t.parent.parent,0),l.data.succeededSimulations))),n(t,9,0,1===l.data.succeededSimulations?"":"s")})}function _n(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n        ","\n      "])),e.Ib(4,1),(n()(),e.Mb(5,null,["\n      simulation","\n      are currently being stored.\n    "]))],null,function(n,t){var l=t.component;n(t,3,0,e.Nb(t,3,0,n(t,4,0,e.Eb(t.parent.parent,0),l.data.succeededSimulations))),n(t,5,0,1===l.data.succeededSimulations?"":"s")})}function Vn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,En)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,_n)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,l.data.succeededSimulations!==l.data.succeededStorageCredits),n(t,6,0,l.data.succeededSimulations===l.data.succeededStorageCredits)},null)}function jn(n){return e.Ob(0,[e.Gb(0,p,[]),(n()(),e.ub(1,0,null,null,16,"div",[["class","tenant-billable-simulation-count container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(6,0,null,null,1,"h1",[["class","main-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stored Simulation Count"])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Tn)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Pn)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Vn)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,l.errorMessage),n(t,10,0,!l.data&&!l.isLoading),n(t,13,0,!l.data&&l.isLoading&&!l.errorMessage),n(t,16,0,l.data)},null)}var Rn=function(){function n(){}return n.prototype.transform=function(t,l,e){return void 0===e&&(e=0),n.execute(t,l,e)},n.execute=function(n,t,l){if(void 0===l&&(l=0),-1===t)return""+n;var e=(+n).toFixed(t),u=e.indexOf(".");if(-1!==u){for(var r=e.length-u;r>l&&e.endsWith("0");)e=e.substr(0,e.length-1);e.endsWith(".")&&(e=e.substr(0,e.length-1))}return e},n}(),Fn=l("eh5z"),An=function(){function n(n,t,l,e,u,r,i){this.identity=n,this.studyStub=t,this.getUsernameMap=l,this.utilities=e,this.moment=u,this.studyTypeLookupFactory=r,this.getFriendlyErrorAndLog=i}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t,l,e,u,r,i,o,s;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),this.tenantId||(this.tenantId=this.identity.get().tenantId),n=this.studyTypeLookupFactory.create(this.tenantId),t=this.getUsernameMap.execute(this.tenantId),l=n.getStudyTypeMap(),e=this.moment.create().utc().startOf("month"),u=e.subtract(1,"month"),[4,this.studyStub.getTenantStudyStatistics(this.tenantId,u.format())];case 1:return r=a.sent(),[4,t];case 2:return i=a.sent(),[4,l];case 3:return o=a.sent(),this.data=this.createViewModel(r.statistics,i,o),[3,5];case 4:return s=a.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(s),[3,5];case 5:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.getBarWidth=function(n){return this.data.maxSimTypeCount?Math.round(n/this.data.maxSimTypeCount*100)+"%":"1px"},n.prototype.createViewModel=function(n,t,l){for(var e=this.processStatistics(n,t),u=this.utilities.getKeys(e.monthly.studyType),r={maxSimTypeCount:1,months:[]},i=Fn.min([2,e.monthly.dates.length])-1;i>=0;--i)r.months.push(this.createPeriodViewModel(e.monthly,i,u,l));return r.maxSimTypeCount=Fn.max(r.months.map(function(n){return Fn.max(n.studyCategories.map(function(n){return n.total.count}))})),r},n.prototype.createPeriodViewModel=function(n,t,l,e){var u={name:1===t?"Current Month":"Previous Month",studyCategories:[]};return u.studyCategories.push(this.createStudyCategoryViewModel(n,t,l,e,"All Simulations")),u},n.prototype.createStudyCategoryViewModel=function(n,t,l,e,u){for(var r={name:u,total:void 0,studyTypes:[]},i=0,o=l;i<o.length;i++){var s=o[i],a=n.studyType[s],c=0,d=0,b=0;a&&a.length>t&&(c=a[t].succeededSimulations,d=a[t].succeededComputeCredits,b=a[t].succeededStorageCredits);var f=e[s];r.studyTypes.push({name:f?f.name:s,count:c,computeCredits:d,storageCredits:b})}return r.total={name:"Total",count:r.studyTypes.reduce(function(n,t){return n+t.count},0),computeCredits:r.studyTypes.reduce(function(n,t){return n+t.computeCredits},0),storageCredits:r.studyTypes.reduce(function(n,t){return n+t.storageCredits},0)},r},n.prototype.processStatistics=function(n,t){var l=this.getDateStrings(n);return{monthly:this.utilities.getProcessedStatistics(n,l.months,"monthly",t),daily:void 0}},n.prototype.getDateStrings=function(n){var t=this.utilities.getDateRanges(n,!1);return{months:this.utilities.getDatesForRange(t.minMonth,t.maxMonth,"YYYY-MM","M")}},n}(),Ln=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Dn=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Nn=function(){function n(n){this.tenancyStub=n}return n.prototype.execute=function(n){return Ln(this,void 0,void 0,function(){return Dn(this,function(t){switch(t.label){case 0:return[4,this.tenancyStub.getTenantUsers(n)];case 1:return[2,t.sent().users.reduce(function(n,t){return n[t.userId]=t.username,n},{})]}})})},n.prototype.executeWithEmail=function(n){return Ln(this,void 0,void 0,function(){return Dn(this,function(t){switch(t.label){case 0:return[4,this.tenancyStub.getTenantUsers(n)];case 1:return[2,t.sent().users.reduce(function(n,t){return n[t.userId]=t.email+"/"+t.username,n},{})]}})})},n}();function Un(n){for(var t=[],l=0,e=n;l<e.length;l++){var u=e[l];-1===t.indexOf(u)&&t.push(u)}return t}var Qn=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},Jn=["studyCount","failedStudyCount","completedSimulations","succeededSimulations","succeededComputeCredits","succeededStorageCredits","failedSimulations","executionTimeSeconds"],$n=function(){function n(n){this.moment=n}return n.prototype.mergeRawStatistics=function(n,t){return{tenant:this.mergeRawStatisticsAreaKey((n=n||{tenant:void 0,user:{},studyType:{}}).tenant,(t=t||{tenant:void 0,user:{},studyType:{}}).tenant),user:this.mergeRawStatisticsArea(n.user,t.user),studyType:this.mergeRawStatisticsArea(n.studyType,t.studyType)}},n.prototype.mergeRawStatisticsArea=function(n,t){n=n||{},t=t||{};for(var l={},e=0,u=Un(Object.keys(n).concat(Object.keys(t)));e<u.length;e++){var r=u[e];l[r]=this.mergeRawStatisticsAreaKey(n[r],t[r])}return l},n.prototype.mergeRawStatisticsAreaKey=function(n,t){return{monthly:Qn({},n?n.monthly:{},t?t.monthly:{}),daily:Qn({},n?n.daily:{},t?t.daily:{})}},n.prototype.getProcessedStatistics=function(n,t,l,e){for(var u={dates:t,tenant:this.getProcessedPeriodItems(t,n.tenant?n.tenant[l]:{}),user:{},studyType:{}},r=0,i=this.getKeys(n.user);r<i.length;r++){var o=i[r];u.user[e[o]||o]=this.getProcessedPeriodItems(t,n.user[o][l])}for(var s=0,a=this.getKeys(n.studyType);s<a.length;s++){var c=a[s];u.studyType[c]=this.getProcessedPeriodItems(t,n.studyType[c][l])}return u},n.prototype.getProcessedPeriodItems=function(n,t){var l=this;return n.map(function(n){var e=t[n];return e?e.failedSimulations=e.completedSimulations-e.succeededSimulations:e=l.createEmptyPeriodItem(),e})},n.prototype.createEmptyPeriodItem=function(){return Jn.reduce(function(n,t){return n[t]=0,n},{})},n.prototype.getDatesForRange=function(n,t,l,e){for(var u=this.moment.create(n),r=this.moment.create(t),i=[],o=u;o<=r;)i.push(o.format(l)),o.add(1,e);return i},n.prototype.getDateRanges=function(n,t){void 0===t&&(t=!0);var l=[],e=[];if(n.tenant){l.push.apply(l,this.getStringKeys(n.tenant.monthly)),e.push.apply(e,this.getStringKeys(n.tenant.daily));for(var u=0,r=this.getStringKeys(n.user);u<r.length;u++){var i=r[u];l.push.apply(l,this.getStringKeys(n.user[i].monthly)),e.push.apply(e,this.getStringKeys(n.user[i].daily))}for(var o=0,s=this.getKeys(n.studyType);o<s.length;o++){var a=s[o];l.push.apply(l,this.getStringKeys(n.studyType[a].monthly)),e.push.apply(e,this.getStringKeys(n.studyType[a].daily))}}if(t){var c=this.moment.create();l.push(c.format("YYYY-MM")),e.push(c.format("YYYY-MM-DD")),c.add(-1,"d"),l.push(c.format("YYYY-MM")),e.push(c.format("YYYY-MM-DD"))}return l.sort(),e.sort(),{minMonth:l[0],maxMonth:l[l.length-1],minDay:e[0],maxDay:e[e.length-1]}},n.prototype.getKeys=function(n){var t=[];for(var l in n)n.hasOwnProperty(l)&&t.push(l);return t.sort(),t},n.prototype.getStringKeys=function(n){return this.getKeys(n)},n}(),Hn=l("wd/R");l("RiPy")(Hn);var qn=function(){function n(){}return n.prototype.create=function(n){return n?Hn(n):Hn()},n.prototype.fromNow=function(n){return this.fromNowLong(n,1)},n.prototype.fromNowLong=function(n,t){var l=Hn.duration(Hn().diff(Hn(n)));return l.format(function(){var n=l.asSeconds(),e=l.asMonths(),u=["M [month]","d [day]","h [hour]","m [minute]","s [second]"],r=0;n<60?r=4:n<3600?r=3:n<86400?r=2:e<1&&(r=1);for(var i="",o=r,s=0;o<u.length&&s<t;++o,++s)0!==s&&(i+=", "),i+=u[o];return i+" ago"})},n.prototype.toDate=function(n){return Hn(n).format("D MMM YYYY")},n.prototype.toDateTime=function(n){return Hn(n).format("HH:mm, D MMM YYYY")},n.prototype.toDateTimeLong=function(n){return Hn(n).format("HH:mm:ss, D MMM YYYY")},n.prototype.currentIsoTime=function(){return Hn().format()},n}(),Bn=function(){function n(n,t,l,e,u,r){void 0===r&&(r=gn.disabled),this.singularKey=n,this.pluralKey=t,this.name=l,this.titleName=e,this.icon=u,this.state=r}return n.prototype.copy=function(t){return new n(this.singularKey,this.pluralKey,this.name,this.titleName,this.icon,t)},n}(),zn=new Bn(un.car,"cars","car","Car","fa-car"),Kn=new Bn(un.track,"tracks","track","Track","fa-flag-checkered"),Wn=new Bn(un.weather,"weather","weather","Weather","fa-sun-o"),Gn=new Bn(un.exploration,"explorations","exploration","Exploration","fa-sliders"),Yn=new Bn(un.virtual4PostOptions,"virtual4PostOptions","virtual 4 post rig options","Virtual 4 Post Rig Options","fa-gears"),Zn=new Bn(un.bankedLimitSimOptions,"bankedLimitSimOptions","banked limit sim options","Banked Limit Sim Options","fa-gears"),Xn=new Bn(un.limitSimOptions,"limitSimOptions","limit sim options","Limit Sim Options","fa-gears"),nt=new Bn(un.subLimitSimOptions,"subLimitSimOptions","sub limit sim options","Sub Limit Sim Options","fa-gears"),tt=new Bn(un.thermalReplayOptions,"thermalReplayOptions","thermal replay options","Thermal Replay Options","fa-gears"),lt=new Bn(un.channelInferenceOptions,"channelInferenceOptions","channel inference options","Channel Inference Options","fa-gears"),et=new Bn(un.pacejkaTyres,"pacejkaTyres","pacejka tyres","Pacejka Tyres","fa-gears"),ut=new Bn(un.overtaking,"overtaking","overtaking","Overtaking","fa-random"),rt=new Bn(un.driveCycle,"driveCycles","drive cycle","Drive Cycle","fa-tachometer"),it=new Bn(un.userMaths,"userMaths","user maths","User Maths","fa-code-fork  fa-rotate-90"),ot=new Bn(un.constraints,"constraints","constraints","Constraints","fa-code-fork fa-rotate-270"),st=new Bn(un.telemetry,"telemetry","telemetry","Telemetry","fa-wifi"),at=new Bn(un.files,"files","files","Files","fa-files-o"),ct=new Bn(un.aircraft,"aircraft","aircraft","Aircraft","fa-plane"),dt=new Bn(un.iliadBoat,"iliadBoats","iliad boat","Iliad Boat","fa-ship"),bt=new Bn(un.iliadCollocationOptions,"iliadCollocationOptions","iliad collocation options","Iliad Collocation Options","fa-gears"),ft=new Bn(un.iliadVppOptions,"iliadVppOptions","iliad VPP options","Iliad VPP Options","fa-gears"),pt=new Bn(un.worksheet,"worksheets","worksheet","Worksheet","fa-th"),ht=new Bn("study","studies","study","Study"),gt=[zn,ct,dt,Wn,Kn,rt,st,at,Yn,lt,Xn,nt,Zn,tt,et,bt,ft,ut,it,ot,Gn],yt=gt.slice(),mt=yt.concat([ht,pt]),vt=yt.reduce(function(n,t,l){return n[t.singularKey]=l+1,n},{});function wt(n,t){n&&n.sort(function(n,l){var e=vt[t(n)]||1e4,u=vt[t(l)]||1e4;return e<u?-1:u<e?1:0})}var Mt="configType",Ct="isStaged",St="isDefault",It=["CustomView","Filter","Viewer"];function xt(n,t){return n[t.singularKey.toLowerCase()]=t,n}function Ot(n,t){return n[t.pluralKey.toLowerCase()]=t,n}var kt=function(){function n(){}return n.get=function(t){if(t){if(It.some(function(n){return t.endsWith(n)})){var l=e=(e=t.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")).charAt(0).toUpperCase()+e.slice(1);return new Bn(t,t,l.toLowerCase(),l)}var e;return n.singularLookup[t.toLowerCase()]||n.pluralLookup[t.toLowerCase()]}},n.singularLookup=mt.reduce(xt,{}),n.pluralLookup=mt.reduce(Ot,{}),n}(),Tt=l("48aD"),Pt=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},Et=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},_t=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Vt=function(){function n(n,t){this.identity=n,this.studyStub=t}return n.prototype.create=function(n){var t=new jt(this.identity,this.studyStub);return t.setTenantId(n),t},n}(),jt=function(){function n(n,t){var l=this;this.identity=n,this.studyStub=t,this.changed=new e.n,n.changed.subscribe(function(){return l.onIdentityChanged()})}return n.prototype.setTenantId=function(n){this.tenantId=n},n.prototype.getStudyType=function(n,t){return Et(this,void 0,void 0,function(){return _t(this,function(l){switch(l.label){case 0:return[4,this.loadIfRequiredAndFilter(t)];case 1:return[2,l.sent().studyTypes.find(function(t){return t.studyType===n})]}})})},n.prototype.getStudyTypeList=function(n){return Et(this,void 0,void 0,function(){return _t(this,function(t){switch(t.label){case 0:return[4,this.loadIfRequiredAndFilter(n)];case 1:return[2,t.sent().studyTypes]}})})},n.prototype.getStudyTypeMap=function(n){return Et(this,void 0,void 0,function(){return _t(this,function(t){switch(t.label){case 0:return[4,this.loadIfRequiredAndFilter(n)];case 1:return[2,t.sent().studyTypes.reduce(function(n,t){return n[t.studyType]=t,n},{})]}})})},n.prototype.getSimType=function(n){return Et(this,void 0,void 0,function(){return _t(this,function(t){switch(t.label){case 0:return[4,this.loadIfRequired()];case 1:return[2,t.sent().simTypes.find(function(t){return t.simType===n})]}})})},n.prototype.getSimTypeList=function(){return Et(this,void 0,void 0,function(){return _t(this,function(n){switch(n.label){case 0:return[4,this.loadIfRequired()];case 1:return[2,n.sent().simTypes]}})})},n.prototype.getSimTypeMap=function(){return Et(this,void 0,void 0,function(){return _t(this,function(n){switch(n.label){case 0:return[4,this.loadIfRequired()];case 1:return[2,n.sent().simTypes.reduce(function(n,t){return n[t.simType]=t,n},{})]}})})},n.prototype.getConfigTypeList=function(){return Et(this,void 0,void 0,function(){var n;return _t(this,function(t){switch(t.label){case 0:return[4,this.loadIfRequired()];case 1:return n=t.sent(),[2,gt.map(function(t){return{config:t,definition:n.configTypes.find(function(n){return n.configType===t.singularKey})}}).filter(function(n){return n.definition}).map(function(n){return n.config.copy(n.definition.state)})]}})})},n.prototype.onIdentityChanged=function(){this.studyTypesResultTask=void 0,this.changed.emit(!0)},n.prototype.loadIfRequired=function(){if(!this.studyTypesResultTask){var n=this.tenantId||this.identity.get().tenantId;this.studyTypesResultTask=this.studyStub.getStudyTypes(n)}return this.studyTypesResultTask},n.prototype.loadIfRequiredAndFilter=function(n){return Et(this,void 0,void 0,function(){var t,l,e,u,r,i,o;return _t(this,function(s){switch(s.label){case 0:return[4,this.loadIfRequired()];case 1:if(t=s.sent(),n)for(l=Object(Tt.a)(n),t=Pt({},t,{studyTypes:t.studyTypes.slice()}),e=0;e<t.studyTypes.length;++e)if((u=t.studyTypes[e]).previousDefinitions)for(r=0,i=u.previousDefinitions;r<i.length;r++)if(o=i[r],Object(Tt.a)(o.simVersion)>=l){t.studyTypes[e]=o.definition;break}return[2,t]}})})},n}(),Rt=e.sb({encapsulation:0,styles:[[".tenant-simulation-quota-view[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{margin-top:1rem}.tenant-simulation-quota-view[_ngcontent-%COMP%]   .progress-column[_ngcontent-%COMP%]{width:100px}.tenant-simulation-quota-view[_ngcontent-%COMP%]   .progress-column[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{position:relative;padding:.2rem}.tenant-simulation-quota-view[_ngcontent-%COMP%]   .progress-column[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:100px}.tenant-simulation-quota-view[_ngcontent-%COMP%]   .progress-column[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-hidden[_ngcontent-%COMP%]{visibility:hidden}.tenant-simulation-quota-view[_ngcontent-%COMP%]   .progress-column[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{position:absolute;right:106px;top:0}"]],data:{}});function Ft(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","loader-centered"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function At(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,20,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(5,0,null,null,14,"td",[["class","progress-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(7,0,null,null,11,"div",[["class","progress-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(9,0,null,null,5,"div",[["class","progress"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(11,0,null,null,2,"div",[["aria-valuemin","0"],["class","progress-bar"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"aria-valuemax",0]],null,null,null,null)),e.tb(12,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(13,{width:0}),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(16,0,null,null,1,"div",[["class","progress-count"]],null,null,null,null,null)),(n()(),e.Mb(17,null,["",""])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){n(t,12,0,n(t,13,0,t.component.getBarWidth(t.context.$implicit.count)))},function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.name),n(t,11,0,t.context.$implicit.count,l.data.maxSimTypeCount),n(t,17,0,t.context.$implicit.count)})}function Lt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,58,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(3,0,null,null,54,"table",[["class","table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(5,0,null,null,20,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(7,0,null,null,17,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(9,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compute Credits Used"])),(n()(),e.Mb(-1,null,["\n\n              "])),(n()(),e.ub(12,0,null,null,11,"th",[["class","progress-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(14,0,null,null,8,"div",[["class","progress-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(16,0,null,null,1,"div",[["class","progress progress-hidden"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xa0"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(19,0,null,null,2,"div",[["class","progress-count"]],null,null,null,null,null)),(n()(),e.Mb(20,null,["",""])),e.Ib(21,2),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(27,0,null,null,23,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(29,0,null,null,20,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(31,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Simulations Run"])),(n()(),e.Mb(-1,null,["\n\n                "])),(n()(),e.ub(34,0,null,null,14,"th",[["class","progress-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(36,0,null,null,11,"div",[["class","progress-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(38,0,null,null,5,"div",[["class","progress"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(40,0,null,null,2,"div",[["aria-valuemin","0"],["class","progress-bar"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"aria-valuemax",0]],null,null,null,null)),e.tb(41,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(42,{width:0}),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(45,0,null,null,1,"div",[["class","progress-count"]],null,null,null,null,null)),(n()(),e.Mb(46,null,["",""])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(52,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,At)),e.tb(55,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,41,0,n(t,42,0,t.component.getBarWidth(t.context.$implicit.total.count))),n(t,55,0,t.context.$implicit.studyTypes)},function(n,t){var l=t.component;n(t,20,0,e.Nb(t,20,0,n(t,21,0,e.Eb(t.parent.parent.parent,0),t.context.$implicit.total.computeCredits,3))),n(t,40,0,t.context.$implicit.total.count,l.data.maxSimTypeCount),n(t,46,0,t.context.$implicit.total.count)})}function Dt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Lt)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,8,0,t.context.$implicit.studyCategories)},function(n,t){n(t,5,0,t.context.$implicit.name)})}function Nt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","main-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Successful Simulations"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Dt)),e.tb(9,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,9,0,t.component.data.months)},null)}function Ut(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-tenant-billable-simulation-count",[],null,null,null,jn,kn)),e.tb(1,49152,null,0,w,[O,q,On],{tenantId:[0,"tenantId"]},null)],function(n,t){n(t,1,0,t.component.tenantId)},null)}function Qt(n){return e.Ob(0,[e.Gb(0,Rn,[]),(n()(),e.ub(1,0,null,null,10,"div",[["class","tenant-simulation-quota-view container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Ft)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Nt)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,Ut)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,l.errorMessage),n(t,7,0,!l.data&&!l.errorMessage),n(t,10,0,l.data&&l.data.maxSimTypeCount),n(t,14,0,l.data)},null)}var Jt=[un.pacejkaTyres],$t=function(){function n(n,t,l){this.studyTypeLookup=n,this.identity=t,this.getFriendlyErrorAndLog=l,this.ConfigTypeState=gn}return Object.defineProperty(n.prototype,"showWorksheets",{get:function(){return this.identity.showWorksheets},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.studyTypeLookup.getConfigTypeList()];case 1:return n=l.sent(),this.inputConfigTypes=n.filter(function(n){return-1===Jt.indexOf(n.singularKey)}),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),Ht=e.sb({encapsulation:0,styles:[[""]],data:{}});function qt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Bt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"a",[["class","btn btn-smart btn-secondary"]],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,2),(n()(),e.ub(3,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(4,null,["",""]))],function(n,t){n(t,1,0,n(t,2,0,"/configs",t.parent.context.$implicit.pluralKey))},function(n,t){n(t,0,0,e.wb(1,"",t.parent.context.$implicit.singularKey,"-configs-button"),e.Eb(t,1).target,e.Eb(t,1).href),n(t,3,0,e.wb(1,"fa ",t.parent.context.$implicit.icon,"")),n(t,4,0,t.parent.context.$implicit.titleName)})}function zt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Bt)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.context.$implicit.state===t.component.ConfigTypeState.enabled)},null)}function Kt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"ul",[["class","inputs-list button-list last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,zt)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,t.component.inputConfigTypes)},null)}function Wt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,20,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Worksheets"])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(5,0,null,null,14,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(7,0,null,null,11,"ul",[["class","worksheet-links-list button-list last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(9,0,null,null,8,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(11,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","worksheets-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,12).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(12,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(13,1),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(15,0,null,null,0,"i",[["class","fa fa-th"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["View Worksheets\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,12,0,n(t,13,0,"/worksheets"))},function(n,t){n(t,11,0,e.Eb(t,12).target,e.Eb(t,12).href)})}function Gt(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,72,"div",[["class","container-fluid"],["id","home-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,69,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,16,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Simulation Inputs"])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(11,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,qt)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Kt)),e.tb(17,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(22,0,null,null,48,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(24,0,null,null,20,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(26,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Studies"])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(29,0,null,null,14,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(31,0,null,null,11,"ul",[["class","study-links-list button-list last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(33,0,null,null,8,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(35,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","studies-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,36).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(36,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(37,1),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(39,0,null,null,0,"i",[["class","fa fa-cubes"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["View Studies\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Wt)),e.tb(47,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(49,0,null,null,20,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(51,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compute Pool"])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(54,0,null,null,14,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(56,0,null,null,11,"ul",[["class","button-list last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(58,0,null,null,8,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(60,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","pool-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,61).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(61,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(62,1),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(64,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["View Pool Status\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(74,0,null,null,1,"cs-tenant-simulation-quota-view",[],null,null,null,Qt,Rt)),e.tb(75,114688,null,0,An,[O,q,Nn,$n,qn,Vt,On],null,null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,14,0,!l.inputConfigTypes),n(t,17,0,l.inputConfigTypes),n(t,36,0,n(t,37,0,"/studies")),n(t,47,0,l.showWorksheets),n(t,61,0,n(t,62,0,"/pool")),n(t,75,0)},function(n,t){n(t,35,0,e.Eb(t,36).target,e.Eb(t,36).href),n(t,60,0,e.Eb(t,61).target,e.Eb(t,61).href)})}var Yt=e.qb("ng-component",$t,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Gt,Ht)),e.tb(1,114688,null,0,$t,[jt,O,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Zt=l("gIcY");function Xt(n){return!isNaN(parseFloat(n))&&isFinite(n)}var nl,tl=function(){function n(){}return n.channelList=function(n){if(n&&n.value)return/^[A-Za-z0-9\-_\s,%\*]*$/.test(n.value)?void 0:{channelList:!0}},n.email=function(t){if(t&&t.value){var l=t.value;return l.length<3||l.length>256?n.getEmailResult(!0):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?void 0:n.getEmailResult(!0)}},n.customPropertyName=function(t){return n.customPropertyNameInner(t,!1)},n.customPropertyNameWithWildcards=function(t){return n.customPropertyNameInner(t,!0)},n.customPropertyNameInner=function(n,t){if(void 0===t&&(t=!1),n&&n.value){var l=n.value;if(t){if(!/^[a-zA-Z0-9-\*\.]+$/.test(l))return{customPropertyName:!0}}else if(!/^[a-zA-Z0-9-\.]+$/.test(l))return{customPropertyName:!0}}},n.configPath=function(n){if(n&&n.value)return/^(([\w_]+))(\.[\w_]+(\[\d+\])*)*$/.test(n.value)?void 0:{configPath:!0}},n.dateTime=function(n){if(n&&n.value)return/^(?:[1-9]\d{3}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1\d|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[1-9]\d(?:0[48]|[2468][048]|[13579][26])|(?:[2468][048]|[13579][26])00)-02-29)T(?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d(?:Z|[+-][01]\d:[0-5]\d)$/.test(n.value)?void 0:{dateTime:!0}},n.numeric=function(n){if(n&&n.value)return Xt(n.value)?void 0:{numeric:!0}},n.getEmailResult=function(n){return{email:n}},n.usernameValidators=[Zt.w.minLength(2),Zt.w.maxLength(20)],n.tenantShortNameValidators=[Zt.w.minLength(2),Zt.w.maxLength(20)],n.databaseIdValidators=[Zt.w.maxLength(128)],n.regionIdValidators=[Zt.w.maxLength(32)],n.emailValidators=[n.email,Zt.w.maxLength(200)],n.passwordValidators=[Zt.w.minLength(6),Zt.w.maxLength(100)],n.tenantNameValidators=[Zt.w.maxLength(50)],n.configNameValidators=[Zt.w.maxLength(100)],n.configNotesValidators=[Zt.w.maxLength(2e3)],n.channelNameValidators=[Zt.w.maxLength(100)],n.configContentValidators=[Zt.w.minLength(2),Zt.w.maxLength(2e5)],n.customPropertyNameValidators=[Zt.w.maxLength(50),n.customPropertyName],n.customPropertyNameWithWildcardsValidators=[Zt.w.maxLength(50),n.customPropertyNameWithWildcards],n.customPropertyValueValidators=[Zt.w.maxLength(200)],n.configPathValidators=[n.configPath],n}(),ll=function(){function n(n,t){this.defaultText=n,this.submittingText=t}return Object.defineProperty(n.prototype,"text",{get:function(){return this.isSubmitting?this.submittingText:this.defaultText},enumerable:!0,configurable:!0}),n}(),el=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ul=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},rl=function(){function n(n,t,l,e,u,r,i,o,s){this.formBuilder=n,this.route=t,this.inferableRouteParams=l,this.fetchUserState=e,this.tenancyStub=u,this.membershipStub=r,this.formSubmissionHandler=i,this.router=o,this.getFriendlyErrorAndLog=s,this.email=new Zt.f("",[Zt.w.required].concat(tl.emailValidators)),this.username=new Zt.f("",[Zt.w.required].concat(tl.usernameValidators)),this.password=new Zt.f("",[Zt.w.required].concat(tl.passwordValidators)),this.submitButton=new ll("Register","Registering...")}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return el(this,void 0,void 0,function(){var n,t,l;return ul(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),this.form=this.formBuilder.group({email:this.email,username:this.username,password:this.password}),this.tenantId=this.inferableRouteParams.getTenantId(this.route),[4,this.fetchUserState.get()];case 1:return(n=e.sent()).tenant.tenantId!==this.tenantId?[3,2]:(this.tenantName=n.tenant.name,[3,4]);case 2:return[4,this.tenancyStub.getTenant(this.tenantId)];case 3:t=e.sent(),this.tenantName=t.name,e.label=4;case 4:return[3,6];case 5:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,6];case 6:return[2]}})})},n.prototype.onSubmit=function(){return el(this,void 0,void 0,function(){return ul(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&this.router.navigate(["/tenants",this.tenantId]),[2]}})})},n.prototype.submit=function(){return el(this,void 0,void 0,function(){return ul(this,function(n){switch(n.label){case 0:return[4,this.membershipStub.postRegistration({tenantId:this.tenantId,email:this.email.value,username:this.username.value,password:this.password.value})];case 1:return n.sent(),[2]}})})},n}(),il=(nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])},function(n,t){function l(){this.constructor=n}nl(n,t),n.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}),ol=function(n){function t(t){var l=n.call(this,t)||this;return l.message=t,l.isCancellationError=!1,l.isDisplayable=!1,l.isFromApi=!1,l.isConnectionError=!1,l.isInputValidationError=!1,l.isUnauthenticatedError=!1,l.isUnauthorizedError=!1,l.isPreconditionFailedError=!1,l.isNotFoundError=!1,l.stack=(new Error).stack,l}return il(t,n),t}(Error),sl=function(n){function t(t){return n.call(this,t)||this}return il(t,n),t}(ol),al=function(n){function t(t,l){var e=n.call(this,t)||this;return e.response=l,e.isConnectionError=!0,e}return il(t,n),t}(ol),cl=function(n){function t(t,l){var e=n.call(this,t)||this;return e.detailedMessage=l,e.isDisplayable=!0,e}return il(t,n),t}(ol),dl=function(n){function t(t){var l=n.call(this,t)||this;return l.isInputValidationError=!0,l}return il(t,n),t}(cl),bl=function(n){function t(t,l){var e=n.call(this,t)||this;return e.response=l,e.isFromApi=!0,e}return il(t,n),t}(cl),fl=function(n){function t(t,l){var e=n.call(this,t,l)||this;return e.isUnauthenticatedError=!0,e}return il(t,n),t}(bl),pl=function(n){function t(t,l){var e=n.call(this,t,l)||this;return e.isUnauthorizedError=!0,e}return il(t,n),t}(bl),hl=function(n){function t(t,l){var e=n.call(this,t,l)||this;return e.isNotFoundError=!0,e}return il(t,n),t}(bl),gl=function(n){function t(t,l){var e=n.call(this,t,l)||this;return e.isPreconditionFailedError=!0,e}return il(t,n),t}(bl),yl=function(){function n(n){this.identity=n}return n.prototype.getTenantId=function(n){return this.tryGet(n,"tenantId")},n.prototype.getUserId=function(n){return this.tryGet(n,"userId")},n.prototype.tryGet=function(n,t,l){void 0===l&&(l=!0);var e=n.snapshot.params[t]||this.identity.get()[t];if(l&&!e)throw new sl("Failed to get "+t);return e},n}(),ml=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},vl=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},wl=function(){function n(n,t,l){this.identity=n,this.accountSettingsStub=t,this.tenancyStub=l,this.changed=new e.n}return n.prototype.get=function(){return ml(this,void 0,void 0,function(){var n,t;return vl(this,function(l){switch(l.label){case 0:return n=this.identity.get(),this.lastPromise&&n.userId===this.lastUserId?[4,this.lastPromise]:[3,2];case 1:return t=l.sent(),[3,4];case 2:return[4,this.fetch(n)];case 3:t=l.sent(),l.label=4;case 4:return[2,t]}})})},n.prototype.update=function(){return ml(this,void 0,void 0,function(){var n;return vl(this,function(t){switch(t.label){case 0:return n=this.identity.get(),[4,this.fetch(n)];case 1:return[2,t.sent()]}})})},n.prototype.wait=function(){return this.lastPromise?this.lastPromise:Promise.resolve(void 0)},n.prototype.fetch=function(n){return ml(this,void 0,void 0,function(){var t;return vl(this,function(l){switch(l.label){case 0:return n.authenticated?(this.lastUserId=n.userId,this.lastPromise=this.fetchInner(n.tenantId,n.userId),[4,this.lastPromise]):[3,2];case 1:return t=l.sent(),[3,3];case 2:this.lastUserId=void 0,this.lastPromise=Promise.resolve(void 0),t=void 0,l.label=3;case 3:return this.changed.emit(t),[2,t]}})})},n.prototype.fetchInner=function(n,t){return ml(this,void 0,void 0,function(){var l,e,u,r;return vl(this,function(i){switch(i.label){case 0:return l=this.accountSettingsStub.get(n,t),e=this.tenancyStub.getTenant(n),[4,l];case 1:return u=i.sent(),[4,e];case 2:return r=i.sent(),[2,new function(n,t,l,e,u){this.userId=n,this.username=t,this.email=l,this.isEnabled=e,this.tenant=u}(t,u.username,u.email,u.isEnabled,new function(n,t,l,e,u,r){this.tenantId=n,this.name=t,this.shortName=l,this.creationDate=e,this.isEnabled=u,this.databaseId=r}(n,r.name,r.shortName,r.creationDate,r.isEnabled,r.databaseId))]}})})},n}(),Ml=function(){function n(n){this.getFriendlyErrorAndLog=n}return n.prototype.execute=function(n,t,l,e){return u=this,void 0,i=function(){var u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:if(e.hasFormSubmissionBeenAttempted=!0,t&&!t.valid)return e.errorMessage="Please complete the form.",[2,!1];u=!0,e.errorMessage="",l.isSubmitting=!0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.apply(e)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),e.errorMessage=this.getFriendlyErrorAndLog.execute(r),u=!1,[3,4];case 4:return l.isSubmitting=!1,[2,u]}})},new((r=void 0)||(r=Promise))(function(n,t){function l(n){try{o(i.next(n))}catch(n){t(n)}}function e(n){try{o(i.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new r(function(n){n(t.value)}).then(l,e)}o((i=i.apply(u,[])).next())});var u,r,i},n}(),Cl=e.sb({encapsulation:2,styles:[],data:{}});function Sl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.tenantName)})}function Il(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email is required\n              "]))],null,null)}function xl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email is too short.\n              "]))],null,null)}function Ol(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email is too long.\n              "]))],null,null)}function kl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email must be valid.\n              "]))],null,null)}function Tl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Username is required\n              "]))],null,null)}function Pl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Username is too short.\n              "]))],null,null)}function El(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Username is too long.\n              "]))],null,null)}function _l(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is required\n              "]))],null,null)}function Vl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is too short.\n              "]))],null,null)}function jl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is too long.\n              "]))],null,null)}function Rl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,101,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,98,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,4,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Register\n      "])),(n()(),e.lb(16777216,null,null,1,null,Sl)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(10,0,null,null,89,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(12,0,null,null,86,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(14,0,null,null,83,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,80,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,18).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,18).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(17,16384,null,0,Zt.y,[],null,null),e.tb(18,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(20,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(22,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(24,0,null,null,1,"label",[["for","email-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Email"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(27,0,null,null,5,"input",[["class","form-control"],["formControlName","email"],["id","email-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,28)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,28).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,28)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,28)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(28,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(30,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(32,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Il)),e.tb(35,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,xl)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Ol)),e.tb(41,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,kl)),e.tb(44,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(47,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(49,0,null,null,1,"label",[["for","username-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Username"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(52,0,null,null,5,"input",[["class","form-control"],["formControlName","username"],["id","username-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,53)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,53).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,53)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,53)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(53,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(55,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(57,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Tl)),e.tb(60,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Pl)),e.tb(63,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,El)),e.tb(66,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(69,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(71,0,null,null,1,"label",[["for","password-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Password"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(74,0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["id","password-input"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,75)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,75).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,75)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,75)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(75,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(77,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(79,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,_l)),e.tb(82,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Vl)),e.tb(85,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,jl)),e.tb(88,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(91,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(92,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(94,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","register-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(95,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,7,0,l.tenantName),n(t,18,0,l.form),n(t,30,0,"email"),n(t,35,0,!l.email.pristine&&l.email.hasError("required")),n(t,38,0,l.email.hasError("minlength")),n(t,41,0,l.email.hasError("maxlength")),n(t,44,0,l.email.hasError("email")),n(t,55,0,"username"),n(t,60,0,!l.username.pristine&&l.username.hasError("required")),n(t,63,0,l.username.hasError("minlength")),n(t,66,0,l.username.hasError("maxlength")),n(t,77,0,"password"),n(t,82,0,!l.password.pristine&&l.password.hasError("required")),n(t,85,0,l.password.hasError("minlength")),n(t,88,0,l.password.hasError("maxlength")),n(t,92,0,l.errorMessage)},function(n,t){var l=t.component;n(t,16,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,27,0,e.Eb(t,32).ngClassUntouched,e.Eb(t,32).ngClassTouched,e.Eb(t,32).ngClassPristine,e.Eb(t,32).ngClassDirty,e.Eb(t,32).ngClassValid,e.Eb(t,32).ngClassInvalid,e.Eb(t,32).ngClassPending),n(t,52,0,e.Eb(t,57).ngClassUntouched,e.Eb(t,57).ngClassTouched,e.Eb(t,57).ngClassPristine,e.Eb(t,57).ngClassDirty,e.Eb(t,57).ngClassValid,e.Eb(t,57).ngClassInvalid,e.Eb(t,57).ngClassPending),n(t,74,0,e.Eb(t,79).ngClassUntouched,e.Eb(t,79).ngClassTouched,e.Eb(t,79).ngClassPristine,e.Eb(t,79).ngClassDirty,e.Eb(t,79).ngClassValid,e.Eb(t,79).ngClassInvalid,e.Eb(t,79).ngClassPending),n(t,94,0,l.submitButton.isSubmitting),n(t,95,0,l.submitButton.text)})}var Fl=e.qb("ng-component",rl,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Rl,Cl)),e.tb(1,114688,null,0,rl,[Zt.e,b.a,yl,wl,U,Y,Ml,b.m,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Al=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ll=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Dl=function(){function n(n,t,l,e,u,r){this.identity=t,this.signIn=l,this.formSubmissionHandler=e,this.router=u,this.username=new Zt.f("",[Zt.w.required,Zt.w.maxLength(500)]),this.tenant=new Zt.f("",[Zt.w.required,Zt.w.maxLength(500)]),this.password=new Zt.f("",[Zt.w.required,Zt.w.maxLength(500)]),this.submitButton=new ll("Sign In","Signing In..."),this.form=n.group({username:this.username,tenant:this.tenant,password:this.password}),this.source=r.snapshot.queryParamMap.get("source"),this.redirectUrl=r.snapshot.queryParamMap.get("redirectUrl")}return n.prototype.ngOnInit=function(){this.identity.get().authenticated&&this.performRedirect()},n.prototype.onSubmit=function(){return Al(this,void 0,void 0,function(){return Ll(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&this.performRedirect(),[2]}})})},n.prototype.performRedirect=function(){switch(this.source){case"upvoty":this.router.navigate(["/upvoty"],{queryParams:{redirectUrl:this.redirectUrl}});break;default:this.router.navigate(["/"])}},n.prototype.submit=function(){return Al(this,void 0,void 0,function(){return Ll(this,function(n){switch(n.label){case 0:return[4,this.signIn.execute(this.username.value,this.tenant.value,this.password.value)];case 1:return n.sent(),[2]}})})},n}(),Nl=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ul=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Ql=k.value+"token",Jl=function(){function n(n,t,l,e){this.identity=n,this.http=t,this.getHttpError=l,this.extractAuthenticationData=e}return n.prototype.execute=function(n,t,l){return Nl(this,void 0,void 0,function(){var e,u,r;return Ul(this,function(i){switch(i.label){case 0:if(this.identity.get().authenticated)throw new sl("You must sign out before signing in.");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.performSignIn(n,t,l)];case 2:return e=i.sent(),u=this.extractAuthenticationData.execute(e),this.identity.set(u),[3,4];case 3:throw r=i.sent(),this.identity.clear(),r;case 4:return[2]}})})},n.prototype.performSignIn=function(n,t,l){return Nl(this,void 0,void 0,function(){var e,u,r;return Ul(this,function(i){switch(i.label){case 0:e="grant_type=password&username="+n+"&tenant="+t+"&password="+encodeURIComponent(l)+"&client_id=canopy.web.1",u=(new F.g).set("Content-Type","application/x-www-form-urlencoded"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.http.post(Ql,e,{headers:u})];case 2:return[2,i.sent()];case 3:throw r=i.sent(),this.getHttpError.execute(r);case 4:return[2]}})})},n}(),$l=e.sb({encapsulation:2,styles:[],data:{}});function Hl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Username is required\n        "]))],null,null)}function ql(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Username is too long.\n        "]))],null,null)}function Bl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Company is required\n        "]))],null,null)}function zl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Company is too long.\n        "]))],null,null)}function Kl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Password is required\n        "]))],null,null)}function Wl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Password is too long.\n        "]))],null,null)}function Gl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,85,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,82,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,79,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(10,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(12,0,null,null,1,"label",[["for","username-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Username"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(15,0,null,null,5,"input",[["class","form-control"],["formControlName","username"],["id","username-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,16)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,16)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(16,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(18,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(20,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Hl)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,ql)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(29,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(31,0,null,null,1,"label",[["for","tenant-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Company"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(34,0,null,null,5,"input",[["class","form-control"],["formControlName","tenant"],["id","tenant-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,35)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,35).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,35)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,35)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(35,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(37,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(39,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Bl)),e.tb(42,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,zl)),e.tb(45,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(48,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(50,0,null,null,1,"label",[["for","password-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Password"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(53,0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["id","password-input"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,54)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,54).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,54)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,54)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(54,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(56,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(58,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Kl)),e.tb(61,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Wl)),e.tb(64,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(67,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(68,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(70,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(72,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","sign-in-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(73,null,["",""])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(76,0,null,null,6,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(78,0,null,null,3,"a",[["id","forgot-details"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,79).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(79,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(80,1),(n()(),e.Mb(-1,null,["Forgotten your details?"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,18,0,"username"),n(t,23,0,!l.username.pristine&&l.username.hasError("required")),n(t,26,0,l.username.hasError("maxlength")),n(t,37,0,"tenant"),n(t,42,0,!l.tenant.pristine&&l.tenant.hasError("required")),n(t,45,0,l.tenant.hasError("maxlength")),n(t,56,0,"password"),n(t,61,0,!l.password.pristine&&l.password.hasError("required")),n(t,64,0,l.password.hasError("maxlength")),n(t,68,0,l.errorMessage),n(t,79,0,n(t,80,0,"/sign-in/forgot"))},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,15,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,34,0,e.Eb(t,39).ngClassUntouched,e.Eb(t,39).ngClassTouched,e.Eb(t,39).ngClassPristine,e.Eb(t,39).ngClassDirty,e.Eb(t,39).ngClassValid,e.Eb(t,39).ngClassInvalid,e.Eb(t,39).ngClassPending),n(t,53,0,e.Eb(t,58).ngClassUntouched,e.Eb(t,58).ngClassTouched,e.Eb(t,58).ngClassPristine,e.Eb(t,58).ngClassDirty,e.Eb(t,58).ngClassValid,e.Eb(t,58).ngClassInvalid,e.Eb(t,58).ngClassPending),n(t,72,0,l.submitButton.isSubmitting),n(t,73,0,l.submitButton.text),n(t,78,0,e.Eb(t,79).target,e.Eb(t,79).href)})}var Yl=function(){},Zl=e.sb({encapsulation:2,styles:[],data:{}});function Xl(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sign In"])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(7,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-sign-in",[],null,null,null,Gl,$l)),e.tb(10,114688,null,0,Dl,[Zt.e,O,Jl,Ml,b.m,b.a],null,null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,10,0)},null)}var ne=e.qb("ng-component",Yl,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Xl,Zl)),e.tb(1,49152,null,0,Yl,[],null,null)],null,null)},{},{},[]),te=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},le=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},ee=function(){function n(n,t,l,e){this.signOut=n,this.router=t,this.confirmationDialog=l,this.stagingArea=e,this.signedOut=!1}return n.prototype.ngOnInit=function(){this.performSignOut()},n.prototype.performSignOut=function(){return te(this,void 0,void 0,function(){return le(this,function(n){switch(n.label){case 0:return[4,this.verifyStagingArea()];case 1:return n.sent()?[4,this.signOut.execute()]:[2];case 2:return n.sent(),this.signedOut=!0,this.router.navigate(["/sign-in"]),[2]}})})},n.prototype.verifyStagingArea=function(){return te(this,void 0,void 0,function(){return le(this,function(n){switch(n.label){case 0:return this.stagingArea.get().inputs.find(function(n){return n.isEdited})?[4,this.confirmationDialog.show("You have edited configs in your staging area. Any changes will be lost if you sign out.","Clear Staging Area","Clear Staging Area and Sign Out","Cancel")]:[3,2];case 1:if(!n.sent())return this.router.navigate(["/"]),[2,!1];n.label=2;case 2:return[2,!0]}})})},n}(),ue=function(){function n(n){this.identity=n}return n.prototype.execute=function(){return this.identity.clear(),Promise.resolve()},n}(),re=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ie=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},oe=function(){function n(){this.primaryChanged=new e.n,this.secondaryChanged=new e.n,this.tertiaryChanged=new e.n}return n.prototype.showPrimaryDialog=function(n){this.resetPrimary(),this.primary=n;var t=this.primary.promise;return this.attachToPrimary(),this.primaryChanged.emit(this.primary),t},n.prototype.showSecondaryDialog=function(n){this.resetSecondary(),this.secondary=n;var t=this.secondary.promise;return this.attachToSecondary(),this.secondaryChanged.emit(this.secondary),t},n.prototype.showTertiaryDialog=function(n){this.resetTertiary(),this.tertiary=n;var t=this.tertiary.promise;return this.attachToTertiary(),this.tertiaryChanged.emit(this.tertiary),t},n.prototype.getPrimary=function(){return this.primary},n.prototype.getSecondary=function(){return this.secondary},n.prototype.getTertiary=function(){return this.tertiary},n.prototype.dismiss=function(){for(var n=0,t=[this.tertiary,this.secondary,this.primary];n<t.length;n++){var l=t[n];if(l)return void l.dismiss()}},n.prototype.attachToPrimary=function(){return re(this,void 0,void 0,function(){return ie(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.primary.promise];case 1:case 2:return n.sent(),this.resetPrimary(),[3,3];case 3:return[2]}})})},n.prototype.attachToSecondary=function(){return re(this,void 0,void 0,function(){return ie(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.secondary.promise];case 1:case 2:return n.sent(),this.resetSecondary(),[3,3];case 3:return[2]}})})},n.prototype.attachToTertiary=function(){return re(this,void 0,void 0,function(){return ie(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.tertiary.promise];case 1:case 2:return n.sent(),this.resetTertiary(),[3,3];case 3:return[2]}})})},n.prototype.resetPrimary=function(){this.primary&&(this.primary=void 0,this.primaryChanged.emit(this.primary)),this.resetSecondary()},n.prototype.resetSecondary=function(){this.secondary&&(this.secondary=void 0,this.secondaryChanged.emit(this.secondary)),this.resetTertiary()},n.prototype.resetTertiary=function(){this.tertiary&&(this.tertiary=void 0,this.tertiaryChanged.emit(this.tertiary))},n}(),se=function(){function n(){var n=this;this.dismissData=void 0,this._promise=new Promise(function(t,l){n._resolve=t,n._reject=l})}return Object.defineProperty(n.prototype,"promise",{get:function(){return this._promise},enumerable:!0,configurable:!0}),n.prototype.resolve=function(n){this._resolve(n)},n.prototype.reject=function(n){this._reject(n)},n.prototype.dismiss=function(){this.resolve(this.dismissData)},n}(),ae=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),ce=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l,e,u,r){return i=this,void 0,s=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return[4,this.dialogManager.showTertiaryDialog(new de(n,t,l?"string"==typeof l?[l]:l:void 0,e,u,r))];case 1:return[2,i.sent()]}})},new((o=void 0)||(o=Promise))(function(n,t){function l(n){try{u(s.next(n))}catch(n){t(n)}}function e(n){try{u(s.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new o(function(n){n(t.value)}).then(l,e)}u((s=s.apply(i,[])).next())});var i,o,s},n}(),de=function(n){function t(t,l,e,u,r,i){var o=n.call(this)||this;return o.message=t,o.title=l,o.acceptMessages=e,o.dismissMessage=u,o.warnings=r,o.errors=i,o}return ae(t,n),t}(se),be=function(){function n(n,t,l){this.logError=n,this.identity=t,this.localStorage=l,this.changed=new e.n}return n.prototype.initialize=function(){var n=this;this.currentIdentity=this.identity.get(),this.identity.changed.subscribe(function(){return n.updateCurrentUser()});var t=this.localStorage.getItem(this.getLocalStorageKey());this._state=t&&t.userId===this.currentIdentity.userId?this.fromMutable(t):this.uninitialized(this.currentIdentity.userId)},n.prototype.updateCurrentUser=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){try{this.currentIdentity=this.identity.get(),this.currentIdentity.userId!==this._state.userId&&this.clear()}catch(n){this.logError.execute(n)}return[2]})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),n.prototype.get=function(){return this._state},n.prototype.clear=function(){this.update(this.toMutable(this.uninitialized(this.currentIdentity.userId)))},n.prototype.update=function(n){this.localStorage.setItem(this.getLocalStorageKey(),n),this._state=this.fromMutable(n),this.changed.emit(this._state)},n}(),fe=l("MCLT"),pe=function(n,t){return n===t?0:n<t?-1:1},he=function(n,t){var l=pe,e=pe;return n&&(e=function(t,e){return l(n(t),n(e))}),t?function(n,t){return-1*e(n,t)}:e};function ge(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var l,e,u,r=[],i=n.length,o=0;o<i;o++)"string"==typeof(l=n[o])?(e=l,u=pe):(e=l.name,u=he(l.primer,l.reverse)),r.push({name:e,cmp:u});return function(n,t){for(var e,u,o=0;o<i&&(u=0,0===(u=(l=r[o]).cmp(n[e=l.name],t[e])));o++);return u}}var ye=function(){function n(){}return n.objectToList=function(n){var t=[];if(n){for(var l in n)n.hasOwnProperty(l)&&t.push({name:l,value:n[l],hasPeriod:-1!==l.indexOf(".")});t.sort(ge("hasPeriod","name"))}return t.map(function(n){return{name:n.name,value:n.value}})},n.listToObject=function(n){for(var t={},l=0,e=n||[];l<e.length;l++){var u=e[l];t[u.name]=u.value}return t},n}(),me=function(){function n(n,t,l,e,u,r,i,o,s,a){this.configType=n,this.userId=t,this.configId=l,this.name=e,this.data=u,this.properties=r,this.notes=i,this.simVersion=o,this.isEdited=s,this.timestamp=a,this.properties=(this.properties||[]).slice()}return n.any=function(t){return void 0===t&&(t=0),new n(un.automatedTest,"user-id-"+t,"config-id-"+t,"name-"+t,{seed:t},[new ve("property-name-"+t,"property-value-"+t)],"notes-"+t,"sim-version-"+t,!1,void 0)},n.fromMutable=function(t){if(t)return new n(t.configType,t.userId,t.configId,t.name,t.data,ve.fromMutables(t.properties),t.notes,t.simVersion,t.isEdited,t.timestamp)},n.fromApiResult=function(t){if(t)return new n(t.config.subType,t.config.userId,t.config.documentId,t.config.name,t.config.data,ve.fromMutables(ye.objectToList(t.config.properties)),t.config.notes,t.convertedSimVersion,!1,void 0)},n.toMutable=function(n){if(n)return{configType:n.configType,userId:n.userId,configId:n.configId,name:n.name,data:n.data,properties:ve.toMutables(n.properties),notes:n.notes,simVersion:n.simVersion,isEdited:n.isEdited,timestamp:n.timestamp}},n.prototype.withData=function(t,l){var e=n.toMutable(this);return e.data=t,Object(fe.isUndefined)(l)||(e.isEdited=l),n.fromMutable(e)},n}(),ve=function(){function n(n,t){this.name=n,this.value=t}return n.fromMutable=function(t){if(t)return new n(t.name,t.value)},n.toMutable=function(n){if(n)return{name:n.name,value:n.value}},n.fromMutables=function(t){return(t||[]).map(n.fromMutable)},n.toMutables=function(t){return t.map(n.toMutable)},n}(),we=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Me=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ce=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Se=function(n){function t(t,l,e,u,r,i){var o=n.call(this,t,l,e)||this;return o.configStub=u,o.loadingDialog=r,o.moment=i,o}return we(t,n),t.prototype.fromMutable=function(n){return Ie.fromMutable(n)},t.prototype.toMutable=function(n){return Ie.toMutable(n)},t.prototype.uninitialized=function(n){return Ie.uninitialized(n)},t.prototype.getLocalStorageKey=function(){return"studyStagingArea"},t.prototype.serviceOnInit=function(){n.prototype.initialize.call(this)},t.prototype.getExactInput=function(n){return this.state.getInput(n)},t.prototype.getInput=function(n,t){return Me(this,void 0,void 0,function(){var l;return Ce(this,function(e){switch(e.label){case 0:return l=this.state.getInput(n),[4,this.getInputAsVersion(l,n,t)];case 1:return[2,l=e.sent()]}})})},t.prototype.setStudyInformation=function(n,t){var l=Ie.toMutable(this.state);l.studyType=n,l.studyName=t,this.update(l)},t.prototype.stage=function(n,t,l,e,u,r,i,o,s){var a=new me(n,t,l,e,u,ve.fromMutables(r),i,o,s,void 0);this.stageInput(a)},t.prototype.stageInput=function(n){var t=Ie.toMutable(this.state),l=!1,e=me.toMutable(n);e.timestamp=this.getTimestamp();for(var u=0;u<t.inputs.length;++u)if(t.inputs[u].configType===e.configType){l=!0,t.inputs[u]=e;break}l||t.inputs.push(e),this.update(t)},t.prototype.getAsIfStaged=function(n,t,l,e,u,r,i,o,s,a){return Me(this,void 0,void 0,function(){var c;return Ce(this,function(d){switch(d.label){case 0:return c=new me(n,t,l,e,u,ve.fromMutables(r),i,o,s,this.getTimestamp()),[4,this.getInputAsVersion(c,n,a)];case 1:return[2,c=d.sent()]}})})},t.prototype.updateIsEdited=function(n,t){for(var l=Ie.toMutable(this.state),e=0;e<l.inputs.length;++e)if(l.inputs[e].configType===n){l.inputs[e].isEdited=t;break}this.update(l)},t.prototype.remove=function(n){for(var t=Ie.toMutable(this.state),l=0;l<t.inputs.length;++l)if(t.inputs[l].configType===n){t.inputs.splice(l,1);break}this.update(t)},t.prototype.getInputAsVersion=function(n,t,l){return Me(this,void 0,void 0,function(){var e,u;return Ce(this,function(r){switch(r.label){case 0:return n&&l&&n.simVersion!==l?[4,this.loadingDialog.showUntilFinished(this.configStub.upgradeConfig(this.currentIdentity.tenantId,l,{configType:t,config:n.data,simVersion:n.simVersion||"1.0"}),"Converting config version...")]:[3,2];case 1:e=r.sent(),(u=me.toMutable(n)).data=e.config,u.simVersion=e.convertedSimVersion,n=me.fromMutable(u),r.label=2;case 2:return[2,n]}})})},t.prototype.getTimestamp=function(){return this.moment.currentIsoTime()},t}(be),Ie=function(){function n(n,t,l,e){this.userId=n,this.studyType=t,this.studyName=l,this.inputs=e,this.inputs=(e||[]).slice(),this.isInitialized=this.inputs.length>0}return n.uninitialized=function(t){return new n(t,bn.straightSim,"",void 0)},n.fromMutable=function(t){return new n(t.userId,t.studyType,t.studyName,(t.inputs||[]).map(me.fromMutable))},n.toMutable=function(n){return{userId:n.userId,studyType:n.studyType,studyName:n.studyName,inputs:n.inputs.map(me.toMutable)}},n.prototype.getInput=function(n){return this.inputs.find(function(t){return t.configType===n})},n}(),xe=e.sb({encapsulation:2,styles:[],data:{}});function Oe(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Signing out..."]))],null,null)}function ke(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["You have been signed out."]))],null,null)}function Te(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","card card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Oe)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,ke)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,5,0,!l.signedOut),n(t,8,0,l.signedOut)},null)}var Pe=e.qb("ng-component",ee,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Te,xe)),e.tb(1,114688,null,0,ee,[ue,b.m,ce,Se],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Ee=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},_e=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Ve=function(){function n(n,t,l){this.formSubmissionHandler=t,this.membershipStub=l,this.tenant=new Zt.f("",Zt.w.compose([Zt.w.required].concat(tl.tenantShortNameValidators))),this.email=new Zt.f("",Zt.w.compose(tl.emailValidators.slice())),this.username=new Zt.f("",Zt.w.compose(tl.usernameValidators.slice())),this.submitButton=new ll("Reset Password","Resetting..."),this.submitted=!1,this.form=n.group({tenant:this.tenant,email:this.email,username:this.username})}return n.prototype.onSubmit=function(){return Ee(this,void 0,void 0,function(){return _e(this,function(n){switch(n.label){case 0:return this.email.value||this.username.value?[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)]:(this.errorMessage="Please provide either your username or your email address.",[2]);case 1:return n.sent()&&(this.submitted=!0),[2]}})})},n.prototype.submit=function(){return Ee(this,void 0,void 0,function(){return _e(this,function(n){switch(n.label){case 0:return[4,this.membershipStub.postPasswordResetRequest({tenant:this.tenant.value,email:this.email.value,username:this.username.value})];case 1:return n.sent(),[2]}})})},n}(),je=e.sb({encapsulation:2,styles:[],data:{}});function Re(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,56,"div",[["class","row"],["id","form-panel"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,53,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,50,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(12,0,null,null,1,"label",[["for","tenant-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Please enter your company:"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,5,"input",[["class","form-control"],["formControlName","tenant"],["id","tenant-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,16)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,16)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(16,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(18,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(20,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(23,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(25,0,null,null,1,"label",[["for","username-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Then provide either your username"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(28,0,null,null,5,"input",[["class","form-control"],["formControlName","username"],["id","username-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,29)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,29).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,29)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,29)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(29,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(31,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(33,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(36,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(38,0,null,null,1,"label",[["for","email-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Or your email"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(41,0,null,null,5,"input",[["class","form-control"],["formControlName","email"],["id","email-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,42)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,42).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,42)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,42)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(42,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(44,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(46,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(49,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(50,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(52,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","reset-password-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(53,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,18,0,"tenant"),n(t,31,0,"username"),n(t,44,0,"email"),n(t,50,0,l.errorMessage)},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,15,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,28,0,e.Eb(t,33).ngClassUntouched,e.Eb(t,33).ngClassTouched,e.Eb(t,33).ngClassPristine,e.Eb(t,33).ngClassDirty,e.Eb(t,33).ngClassValid,e.Eb(t,33).ngClassInvalid,e.Eb(t,33).ngClassPending),n(t,41,0,e.Eb(t,46).ngClassUntouched,e.Eb(t,46).ngClassTouched,e.Eb(t,46).ngClassPristine,e.Eb(t,46).ngClassDirty,e.Eb(t,46).ngClassValid,e.Eb(t,46).ngClassInvalid,e.Eb(t,46).ngClassPending),n(t,52,0,l.submitButton.isSubmitting),n(t,53,0,l.submitButton.text)})}function Fe(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"p",[["class","text-success"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Please check your inbox."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["You should receive an email from us containing a link to reset your password."])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function Ae(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Forgot your details?"])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(7,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Re)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Fe)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,!l.submitted),n(t,13,0,l.submitted)},null)}var Le=e.qb("ng-component",Ve,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Ae,je)),e.tb(1,49152,null,0,Ve,[Zt.e,Ml,Y],null,null)],null,null)},{},{},[]),De=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ne=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Ue=function(){function n(n,t,l,e,u){this.route=t,this.getFriendlyErrorAndLog=l,this.membershipStub=e,this.formSubmissionHandler=u,this.password=new Zt.f("",[Zt.w.required].concat(tl.passwordValidators)),this.submitButton=new ll("Reset Password","Resetting..."),this.tokenInvalid=!1,this.submitted=!1,this.form=n.group({password:this.password})}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return De(this,void 0,void 0,function(){var n,t;return Ne(this,function(l){switch(l.label){case 0:if(l.trys.push([0,5,,6]),this.userId=this.route.snapshot.queryParams.userId,this.token=decodeURIComponent(this.route.snapshot.queryParams.token),!this.userId||!this.token)throw new cl("You must supply a User ID and token.");l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.membershipStub.getPasswordResetTokenValidity(this.userId,this.token)];case 2:return l.sent(),[3,4];case 3:if(!(n=l.sent()).isFromApi||404!==n.response.status)throw n;return this.tokenInvalid=!0,[3,4];case 4:return[3,6];case 5:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,6];case 6:return[2]}})})},n.prototype.onSubmit=function(){return De(this,void 0,void 0,function(){return Ne(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.submitted=!0),[2]}})})},n.prototype.submit=function(){return De(this,void 0,void 0,function(){return Ne(this,function(n){switch(n.label){case 0:return[4,this.membershipStub.postPasswordResetConfirmation({userId:this.userId,newPassword:this.password.value,token:this.token})];case 1:return n.sent(),[2]}})})},n}(),Qe=e.sb({encapsulation:2,styles:[],data:{}});function Je(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is required\n              "]))],null,null)}function $e(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is too short.\n              "]))],null,null)}function He(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is too long.\n              "]))],null,null)}function qe(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,39,"div",[["class","row"],["id","form-panel"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,36,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(12,0,null,null,1,"label",[["for","password-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["New Password"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["id","password-input"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,16)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,16)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(16,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(18,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(20,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Je)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,$e)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,He)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(32,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(33,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(35,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","reset-password-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(36,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,18,0,"password"),n(t,23,0,!l.password.pristine&&l.password.hasError("required")),n(t,26,0,l.password.hasError("minlength")),n(t,29,0,l.password.hasError("maxlength")),n(t,33,0,l.errorMessage)},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,15,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,35,0,l.submitButton.isSubmitting),n(t,36,0,l.submitButton.text)})}function Be(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"h4",[["class","text-success"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Password has been reset"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Please sign in with your new password. "])),(n()(),e.ub(7,0,null,null,4,"strong",[],null,null,null,null,null)),(n()(),e.ub(8,0,null,null,3,"a",[["id","continue-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,9).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(9,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(10,1),(n()(),e.Mb(-1,null,["Continue to sign in page \xbb"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,9,0,n(t,10,0,"/sign-in"))},function(n,t){n(t,8,0,e.Eb(t,9).target,e.Eb(t,9).href)})}function ze(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["id","expired-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"h4",[["class","text-warning"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["This link has expired"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          If you still need to reset your password, please go to the "])),(n()(),e.ub(7,0,null,null,4,"strong",[],null,null,null,null,null)),(n()(),e.ub(8,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,9).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(9,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(10,1),(n()(),e.Mb(-1,null,["forgot your details"])),(n()(),e.Mb(-1,null,[" page.\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,9,0,n(t,10,0,"/sign-in/forgot"))},function(n,t){n(t,8,0,e.Eb(t,9).target,e.Eb(t,9).href)})}function Ke(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Reset Password"])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(7,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,qe)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Be)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,ze)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,!l.submitted&&!l.tokenInvalid),n(t,13,0,l.submitted),n(t,16,0,l.tokenInvalid)},null)}var We=e.qb("ng-component",Ue,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Ke,Qe)),e.tb(1,114688,null,0,Ue,[Zt.e,b.a,On,Y,Ml],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Ge=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ye=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Ze=function(){function n(n,t,l,e,u){this.formBuilder=n,this.identity=t,this.membershipStub=l,this.formSubmissionHandler=e,this.router=u,this.submitButton=new ll("Sign Out Everywhere","Signing Out Everywhere..."),this.isSuccessful=!1,this.form=this.formBuilder.group({})}return n.prototype.onSubmit=function(){return Ge(this,void 0,void 0,function(){var n;return Ye(this,function(t){switch(t.label){case 0:return this.isSuccessful=!1,n=this,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.isSuccessful=t.sent(),[2]}})})},n.prototype.submit=function(){return Ge(this,void 0,void 0,function(){var n;return Ye(this,function(t){switch(t.label){case 0:return n=this.identity.get(),[4,this.membershipStub.deleteRefreshTokens(this.tenantId,this.userId)];case 1:return t.sent(),n.userId===this.userId&&this.router.navigate(["/sign-out"]),[2]}})})},n}(),Xe=e.sb({encapsulation:2,styles:[],data:{}});function nu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","sign-out-everywhere-success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Successfully signed out everywhere.\n    "]))],null,null)}function tu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sign Out Everywhere"])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,20,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(10,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      This forces all devices using the account to be signed out, and can take up to 30 minutes to take effect.\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,nu)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(16,0,null,null,8,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,18).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,18).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(17,16384,null,0,Zt.y,[],null,null),e.tb(18,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(20,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(22,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","sign-out-everywhere-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(23,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,8,0,l.errorMessage),n(t,14,0,l.isSuccessful),n(t,18,0,l.form)},function(n,t){var l=t.component;n(t,16,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,22,0,l.submitButton.isSubmitting),n(t,23,0,l.submitButton.text)})}function lu(n){switch(n){case M:return"user-secret";case C:return"user-plus";case S:return"gavel";case I:return"trash";default:return"question"}}var eu=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},uu=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},ru=function(){function n(n,t,l,e){this.identity=n,this.membershipStub=t,this.confirmationDialog=l,this.getFriendlyErrorAndLog=e,this.canChangeRoles=!1}return n.prototype.ngOnInit=function(){this.canChangeRoles=this.identity.isAdministrator||this.identity.isTenantAdministrator,this.currentIdentity=this.identity.get(),this.load()},n.prototype.load=function(){return eu(this,void 0,void 0,function(){var n,t;return uu(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.errorMessage=void 0,this.roles=void 0,[4,this.membershipStub.getUserRoles(this.tenantId,this.userId)];case 1:return n=l.sent(),this.roles=n.roles,[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.setRole=function(n,t){return eu(this,void 0,void 0,function(){var l;return uu(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,4,5]),this.errorMessage=void 0,this.isUpdating=!0,[4,this.membershipStub.putUserRole(this.tenantId,this.userId,{role:n,isEnabled:t})];case 1:return e.sent(),[4,this.load()];case 2:return e.sent(),[3,5];case 3:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,5];case 4:return this.isUpdating=!1,[7];case 5:return[2]}})})},n.prototype.setAsTenantAdministrator=function(){this.setRole(C,!0)},n.prototype.removeAsTenantAdministrator=function(){this.setRole(C,!1)},n.prototype.setAsDeletedUser=function(){return eu(this,void 0,void 0,function(){var n;return uu(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.confirmationDialog.show("Are you sure you want to delete this user and all their data? This action cannot be reversed.","Confirm Delete User and User Data","Permanently Delete User and ALL User Data")];case 1:return t.sent()&&this.setRole(I,!0),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.removeAsDeletedUser=function(){this.setRole(I,!1)},Object.defineProperty(n.prototype,"isSelf",{get:function(){return this.currentIdentity.userId===this.userId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTenantAdministrator",{get:function(){return this.roles&&-1!==this.roles.indexOf(C)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDeletedUser",{get:function(){return this.roles&&-1!==this.roles.indexOf(I)},enumerable:!0,configurable:!0}),n.prototype.getRoleIcon=function(n){return lu(n)},n}(),iu=e.sb({encapsulation:0,styles:[[".user-roles-component[_ngcontent-%COMP%]   .roles-list[_ngcontent-%COMP%]{margin-bottom:.5rem}.user-roles-component[_ngcontent-%COMP%]   .roles-list[_ngcontent-%COMP%]   .role-indicator-box[_ngcontent-%COMP%]{display:inline-block;background-color:#eee;border-radius:3px;padding:.1em .5em;margin-right:.5em;margin-bottom:.5em}"]],data:{}});function ou(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function su(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        This user has no roles assigned.\n      "]))],null,null)}function au(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","role-indicator-box"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(3,null,[" ","\n        "]))],null,function(n,t){n(t,2,0,e.wb(1,"fa fa-",t.component.getRoleIcon(t.context.$implicit)," m-r-1 role-icon")),n(t,3,0,t.context.$implicit)})}function cu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Users flagged for deletion will be automatically removed within 48 hours.\n      "]))],null,null)}function du(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function bu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setAsTenantAdministrator()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Add Tenant Administrator Role"]))],null,null)}function fu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeAsTenantAdministrator()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Remove Tenant Administrator Role"]))],null,null)}function pu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setAsDeletedUser()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Flag for Deletion"]))],null,null)}function hu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeAsDeletedUser()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Unflag for Deletion"]))],null,null)}function gu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,bu)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,fu)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,pu)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,hu)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,!l.isDeletedUser&&!l.isTenantAdministrator),n(t,6,0,!l.isDeletedUser&&l.isTenantAdministrator&&!l.isSelf),n(t,9,0,!l.isDeletedUser&&!l.isSelf),n(t,12,0,l.isDeletedUser)},null)}function yu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,su)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","roles-list"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,au)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,cu)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,du)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,gu)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,!l.roles.length),n(t,8,0,l.roles),n(t,12,0,l.isDeletedUser),n(t,15,0,l.isUpdating),n(t,18,0,l.canChangeRoles&&!l.isUpdating)},null)}function mu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","card user-roles-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Roles"])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,ou)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,yu)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,8,0,l.errorMessage),n(t,11,0,!l.roles),n(t,14,0,l.roles)},null)}var vu=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},wu=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Mu=function(){function n(n,t,l,e,u,r,i){this.formBuilder=n,this.route=t,this.inferableRouteParams=l,this.fetchUserState=e,this.accountSettingsStub=u,this.formSubmissionHandler=r,this.getFriendlyErrorAndLog=i,this.email=new Zt.f("",[Zt.w.required].concat(tl.emailValidators)),this.username=new Zt.f("",[Zt.w.required].concat(tl.usernameValidators)),this.password=new Zt.f("",tl.passwordValidators.slice()),this.isUserEnabled=new Zt.f(!1),this.submitButton=new ll("Save","Saving..."),this.saveSuccessful=!1,this.changePassword=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return vu(this,void 0,void 0,function(){var n,t,l;return wu(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),this.userId=this.inferableRouteParams.getUserId(this.route),this.tenantId=this.inferableRouteParams.getTenantId(this.route),[4,this.fetchUserState.get()];case 1:return n=e.sent(),this.isSelf=n.userId===this.userId,this.isSelf?(this.username.setValue(n.username,{}),this.email.setValue(n.email,{}),this.isUserEnabled.setValue(n.isEnabled,{}),[3,4]):[3,2];case 2:return[4,this.accountSettingsStub.get(this.tenantId,this.userId)];case 3:t=e.sent(),this.username.setValue(t.username,{}),this.email.setValue(t.email,{}),this.isUserEnabled.setValue(t.isEnabled,{}),e.label=4;case 4:return this.form=this.formBuilder.group({email:this.email,username:this.username,password:this.password,isUserEnabled:this.isUserEnabled}),[3,6];case 5:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,6];case 6:return[2]}})})},n.prototype.setChangePassword=function(n){this.changePassword=n},n.prototype.onSubmit=function(){return vu(this,void 0,void 0,function(){return wu(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.submit=function(){return vu(this,void 0,void 0,function(){return wu(this,function(n){switch(n.label){case 0:return[4,this.accountSettingsStub.put(this.tenantId,this.userId,{newUsername:this.username.value,newEmail:this.email.value,newPassword:this.changePassword?this.password.value:void 0,isEnabled:this.isUserEnabled.value})];case 1:return n.sent(),[4,this.fetchUserState.update()];case 2:return n.sent(),[2]}})})},n}(),Cu=e.sb({encapsulation:2,styles:[],data:{}});function Su(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Iu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email is required\n              "]))],null,null)}function xu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email is too short.\n              "]))],null,null)}function Ou(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email is too long.\n              "]))],null,null)}function ku(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Email must be valid.\n              "]))],null,null)}function Tu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Username is required\n              "]))],null,null)}function Pu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Username is too short.\n              "]))],null,null)}function Eu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Username is too long.\n              "]))],null,null)}function _u(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","change-password-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setChangePassword(!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Change Password"])),(n()(),e.Mb(-1,null,["\n            "]))],null,null)}function Vu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is too short.\n              "]))],null,null)}function ju(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Password is too long.\n              "]))],null,null)}function Ru(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,1,"label",[["for","password-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Password"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(5,0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["id","password-input"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,6)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,6).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,6)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,6)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(6,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(8,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(10,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Vu)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,ju)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,8,0,"password"),n(t,13,0,l.password.hasError("minlength")),n(t,16,0,l.password.hasError("maxlength"))},function(n,t){n(t,5,0,e.Eb(t,10).ngClassUntouched,e.Eb(t,10).ngClassTouched,e.Eb(t,10).ngClassPristine,e.Eb(t,10).ngClassDirty,e.Eb(t,10).ngClassValid,e.Eb(t,10).ngClassInvalid,e.Eb(t,10).ngClassPending)})}function Fu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,5,"input",[["formControlName","isUserEnabled"],["id","is-enabled-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,t,l){var u=!0;return"change"===t&&(u=!1!==e.Eb(n,3).onChange(l.target.checked)&&u),"blur"===t&&(u=!1!==e.Eb(n,3).onTouched()&&u),u},null,null)),e.tb(3,16384,null,0,Zt.b,[e.H,e.l],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.b]),e.tb(5,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(7,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(9,0,null,null,1,"label",[["for","is-enabled-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Enable Account"])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,5,0,"isUserEnabled")},function(n,t){n(t,2,0,e.Eb(t,7).ngClassUntouched,e.Eb(t,7).ngClassTouched,e.Eb(t,7).ngClassPristine,e.Eb(t,7).ngClassDirty,e.Eb(t,7).ngClassValid,e.Eb(t,7).ngClassInvalid,e.Eb(t,7).ngClassPending)})}function Au(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Saved.\n            "]))],null,null)}function Lu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,73,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,70,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,67,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(12,0,null,null,1,"label",[["for","email-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Email"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,5,"input",[["class","form-control"],["formControlName","email"],["id","email-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,16)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,16)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(16,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(18,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(20,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Iu)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,xu)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Ou)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,ku)),e.tb(32,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(35,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(37,0,null,null,1,"label",[["for","username-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Username"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(40,0,null,null,5,"input",[["class","form-control"],["formControlName","username"],["id","username-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,41)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,41).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,41)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,41)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(41,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(43,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(45,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Tu)),e.tb(48,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Pu)),e.tb(51,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Eu)),e.tb(54,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,_u)),e.tb(58,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Ru)),e.tb(61,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Fu)),e.tb(64,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Au)),e.tb(67,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(69,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","account-settings-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(70,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,18,0,"email"),n(t,23,0,!l.email.pristine&&l.email.hasError("required")),n(t,26,0,l.email.hasError("minlength")),n(t,29,0,l.email.hasError("maxlength")),n(t,32,0,l.email.hasError("email")),n(t,43,0,"username"),n(t,48,0,!l.username.pristine&&l.username.hasError("required")),n(t,51,0,l.username.hasError("minlength")),n(t,54,0,l.username.hasError("maxlength")),n(t,58,0,!l.changePassword),n(t,61,0,l.changePassword),n(t,64,0,!l.isSelf),n(t,67,0,l.saveSuccessful)},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,15,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,40,0,e.Eb(t,45).ngClassUntouched,e.Eb(t,45).ngClassTouched,e.Eb(t,45).ngClassPristine,e.Eb(t,45).ngClassDirty,e.Eb(t,45).ngClassValid,e.Eb(t,45).ngClassInvalid,e.Eb(t,45).ngClassPending),n(t,69,0,l.submitButton.isSubmitting),n(t,70,0,l.submitButton.text)})}function Du(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-sign-out-everywhere",[],null,null,null,tu,Xe)),e.tb(1,49152,null,0,Ze,[Zt.e,O,Y,Ml,b.m],{tenantId:[0,"tenantId"],userId:[1,"userId"]},null)],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.userId)},null)}function Nu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,25,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Account Settings"])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(7,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(10,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Su)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Lu)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(20,0,null,null,1,"cs-user-roles",[],null,null,null,mu,iu)),e.tb(21,114688,null,0,ru,[O,Y,ce,On],{tenantId:[0,"tenantId"],userId:[1,"userId"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Du)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,l.errorMessage),n(t,13,0,!l.form),n(t,16,0,l.form),n(t,21,0,l.tenantId,l.userId),n(t,24,0,l.form)},null)}var Uu=e.qb("ng-component",Mu,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Nu,Cu)),e.tb(1,114688,null,0,Mu,[Zt.e,b.a,yl,wl,G,Ml,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Qu=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ju=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},$u=function(){function n(n,t,l,e,u){this.identity=n,this.formBuilder=t,this.tenantSettingsStub=l,this.formSubmissionHandler=e,this.getFriendlyErrorAndLog=u,this.submitButton=new ll("Save","Saving..."),this.saveSuccessful=!1,this.nameId=0}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return Qu(this,void 0,void 0,function(){var n,t;return Ju(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.isAdministrator=this.identity.isAdministrator,n=this,[4,this.tenantSettingsStub.getTenantDefaultCustomPropertyNames(this.tenantId)];case 1:return n.settingsResult=l.sent(),this.defaultCustomPropertyNames=this.createCompleteCustomPropertyNameList(this.settingsResult),this.controls=this.createControlsObject(this.defaultCustomPropertyNames),this.form=this.formBuilder.group(this.controls),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.createCompleteCustomPropertyNameList=function(n){for(var t=[],l=function(l){if(l.target!==T.study&&!n.configTypes.find(function(n){return n===l.target}))return"continue";l.names.sort();for(var u=[],r=0,i=l.names;r<i.length;r++){var o=new Zt.f(i[r],tl.customPropertyNameValidators),s=e.getNextId();u.push({id:s,control:o})}var a=kt.get(l.target);a&&t.push({target:l.target,title:a.titleName,names:u})},e=this,u=0,r=n.settings.defaultCustomPropertyNames;u<r.length;u++)l(r[u]);for(var i=[],o=function(n){var l=t.find(function(t){return t.target===n});if(l)i.push(l);else{var e=kt.get(n);e&&i.push({target:n,title:e.titleName,names:[]})}},s=0,a=n.configTypes.concat([T.study]);s<a.length;s++)o(a[s]);return i},n.prototype.createControlsObject=function(n){for(var t={},l=0,e=n;l<e.length;l++)for(var u=0,r=e[l].names;u<r.length;u++){var i=r[u];t[i.id]=i.control}return t},n.prototype.getNextId=function(){return"cp-"+this.nameId++},n.prototype.reload=function(){return Qu(this,void 0,void 0,function(){return Ju(this,function(n){switch(n.label){case 0:return this.form=void 0,[4,this.load()];case 1:return n.sent(),[2]}})})},n.prototype.addEmptyName=function(n){var t=new Zt.f("",tl.customPropertyNameValidators),l=this.getNextId();n.names.push({id:l,control:t}),this.form.addControl(l,t),this.controls[l]=t},n.prototype.removeName=function(n,t){var l=n.names[t];n.names.splice(t,1),this.form.removeControl(l.id),delete this.controls[l.id]},n.prototype.createSettings=function(){for(var n=[],t=0,l=this.defaultCustomPropertyNames;t<l.length;t++){for(var e=l[t],u={target:e.target,names:[]},r=0,i=e.names;r<i.length;r++){var o=i[r].control.value;o&&u.names.push(o)}n.push(u)}return{defaultCustomPropertyNames:n}},n.prototype.onSubmit=function(){return Qu(this,void 0,void 0,function(){return Ju(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.submit=function(){return Qu(this,void 0,void 0,function(){var n;return Ju(this,function(t){switch(t.label){case 0:return n=this.createSettings(),[4,this.tenantSettingsStub.putTenantDefaultCustomPropertyNames(this.tenantId,n)];case 1:return t.sent(),[2]}})})},n}(),Hu=e.sb({encapsulation:0,styles:[["#tenant-settings-default-custom-property-names-component[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{margin-bottom:1rem}#tenant-settings-default-custom-property-names-component[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{margin-left:.5rem}"]],data:{}});function qu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Bu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Only lowercase characters, numbers, hyphens and periods are allowed.\n                "]))],null,null)}function zu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is too short.\n                "]))],null,null)}function Ku(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is too long.\n                "]))],null,null)}function Wu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,20,"div",[["class","form-inline form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,3)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,3).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,3)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,3)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(3,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(5,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(7,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(9,0,null,null,1,"button",[["class","btn btn-smart btn-secondary remove-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeName(n.parent.context.$implicit,n.context.index)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Remove"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Bu)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,zu)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Ku)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){var l=t.component;n(t,5,0,e.wb(1,"",t.context.$implicit.id,"")),n(t,13,0,l.controls[t.context.$implicit.id].hasError("customPropertyName")),n(t,16,0,l.controls[t.context.$implicit.id].hasError("minlength")),n(t,19,0,l.controls[t.context.$implicit.id].hasError("maxlength"))},function(n,t){n(t,2,0,e.wb(2,"",t.parent.context.index,"-",t.context.index,"-input"),e.Eb(t,7).ngClassUntouched,e.Eb(t,7).ngClassTouched,e.Eb(t,7).ngClassPristine,e.Eb(t,7).ngClassDirty,e.Eb(t,7).ngClassValid,e.Eb(t,7).ngClassInvalid,e.Eb(t,7).ngClassPending)})}function Gu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Wu)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(8,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(10,0,null,null,1,"button",[["class","btn btn-smart btn-secondary add-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.addEmptyName(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Add"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,6,0,t.context.$implicit.names)},function(n,t){n(t,3,0,t.context.$implicit.title)})}function Yu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Saved.\n            "]))],null,null)}function Zu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,20,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,17,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Gu)),e.tb(11,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Yu)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(16,0,null,null,4,"p",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(18,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","tenant-settings-default-custom-property-names-component-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(19,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,11,0,l.defaultCustomPropertyNames),n(t,14,0,l.saveSuccessful)},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,18,0,l.submitButton.isSubmitting),n(t,19,0,l.submitButton.text)})}function Xu(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","card"],["id","tenant-settings-default-custom-property-names-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Default Custom Property Names"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(10,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,qu)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Zu)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,l.errorMessage),n(t,13,0,!l.form),n(t,16,0,l.form)},null)}var nr=l("DlQD"),tr=l("x1ku"),lr=function(n,t,l){for(var e=l,u=0,r=n.length;e<t.length;){var i=t[e];if(u<=0&&t.slice(e,e+r)===n)return e;"\\"===i?e++:"{"===i?u++:"}"===i&&u--,e++}return-1},er=function(n,t,l,e){for(var u=[],r=0;r<n.length;r++)if("text"===n[r].type){var i=n[r].data,o=!0,s=0,a=void 0;for(-1!==(a=i.indexOf(t))&&(u.push({type:"text",data:i.slice(0,s=a)}),o=!1);;){if(o){if(-1===(a=i.indexOf(t,s)))break;u.push({type:"text",data:i.slice(s,a)}),s=a}else{if(-1===(a=lr(l,i,s+t.length)))break;u.push({type:"math",data:i.slice(s+t.length,a),rawData:i.slice(s,a+l.length),display:e}),s=a+l.length}o=!o}u.push({type:"text",data:i.slice(s)})}else u.push(n[r]);return u},ur=function(n,t){for(var l=function(n,t){for(var l=[{type:"text",data:n}],e=0;e<t.length;e++){var u=t[e];l=er(l,u.left,u.right,u.display||!1)}return l}(n,t),e=document.createDocumentFragment(),u=0;u<l.length;u++)if("text"===l[u].type)e.appendChild(document.createTextNode(l[u].data));else{var r=document.createElement("span"),i=l[u].data;try{tr.render(i,r,{displayMode:l[u].display})}catch(n){if(!(n instanceof tr.ParseError))throw n;console.error("KaTeX auto-render: Failed to parse `"+l[u].data+"` with ",n),e.appendChild(document.createTextNode(l[u].rawData));continue}e.appendChild(r)}return e},rr=function(n,t,l){for(var e=0;e<n.childNodes.length;e++){var u=n.childNodes[e];if(3===u.nodeType){var r=ur(u.textContent,t);e+=r.childNodes.length-1,n.replaceChild(r,u)}else 1===u.nodeType&&-1===l.indexOf(u.nodeName.toLowerCase())&&rr(u,t,l)}},ir={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code"]};function or(n){return n?n.replace(/\W/g,"-"):""}var sr=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ar=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},cr=[{beginRegex:/\\begin\{(.*?)}/,createEndString:function(n){return"\\end{"+n[1]+"}"},formatLatex:function(n,t){switch(n="\\[ "+n+" \\]",t[1]){case"align*":case"align":n=n.replace(/\{align\*?}/g,"{aligned}");break;default:n=n.replace(t[0],"").replace("\\end{"+t[1]+"}","")}return n}},{beginRegex:/\$\$/,createEndString:function(n){return"$$"}},{beginRegex:/\$[^@"]/,createEndString:function(n){return"$"},formatLatex:function(n){return"\\( "+n.substr(1,n.length-2)+" \\)"}}],dr=function(){function n(n,t,l,e,u){this.timer=n,this.elementRef=t,this.router=l,this.sanitizer=e,this.getFriendlyErrorAndLog=u}return n.prototype.ngOnChanges=function(){this.load()},n.prototype.load=function(){return sr(this,void 0,void 0,function(){var n,t,l,e,u;return ar(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),(n=new nr.Renderer).table=function(n,t){return'<table class="table">\n<thead>\n'+n+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},t=nr.setOptions({renderer:n}),l=this.removeLatex(this.data),e=t.parse(l.markdown),e=this.insertLatex(e,l.latexValues),this.convertedData=this.sanitizer.bypassSecurityTrustHtml(e),[4,this.timer.yield()];case 1:return r.sent(),this.parseLinks(),this.renderMath(this.elementRef.nativeElement),this.anchorName?[4,this.timer.delay(1e3)]:[3,3];case 2:r.sent(),this.scrollToAnchor(this.anchorName),r.label=3;case 3:return[3,5];case 4:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,5];case 5:return[2]}})})},n.prototype.renderMath=function(n){!function(n,t){if(!n)throw new Error("No element provided to render");t=function(n){for(var t,l,e=[],u=1;u<arguments.length;u++)e[u-1]=arguments[u];for(var r=arguments.length,i=1;i<r;i++)for(l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}({},ir,t),rr(n,t.delimiters,t.ignoredTags)}(n,{})},n.prototype.insertLatex=function(n,t){for(var l="",e=n.indexOf("\xa7EQU");-1!==e;){l+=n.substr(0,e);var u=(n=n.substr(e+"\xa7EQU".length)).indexOf("\xa7");if(-1===u)break;var r="\xa7EQU"+n.substr(0,u+=1);n=n.substr(u);var i=t[r];i&&(l+=i),e=n.indexOf("\xa7EQU")}return l+n},n.prototype.getNextLatexMatch=function(n){for(var t,l,e=0;e<cr.length;++e){var u=cr[e],r=u.beginRegex.exec(n);r&&(!t||r.index<t.index)&&(t=r,l=u)}if(t)return{match:t,source:l}},n.prototype.removeLatex=function(n){for(var t=0,l={},e="",u=this.getNextLatexMatch(n);u;){var r=u.match;e+=n.substr(0,r.index),n=n.substr(r.index);var i=u.source.createEndString(u.match),o=n.indexOf(i,r[0].length);if(-1===o){e+=n;break}var s="\xa7EQU"+t+"\xa7",a=n.substr(0,o+=i.length);a=this.formatLatex(a,u.match,u.source),l[s]=a,n=n.substr(o),e+=s,t++,u=this.getNextLatexMatch(n)}return{markdown:e+=n,latexValues:l}},n.prototype.formatLatex=function(n,t,l){return n=n.replace(/\\dots/g,"\\ldots"),l.formatLatex&&(n=l.formatLatex(n,t)),n},n.prototype.parseLinks=function(){for(var n=this,t=/~\/(.*)\.md(\?|#|$)/,l=function(l){var e=decodeURI(l.pathname),u=t.exec(e);if(u&&u.length>=2&&u[1]){var r=u[1].replace(/ /g,"-"),i=l.hash?l.hash.substr(1):void 0;l.href="javascript:void(0)",l.className+=" "+or("wiki-link-"+r+(i?"-"+i:"")),l.addEventListener("click",function(){return sr(n,void 0,void 0,function(){var n,t;return ar(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n={},i&&(n.location=i),[4,this.router.navigate(["/wiki/"+r,n])];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})})}else if("/"===e&&l.hash){var o=l.hash.substr(1);l.href="javascript:void(0)",l.className+=" "+or("wiki-relative-link-"+o),l.addEventListener("click",function(){n.scrollToAnchor(o)})}},e=0,u=this.elementRef.nativeElement.getElementsByTagName("a");e<u.length;e++)l(u[e])},n.prototype.scrollToAnchor=function(n){var t=this.elementRef.nativeElement.querySelector('a[name="'+n+'"]')||this.elementRef.nativeElement.querySelector("#"+n);t&&t.scrollIntoView(t)},n}(),br=l("gI3B"),fr=function(){function n(){}return n.prototype.yield=function(){return new Promise(function(n,t){setTimeout(n)})},n.prototype.delay=function(n){return new Promise(function(t,l){setTimeout(t,n)})},n.prototype.repeat=function(n){return Object(br.a)(n,n)},n}(),pr=l("ZYjt"),hr=e.sb({encapsulation:2,styles:[['.rendered-markdown img{max-width:80%;display:block;margin:2rem auto;border:0 solid gray}.rendered-markdown pre{border:1px solid #d3d3d3;border-radius:3px;padding:4px 8px;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:.8rem;background:#f5f5f5}.rendered-markdown code{font-size:.8rem}.rendered-markdown h1,.rendered-markdown h2{margin-top:2rem;font-weight:700}']],data:{}});function gr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(1,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(3,0,null,null,1,"div",[["class","rendered-markdown"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.errorMessage)},function(n,t){n(t,3,0,t.component.convertedData)})}var yr=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},mr=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},vr=function(){function n(n,t,l){this.tenantSettingsStub=n,this.simVersionStub=t,this.getFriendlyErrorAndLog=l,this.simVersionSelected=new e.n}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return yr(this,void 0,void 0,function(){var n,t,l;return mr(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.isTenantSimVersion?[4,this.tenantSettingsStub.getTenantSettingsSimVersion(this.tenantId)]:[3,2];case 1:n=e.sent(),this.currentSimVersion=n.simVersion,e.label=2;case 2:return this.selectReleaseMessage||(this.selectReleaseMessage="Pin"),this.selectDefaultMessage||(this.selectDefaultMessage="Auto Update Sim Version"),[4,this.simVersionStub.getWikiDocument("current","Release Notes.md",this.tenantId)];case 3:return t=e.sent(),this.releaseNotes=this.parseReleaseNotes(t.document.content),[3,5];case 4:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,5];case 5:return[2]}})})},n.prototype.parseReleaseNotes=function(n){for(var t,l=/(^|\s)##\s+([0-9\.]+)\s+-\s+(\d+\s+\w+\s+\d+)\s/g,e=[];t=l.exec(n);)e.push(new wr(t[2],t[3],t.index,t[0].length));for(var u=[],r=0;r<e.length;++r){var i=e[r],o=n.substring(i.startIndex+i.length,r===e.length-1?n.length+1:e[r+1].startIndex);r===e.length-1&&(o=o.replace(/### (\[Release Notes Archive\]).*/g,"")),u.push(new Mr(i.simVersion,i.date,o))}return u},n.prototype.setSimVersion=function(n){return yr(this,void 0,void 0,function(){var t,l;return mr(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,4,5]),this.isSaving=!0,t=new Cr(n),this.simVersionSelected.emit(t),t.promise?[4,t.promise]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.currentSimVersion=n,[3,5];case 3:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,5];case 4:return this.isSaving=!1,[7];case 5:return[2]}})})},n}(),wr=function(n,t,l,e){this.simVersion=n,this.date=t,this.startIndex=l,this.length=e},Mr=function(n,t,l){this.simVersion=n,this.date=t,this.content=l},Cr=function(n){this.simVersion=n},Sr=e.sb({encapsulation:0,styles:[['.select-sim-version-component[_ngcontent-%COMP%]   .sim-version-option[_ngcontent-%COMP%]{margin:1rem 0;border:2px dashed #eee;background-color:transparent;padding:.5rem}.select-sim-version-component[_ngcontent-%COMP%]   .sim-version-option[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.select-sim-version-component[_ngcontent-%COMP%]   .sim-version-option[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.2rem .75rem;margin-left:1rem;float:right}.select-sim-version-component[_ngcontent-%COMP%]   .sim-version-option[_ngcontent-%COMP%]   .rendered-markdown[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.select-sim-version-component[_ngcontent-%COMP%]   .active-sim-version[_ngcontent-%COMP%]{background-color:#cfc;border:2px solid #afa;position:relative}.select-sim-version-component[_ngcontent-%COMP%]   .active-sim-version[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.select-sim-version-component[_ngcontent-%COMP%]   .active-sim-version[_ngcontent-%COMP%]:after{display:inline-block;font-family:FontAwesome;content:"\\f00c";font-size:1.5rem;color:green;position:absolute;top:.3rem;right:.5rem}']],data:{}});function Ir(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    Changing the tenant sim version will affect "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["all users"])),(n()(),e.Mb(-1,null,[".\n  "]))],null,null)}function xr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Or(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,12,"div",[["class","sim-version-option"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"active-sim-version":0}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(4,0,null,null,4,"h2",[],null,null,null,null,null)),(n()(),e.Mb(5,null,["\n          "," - ","\n          "])),(n()(),e.ub(6,0,null,null,1,"button",[["class","btn btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setSimVersion(n.context.$implicit.simVersion)&&e),e},null,null)),(n()(),e.Mb(7,null,["\n            ","\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(10,0,null,null,1,"cs-markdown",[],null,null,null,gr,hr)),e.tb(11,573440,null,0,dr,[fr,e.l,b.m,pr.c,On],{data:[0,"data"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,1,0,"sim-version-option",n(t,2,0,t.context.$implicit.simVersion===t.component.currentSimVersion)),n(t,11,0,t.context.$implicit.content)},function(n,t){var l=t.component;n(t,5,0,t.context.$implicit.simVersion,t.context.$implicit.date),n(t,6,0,l.isSaving),n(t,7,0,l.selectReleaseMessage)})}function kr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,12,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,6,"div",[["class","sim-version-option"]],null,null,null,null,null)),e.tb(5,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(6,{"active-sim-version":0}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"button",[["class","btn btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setSimVersion(void 0)&&e),e},null,null)),(n()(),e.Mb(9,null,["\n          ","\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Or)),e.tb(13,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,5,0,"sim-version-option",n(t,6,0,!l.currentSimVersion)),n(t,13,0,l.releaseNotes)},function(n,t){var l=t.component;n(t,8,0,l.isSaving),n(t,9,0,l.selectDefaultMessage)})}function Tr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","select-sim-version-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Ir)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(6,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,xr)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,kr)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.isTenantSimVersion),n(t,6,0,l.errorMessage),n(t,9,0,!l.releaseNotes),n(t,12,0,l.releaseNotes)},null)}var Pr=function(){function n(n,t){this.tenantSettingsStub=n,this.getSimVersion=t}return n.prototype.onSimVersionSelected=function(n){n.promise=this.setSimVersion(n.simVersion)},n.prototype.setSimVersion=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return[4,this.tenantSettingsStub.putTenantSettingsSimVersion(this.tenantId,{simVersion:n})];case 1:return t.sent(),[4,this.getSimVersion.executeForTenant(this.tenantId)];case 2:return t.sent(),[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),Er=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},_r=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Vr=function(){function n(n,t){this.logError=n,this.identity=t,this.changed=new e.n,this.currentIdentity=x.unauthenticated}return n.prototype.serviceOnInit=function(){var n=this;this.identity.changed.subscribe(function(t){return n.updateCurrentUser(t)}),this.updateCurrentUser(this.identity.get())},n.prototype.updateCurrentUser=function(n){return Er(this,void 0,void 0,function(){var t,l;return _r(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),t=this.currentIdentity,this.currentIdentity=n,this.currentIdentity.userId===t.userId?[3,2]:(this.updateCurrentSimVersion(void 0),[4,this.execute()]);case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return l=e.sent(),this.logError.execute(l),[3,4];case 4:return[2]}})})},Object.defineProperty(n.prototype,"currentSimVersion",{get:function(){return this._currentSimVersion},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isUpdating",{get:function(){return this._isUpdating},enumerable:!0,configurable:!0}),n.prototype.execute=function(){return Er(this,void 0,void 0,function(){var n;return _r(this,function(t){switch(t.label){case 0:if(!this.currentIdentity.authenticated)return[2,void 0];this._isUpdating=!0,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,this.loadSimVersion()];case 2:return n=t.sent(),this._currentSimVersion!==n&&this.updateCurrentSimVersion(n),[2,n];case 3:return this._isUpdating=!1,[7];case 4:return[2]}})})},n.prototype.updateCurrentSimVersion=function(n){this._currentSimVersion=n,this.changed.emit(this._currentSimVersion)},n}(),jr=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Rr=function(n){function t(t,l,e){var u=n.call(this,t,l)||this;return u.simVersionStub=e,u}return jr(t,n),t.prototype.executeForTenant=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return n?n!==this.currentIdentity.tenantId?[3,2]:[4,this.execute()]:[2,void 0];case 1:return[2,t.sent()];case 2:return[4,this.simVersionStub.getSimVersion(n)];case 3:return[2,t.sent()]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.loadSimVersion=function(){return this.simVersionStub.getSimVersion(this.currentIdentity.tenantId)},t}(Vr),Fr=e.sb({encapsulation:0,styles:[[""]],data:{}});function Ar(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Select Tenant Sim Version"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-select-sim-version",[],null,[[null,"simVersionSelected"]],function(n,t,l){var e=!0;return"simVersionSelected"===t&&(e=!1!==n.component.onSimVersionSelected(l)&&e),e},Tr,Sr)),e.tb(10,114688,null,0,vr,[z,H,On],{tenantId:[0,"tenantId"],isTenantSimVersion:[1,"isTenantSimVersion"]},{simVersionSelected:"simVersionSelected"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,10,0,t.component.tenantId,!0)},null)}var Lr=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Dr=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Nr=function(){function n(n,t,l,e,u,r,i,o,s){this.identity=n,this.formBuilder=t,this.tenantSettingsStub=l,this.poolStub=e,this.json=u,this.formSubmissionHandler=r,this.simVersionDocumentCache=i,this.getTenantSimVersion=o,this.getFriendlyErrorAndLog=s,this.studyTypes=new Zt.f("",[]),this.tags=new Zt.f("",[]),this.internalTags=new Zt.f("",[]),this.simVersion=new Zt.f("",[]),this.poolId=new Zt.f("",[]),this.autoScaleFormula=new Zt.f("",[]),this.secondaryPoolId=new Zt.f("",[]),this.secondaryAutoScaleFormula=new Zt.f("",[]),this.heavyPoolId=new Zt.f("",[]),this.heavyAutoScaleFormula=new Zt.f("",[]),this.submitButton=new ll("Save","Saving..."),this.saveSuccessful=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return Lr(this,void 0,void 0,function(){var n,t,l,e,u;return Dr(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.isAdministrator=this.identity.isAdministrator,n=this,[4,this.tenantSettingsStub.getAdminTenantSettings(this.tenantId)];case 1:return n.settingsResult=r.sent(),this.studyTypes.setValue(this.getArrayString(this.settingsResult.settings.studyTypes),{}),this.tags.setValue(this.getArrayString(this.settingsResult.settings.tags),{}),this.internalTags.setValue(this.getArrayString(this.settingsResult.settings.internalTags),{}),this.simVersion.setValue(this.settingsResult.settings.simVersion||"",{}),(t=this.settingsResult.settings.poolSettings)&&(this.poolId.setValue(t.poolId||"",{}),this.autoScaleFormula.setValue(t.autoScaleFormula||"",{})),(l=this.settingsResult.settings.secondaryPoolSettings)&&(this.secondaryPoolId.setValue(l.poolId||"",{}),this.secondaryAutoScaleFormula.setValue(l.autoScaleFormula||"",{})),(e=this.settingsResult.settings.heavyPoolSettings)&&(this.heavyPoolId.setValue(e.poolId||"",{}),this.heavyAutoScaleFormula.setValue(e.autoScaleFormula||"",{})),this.form=this.formBuilder.group({studyTypes:this.studyTypes,tags:this.tags,internalTags:this.internalTags,simVersion:this.simVersion,poolId:this.poolId,autoScaleFormula:this.autoScaleFormula,secondaryPoolId:this.secondaryPoolId,secondaryAutoScaleFormula:this.secondaryAutoScaleFormula,heavyPoolId:this.heavyPoolId,heavyAutoScaleFormula:this.heavyAutoScaleFormula}),[3,3];case 2:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,3];case 3:return[2]}})})},n.prototype.getArrayString=function(n){return n?n.join(", "):""},n.prototype.getListFromString=function(n){return n?n.split(/\s*,\s*/):[]},n.prototype.reload=function(){return Lr(this,void 0,void 0,function(){return Dr(this,function(n){switch(n.label){case 0:return this.form=void 0,[4,this.load()];case 1:return n.sent(),[2]}})})},n.prototype.onSubmit=function(){return Lr(this,void 0,void 0,function(){return Dr(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.testFormula=function(){return Lr(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b;return Dr(this,function(f){switch(f.label){case 0:return f.trys.push([0,10,,11]),this.isTestingFormula=!0,this.testResult=void 0,n=this.tenantId,l=this.autoScaleFormula.value,e=this.secondaryPoolId.value,u=this.secondaryAutoScaleFormula.value,r=this.heavyPoolId.value,i=this.heavyAutoScaleFormula.value,(t=this.poolId.value)&&l?[4,this.poolStub.getTestAutoScaleFormula(n,t,l)]:[3,2];case 1:return s=f.sent(),[3,3];case 2:s=null,f.label=3;case 3:return o=s,e&&u?[4,this.poolStub.getTestAutoScaleFormula(n,e,u)]:[3,5];case 4:return c=f.sent(),[3,6];case 5:c=null,f.label=6;case 6:return a=c,r&&i?[4,this.poolStub.getTestAutoScaleFormula(n,r,i)]:[3,8];case 7:return d=f.sent(),[3,9];case 8:d=null,f.label=9;case 9:return this.testResult=this.json.stringify([o,a,d]),[3,11];case 10:return b=f.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(b),[3,11];case 11:return this.isTestingFormula=!1,[2]}})})},n.prototype.submit=function(){return Lr(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s;return Dr(this,function(a){switch(a.label){case 0:l=this.secondaryPoolId.value,e=this.secondaryAutoScaleFormula.value,u=this.heavyPoolId.value,r=this.heavyAutoScaleFormula.value,this.verifyNotSettingSharedPoolFormula(n=this.poolId.value,t=this.autoScaleFormula.value),this.verifyNotSettingSharedPoolFormula(l,e),this.verifyNotSettingSharedPoolFormula(u,r),i={studyTypes:this.getListFromString(this.studyTypes.value)||void 0,tags:this.getListFromString(this.tags.value)||void 0,internalTags:this.getListFromString(this.internalTags.value)||void 0,simVersion:this.simVersion.value||void 0,poolSettings:n?{poolId:n,autoScaleFormula:t}:void 0,secondaryPoolSettings:l?{poolId:l,autoScaleFormula:e}:void 0,heavyPoolSettings:u?{poolId:u,autoScaleFormula:r}:void 0},this.simVersionDocumentCache.clear(),a.label=1;case 1:return a.trys.push([1,3,,6]),[4,this.tenantSettingsStub.putAdminTenantSettings(this.tenantId,{settings:i,eTag:this.settingsResult.eTag})];case 2:return o=a.sent(),this.settingsResult.eTag=o,[3,6];case 3:return(s=a.sent()).isPreconditionFailedError?[4,this.reload()]:[3,5];case 4:a.sent(),a.label=5;case 5:throw s;case 6:return[4,this.getTenantSimVersion.executeForTenant(this.tenantId)];case 7:return a.sent(),[2]}})})},n.prototype.verifyNotSettingSharedPoolFormula=function(n,t){if(n&&-1!==n.indexOf("-shared-")&&t)throw new cl("You cannot set the formula of a shared pool.")},n}();function Ur(n,t){return Object(fe.isNullOrUndefined)(n)?n:JSON.parse(JSON.stringify(n,t))}var Qr=function(){function n(){}return n.prototype.stringify=function(n,t){return JSON.stringify(n,t,1)},n.prototype.parse=function(n){return JSON.parse(n)},n.prototype.format=function(n){var t=this.parse(n);return this.stringify(t)},n.prototype.flatten=function(n){var t=[];return function n(l,e){if(Object(l)!==l)t.push(new Jr(e,l));else if(Array.isArray(l)){for(var u=l.length,r=0;r<u;r++)n(l[r],e+"["+r+"]");0===u&&t.push(new Jr(e,"[]"))}else{var i=!0;for(var o in l)l.hasOwnProperty(o)&&(i=!1,n(l[o],e?e+"."+o:o));i&&e&&t.push(new Jr(e,"{}"))}}(n,""),t},n.prototype.clone=function(n,t){return Ur(n,t)},n.prototype.equals=function(n,t){return JSON.stringify(n)===JSON.stringify(t)},n.prototype.studyInputDataEquals=function(n,t){return n.name===t.name&&n.notes===t.notes&&this.equals(n.properties,t.properties)&&this.equals(n.data,t.data)},n}(),Jr=function(n,t){this.key=n,this.value=t},$r=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Hr=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},qr=function(){function n(n,t,l,e){this.logError=n,this.identity=t,this.simVersionStub=l,this.getSimVersion=e,this.cache={}}return n.prototype.serviceOnInit=function(){var n=this;this.currentIdentity=this.identity.get(),this.identity.changed.subscribe(function(t){return n.updateCurrentUser(t)})},n.prototype.updateCurrentUser=function(n){try{var t=this.currentIdentity;this.currentIdentity=n,this.currentIdentity.userId!==t.userId&&this.clear()}catch(n){this.logError.execute(n)}},n.prototype.get=function(n){return $r(this,void 0,void 0,function(){var t,l;return Hr(this,function(e){switch(e.label){case 0:return n?[3,2]:[4,this.getSimVersion.execute()];case 1:n=e.sent(),e.label=2;case 2:this._lastRequestedVersion=n,(t=this.cache[n])||(t=this.simVersionStub.getDocuments(n),this.cache[n]=t),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,t];case 4:return[2,e.sent()];case 5:throw l=e.sent(),this.cache[n]=void 0,l;case 6:return[2]}})})},n.prototype.getFolder=function(n,t){return $r(this,void 0,void 0,function(){var l,e,u,r,i;return Hr(this,function(o){switch(o.label){case 0:return[4,this.get(t)];case 1:for(l=o.sent(),e={simVersion:l.simVersion,documents:[],units:l.units},u=0,r=l.documents;u<r.length;u++)0===(i=r[u]).name.indexOf(n+"/")&&e.documents.push(i);return[2,e]}})})},n.prototype.clear=function(){this._lastRequestedVersion=void 0,this.cache={}},Object.defineProperty(n.prototype,"lastRequestedVersion",{get:function(){return this._lastRequestedVersion},enumerable:!0,configurable:!0}),n}(),Br=e.sb({encapsulation:0,styles:[["#admin-tenant-settings-component[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:120px;font-size:.8rem}#admin-tenant-settings-component[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:2rem}#admin-tenant-settings-component[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:grey;margin-left:.5rem}"]],data:{}});function zr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Kr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Pool ID is required\n            "]))],null,null)}function Wr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Formula is required\n            "]))],null,null)}function Gr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Secondary Pool ID is required\n            "]))],null,null)}function Yr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Secondary formula is required\n            "]))],null,null)}function Zr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Heavy Pool ID is required\n            "]))],null,null)}function Xr(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Heavy formula is required\n            "]))],null,null)}function ni(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Saved.\n          "]))],null,null)}function ti(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function li(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Test Result"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(5,0,null,null,1,"textarea",[["class","raw-json"],["readonly",""]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n          "]))],null,function(n,t){n(t,6,0,t.component.testResult)})}function ei(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,198,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,195,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(4,0,null,null,192,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(10,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(12,0,null,null,1,"label",[["for","study-types-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Study Types"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(15,0,null,null,5,"input",[["class","form-control"],["formControlName","studyTypes"],["id","study-types-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,16)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,16)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(16,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(18,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(20,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(23,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(25,0,null,null,1,"label",[["for","sim-version-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sim Version"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(28,0,null,null,5,"input",[["class","form-control"],["formControlName","simVersion"],["id","sim-version-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,29)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,29).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,29)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,29)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(29,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(31,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(33,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(36,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(38,0,null,null,1,"label",[["for","tags-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Tenant Tags"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(41,0,null,null,5,"input",[["class","form-control"],["formControlName","tags"],["id","tags-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,42)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,42).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,42)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,42)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(42,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(44,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(46,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(49,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(51,0,null,null,1,"label",[["for","internal-tags-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Internal Tenant Tags"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(54,0,null,null,5,"input",[["class","form-control"],["formControlName","internalTags"],["id","internal-tags-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,55)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,55).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,55)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,55)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(55,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(57,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(59,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(62,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compute Pool"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(65,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(67,0,null,null,1,"label",[["for","pool-id-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compute Pool ID"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(70,0,null,null,5,"input",[["class","form-control"],["formControlName","poolId"],["id","pool-id-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,71)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,71).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,71)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,71)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(71,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(73,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(75,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Kr)),e.tb(78,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(81,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(83,0,null,null,1,"label",[["for","auto-scale-formula-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Formula"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(86,0,null,null,5,"textarea",[["class","form-control monospace-text-area"],["formControlName","autoScaleFormula"],["id","auto-scale-formula-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,87)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,87).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,87)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,87)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(87,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(89,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(91,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(93,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              This formula will be applied to the specified pool both when saved, and when studies are created.\n              Keep this in mind if the pool is shared.\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Wr)),e.tb(97,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(100,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Secondary Compute Pool"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(103,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(105,0,null,null,1,"label",[["for","secondary-pool-id-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Secondary Compute Pool ID"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(108,0,null,null,5,"input",[["class","form-control"],["formControlName","secondaryPoolId"],["id","secondary-pool-id-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,109)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,109).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,109)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,109)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(109,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(111,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(113,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Gr)),e.tb(116,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(119,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(121,0,null,null,1,"label",[["for","secondary-auto-scale-formula-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Secondary Formula"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(124,0,null,null,5,"textarea",[["class","form-control monospace-text-area"],["formControlName","secondaryAutoScaleFormula"],["id","secondary-auto-scale-formula-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,125)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,125).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,125)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,125)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(125,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(127,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(129,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(131,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              This formula will be applied to the specified pool both when saved, and when studies are created.\n              Keep this in mind if the pool is shared.\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Yr)),e.tb(135,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(138,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Heavy Compute Pool"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(141,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(143,0,null,null,1,"label",[["for","heavy-pool-id-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Heavy Compute Pool ID"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(146,0,null,null,5,"input",[["class","form-control"],["formControlName","heavyPoolId"],["id","heavy-pool-id-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,147)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,147).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,147)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,147)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(147,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(149,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(151,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Zr)),e.tb(154,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(157,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(159,0,null,null,1,"label",[["for","heavy-auto-scale-formula-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Heavy Formula"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(162,0,null,null,5,"textarea",[["class","form-control monospace-text-area"],["formControlName","heavyAutoScaleFormula"],["id","heavy-auto-scale-formula-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,163)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,163).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,163)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,163)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(163,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(165,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(167,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(169,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              This formula will be applied to the specified pool both when saved, and when studies are created.\n              Keep this in mind if the pool is shared.\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Xr)),e.tb(173,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,ni)),e.tb(177,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(179,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(180,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(182,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(184,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","pool-settings-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(185,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(187,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","pool-settings-test"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.testFormula()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Test"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,ti)),e.tb(192,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,li)),e.tb(195,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,18,0,"studyTypes"),n(t,31,0,"simVersion"),n(t,44,0,"tags"),n(t,57,0,"internalTags"),n(t,73,0,"poolId"),n(t,78,0,!l.poolId.pristine&&l.poolId.hasError("required")),n(t,89,0,"autoScaleFormula"),n(t,97,0,!l.autoScaleFormula.pristine&&l.autoScaleFormula.hasError("required")),n(t,111,0,"secondaryPoolId"),n(t,116,0,!l.secondaryPoolId.pristine&&l.secondaryPoolId.hasError("required")),n(t,127,0,"secondaryAutoScaleFormula"),n(t,135,0,!l.secondaryAutoScaleFormula.pristine&&l.secondaryAutoScaleFormula.hasError("required")),n(t,149,0,"heavyPoolId"),n(t,154,0,!l.heavyPoolId.pristine&&l.heavyPoolId.hasError("required")),n(t,165,0,"heavyAutoScaleFormula"),n(t,173,0,!l.heavyAutoScaleFormula.pristine&&l.heavyAutoScaleFormula.hasError("required")),n(t,177,0,l.saveSuccessful),n(t,180,0,l.errorMessage),n(t,192,0,l.isTestingFormula),n(t,195,0,l.testResult)},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,15,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,28,0,e.Eb(t,33).ngClassUntouched,e.Eb(t,33).ngClassTouched,e.Eb(t,33).ngClassPristine,e.Eb(t,33).ngClassDirty,e.Eb(t,33).ngClassValid,e.Eb(t,33).ngClassInvalid,e.Eb(t,33).ngClassPending),n(t,41,0,e.Eb(t,46).ngClassUntouched,e.Eb(t,46).ngClassTouched,e.Eb(t,46).ngClassPristine,e.Eb(t,46).ngClassDirty,e.Eb(t,46).ngClassValid,e.Eb(t,46).ngClassInvalid,e.Eb(t,46).ngClassPending),n(t,54,0,e.Eb(t,59).ngClassUntouched,e.Eb(t,59).ngClassTouched,e.Eb(t,59).ngClassPristine,e.Eb(t,59).ngClassDirty,e.Eb(t,59).ngClassValid,e.Eb(t,59).ngClassInvalid,e.Eb(t,59).ngClassPending),n(t,70,0,e.Eb(t,75).ngClassUntouched,e.Eb(t,75).ngClassTouched,e.Eb(t,75).ngClassPristine,e.Eb(t,75).ngClassDirty,e.Eb(t,75).ngClassValid,e.Eb(t,75).ngClassInvalid,e.Eb(t,75).ngClassPending),n(t,86,0,e.Eb(t,91).ngClassUntouched,e.Eb(t,91).ngClassTouched,e.Eb(t,91).ngClassPristine,e.Eb(t,91).ngClassDirty,e.Eb(t,91).ngClassValid,e.Eb(t,91).ngClassInvalid,e.Eb(t,91).ngClassPending),n(t,108,0,e.Eb(t,113).ngClassUntouched,e.Eb(t,113).ngClassTouched,e.Eb(t,113).ngClassPristine,e.Eb(t,113).ngClassDirty,e.Eb(t,113).ngClassValid,e.Eb(t,113).ngClassInvalid,e.Eb(t,113).ngClassPending),n(t,124,0,e.Eb(t,129).ngClassUntouched,e.Eb(t,129).ngClassTouched,e.Eb(t,129).ngClassPristine,e.Eb(t,129).ngClassDirty,e.Eb(t,129).ngClassValid,e.Eb(t,129).ngClassInvalid,e.Eb(t,129).ngClassPending),n(t,146,0,e.Eb(t,151).ngClassUntouched,e.Eb(t,151).ngClassTouched,e.Eb(t,151).ngClassPristine,e.Eb(t,151).ngClassDirty,e.Eb(t,151).ngClassValid,e.Eb(t,151).ngClassInvalid,e.Eb(t,151).ngClassPending),n(t,162,0,e.Eb(t,167).ngClassUntouched,e.Eb(t,167).ngClassTouched,e.Eb(t,167).ngClassPristine,e.Eb(t,167).ngClassDirty,e.Eb(t,167).ngClassValid,e.Eb(t,167).ngClassInvalid,e.Eb(t,167).ngClassPending),n(t,184,0,l.submitButton.isSubmitting),n(t,185,0,l.submitButton.text),n(t,187,0,l.submitButton.isSubmitting)})}function ui(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","card"],["id","admin-tenant-settings-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Simulation Settings"])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,zr)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,ei)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,8,0,l.errorMessage),n(t,11,0,!l.form),n(t,14,0,l.form)},null)}var ri=function(){function n(n,t,l){this.poolStub=n,this.timer=t,this.getFriendlyErrorAndLog=l,this.poolType=on.primary,this.isAssigned=!0,this.containsHelperNodes=!1}return n.prototype.ngOnInit=function(){var n=this;this.load(),this.counter=0;var t=this.timer.repeat(1e3);this.subscription=t.subscribe(function(){return n.onTimerTick()})},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.onTimerTick=function(){this.counter>0&&(--this.counter,0===this.counter&&this.load())},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),this.errorMessage=void 0,n=this,[4,this.poolStub.getPoolStatus(this.tenantId,this.poolType)];case 1:for(n.status=u.sent(),this.isAssigned=!0,this.status.computeNodes.sort(ge("computeNodeId")),this.containsHelperNodes=this.status.computeNodes.some(function(n){return!n.isDedicated})||!!this.status.targetLowPriority||!!this.status.currentLowPriority,t=0,l=this.status.computeNodes;t<l.length;t++)this.drawCell(this.status.maximumTasksPerNode,l[t]);return this.counter=10,[3,3];case 2:return(e=u.sent()).isFromApi&&404===e.response.status?(this.isAssigned=!1,this.counter=300):(this.errorMessage=this.getFriendlyErrorAndLog.execute(e),this.isAssigned=!0,this.counter=10),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.drawCell=function(n,t){var l;switch(t.state){case hn.creating:case hn.leavingPool:case hn.rebooting:case hn.reimaging:case hn.starting:case hn.waitingForStartTask:l=ii.Transitioning;break;case hn.idle:l=ii.Idle;break;case hn.offline:case hn.startTaskFailed:case hn.unknown:case hn.unusable:l=ii.Error;break;case hn.running:l=ii.Running;break;case hn.preempted:l=ii.Preempted;break;default:l=ii.Unknown}var e="";if(t.isDedicated||(e="low-priority "),1===n||l===ii.Transitioning||l===ii.Preempted||l===ii.Error||l===ii.Unknown){switch(l){case ii.Error:e+="error";break;case ii.Idle:e+="idle";break;case ii.Running:e+="running";break;case ii.Transitioning:e+="transitioning";break;case ii.Preempted:e+="preempted";break;case ii.Unknown:default:e+="unknown"}t.tasks=[{class:e,tooltip:t.state}]}else{t.tasks=[];for(var u=0;u<n;++u)t.tasks.push({class:e+(u<t.runningTasks?"running":"idle"),tooltip:u<t.runningTasks?"running":""})}},n}(),ii=function(n){return n[n.Preempted=0]="Preempted",n[n.Transitioning=1]="Transitioning",n[n.Idle=2]="Idle",n[n.Running=3]="Running",n[n.Error=4]="Error",n[n.Unknown=5]="Unknown",n}({}),oi=e.sb({encapsulation:0,styles:[["#pool-status-page[_ngcontent-%COMP%]   .loading-area[_ngcontent-%COMP%]{height:2rem}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:0}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]{margin-top:1rem}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:inline-block;margin-left:.25rem;margin-right:1rem}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;margin-right:.5rem;border:2px solid #666;border-radius:4px}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box.error[_ngcontent-%COMP%]{background-color:#d95929}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box.idle[_ngcontent-%COMP%]{background-color:#fff}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box.running[_ngcontent-%COMP%]{background-color:#8fbf4d}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box.transitioning[_ngcontent-%COMP%]{background-color:#f2d13e}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box.preempted[_ngcontent-%COMP%]{background-color:purple}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box.unknown[_ngcontent-%COMP%]{background-color:#000}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .key-box.low-priority[_ngcontent-%COMP%]{border-style:dotted}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]{display:inline-block;margin:.25rem;padding:0}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task[_ngcontent-%COMP%]{width:2rem;height:2rem;display:inline-block;border:2px solid #666;border-left-width:0}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task.error[_ngcontent-%COMP%]{background-color:#d95929}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task.idle[_ngcontent-%COMP%]{background-color:#fff}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task.running[_ngcontent-%COMP%]{background-color:#8fbf4d}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task.transitioning[_ngcontent-%COMP%]{background-color:#f2d13e}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task.preempted[_ngcontent-%COMP%]{background-color:purple}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task.unknown[_ngcontent-%COMP%]{background-color:#000}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task.low-priority[_ngcontent-%COMP%]{border-style:dotted}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task[_ngcontent-%COMP%]:first-child{border-left-width:2px;border-top-left-radius:4px;border-bottom-left-radius:4px}#pool-status-page[_ngcontent-%COMP%]   .compute-nodes[_ngcontent-%COMP%]   .compute-node[_ngcontent-%COMP%]   .compute-node-task[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}"]],data:{}});function si(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n        No "," pool assigned.\n      "]))],null,function(n,t){n(t,1,0,t.component.poolType)})}function ai(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n          "," seconds until refresh...\n        "]))],null,function(n,t){n(t,1,0,t.component.counter)})}function ci(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function di(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["dedicated "]))],null,null)}function bi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,[" and "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(3,null,[""," helper ",""]))],null,function(n,t){var l=t.component;n(t,3,0,l.status.currentLowPriority,1===l.status.currentLowPriority?"node":"nodes")})}function fi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Each node runs up to "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(3,null,[""," "," in parallel"])),(n()(),e.Mb(-1,null,["."]))],null,function(n,t){var l=t.component;n(t,3,0,l.status.maximumTasksPerNode,1===l.status.maximumTasksPerNode?"task":"tasks")})}function pi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["dedicated "]))],null,null)}function hi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["The target number of helper nodes is "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["."]))],null,function(n,t){n(t,3,0,t.component.status.targetLowPriority)})}function gi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n            Your pool is ",".\n            The target number of "])),(n()(),e.lb(16777216,null,null,1,null,pi)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["nodes is "])),(n()(),e.ub(5,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,[".\n            "])),(n()(),e.lb(16777216,null,null,1,null,hi)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,3,0,l.containsHelperNodes),n(t,9,0,l.status.targetLowPriority)},function(n,t){var l=t.component;n(t,1,0,l.status.allocationState),n(t,6,0,l.status.targetDedicated)})}function yi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"div",[],[[8,"className",0],[8,"title",0]],null,null,null,null))],null,function(n,t){n(t,0,0,e.wb(1,"compute-node-task ",t.context.$implicit.class,""),e.wb(1,"",t.context.$implicit.tooltip,""))})}function mi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","compute-node"]],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,1,null,yi)),e.tb(2,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.context.$implicit.tasks)},null)}function vi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","key"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"div",[["class","key-box idle low-priority"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Helper Node\n            "]))],null,null)}function wi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,130,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,72,"div",[["class","debug-information"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Properties"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(7,0,null,null,66,"table",[["class","table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(9,0,null,null,12,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(11,0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Value"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(19,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(23,0,null,null,49,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(25,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(26,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Pool State"])),(n()(),e.ub(28,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(29,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(31,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(32,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Allocation State"])),(n()(),e.ub(34,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(35,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(37,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(38,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Current Nodes"])),(n()(),e.ub(40,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(41,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(43,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(44,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Target Nodes"])),(n()(),e.ub(46,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(47,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(49,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(50,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Current Low Priority"])),(n()(),e.ub(52,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(53,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(55,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(56,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Target Low Priority"])),(n()(),e.ub(58,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(59,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(61,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(62,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Maximum Tasks Per Node"])),(n()(),e.ub(64,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(65,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(67,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.ub(68,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Running Tasks"])),(n()(),e.ub(70,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(71,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(76,0,null,null,53,"div",[["class","compute-nodes"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(78,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Heat Map"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(81,0,null,null,12,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Your pool currently has\n            "])),(n()(),e.ub(83,0,null,null,4,"strong",[],null,null,null,null,null)),(n()(),e.Mb(84,null,["\n              "," "])),(n()(),e.lb(16777216,null,null,1,null,di)),e.tb(86,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(87,null,["",""])),(n()(),e.lb(16777216,null,null,1,null,bi)),e.tb(89,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,[".\n            "])),(n()(),e.lb(16777216,null,null,1,null,fi)),e.tb(92,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,gi)),e.tb(96,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,mi)),e.tb(99,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(101,0,null,null,27,"div",[["class","keys"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(103,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Key: "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(106,0,null,null,3,"div",[["class","key"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(108,0,null,null,0,"div",[["class","key-box idle"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Idle\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(111,0,null,null,3,"div",[["class","key"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(113,0,null,null,0,"div",[["class","key-box running"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Running\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(116,0,null,null,3,"div",[["class","key"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(118,0,null,null,0,"div",[["class","key-box transitioning"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Transitioning\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(121,0,null,null,3,"div",[["class","key"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(123,0,null,null,0,"div",[["class","key-box error"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Error\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,vi)),e.tb(127,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,86,0,l.containsHelperNodes),n(t,89,0,l.status.currentLowPriority),n(t,92,0,l.status.maximumTasksPerNode>1),n(t,96,0,"steady"!==l.status.allocationState),n(t,99,0,l.status.computeNodes),n(t,127,0,l.containsHelperNodes)},function(n,t){var l=t.component;n(t,29,0,l.status.poolState),n(t,35,0,l.status.allocationState),n(t,41,0,l.status.currentDedicated),n(t,47,0,l.status.targetDedicated),n(t,53,0,l.status.currentLowPriority),n(t,59,0,l.status.targetLowPriority),n(t,65,0,l.status.maximumTasksPerNode),n(t,71,0,l.status.runningTasks),n(t,84,0,l.status.currentDedicated),n(t,87,0,1===l.status.currentDedicated?"node":"nodes")})}function Mi(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,28,"div",[["id","pool-status-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,25,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(5,null,[""," Compute Pool Status"])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(7,0,null,null,19,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,si)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(12,0,null,null,7,"div",[["class","loading-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,ai)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,ci)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(21,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(22,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,wi)),e.tb(25,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,!l.isAssigned),n(t,15,0,l.counter>0),n(t,18,0,0===l.counter),n(t,22,0,l.errorMessage),n(t,25,0,l.status)},function(n,t){var l=t.component;n(t,5,0,l.poolType?l.poolType[0].toUpperCase()+l.poolType.substring(1):"")})}var Ci=l("2iCe"),Si=l("YjDc"),Ii=l("LXbF"),xi=l("9CsZ"),Oi=l("OzDC"),ki=l("lFWV"),Ti=l("8/63"),Pi=l("LBxW"),Ei=l("9WsI"),_i=function(){function n(n,t){this.zone=n,this.inner=t}return n.prototype.build=function(){var n=this;return this.zone.runOutsideAngular(function(){return n.inner.build()})},n.prototype.redraw=function(){var n=this;return this.zone.runOutsideAngular(function(){return n.inner.redraw()})},n.prototype.dispose=function(){this.inner.dispose()},n}(),Vi=function(){function n(n,t){this.zone=n,this.inner=t}return Object.defineProperty(n.prototype,"unitsChangedEvent",{get:function(){return this.inner.unitsChangedEvent},enumerable:!0,configurable:!0}),n.prototype.canSaveViewerLayout=function(n,t){var l=this;return this.zone.run(function(){return l.inner.canSaveViewerLayout(n,t)})},n.prototype.dispose=function(){this.inner.dispose()},n.prototype.editChannelUnits=function(n,t){var l=this;return this.zone.run(function(){return l.inner.editChannelUnits(n,t)})},n.prototype.editViewerChannels=function(n){var t=this;return this.zone.run(function(){return t.inner.editViewerChannels(n)})},n.prototype.editViewerDeprecated=function(n,t,l,e,u,r){var i=this;return this.zone.run(function(){return i.inner.editViewerDeprecated(n,t,l,e,u,r)})},n.prototype.ensureUnitsLoaded=function(){var n=this;return this.zone.run(function(){return n.inner.ensureUnitsLoaded()})},n.prototype.getDefaultChannelUnits=function(n){var t=this;return this.zone.run(function(){return t.inner.getDefaultChannelUnits(n)})},n.prototype.getFriendlyErrorAndLog=function(n){return this.inner.getFriendlyErrorAndLog(n)},n.prototype.getStudyJobName=function(n,t){var l=this;return this.zone.run(function(){return l.inner.getStudyJobName(n,t)})},n.prototype.getStudyName=function(n){var t=this;return this.zone.run(function(){return t.inner.getStudyName(n)})},n.prototype.getUserChannelUnits=function(n){var t=this;return this.zone.run(function(){return t.inner.getUserChannelUnits(n)})},n.prototype.getUserChannelUnitsSynchronous=function(n){var t=this;return this.zone.run(function(){return t.inner.getUserChannelUnitsSynchronous(n)})},n.prototype.getViewerDefaultLayoutId=function(n,t){var l=this;return this.zone.run(function(){return l.inner.getViewerDefaultLayoutId(n,t)})},n.prototype.loadViewerLayout=function(n,t){var l=this;return this.zone.run(function(){return l.inner.loadViewerLayout(n,t)})},n.prototype.saveViewerLayout=function(n,t,l,e){var u=this;return this.zone.run(function(){return u.inner.saveViewerLayout(n,t,l,e)})},n.prototype.saveViewerLayoutAs=function(n,t){var l=this;return this.zone.run(function(){return l.inner.saveViewerLayoutAs(n,t)})},n.prototype.setViewerDefaultLayoutId=function(n,t,l){var e=this;return this.zone.run(function(){return e.inner.setViewerDefaultLayoutId(n,t,l)})},n.prototype.showStudyJob=function(n,t){var l=this;return this.zone.run(function(){return l.inner.showStudyJob(n,t)})},n}(),ji=function(){function n(n,t){this.zone=n,this.inner=t}return n.prototype.loadCarForStudy=function(n){var t=this;return this.zone.run(function(){return t.inner.loadCarForStudy(n)})},n.prototype.loadCarForStudyJob=function(n,t){var l=this;return this.zone.run(function(){return l.inner.loadCarForStudyJob(n,t)})},n.prototype.loadChannelData=function(n,t,l,e,u){var r=this;return this.zone.run(function(){return r.inner.loadChannelData(n,t,l,e,u)})},n.prototype.loadChartLayout=function(n){var t=this;return this.zone.run(function(){return t.inner.loadChartLayout(n)})},n.prototype.loadCsv=function(n){var t=this;return this.zone.run(function(){return t.inner.loadCsv(n)})},n.prototype.loadExplorationMap=function(n){var t=this;return this.zone.run(function(){return t.inner.loadExplorationMap(n)})},n.prototype.loadScalarResultsForSim=function(n,t,l){var e=this;return this.zone.run(function(){return e.inner.loadScalarResultsForSim(n,t,l)})},n.prototype.loadScalarResultsForStudy=function(n){var t=this;return this.zone.run(function(){return t.inner.loadScalarResultsForStudy(n)})},n.prototype.loadTrackForStudy=function(n){var t=this;return this.zone.run(function(){return t.inner.loadTrackForStudy(n)})},n.prototype.loadTrackForStudyJob=function(n,t){var l=this;return this.zone.run(function(){return l.inner.loadTrackForStudyJob(n,t)})},n.prototype.loadVectorMetadata=function(n,t,l){var e=this;return this.zone.run(function(){return e.inner.loadVectorMetadata(n,t,l)})},n.prototype.loadStudyMetadata=function(n){var t=this;return this.zone.run(function(){return t.inner.loadStudyMetadata(n)})},n}(),Ri=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Fi=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ai=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Li=function(){function n(n,t,l,e,u,r,i,o,s){this.studyStub=n,this.getUsernameMap=t,this.utilities=l,this.moment=e,this.canopyFileLoaderFactory=u,this.canopySiteHooksFactory=r,this.timer=i,this.zone=o,this.getFriendlyErrorAndLog=s,this.existingStatistics={},this.canLoadMore=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.ngOnDestroy=function(){this.navigationStation&&this.navigationStation.dispose()},n.prototype.load=function(){return Fi(this,void 0,void 0,function(){var n,t;return Ai(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),n=this,[4,this.getUsernameMap.execute(this.tenantId)];case 1:return n.usernameMap=l.sent(),this.fileLoader=this.canopyFileLoaderFactory.create(),this.siteHooks=this.canopySiteHooksFactory.create(this.fileLoader),[4,this.loadNext()];case 2:return l.sent(),[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},n.prototype.loadNext=function(){return Fi(this,void 0,void 0,function(){var n,t,l,e,u;return Ai(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.canLoadMore=!1,this.statistics=void 0,this.navigationStation&&this.navigationStation.dispose(),this.startOfStatistics?(this.endOfStatistics=this.startOfStatistics.clone(),this.startOfStatistics=this.startOfStatistics.subtract(3,"month")):(n=this.moment.create().utc().startOf("month"),this.startOfStatistics=n.subtract(3,"month")),[4,this.studyStub.getTenantStudyStatistics(this.tenantId,this.startOfStatistics.format(),this.endOfStatistics?this.endOfStatistics.format():void 0)];case 1:return t=r.sent(),this.existingStatistics=this.utilities.mergeRawStatistics(this.existingStatistics,t.statistics),this.statistics=this.processStatistics(this.existingStatistics,this.usernameMap),l=this.utilities.getStringKeys(this.statistics.monthly.user),e=this.utilities.getStringKeys(this.statistics.monthly.studyType),[4,this.timer.yield()];case 2:return r.sent(),this.navigationStation=new _i(this.zone,new Ci.a("navigation-station",new Di(this.statistics,l,e,new ji(this.zone,this.fileLoader),new Vi(this.zone,this.siteHooks),[{studyId:"dummy-study",jobIndex:0}],["dummy-sim-type"]))),[4,this.navigationStation.build()];case 3:return r.sent(),[4,this.timer.delay(5e3)];case 4:return r.sent(),this.canLoadMore=!0,[3,6];case 5:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,6];case 6:return[2]}})})},n.prototype.processStatistics=function(n,t){var l=this.getDateStrings(n);return{monthly:this.utilities.getProcessedStatistics(n,l.months,"monthly",t),daily:this.utilities.getProcessedStatistics(n,l.days,"daily",t)}},n.prototype.getDateStrings=function(n){var t=this.utilities.getDateRanges(n);return{months:this.utilities.getDatesForRange(t.minMonth,t.maxMonth,"YYYY-MM","M"),days:this.utilities.getDatesForRange(t.minDay,t.maxDay,"YYYY-MM-DD","d")}},n}(),Di=function(n){function t(t,l,e,u,r,i,o){var s=n.call(this,u,r,i,o)||this;return s.statistics=t,s.usernames=l,s.studyTypes=e,s}return Ri(t,n),t.prototype.build=function(){return Fi(this,void 0,void 0,function(){var n;return Ai(this,function(t){switch(t.label){case 0:return[4,this.createView(n={channelNameStyle:Ii.a.Generic,sharedStates:[],views:[]},"Monthly Failed Simulations","monthly","failedSimulations")];case 1:return t.sent(),[4,this.createView(n,"Monthly Successful Storage Credits","monthly","succeededStorageCredits")];case 2:return t.sent(),[4,this.createView(n,"Monthly Successful Compute Credits","monthly","succeededComputeCredits")];case 3:return t.sent(),[4,this.createView(n,"Monthly Successful Simulations","monthly","succeededSimulations")];case 4:return t.sent(),[4,this.createView(n,"Monthly Simulations","monthly","completedSimulations")];case 5:return t.sent(),[4,this.createView(n,"Monthly Studies","monthly","studyCount")];case 6:return t.sent(),[4,this.createView(n,"Daily Failed Simulations","daily","failedSimulations")];case 7:return t.sent(),[4,this.createView(n,"Daily Successful Storage Credits","daily","succeededStorageCredits")];case 8:return t.sent(),[4,this.createView(n,"Daily Successful Compute Credits","daily","succeededComputeCredits")];case 9:return t.sent(),[4,this.createView(n,"Daily Successful Simulations","daily","succeededSimulations")];case 10:return t.sent(),[4,this.createView(n,"Daily Simulations","daily","completedSimulations")];case 11:return t.sent(),[4,this.createView(n,"Daily Studies","daily","studyCount")];case 12:return t.sent(),[2,Promise.resolve(n)]}})})},t.prototype.createView=function(n,t,l,e){return Fi(this,void 0,void 0,function(){var u,r,i;return Ai(this,function(o){switch(o.label){case 0:return(u=new xi.e).sourceLoaderSet.add(new Ei.b(new Ni(l,e,this.statistics,this.usernames,this.studyTypes))),n.sharedStates.push(u),[4,this.resolveViewerLayout(Oi.b,new ki.c("Default-TenantStatistics-"+e+"-"+(r="daily"===l?"Day":"Month")),{overrideLineCurve:"curveStepBefore",columns:[{channels:[r]}],rows:[{channels:["Total"],relativeSize:1},{channels:this.usernames,relativeSize:2},{channels:this.studyTypes,relativeSize:2}]},!0)];case 1:return i=o.sent(),n.views.push({title:t,viewerType:Oi.b,layout:i,viewer:Oi.a.createLinePlotViewer(r,i.resolvedLayout.getConfigCopy(),n.channelNameStyle,u,this.siteHooks),grid:{x:0,y:0,width:12,height:10}}),[2]}})})},t}(Si.a),Ni=function(n){function t(t,l,e,u,r){var i=n.call(this)||this;return i.period=t,i.property=l,i.statistics=e,i.usernames=u,i.studyTypes=r,i}return Ri(t,n),t.prototype.getSourceMetadata=function(){return Promise.resolve(new Ti.c("Tenant Statistics"))},t.prototype.getChannelData=function(n,t,l){var e,u=this,r=this.statistics[this.period];if("Day"===n||"Month"===n){var i=r.dates.length-1;e=r.dates.map(function(n,t){return t-i})}else e="Total"===n?r.tenant.map(function(n){return n[u.property]}):-1!==this.usernames.indexOf(n)?r.user[n].map(function(n){return n[u.property]}):r.studyType[n].map(function(n){return n[u.property]});var o=new Pi.c(n,n,n,n,"","",!1,void 0,e);return Promise.resolve(o)},t.prototype.getRequestableChannels=function(n,t){return Promise.resolve([new ki.a("Day",""),new ki.a("Month",""),new ki.a("Total","")].concat(this.usernames.map(function(n){return new ki.a(n,"")}),this.studyTypes.map(function(n){return new ki.a(n,"")})))},t}(Ti.b),Ui=l("cSU0"),Qi=l("+h33");function Ji(n,t){return n+"-"+t}var $i=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Hi=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},qi=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Bi=function(n){function t(t,l,e,u){var r=n.call(this)||this;return r.tenantId=t,r.studyId=l,r.studyStub=e,r.accessInformation=u,r}return $i(t,n),t.prototype.loadText=function(t,l){return Hi(this,void 0,void 0,function(){var e;return qi(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,5]),[4,n.prototype.loadText.call(this,t+this.getAccessSignature(l))];case 1:return[2,u.sent()];case 2:return e=u.sent(),[4,this.getNewAccessSignatures(e)];case 3:return u.sent(),[4,n.prototype.loadText.call(this,t+this.getAccessSignature(l))];case 4:return[2,u.sent()];case 5:return[2]}})})},t.prototype.loadJson=function(t,l){return Hi(this,void 0,void 0,function(){var e;return qi(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,5]),[4,n.prototype.loadJson.call(this,t+this.getAccessSignature(l))];case 1:return[2,u.sent()];case 2:return e=u.sent(),[4,this.getNewAccessSignatures(e)];case 3:return u.sent(),[4,n.prototype.loadJson.call(this,t+this.getAccessSignature(l))];case 4:return[2,u.sent()];case 5:return[2]}})})},t.prototype.loadCsv=function(t,l){return Hi(this,void 0,void 0,function(){var e;return qi(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,5]),[4,n.prototype.loadCsv.call(this,t+this.getAccessSignature(l))];case 1:return[2,u.sent()];case 2:return e=u.sent(),[4,this.getNewAccessSignatures(e)];case 3:return u.sent(),[4,n.prototype.loadCsv.call(this,t+this.getAccessSignature(l))];case 4:return[2,u.sent()];case 5:return[2]}})})},t.prototype.loadCsvRows=function(t,l){return Hi(this,void 0,void 0,function(){var e;return qi(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,5]),[4,n.prototype.loadCsvRows.call(this,t+this.getAccessSignature(l))];case 1:return[2,u.sent()];case 2:return e=u.sent(),[4,this.getNewAccessSignatures(e)];case 3:return u.sent(),[4,n.prototype.loadCsvRows.call(this,t+this.getAccessSignature(l))];case 4:return[2,u.sent()];case 5:return[2]}})})},t.prototype.loadNumericArray=function(t,l,e){return Hi(this,void 0,void 0,function(){var u;return qi(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,n.prototype.loadNumericArray.call(this,t+this.getAccessSignature(e),l)];case 1:return[2,r.sent()];case 2:return u=r.sent(),[4,this.getNewAccessSignatures(u)];case 3:return r.sent(),[4,n.prototype.loadNumericArray.call(this,t+this.getAccessSignature(e),l)];case 4:return[2,r.sent()];case 5:return[2]}})})},t.prototype.hasJobIndex=function(n){return void 0!==n},t.prototype.getAccessSignature=function(n){return this.hasJobIndex(n)&&this.accessInformation.jobs?this.accessInformation.jobs[n%this.accessInformation.jobs.length].accessSignature:this.accessInformation.accessSignature},t.prototype.getNewAccessSignatures=function(n,t){return Hi(this,void 0,void 0,function(){var l,e;return qi(this,function(u){switch(u.label){case 0:return 403!==n.status?[3,4]:this.hasJobIndex(t)&&!this.accessInformation.jobs?[3,2]:[4,this.studyStub.getStudyMetadata(this.tenantId,this.studyId)];case 1:return l=u.sent(),this.accessInformation=l.accessInformation,[3,4];case 2:return[4,this.studyStub.getStudyJobMetadata(this.tenantId,this.studyId,Ji(this.studyId,t))];case 3:e=u.sent(),this.accessInformation=e.accessInformation,u.label=4;case 4:return[2]}})})},t}(Qi.a),zi=l("uV16"),Ki=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Wi=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Gi=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Yi=function(){function n(n){this.studyStub=n}return n.prototype.create=function(){return new Zi(this.studyStub)},n}(),Zi=function(){function n(n){this.studyStub=n,this.studyMap={}}return n.prototype.addStudy=function(n,t,l,e){this.studyMap[t]||(this.studyMap[t]={tenantId:n,studyId:t,fileLoader:new no(n,t,this.studyStub,l,e)})},n.prototype.addInlineStudy=function(n,t,l){this.studyMap[t]||(this.studyMap[t]={tenantId:n,studyId:t,fileLoader:new Xi(l)})},n.prototype.addStudyJob=function(n,t,l,e){var u=this.studyMap[t];if(!u)throw new sl("No study data set for "+t);u.fileLoader instanceof no&&u.fileLoader.addStudyJob(l,e)},n.prototype.loadVectorMetadata=function(n,t,l){return this.getFileLoader(n).loadVectorMetadata(t,l)},n.prototype.loadScalarResultsForSim=function(n,t,l){return this.getFileLoader(n).loadScalarResultsForSim(t,l)},n.prototype.loadScalarResultsForStudy=function(n){return this.getFileLoader(n).loadScalarResultsForStudy()},n.prototype.loadChannelDataAndBinaryFormat=function(n,t,l,e){return Wi(this,void 0,void 0,function(){var u,r;return Gi(this,function(i){switch(i.label){case 0:return[4,this.loadVectorMetadata(n,t,l)];case 1:return u=i.sent(),r=u.find(function(n){return n.name===e}),[4,this.loadChannelData(n,t,l,e,r?r.binaryFormat:void 0)];case 2:return[2,i.sent()]}})})},n.prototype.loadChannelData=function(n,t,l,e,u){return this.getFileLoader(n).loadChannelData(t,l,e,u)},n.prototype.loadChannelDataByFileName=function(n,t,l,e){return this.getFileLoader(n).loadChannelDataByFileName(t,l,e)},n.prototype.loadJsonDataByFileName=function(n,t,l){return this.getFileLoader(n).loadJsonDataByFileName(t,l)},n.prototype.loadExplorationMap=function(n){return this.getFileLoader(n).loadExplorationMap()},n.prototype.loadNavigationStationConfig=function(n){throw new sl("Loading navigation station configs is not supported.")},n.prototype.loadChartLayout=function(n){throw new sl("Chart layouts should be loaded through site hooks: "+n)},n.prototype.loadCsv=function(n){throw new sl("Method loadCsv should never be called directly.")},n.prototype.loadTrackForStudy=function(n){return this.getFileLoader(n).loadTrackForStudy()},n.prototype.loadTrackForStudyJob=function(n,t){return Wi(this,void 0,void 0,function(){return Gi(this,function(l){return[2,this.getFileLoader(n).loadTrackForStudyJob(t)]})})},n.prototype.loadCarForStudy=function(n){return this.getFileLoader(n).loadCarForStudy()},n.prototype.loadCarForStudyJob=function(n,t){return this.getFileLoader(n).loadCarForStudyJob(t)},n.prototype.loadStudyMetadata=function(n){return this.getFileLoader(n).loadStudyMetadata()},n.prototype.getFileLoader=function(n){return this.getStudyData(n).fileLoader},n.prototype.getStudyData=function(n){var t=this.studyMap[n];if(!t)throw new sl("No study data set for "+n);return t},n}(),Xi=function(){function n(n){this.inlineStudyResult=n,this.vectorMetadata={},this.scalarResults={}}return n.prototype.loadVectorMetadata=function(n,t){if(this.vectorMetadata[t])return Promise.resolve(this.vectorMetadata[t]);if(!this.inlineStudyResult||!this.inlineStudyResult.vectorResults)return Promise.resolve([]);var l=[],e=this.inlineStudyResult.vectorResults[t];if(e)for(var u in e)if(e.hasOwnProperty(u)){var r=e[u];l.push({name:u,units:r.units,description:r.description,xDomainName:r.xDomainName,simType:t,binaryFormat:{pointsCount:r.values.length}})}return this.vectorMetadata[t]=l,Promise.resolve(l)},n.prototype.loadScalarResultsForSim=function(n,t){if(this.scalarResults[t])return Promise.resolve(this.scalarResults[t]);if(!this.inlineStudyResult||!this.inlineStudyResult.scalarResults)return Promise.resolve([]);var l=[],e=this.inlineStudyResult.scalarResults[t];if(e)for(var u in e)if(e.hasOwnProperty(u)){var r=e[u];l.push({name:u,units:r.units,description:r.description,value:r.value})}return this.scalarResults[t]=l,Promise.resolve(l)},n.prototype.loadScalarResultsForStudy=function(){throw new Error("Not supported.")},n.prototype.loadChannelData=function(n,t,l,e){if(!this.inlineStudyResult||!this.inlineStudyResult.vectorResults)return Promise.resolve(void 0);var u=this.inlineStudyResult.vectorResults[t];if(u){var r=u[l];if(r)return Promise.resolve(r.values)}return Promise.resolve(void 0)},n.prototype.loadChannelDataByFileName=function(n,t,l){throw new Error("Not supported.")},n.prototype.loadJsonDataByFileName=function(n,t){throw new Error("Not supported.")},n.prototype.loadExplorationMap=function(){throw new Error("Not supported.")},n.prototype.loadTrackForStudy=function(){return Promise.resolve(this.inlineStudyResult.study.data.definition.simConfig.track)},n.prototype.loadTrackForStudyJob=function(n){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){return[2,Promise.resolve(this.inlineStudyResult.study.data.definition.simConfig.track)]})})},n.prototype.loadCarForStudy=function(){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){return[2,Promise.resolve(this.inlineStudyResult.study.data.definition.simConfig.car)]})})},n.prototype.loadCarForStudyJob=function(n){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){return[2,Promise.resolve(this.inlineStudyResult.study.data.definition.simConfig.car)]})})},n.prototype.loadStudyMetadata=function(){return Promise.resolve(new Ui.b(void 0,this.inlineStudyResult.study.simVersion))},n}(),no=function(){function n(n,t,l,e,u){this.inner=new to(this,n,t,l,e,u),this.cache={}}return n.prototype.addStudyJob=function(n,t){this.inner.addStudyJob(n,t)},n.prototype.getOrAdd=function(n,t){var l=this.cache[n];return l||(l=t(),this.cache[n]=l),l},n.prototype.loadVectorMetadata=function(n,t){var l=this;return this.getOrAdd("loadVectorMetadata-"+n+"-"+t,function(){return l.inner.loadVectorMetadata(n,t)})},n.prototype.loadScalarResultsForSim=function(n,t){var l=this;return this.getOrAdd("loadScalarResultsForSim-"+n+"-"+t,function(){return l.inner.loadScalarResultsForSim(n,t)})},n.prototype.loadScalarResultsForStudy=function(){var n=this;return this.getOrAdd("loadScalarResultsForStudy",function(){return n.inner.loadScalarResultsForStudy()})},n.prototype.loadChannelData=function(n,t,l,e){var u=this;return this.getOrAdd("loadChannelData-"+n+"-"+t+"-"+l,function(){return u.inner.loadChannelData(n,t,l,e)})},n.prototype.loadChannelDataByFileName=function(n,t,l){var e=this;return this.getOrAdd("loadChannelDataByFileName-"+n+"-"+t,function(){return e.inner.loadChannelDataByFileName(n,t,l)})},n.prototype.loadJsonDataByFileName=function(n,t){var l=this;return this.getOrAdd("loadJsonDataByFileName-"+n+"-"+t,function(){return l.inner.loadJsonDataByFileName(n,t)})},n.prototype.loadExplorationMap=function(){var n=this;return this.getOrAdd("loadExplorationMap",function(){return n.inner.loadExplorationMap()})},n.prototype.loadTrackForStudy=function(){return Wi(this,void 0,void 0,function(){var n=this;return Gi(this,function(t){return[2,this.getOrAdd("loadTrackForStudy",function(){return n.inner.loadTrackForStudy()})]})})},n.prototype.loadTrackForStudyJob=function(n){return Wi(this,void 0,void 0,function(){var t=this;return Gi(this,function(l){return[2,this.getOrAdd("loadTrackForStudyJob-"+n,function(){return t.inner.loadTrackForStudyJob(n)})]})})},n.prototype.loadCarForStudy=function(){return Wi(this,void 0,void 0,function(){var n=this;return Gi(this,function(t){return[2,this.getOrAdd("loadCarForStudy",function(){return n.inner.loadCarForStudy()})]})})},n.prototype.loadCarForStudyJob=function(n){return Wi(this,void 0,void 0,function(){var t=this;return Gi(this,function(l){return[2,this.getOrAdd("loadCarForStudyJob-"+n,function(){return t.inner.loadCarForStudyJob(n)})]})})},n.prototype.loadStudyMetadata=function(){var n=this;return this.getOrAdd("loadStudyMetadata",function(){return n.inner.loadStudyMetadata()})},n}(),to=function(n){function t(t,l,e,u,r,i){var o=n.call(this,l,e,u,r)||this;return o.cache=t,o.simVersion=i,o.jobViewModels={},o.studyUrl=r.url,o.jobUrls=r.jobs.map(function(n){return n.url}),o}return Ki(t,n),t.prototype.addStudyJob=function(n,t){this.jobViewModels[n]||(this.jobViewModels[n]=t,this.lastJobViewModel=t)},t.prototype.loadVectorMetadata=function(n,t){return Wi(this,void 0,void 0,function(){var l;return Gi(this,function(e){switch(e.label){case 0:return l=this.getJobUrl(n),[4,this.loadCsv(l+encodeURIComponent(t)+"_VectorMetadata.csv",n)];case 1:return[2,(e.sent()||[]).map(function(n){return{name:n.name,simType:t,description:n.description,units:n.units,xDomainName:n.xDomainName,binaryFormat:new Ui.a(+n.NPtsInChannel)}})]}})})},t.prototype.loadScalarResultsForSim=function(n,t){var l=this.getJobUrl(n);return this.loadCsv(l+encodeURIComponent(t)+"_ScalarResults.csv",n)},t.prototype.loadScalarResultsForStudy=function(){return Wi(this,void 0,void 0,function(){var n,t,l,e,u;return Gi(this,function(r){switch(r.label){case 0:return n=this.loadCsvRows(this.studyUrl+"scalar-results.csv"),[4,this.loadCsv(this.studyUrl+"scalar-metadata.csv")];case 1:return t=r.sent(),[4,this.loadCsv(this.studyUrl+"scalar-inputs-metadata.csv")];case 2:return l=r.sent(),[4,n];case 3:return e=r.sent(),[4,t];case 4:return u=r.sent(),[2,{data:this.createScalarResultsUsingScalarMetadata(e,u),metadata:u,inputsMetadata:l||[]}]}})})},t.prototype.loadChannelData=function(n,t,l,e){return this.cache.loadChannelDataByFileName(n,encodeURIComponent(t)+"_"+encodeURIComponent(l)+".bin",e)},t.prototype.loadChannelDataByFileName=function(n,t,l){var e=this.getJobUrl(n);return this.loadNumericArray(e+t,l,n)},t.prototype.loadJsonDataByFileName=function(n,t){var l=this.getJobUrl(n);return this.loadJson(l+t,n)},t.prototype.loadExplorationMap=function(){return this.loadJson(this.studyUrl+"exploration-map.json")},t.prototype.loadTrackForStudy=function(){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){switch(n.label){case 0:return[4,this.getStudy()];case 1:return[2,n.sent().study.data.definition.simConfig.track]}})})},t.prototype.loadTrackForStudyJob=function(n){return Wi(this,void 0,void 0,function(){var t,l,e,u,r=this;return Gi(this,function(i){switch(i.label){case 0:return[4,this.getStudyMetadata()];case 1:return t=i.sent(),[4,this.getStudyJob(n)];case 2:if(!(l=i.sent()).studyJobInput.simTypes.length)throw new cl("No job sim types found for job.");return e=t.study.data.studyType,[4,this.cache.loadVectorMetadata(n,l.studyJobInput.simTypes[0])];case 3:return u=i.sent(),[4,new zi.a(e,l.studyJob.simVersion,u,function(t,l){return r.cache.loadChannelDataByFileName(n,t,l)},function(t){return r.cache.loadJsonDataByFileName(n,t)}).execute(l.studyJobInput.simConfig.track)];case 4:return[2,i.sent()]}})})},t.prototype.loadCarForStudy=function(){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){switch(n.label){case 0:return[4,this.getStudy()];case 1:return[2,n.sent().study.data.definition.simConfig.car]}})})},t.prototype.loadCarForStudyJob=function(n){return Wi(this,void 0,void 0,function(){return Gi(this,function(t){switch(t.label){case 0:return[4,this.getStudyJob(n)];case 1:return[2,t.sent().studyJobInput.simConfig.car]}})})},t.prototype.loadStudyMetadata=function(){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){return[2,new Ui.b(this.studyId,this.simVersion)]})})},t.prototype.getJobUrl=function(t){if(!n.prototype.hasJobIndex.call(this,t))throw new sl("JobIndex expected");return this.jobUrls[t%this.jobUrls.length]+t+"/"},t.prototype.getJobId=function(n){return this.studyId+"-"+n},t.prototype.getStudyJob=function(n){return Wi(this,void 0,void 0,function(){var t,l;return Gi(this,function(e){switch(e.label){case 0:return(t=this.jobViewModels[n])?[4,t.jobResult.load()]:[3,2];case 1:return e.sent(),[2,t.jobResult.value];case 2:return l=this.getJobId(n),[4,this.studyStub.getStudyJob(this.tenantId,this.studyId,l,this.simVersion)];case 3:return[2,e.sent()]}})})},t.prototype.getStudyMetadata=function(){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){switch(n.label){case 0:return this.lastJobViewModel?[4,this.lastJobViewModel.studyMetadataResult.load()]:[3,2];case 1:return n.sent(),[2,this.lastJobViewModel.studyMetadataResult.value];case 2:return[4,this.studyStub.getStudyMetadata(this.tenantId,this.studyId)];case 3:return[2,n.sent()]}})})},t.prototype.getStudy=function(){return Wi(this,void 0,void 0,function(){return Gi(this,function(n){switch(n.label){case 0:return this.lastJobViewModel?[4,this.lastJobViewModel.studyResult.load()]:[3,2];case 1:return n.sent(),[2,this.lastJobViewModel.studyResult.value];case 2:return[4,this.studyStub.getStudy(this.tenantId,this.studyId,this.simVersion)];case 3:return[2,n.sent()]}})})},t}(Bi),lo=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),eo=function(){function n(n){this.dialogManager=n}return n.prototype.editChart=function(n,t,l,e,u,r,i,o){return s=this,void 0,c=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(s){switch(s.label){case 0:return[4,this.dialogManager.showSecondaryDialog(new uo(n,t,l,e,u,r,i,o))];case 1:return[2,s.sent()]}})},new((a=void 0)||(a=Promise))(function(n,t){function l(n){try{u(c.next(n))}catch(n){t(n)}}function e(n){try{u(c.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new a(function(n){n(t.value)}).then(l,e)}u((c=c.apply(s,[])).next())});var s,a,c},n}(),uo=function(n){function t(t,l,e,u,r,i,o,s){var a=n.call(this)||this;return a._flattenView=t,a._channelSource=l,a._data=e,a._studyId=u,a._jobIndex=r,a._simTypes=i,a._channelNameStyle=o,a._fileLoader=s,a}return lo(t,n),Object.defineProperty(t.prototype,"flattenView",{get:function(){return this._flattenView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelSource",{get:function(){return this._channelSource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"studyId",{get:function(){return this._studyId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jobIndex",{get:function(){return this._jobIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"simTypes",{get:function(){return this._simTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelNameStyle",{get:function(){return this._channelNameStyle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileLoader",{get:function(){return this._fileLoader},enumerable:!0,configurable:!0}),t}(se),ro=function(n){return n[n.ScalarResults=0]="ScalarResults",n[n.VectorResults=1]="VectorResults",n}({}),io=l("2fsI"),oo=33;function so(n){if(n){var t=oo;return n.length<oo&&(t=n.indexOf("-")+1),parseInt(n.substr(t),void 0)}}var ao=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),co=function(n){function t(t,l,e){return n.call(this,t,l,e)||this}return ao(t,n),t.prototype.fromMutable=function(n){return bo.fromMutable(n)},t.prototype.toMutable=function(n){return bo.toMutable(n)},t.prototype.uninitialized=function(n){return bo.uninitialized(n)},t.prototype.getLocalStorageKey=function(){return"resultsStagingArea"},t.prototype.addSource=function(n){this.removeSource(n.studyId,n.jobId);var t=bo.toMutable(this.state);t.sources.push(fo.toMutable(n)),this.update(t)},t.prototype.moveSourceLeft=function(n,t){var l=bo.toMutable(this.state),e=l.sources.findIndex(function(l){return l.studyId===n&&l.jobId===t});if(-1!==e&&0!==e){var u=l.sources[e];l.sources[e]=l.sources[e-1],l.sources[e-1]=u,this.update(l)}},t.prototype.moveSourceRight=function(n,t){var l=bo.toMutable(this.state),e=l.sources.findIndex(function(l){return l.studyId===n&&l.jobId===t});if(-1!==e&&e!==l.sources.length-1){var u=l.sources[e];l.sources[e]=l.sources[e+1],l.sources[e+1]=u,this.update(l)}},t.prototype.removeSource=function(n,t){var l=bo.toMutable(this.state);l.sources=l.sources.filter(function(l){return!(l.studyId===n&&l.jobId===t)}),this.update(l)},t.prototype.serviceOnInit=function(){n.prototype.initialize.call(this)},t}(be),bo=function(){function n(n,t){this.userId=n,this.sources=t,this.sources=(this.sources||[]).slice()}return n.uninitialized=function(t){return new n(t,[])},n.fromMutable=function(t){if(t)return new n(t.userId,t.sources.map(fo.fromMutable))},n.toMutable=function(n){if(n)return{userId:n.userId,sources:n.sources.map(fo.toMutable)}},n}(),fo=function(){function n(n,t,l,e,u){this.tenantId=n,this.studyId=t,this.studyName=l,this.jobId=e,this.jobName=u}return Object.defineProperty(n.prototype,"jobIndex",{get:function(){return so(this.jobId)},enumerable:!0,configurable:!0}),n.fromMutable=function(t){if(t)return new n(t.tenantId,t.studyId,t.studyName,t.jobId,t.jobName)},n.toMutable=function(n){if(n)return{tenantId:n.tenantId,studyId:n.studyId,studyName:n.studyName,jobId:n.jobId,jobName:n.jobName}},n}(),po=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ho=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},go=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b){this.identity=n,this.timer=t,this.chartRepositoryFactory=l,this.chartEditorDialog=e,this.channelEditorDialog=u,this.unitsManager=r,this.setChannelUnitsDialog=i,this.getPreferredChart=o,this.setPreferredChart=s,this.viewJobDialog=a,this.simVersionDocumentCache=c,this.resultsStagingArea=d,this.getFriendlyErrorAndLogService=b}return n.prototype.create=function(n){var t=this.identity.get();return new yo(t.tenantId,t.userId,n,this.timer,this.chartRepositoryFactory,this.chartEditorDialog,this.channelEditorDialog,this.unitsManager,this.setChannelUnitsDialog,this.getPreferredChart,this.setPreferredChart,this.viewJobDialog,this.simVersionDocumentCache,this.resultsStagingArea,this.getFriendlyErrorAndLogService)},n}(),yo=function(){function n(n,t,l,u,r,i,o,s,a,c,d,b,f,p,h){var g=this;this.tenantId=n,this.userId=t,this.fileLoader=l,this.timer=u,this.chartRepositoryFactory=r,this.chartEditorDialog=i,this.channelEditorDialog=o,this.unitsManager=s,this.setChannelUnitsDialog=a,this.getPreferredChartService=c,this.setPreferredChartService=d,this.viewJobDialog=b,this.simVersionDocumentCache=f,this.resultsStagingArea=p,this.getFriendlyErrorAndLogService=h,this.unitsChangedEvent=new e.n,this.simVersionChartCache={},this.studyCache={},this.studyJobNameCache={},this.chartRepository=this.chartRepositoryFactory.create(n),this.unitsChangedSubscription=this.unitsManager.changed.subscribe(function(){return g.unitsChangedEvent.emit(void 0)})}return n.prototype.dispose=function(){this.unitsChangedSubscription.unsubscribe()},n.prototype.addStudy=function(n,t,l){this.studyCache[t]={tenantId:n,studyId:t,name:l}},n.prototype.addJobName=function(n,t){this.studyJobNameCache[n]=t},n.prototype.saveViewerLayoutAs=function(n,t){return po(this,void 0,void 0,function(){return ho(this,function(l){return[2,this.chartRepository.saveChartAs(n,t)]})})},n.prototype.canSaveViewerLayout=function(n,t){return po(this,void 0,void 0,function(){return ho(this,function(n){return[2,t&&t.userId&&this.userId===t.userId]})})},n.prototype.saveViewerLayout=function(n,t,l,e){return this.chartRepository.saveChart(n,t.configId,l,e)},n.prototype.loadViewerLayout=function(n,t){var l;if(t&&"string"==typeof t){var e=n+"-"+t;return(l=this.simVersionChartCache[e])||(l=this.chartRepository.loadChart(n,t),this.simVersionChartCache[e]=l),l}return this.chartRepository.loadChart(n,t)},n.prototype.editViewerDeprecated=function(n,t,l,e,u,r){return po(this,void 0,void 0,function(){var i,o,s,a;return ho(this,function(c){switch(c.label){case 0:switch(i=t,o=!1,s=ro.ScalarResults,n===un.parallelCoordinatesViewer?o=!0:n===un.pointMultiPlotViewer&&(s=ro.VectorResults),n){case un.lineMultiPlotViewer:case un.pointMultiPlotViewer:case un.parallelCoordinatesViewer:return[3,1]}return[3,3];case 1:return[4,this.chartEditorDialog.editChart(o,s,i,l,e,u,r,this.fileLoader)];case 2:return a=c.sent(),[3,3];case 3:return[4,this.timer.yield()];case 4:return c.sent(),[2,a]}})})},n.prototype.editViewerChannels=function(n){return po(this,void 0,void 0,function(){var t;return ho(this,function(l){switch(l.label){case 0:return[4,this.channelEditorDialog.editChart(n)];case 1:return t=l.sent(),[4,this.timer.yield()];case 2:return l.sent(),[2,t]}})})},n.prototype.getDefaultChannelUnits=function(n){return po(this,void 0,void 0,function(){return ho(this,function(t){switch(t.label){case 0:return[4,this.simVersionDocumentCache.get(this.simVersionDocumentCache.lastRequestedVersion)];case 1:return[2,t.sent().units[n]||"()"]}})})},n.prototype.getUserChannelUnits=function(n){return this.unitsManager.getUnits(n,void 0)},n.prototype.getUserChannelUnitsSynchronous=function(n){return this.unitsManager.getUnitsSynchronous(n,void 0)},n.prototype.ensureUnitsLoaded=function(){return this.unitsManager.ensureInitialized()},n.prototype.editChannelUnits=function(n,t){return this.setChannelUnitsDialog.show(n,t)},n.prototype.getViewerDefaultLayoutId=function(n,t){return this.getPreferredChartService.execute(n,t)},n.prototype.setViewerDefaultLayoutId=function(n,t,l){return this.setPreferredChartService.execute(this.tenantId,this.userId,n,t,l)},n.prototype.getStudyName=function(n){var t=this.studyCache[n];return Promise.resolve(t?t.name:"Unnamed Study")},n.prototype.getStudyJobName=function(n,t){return po(this,void 0,void 0,function(){return ho(this,function(l){switch(l.label){case 0:return[4,this.getStudyName(n)];case 1:return[2,l.sent()+" / "+(this.studyJobNameCache[Ji(n,t)]||"Unnamed")]}})})},n.prototype.showStudyJob=function(n,t){var l=io.event,e=l.sourceEvent,u=this.studyCache[n];if(e.ctrlKey||e.metaKey){var r=this.getJobId(n,t);return this.resultsStagingArea.addSource(new fo(u.tenantId,n,u.name,r,this.studyJobNameCache[r]||"Job Index "+l.lineIndex)),Promise.resolve()}return this.viewJobDialog.show(u.tenantId,n,this.getJobId(n,t))},n.prototype.getFriendlyErrorAndLog=function(n){return this.getFriendlyErrorAndLogService.execute(n)},n.prototype.getJobId=function(n,t){return n+"-"+t},n}(),mo=e.sb({encapsulation:0,styles:[[""]],data:{}});function vo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","loader-centered"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function wo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"div",[["id","navigation-station"]],null,null,null,null,null))],null,null)}function Mo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["id","tenant-study-statistics"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.loadNext()&&e),e},null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(10,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(11,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,vo)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,wo)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,11,0,l.errorMessage),n(t,14,0,!l.statistics&&!l.errorMessage),n(t,18,0,l.statistics)},function(n,t){var l=t.component;n(t,6,0,!l.statistics||!l.canLoadMore),n(t,7,0,l.canLoadMore?"More":"Please wait...")})}var Co=function(){function n(n,t,l,e,u,r,i){this.identity=n,this.fetchUserState=t,this.route=l,this.inferableRouteParams=e,this.tenancyStub=u,this.studyTypeLookupFactory=r,this.getFriendlyErrorAndLog=i,this.displayModeType=So,this.displayMode=So.none}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t,l,e,u,r,i;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(o){switch(o.label){case 0:return o.trys.push([0,8,,9]),this.isAdministrator=this.identity.isAdministrator,this.isTenantAdministrator=this.identity.isTenantAdministrator,this.tenantId=this.inferableRouteParams.getTenantId(this.route),[4,this.fetchUserState.get()];case 1:return(n=o.sent()).tenant.tenantId!==this.tenantId?[3,2]:(this.tenant=n.tenant,[3,4]);case 2:return t=this,[4,this.tenancyStub.getTenant(this.tenantId)];case 3:t.tenant=o.sent(),o.label=4;case 4:return l=this.studyTypeLookupFactory.create(this.tenantId),e=this,[4,l.getStudyTypeList()];case 5:return e.studyTypes=o.sent(),u=this,[4,l.getConfigTypeList()];case 6:return u.configTypes=o.sent(),[4,this.tenancyStub.getTenantUsers(this.tenantId)];case 7:return r=o.sent(),this.tenantUsers=r.users,this.tenantUsers.sort(ge("username")),[3,9];case 8:return i=o.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(i),[3,9];case 9:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.isStudyTypeEnabled=function(n){return n.state===fn.enabled},n.prototype.isConfigTypeEnabled=function(n){return n.state===gn.enabled},n.prototype.getRoleIcon=function(n){return lu(n)},n.prototype.setDisplayMode=function(n){this.displayMode=n},n}(),So=function(n){return n[n.none=0]="none",n[n.defaultCustomPropertyNames=1]="defaultCustomPropertyNames",n[n.adminTenantSettings=2]="adminTenantSettings",n[n.studyStatistics=3]="studyStatistics",n[n.tenantSettingsSimVersion=4]="tenantSettingsSimVersion",n[n.tenantDownloads=5]="tenantDownloads",n}({}),Io=e.sb({encapsulation:0,styles:[["#tenant-information-page[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]{white-space:nowrap}#tenant-information-page[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{margin-right:.5rem}#tenant-information-page[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:red}#tenant-information-page[_ngcontent-%COMP%]   .disabled-user[_ngcontent-%COMP%]   .strikethrough-if-disabled[_ngcontent-%COMP%]{text-decoration:line-through}#tenant-information-page[_ngcontent-%COMP%]   .feature-area[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}#tenant-information-page[_ngcontent-%COMP%]   .feature-area[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5em}#tenant-information-page[_ngcontent-%COMP%]   .feature-area[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]{display:inline-block;background-color:#eee;border-radius:3px;padding:.1em .5em;margin-right:.5em;margin-bottom:.5em}#tenant-information-page[_ngcontent-%COMP%]   .feature-area[_ngcontent-%COMP%]   .feature.disabled-feature[_ngcontent-%COMP%]{text-decoration:line-through}"]],data:{}});function xo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"h1",[["class","card-header"],["id","tenant-name"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n        ","\n      "]))],null,function(n,t){n(t,1,0,t.component.tenant.name)})}function Oo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function ko(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Your account "])),(n()(),e.ub(4,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,[" has been disabled."])),(n()(),e.Mb(-1,null,["\n          "]))],null,function(n,t){n(t,5,0,t.component.tenant.shortName)})}function To(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Po(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["none"])),(n()(),e.Mb(-1,null,["."]))],null,null)}function Eo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,3,"span",[["class","feature"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"disabled-feature":0}),(n()(),e.Mb(5,null,["",""]))],function(n,t){n(t,3,0,"feature",n(t,4,0,!t.component.isStudyTypeEnabled(t.context.$implicit)))},function(n,t){n(t,5,0,t.context.$implicit.name)})}function _o(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Eo)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.component.studyTypes)},null)}function Vo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","feature-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Study Types:"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Po)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,_o)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,6,0,!l.studyTypes.length),n(t,9,0,l.studyTypes.length)},null)}function jo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["none"])),(n()(),e.Mb(-1,null,["."]))],null,null)}function Ro(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,3,"span",[["class","feature"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"disabled-feature":0}),(n()(),e.Mb(5,null,["",""]))],function(n,t){n(t,3,0,"feature",n(t,4,0,!t.component.isConfigTypeEnabled(t.context.$implicit)))},function(n,t){n(t,5,0,t.context.$implicit.titleName)})}function Fo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Ro)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.component.configTypes)},null)}function Ao(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","feature-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Config Types:"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,jo)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Fo)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,6,0,!l.configTypes.length),n(t,9,0,l.configTypes.length)},null)}function Lo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"p",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"],["id","edit-tenant-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,2),(n()(),e.Mb(-1,null,["Edit"])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,n(t,4,0,"/tenant-account-settings",t.component.tenantId))},function(n,t){n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href)})}function Do(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,22,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,ko)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(5,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Your company sign-in name is "])),(n()(),e.ub(7,0,null,null,1,"strong",[["id","tenant-short-name"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.Mb(-1,null,["."])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,To)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Vo)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Ao)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Lo)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,!l.tenant.isEnabled),n(t,12,0,!l.configTypes),n(t,15,0,l.studyTypes),n(t,18,0,l.configTypes),n(t,21,0,l.isTenantAdministrator)},function(n,t){n(t,8,0,t.component.tenant.shortName)})}function No(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Uo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"],["id","new-user-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,2),(n()(),e.Mb(-1,null,["New user"])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,n(t,4,0,"/register",t.component.tenantId))},function(n,t){n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href)})}function Qo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"a",[],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,3),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,n(t,2,0,"/account-settings",t.component.tenantId,t.parent.context.$implicit.userId))},function(n,t){n(t,0,0,e.wb(1,"username-link-",t.parent.context.$implicit.username,""),e.Eb(t,1).target,e.Eb(t,1).href),n(t,3,0,t.parent.context.$implicit.username)})}function Jo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,0,0,e.wb(1,"username-",t.parent.context.$implicit.username,"")),n(t,1,0,t.parent.context.$implicit.username)})}function $o(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function Ho(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function qo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(n,t){n(t,0,0,e.wb(1,"fa fa-",t.component.getRoleIcon(t.context.$implicit)," m-r-1 role-icon"))})}function Bo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,27,"tr",[],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{ngClass:[0,"ngClass"]},null),e.Hb(2,{"disabled-user":0}),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,7,"td",[["class","strikethrough-if-disabled"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Qo)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Jo)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(13,0,null,null,1,"td",[["class","strikethrough-if-disabled"]],null,null,null,null,null)),(n()(),e.Mb(14,null,["",""])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(16,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,1,null,$o)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,Ho)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(22,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,qo)),e.tb(25,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,!t.context.$implicit.isEnabled)),n(t,7,0,l.isTenantAdministrator),n(t,10,0,!l.isTenantAdministrator),n(t,18,0,t.context.$implicit.isEnabled),n(t,20,0,!t.context.$implicit.isEnabled),n(t,25,0,t.context.$implicit.roles)},function(n,t){n(t,14,0,t.context.$implicit.email)})}function zo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,40,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,[" has\n            "])),(n()(),e.ub(7,0,null,null,1,"strong",[["id","tenant-count"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.Mb(9,null,[" user",".\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Uo)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(14,0,null,null,25,"table",[["class","table users-table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(16,0,null,null,16,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(18,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(20,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Username"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(23,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Email"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(26,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Enabled"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(29,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Roles"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(34,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Bo)),e.tb(37,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,12,0,l.isTenantAdministrator),n(t,37,0,l.tenantUsers)},function(n,t){var l=t.component;n(t,5,0,l.tenant.name),n(t,8,0,l.tenantUsers.length),n(t,9,0,1==l.tenantUsers.length?"":"s")})}function Ko(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.adminTenantSettings)&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Administrator Settings\n      "]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart",n(t,2,0,l.displayMode===l.displayModeType.adminTenantSettings,l.displayMode!==l.displayModeType.adminTenantSettings))},null)}function Wo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-tenant-settings-default-custom-property-names",[],null,null,null,Xu,Hu)),e.tb(1,114688,null,0,$u,[O,Zt.e,z,Ml,On],{tenantId:[0,"tenantId"]},null)],function(n,t){n(t,1,0,t.component.tenantId)},null)}function Go(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-tenant-settings-sim-version",[],null,null,null,Ar,Fr)),e.tb(1,49152,null,0,Pr,[z,Rr],{tenantId:[0,"tenantId"]},null)],function(n,t){n(t,1,0,t.component.tenantId)},null)}function Yo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"cs-admin-tenant-settings",[],null,null,null,ui,Br)),e.tb(5,114688,null,0,Nr,[O,Zt.e,z,J,Qr,Ml,qr,Rr,On],{tenantId:[0,"tenantId"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"cs-pool-status",[],null,null,null,Mi,oi)),e.tb(8,245760,null,0,ri,[J,fr,On],{tenantId:[0,"tenantId"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(10,0,null,null,1,"cs-pool-status",[],null,null,null,Mi,oi)),e.tb(11,245760,null,0,ri,[J,fr,On],{tenantId:[0,"tenantId"],poolType:[1,"poolType"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(13,0,null,null,1,"cs-pool-status",[],null,null,null,Mi,oi)),e.tb(14,245760,null,0,ri,[J,fr,On],{tenantId:[0,"tenantId"],poolType:[1,"poolType"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,5,0,l.tenantId),n(t,8,0,l.tenantId),n(t,11,0,l.tenantId,"secondary"),n(t,14,0,l.tenantId,"heavy")},null)}function Zo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-tenant-study-statistics",[],null,null,null,Mo,mo)),e.tb(1,245760,null,0,Li,[q,Nn,$n,qn,Yi,go,fr,e.C,On],{tenantId:[0,"tenantId"]},null)],function(n,t){n(t,1,0,t.component.tenantId)},null)}function Xo(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,80,"div",[["id","tenant-information-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(2,0,null,null,65,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,xo)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(12,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Oo)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Do)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(22,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(24,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Members"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(27,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,No)),e.tb(30,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,zo)),e.tb(33,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(37,0,null,null,29,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(39,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.tenantSettingsSimVersion)&&e),e},null,null)),e.tb(40,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(41,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Sim Version\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(44,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.defaultCustomPropertyNames)&&e),e},null,null)),e.tb(45,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(46,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Custom Properties\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Ko)),e.tb(50,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(52,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.studyStatistics)&&e),e},null,null)),e.tb(53,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(54,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Study Statistics\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(57,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,58).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(58,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(59,2),(n()(),e.Mb(-1,null,["\n        Downloads\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(62,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,63).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(63,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(64,2),(n()(),e.Mb(-1,null,["\n        Encryption Channel Whitelists\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Wo)),e.tb(70,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Go)),e.tb(73,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Yo)),e.tb(76,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Zo)),e.tb(79,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,7,0,l.tenant),n(t,12,0,l.errorMessage),n(t,15,0,!l.tenant),n(t,18,0,l.tenant),n(t,30,0,!l.tenantUsers),n(t,33,0,l.tenantUsers),n(t,40,0,"btn btn-smart",n(t,41,0,l.displayMode===l.displayModeType.tenantSettingsSimVersion,l.displayMode!==l.displayModeType.tenantSettingsSimVersion)),n(t,45,0,"btn btn-smart",n(t,46,0,l.displayMode===l.displayModeType.defaultCustomPropertyNames,l.displayMode!==l.displayModeType.defaultCustomPropertyNames)),n(t,50,0,l.isAdministrator),n(t,53,0,"btn btn-smart",n(t,54,0,l.displayMode===l.displayModeType.studyStatistics,l.displayMode!==l.displayModeType.studyStatistics)),n(t,58,0,n(t,59,0,"/downloads",l.tenantId)),n(t,63,0,n(t,64,0,"/encryption-channel-whitelists",l.tenantId)),n(t,70,0,l.displayMode===l.displayModeType.defaultCustomPropertyNames),n(t,73,0,l.displayMode===l.displayModeType.tenantSettingsSimVersion),n(t,76,0,l.isAdministrator&&l.displayMode===l.displayModeType.adminTenantSettings),n(t,79,0,l.displayMode===l.displayModeType.studyStatistics)},function(n,t){n(t,57,0,e.Eb(t,58).target,e.Eb(t,58).href),n(t,62,0,e.Eb(t,63).target,e.Eb(t,63).href)})}var ns=e.qb("ng-component",Co,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Xo,Io)),e.tb(1,114688,null,0,Co,[O,wl,b.a,yl,U,Vt,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),ts=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ls=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},es=function(){function n(n,t,l,e,u,r,i,o){this.identity=n,this.formBuilder=t,this.fetchUserState=l,this.route=e,this.inferableRouteParams=u,this.tenancyStub=r,this.formSubmissionHandler=i,this.getFriendlyErrorAndLog=o,this.name=new Zt.f("",[Zt.w.required].concat(tl.tenantNameValidators)),this.shortName=new Zt.f("",[Zt.w.required].concat(tl.tenantShortNameValidators)),this.databaseId=new Zt.f("",tl.databaseIdValidators.slice()),this.isTenantEnabled=new Zt.f(!1),this.submitButton=new ll("Save","Saving..."),this.saveSuccessful=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return ts(this,void 0,void 0,function(){var n,t,l;return ls(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),this.isAdministrator=this.identity.isAdministrator,this.tenantId=this.inferableRouteParams.getTenantId(this.route),[4,this.fetchUserState.get()];case 1:return(n=e.sent()).tenant.tenantId!==this.tenantId?[3,2]:(this.name.setValue(n.tenant.name,{}),this.shortName.setValue(n.tenant.shortName,{}),this.databaseId.setValue(n.tenant.databaseId,{}),this.isTenantEnabled.setValue(n.tenant.isEnabled,{}),[3,4]);case 2:return[4,this.tenancyStub.getTenant(this.tenantId)];case 3:t=e.sent(),this.name.setValue(t.name,{}),this.shortName.setValue(t.shortName,{}),this.databaseId.setValue(t.databaseId,{}),this.isTenantEnabled.setValue(t.isEnabled,{}),e.label=4;case 4:return this.form=this.formBuilder.group({name:this.name,shortName:this.shortName,databaseId:this.databaseId,isTenantEnabled:this.isTenantEnabled}),[3,6];case 5:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,6];case 6:return[2]}})})},n.prototype.onSubmit=function(){return ts(this,void 0,void 0,function(){return ls(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.submit=function(){return ts(this,void 0,void 0,function(){return ls(this,function(n){switch(n.label){case 0:return[4,this.tenancyStub.putTenant(this.tenantId,{name:this.name.value,shortName:this.isAdministrator?this.shortName.value:void 0,databaseId:this.isAdministrator?this.databaseId.value:void 0,isEnabled:this.isAdministrator?this.isTenantEnabled.value:void 0})];case 1:return n.sent(),[4,this.fetchUserState.update()];case 2:return n.sent(),[2]}})})},n}(),us=e.sb({encapsulation:2,styles:[],data:{}});function rs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function is(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Name is required\n              "]))],null,null)}function os(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Name is too short.\n              "]))],null,null)}function ss(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Name is too long.\n              "]))],null,null)}function as(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Sign-in Name is required\n                "]))],null,null)}function cs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Sign-in Name is too short.\n                "]))],null,null)}function ds(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Sign-in Name is too long.\n                "]))],null,null)}function bs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Database ID is too long.\n                "]))],null,null)}function fs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,52,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,1,"label",[["for","short-name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sign-in Name"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(7,0,null,null,5,"input",[["class","form-control"],["formControlName","shortName"],["id","short-name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,8)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,8).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,8)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,8)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(8,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(10,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(12,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,as)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,cs)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,ds)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(24,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(26,0,null,null,1,"label",[["for","database-id-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Database ID"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(29,0,null,null,5,"input",[["class","form-control"],["formControlName","databaseId"],["id","database-id-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,30)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,30).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,30)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,30)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(30,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(32,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(34,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,bs)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(40,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(42,0,null,null,5,"input",[["formControlName","isTenantEnabled"],["id","is-enabled-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,t,l){var u=!0;return"change"===t&&(u=!1!==e.Eb(n,43).onChange(l.target.checked)&&u),"blur"===t&&(u=!1!==e.Eb(n,43).onTouched()&&u),u},null,null)),e.tb(43,16384,null,0,Zt.b,[e.H,e.l],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.b]),e.tb(45,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(47,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(49,0,null,null,1,"label",[["for","is-enabled-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Enabled"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,10,0,"shortName"),n(t,15,0,!l.shortName.pristine&&l.shortName.hasError("required")),n(t,18,0,l.shortName.hasError("minlength")),n(t,21,0,l.shortName.hasError("maxlength")),n(t,32,0,"databaseId"),n(t,37,0,l.shortName.hasError("maxlength")),n(t,45,0,"isTenantEnabled")},function(n,t){n(t,7,0,e.Eb(t,12).ngClassUntouched,e.Eb(t,12).ngClassTouched,e.Eb(t,12).ngClassPristine,e.Eb(t,12).ngClassDirty,e.Eb(t,12).ngClassValid,e.Eb(t,12).ngClassInvalid,e.Eb(t,12).ngClassPending),n(t,29,0,e.Eb(t,34).ngClassUntouched,e.Eb(t,34).ngClassTouched,e.Eb(t,34).ngClassPristine,e.Eb(t,34).ngClassDirty,e.Eb(t,34).ngClassValid,e.Eb(t,34).ngClassInvalid,e.Eb(t,34).ngClassPending),n(t,42,0,e.Eb(t,47).ngClassUntouched,e.Eb(t,47).ngClassTouched,e.Eb(t,47).ngClassPristine,e.Eb(t,47).ngClassDirty,e.Eb(t,47).ngClassValid,e.Eb(t,47).ngClassInvalid,e.Eb(t,47).ngClassPending)})}function ps(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Saved.\n            "]))],null,null)}function hs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,39,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,36,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(12,0,null,null,1,"label",[["for","name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,16)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,16)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(16,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(18,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(20,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,is)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,os)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,ss)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,fs)),e.tb(33,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,ps)),e.tb(36,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(38,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","tenant-settings-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(39,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,18,0,"name"),n(t,23,0,!l.name.pristine&&l.name.hasError("required")),n(t,26,0,l.name.hasError("minlength")),n(t,29,0,l.name.hasError("maxlength")),n(t,33,0,l.isAdministrator),n(t,36,0,l.saveSuccessful)},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,15,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,38,0,l.submitButton.isSubmitting),n(t,39,0,l.submitButton.text)})}function gs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Company Settings"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(10,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,rs)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,hs)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,l.errorMessage),n(t,13,0,!l.form),n(t,16,0,l.form)},null)}var ys=e.qb("ng-component",es,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,gs,us)),e.tb(1,114688,null,0,es,[O,Zt.e,wl,b.a,yl,U,Ml,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),ms=function(){},vs=e.sb({encapsulation:0,styles:[[""]],data:{}});function ws(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stage"]))],null,null)}function Ms(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stage as Telemetry"]))],null,null)}function Cs(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,ws)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,Ms)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"telemetry"===l.studyType),n(t,4,0,"telemetry"!==l.studyType)},null)}var Ss=function(){function n(n,t,l,e){this.prompt=n,this.lintingEngineRunner=t,this.identity=l,this.getFriendlyErrorAndLog=e,this.compactButton=!1}return Object.defineProperty(n.prototype,"isAdministrator",{get:function(){return this.identity.isAdministrator},enumerable:!0,configurable:!0}),n.prototype.launch=function(){return n=this,void 0,l=function(){var n,t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:if(e.trys.push([0,2,,4]),n=void 0,this.configType){if(!this.getConfigData)throw new sl("No getConfigData delegate was supplied.");if(!(n=this.getConfigData()))throw new sl("No config was supplied.")}return[4,this.lintingEngineRunner.show(this.tenantId,this.userId,this.configId,n,this.configType,this.studyId,this.jobId)];case 1:return e.sent(),[3,4];case 2:return t=e.sent(),l=this.getFriendlyErrorAndLog.execute(t),[4,this.prompt.show(l,"Linting Error")];case 3:return e.sent(),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),Is=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),xs=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l,e,u,r,i){return o=this,void 0,a=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(o){switch(o.label){case 0:return[4,this.dialogManager.showSecondaryDialog(new Os(n,t,l,e,u,r,i))];case 1:return[2,o.sent()]}})},new((s=void 0)||(s=Promise))(function(n,t){function l(n){try{u(a.next(n))}catch(n){t(n)}}function e(n){try{u(a.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new s(function(n){n(t.value)}).then(l,e)}u((a=a.apply(o,[])).next())});var o,s,a},n}(),Os=function(n){function t(t,l,e,u,r,i,o){var s=n.call(this)||this;return s.tenantId=t,s.userId=l,s.configId=e,s.configData=u,s.configType=r,s.studyId=i,s.jobId=o,s}return Is(t,n),t}(se),ks=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-block}.linting-engine-dialog-launcher[_ngcontent-%COMP%]:not(.btn-icon)   .fa[_ngcontent-%COMP%]{margin-right:.25rem}"]],data:{}});function Ts(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["","Analysis"]))],null,function(n,t){n(t,1,0,t.component.studyId?"Job ":"Config ")})}function Ps(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"button",[["class","btn btn-smart btn-secondary linting-engine-dialog-launcher"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.launch()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-icon":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-bug"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Ts)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-secondary linting-engine-dialog-launcher",n(t,2,0,l.compactButton)),n(t,7,0,!l.compactButton)},null)}function Es(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,Ps)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isAdministrator)},null)}var _s=function(){function n(n,t,l,e){this.prompt=n,this.configStub=t,this.loadingDialog=l,this.getFriendlyErrorAndLog=e}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,6]),[4,this.prompt.show("Taking ownership could cause the existing owner to lose work if they are currently working on the document. Please ensure the existing owner is not working on the document before proceeding.","WARNING","It is safe to take ownership","Cancel")];case 1:return"It is safe to take ownership"!==r.sent()?[3,3]:[4,this.loadingDialog.showUntilFinished(this.configStub.putConfigOwner(n,t,{userId:l}),"Setting owner...")];case 2:return r.sent(),[2,!0];case 3:return[3,6];case 4:return e=r.sent(),u=this.getFriendlyErrorAndLog.execute(e),[4,this.prompt.show(u,"Set Ownership Error")];case 5:return r.sent(),[3,6];case 6:return[2,!1]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),Vs=function(){function n(n,t,l,u){this.prompt=n,this.promptAndSetOwnership=t,this.identity=l,this.getFriendlyErrorAndLog=u,this.compactButton=!1,this.ownershipChanged=new e.n}return n.prototype.ngOnInit=function(){try{this.currentIdentity=this.identity.get()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n),this.currentIdentity=void 0}},Object.defineProperty(n.prototype,"showButton",{get:function(){return!(this.errorMessage||!this.currentIdentity||this.currentIdentity.tenantId!==this.documentTenantId||this.currentIdentity.userId===this.documentUserId)},enumerable:!0,configurable:!0}),n.prototype.execute=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,4]),[4,this.promptAndSetOwnership.execute(this.documentTenantId,this.documentId,this.currentIdentity.userId)];case 1:return l.sent()&&this.ownershipChanged.emit(new js(this.currentIdentity.userId)),[3,4];case 2:return n=l.sent(),t=this.getFriendlyErrorAndLog.execute(n),[4,this.prompt.show(t,"Set Ownership Error")];case 3:return l.sent(),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),js=function(n){this.userId=n},Rs=e.sb({encapsulation:0,styles:[[""]],data:{}});function Fs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Take Ownership"]))],null,null)}function As(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"button",[["class","btn btn-smart btn-secondary set-ownership-dialog-launcher"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.execute()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-icon":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-user-circle-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Fs)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-secondary set-ownership-dialog-launcher",n(t,2,0,l.compactButton)),n(t,7,0,!l.compactButton)},null)}function Ls(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,As)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.showButton),n(t,4,0,l.errorMessage)},null)}var Ds=function(){function n(n){this.moment=n}return n.prototype.transform=function(n,t){return void 0===t&&(t=1),n?this.moment.fromNowLong(n,t):""},n}(),Ns=function(){function n(n,t,l){this.supportSessionDialog=n,this.createUserInformationMaps=t,this.getFriendlyErrorAndLog=l,this.supportSessionChanged=new e.n}return n.prototype.ngOnInit=function(){try{this.supportSession&&(this.map=this.createUserInformationMaps.execute(this.supportSession.userInformation))}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.open=function(){return n=this,void 0,l=function(){var n,t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n=void 0,this.supportSession&&this.supportSession.session&&this.supportSession.session.responses&&(n=this.supportSession),[4,this.supportSessionDialog.show(this.tenantId,this.documentId,this.documentType,this.documentSubType,n)];case 1:return(t=e.sent())&&(this.supportSessionChanged.emit(t),this.map=this.createUserInformationMaps.execute(t.userInformation)),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),Us=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Qs=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l,e,u){return r=this,void 0,o=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,this.dialogManager.showTertiaryDialog(new Js(n,t,l,e,u))];case 1:return[2,r.sent()]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},n}(),Js=function(n){function t(t,l,e,u,r){var i=n.call(this)||this;return i.tenantId=t,i.documentId=l,i.documentType=e,i.documentSubType=u,i.loadedSession=r,i}return Us(t,n),t}(se),$s=function(){function n(){}return n.prototype.execute=function(n){var t={tenants:{},users:{}};return this.append(n,t),t},n.prototype.append=function(n,t){if(n)for(var l=t.tenants,e=t.users,u=0,r=n.tenants;u<r.length;u++){var i=r[u];l[i.tenantId]={tenantId:i.tenantId,name:i.name,shortName:i.shortName};for(var o=0,s=i.users;o<s.length;o++){var a=s[o];e[a.userId]={userId:a.userId,username:a.username,email:a.email,tenantId:i.tenantId,tenantName:i.name,tenantShortName:i.shortName}}}},n}(),Hs=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-block}.support-session-launcher[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:.25rem}.support-session-launcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-height:2.7rem}.support-session-launcher[_ngcontent-%COMP%]   .session-exists[_ngcontent-%COMP%]{padding-top:.1rem;padding-bottom:.1rem}.support-session-launcher[_ngcontent-%COMP%]   .support-open[_ngcontent-%COMP%]{background-color:#f2d13e}.support-session-launcher[_ngcontent-%COMP%]   .support-closed[_ngcontent-%COMP%]{background-color:#8fbf4d}.support-session-launcher[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:-.1rem;font-weight:700}.support-session-launcher[_ngcontent-%COMP%]   .last-modified-date[_ngcontent-%COMP%]{font-size:.75rem}"]],data:{}});function qs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-medkit"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Support\n    "]))],null,null)}function Bs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"div",[["class","status"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-medkit"]],null,null,null,null,null)),(n()(),e.Mb(4,null,["Session ",""])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,2,"div",[["class","last-modified-date"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["Updated by "," ",""])),e.Ib(8,1),(n()(),e.Mb(-1,null,["\n    "]))],null,function(n,t){var l=t.component;n(t,4,0,l.supportSession.session.isOpen?"Open":"Closed"),n(t,7,0,l.map.users[l.supportSession.session.modifiedUserId].username,e.Nb(t,7,1,n(t,8,0,e.Eb(t.parent,0),l.supportSession.session.modifiedDate)))})}function zs(n){return e.Ob(0,[e.Gb(0,Ds,[qn]),(n()(),e.ub(1,0,null,null,12,"div",[["class","support-session-launcher"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,9,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.open()&&e),e},null,null)),e.tb(4,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(5,{"session-exists":0,"support-open":1,"support-closed":2}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,qs)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Bs)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,"btn btn-secondary",n(t,5,0,null==l.supportSession?null:l.supportSession.session,(null==l.supportSession?null:l.supportSession.session)&&l.supportSession.session.isOpen,(null==l.supportSession?null:l.supportSession.session)&&!l.supportSession.session.isOpen)),n(t,8,0,!(null!=l.supportSession&&l.supportSession.session)),n(t,11,0,null==l.supportSession?null:l.supportSession.session)},null)}var Ks=function(){function n(){this.supportSessionChanged=new e.n}return n.prototype.emit=function(n){this.supportSessionChanged.emit(n)},n}(),Ws=e.sb({encapsulation:0,styles:[[".support-session-hover-launcher[_ngcontent-%COMP%]   .support-hover-target[_ngcontent-%COMP%]{position:relative}.support-session-hover-launcher[_ngcontent-%COMP%]   .support-hover-target[_ngcontent-%COMP%]   .fa.support-open[_ngcontent-%COMP%]{background-color:#f2d13e}.support-session-hover-launcher[_ngcontent-%COMP%]   .support-hover-target[_ngcontent-%COMP%]   .fa.support-closed[_ngcontent-%COMP%]{background-color:#8fbf4d}.support-session-hover-launcher[_ngcontent-%COMP%]   .support-hover-target[_ngcontent-%COMP%]   .support-session-launcher-component[_ngcontent-%COMP%]{display:none;position:absolute}.support-session-hover-launcher[_ngcontent-%COMP%]   .support-hover-target[_ngcontent-%COMP%]:hover   .support-session-launcher-component[_ngcontent-%COMP%]{display:inline-block;right:0;top:-.6rem}"]],data:{}});function Gs(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"i",[["aria-hidden","true"],["class","fa fa-medkit btn btn-icon btn-xsm"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"support-open":0,"support-closed":1})],function(n,t){var l=t.component;n(t,1,0,"fa fa-medkit btn btn-icon btn-xsm",n(t,2,0,l.supportSession.session&&l.supportSession.session.isOpen,l.supportSession.session&&!l.supportSession.session.isOpen))},null)}function Ys(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"span",[["class","support-session-hover-launcher"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,7,"span",[["class","support-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Gs)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"cs-support-session-launcher",[["class","support-session-launcher-component"]],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==n.component.emit(l)&&e),e},zs,Hs)),e.tb(8,114688,null,0,Ns,[Qs,$s,On],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,5,0,l.supportSession.session),n(t,8,0,l.tenantId,l.documentId,l.documentType,l.documentSubType,l.supportSession)},null)}var Zs=function(){},Xs=e.sb({encapsulation:0,styles:[[".view-credits[_ngcontent-%COMP%]{color:gray;font-size:.85em;overflow:visible}.view-credits[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.25em;margin-left:.25em;opacity:.75}.view-credits[_ngcontent-%COMP%]   .view-compute-credits[_ngcontent-%COMP%], .view-credits[_ngcontent-%COMP%]   .view-storage-credits[_ngcontent-%COMP%]{margin-right:.25em}"]],data:{}});function na(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","view-compute-credits"],["title","Compute"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-cog"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["","\n  "])),e.Ib(4,2)],null,function(n,t){var l=t.component;n(t,3,0,e.Nb(t,3,0,n(t,4,0,e.Eb(t.parent,0),l.computeCredits,3)))})}function ta(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","view-storage-credits"],["title","Storage"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["","\n  "])),e.Ib(4,2)],null,function(n,t){var l=t.component;n(t,3,0,e.Nb(t,3,0,n(t,4,0,e.Eb(t.parent,0),l.storageCredits,3)))})}function la(n){return e.Ob(0,[e.Gb(0,Rn,[]),(n()(),e.ub(1,0,null,null,7,"span",[["class","view-credits"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,na)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,ta)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,l.computeCredits),n(t,7,0,l.storageCredits)},null)}var ea=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ua=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},ra=function(){function n(n,t,l,u,r,i){this.configStub=n,this.localStorage=t,this.saveAsDialog=l,this.configLoaderDialog=u,this.identity=r,this.getFriendlyErrorAndLog=i,this.showName=!0,this.configChanged=new e.n}return n.prototype.ngOnInit=function(){var n=this,t=this.identity.get();this.tenantId=t.tenantId,this.userId=t.userId,this.updateSource&&(this.externalConfigUpdatedSubscription=this.updateSource.configUpdated.subscribe(function(t){return n.onExternalConfigUpdated(t)})),this.persistLocally&&this.loadPersistedConfig(),this.configChanged.subscribe(function(t){return n.onConfigEmitted(t)})},n.prototype.ngOnDestroy=function(){this.externalConfigUpdatedSubscription&&this.externalConfigUpdatedSubscription.unsubscribe()},n.prototype.onExternalConfigUpdated=function(n){this.currentConfig=n,this.persistLocally&&this.localStorage.setItem(this.getLocalStorageKey(),ia.toMutable(this.currentConfig))},n.prototype.onConfigEmitted=function(n){this.persistLocally&&this.localStorage.setItem(this.getLocalStorageKey(),ia.toMutable(n))},n.prototype.getLocalStorageKey=function(){var n="current_"+this.configType;return this.subTreePath&&(n=n+"_"+this.subTreePath),n},n.prototype.loadIfRequired=function(){this.userConfigs||this.isLoading||this.loadUserConfigs()},n.prototype.loadPersistedConfig=function(){return ea(this,void 0,void 0,function(){var n,t;return ua(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),(n=ia.fromMutable(this.localStorage.getItem(this.getLocalStorageKey())))?[4,this.upgradeConfigIfRequired(n)]:[3,2];case 1:n=l.sent(),l.label=2;case 2:return this.currentConfig=n,this.configChanged.emit(this.currentConfig),[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},n.prototype.upgradeConfigIfRequired=function(n){return ea(this,void 0,void 0,function(){var t,l=this;return ua(this,function(e){switch(e.label){case 0:return this.simVersion&&n.simVersion!==this.simVersion?[4,this.configStub.upgradeConfig(this.tenantId,this.simVersion,{configType:this.configType,config:n.getConfigCopy(),simVersion:n.simVersion},this.subTreePath)]:[3,2];case 1:t=e.sent(),n=ia.copy(n,function(n){n.config=t.config,n.simVersion=l.simVersion}),e.label=2;case 2:return[2,n]}})})},n.prototype.loadUserConfig=function(n){return ea(this,void 0,void 0,function(){var t,l;return ua(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.isLoading=!0,[4,this.configStub.getConfig(this.tenantId,n.configId,this.subTreePath,this.simVersion)];case 1:return t=e.sent(),this.currentConfig=new ia(t.config.name,t.config.userId,t.config.documentId,t.config.data,!1,this.simVersion),this.configChanged.emit(this.currentConfig),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return this.isLoading=!1,[2]}})})},n.prototype.loadUserConfigs=function(){return ea(this,void 0,void 0,function(){var n,t,l=this;return ua(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.isLoading=!0,this.errorMessage=void 0,[4,this.configStub.getConfigNames(this.tenantId,this.configType,rn.matchedNameAndIdAndOwner,this.subTreePath,this.simVersion)];case 1:return n=e.sent(),this.userConfigs=n.names.filter(function(n){return n.userId===l.userId}).map(function(n){return{name:n.name,userId:n.userId,configId:n.configId}}),[3,3];case 2:return t=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return this.isLoading=!1,[2]}})})},Object.defineProperty(n.prototype,"isEdited",{get:function(){return!(!this.currentConfig||!this.currentConfig.isEdited)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSave",{get:function(){return!(!this.currentConfig||!this.currentConfig.configId||this.currentConfig.userId!==this.userId||this.isSaving)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSaveAs",{get:function(){return!(!this.currentConfig||!this.currentConfig.hasConfig||this.isSaving)},enumerable:!0,configurable:!0}),n.prototype.save=function(){return ea(this,void 0,void 0,function(){var n;return ua(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.canSave?(this.isSaving=!0,[4,this.configStub.putConfig(this.tenantId,this.currentConfig.configId,{name:this.currentConfig.name,configType:this.configType,config:this.currentConfig.getConfigCopy(),simVersion:this.simVersion},this.subTreePath)]):[2];case 1:return t.sent(),this.currentConfig=ia.copy(this.currentConfig,function(n){n.isEdited=!1}),this.configChanged.emit(this.currentConfig),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return this.isSaving=!1,[2]}})})},n.prototype.saveAs=function(){return ea(this,void 0,void 0,function(){var n,t;return ua(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.canSaveAs?(this.isSaving=!0,[4,this.saveAsDialog.showForContent(this.currentConfig.name,this.configType,this.simVersion,this.subTreePath,this.currentConfig.getConfigCopy())]):[2];case 1:return(n=l.sent())&&(this.currentConfig=new ia(n.config.name,n.userId,n.configId,n.config.data,!1,this.simVersion),this.configChanged.emit(this.currentConfig),this.loadUserConfigs()),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return this.isSaving=!1,[2]}})})},n.prototype.viewAll=function(){return ea(this,void 0,void 0,function(){var n,t;return ua(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.configLoaderDialog.loadConfig(this.configType,this.simVersion,this.subTreePath)];case 1:return(n=l.sent())&&(this.currentConfig=new ia(n.config.name,n.userId,n.configId,n.config.data,!1,this.simVersion),this.configChanged.emit(this.currentConfig)),this.loadUserConfigs(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n}(),ia=function(){function n(n,t,l,e,u,r){this._name=n,this._userId=t,this._configId=l,this._config=e,this._isEdited=u,this._simVersion=r,this._config=Ur(this._config)}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userId",{get:function(){return this._userId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configId",{get:function(){return this._configId},enumerable:!0,configurable:!0}),n.prototype.getConfigCopy=function(){return Ur(this._config)},Object.defineProperty(n.prototype,"hasConfig",{get:function(){return!!this._config},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEdited",{get:function(){return this._isEdited},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"simVersion",{get:function(){return this._simVersion},enumerable:!0,configurable:!0}),n.toMutable=function(n){if(n)return{name:n.name,userId:n.userId,configId:n.configId,config:n.getConfigCopy(),isEdited:n.isEdited,simVersion:n.simVersion}},n.fromMutable=function(t){if(t)return new n(t.name,t.userId,t.configId,t.config,t.isEdited,t.simVersion)},n.copy=function(t,l){if(t){var e=n.toMutable(t);return l(e),n.fromMutable(e)}},n}(),oa="cs_",sa=["currentUser","studyStagingArea","resultsStagingArea"],aa=function(){function n(){for(var n=0,t=sa;n<t.length;n++){var l=t[n],e=localStorage.getItem(l);e&&(localStorage.setItem(oa+l,e),localStorage.removeItem(l))}}return n.prototype.getItem=function(n){var t=localStorage.getItem(oa+n);if(t)try{return JSON.parse(t)}catch(n){return}},n.prototype.setItem=function(n,t){localStorage.setItem(oa+n,JSON.stringify(t))},n.prototype.clear=function(){for(var n=localStorage.length-1;n>=0;--n){var t=localStorage.key(n);t.startsWith(oa)&&localStorage.removeItem(t)}},n}();function ca(n){if(n)return n.slice()}var da=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ba=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},fa=function(){function n(n,t,l,e,u,r,i){this.loadingDialog=n,this.promptDialog=t,this.confirmationDialog=l,this.configStub=e,this.worksheetStub=u,this.cloneWorksheet=r,this.identity=i}return n.prototype.showForReference=function(n,t,l,e,u,r){var i=this;return this.showInner(n,t,l,e,function(n,o){return i.saveReferenceAsInner(n,t,l,e,o,u,r)})},n.prototype.showForContent=function(n,t,l,e,u,r,i){var o=this;return this.showInner(n,t,l,e,function(n,s){return o.saveContentAsInner(n,t,l,e,s,u,r,i)})},n.prototype.showInner=function(n,t,l,e,u){return da(this,void 0,void 0,function(){var r,i,o,s,a,c;return ba(this,function(d){switch(d.label){case 0:return r=this.identity.get(),[4,this.getConfigNamesInner(r,t,l,e)];case 1:return i=d.sent(),[4,this.promptDialog.show("Name","Save As...",n||"","Save","Cancel",void 0,i.list)];case 2:return(o=d.sent())?[4,u(r,o)]:[2,void 0];case 3:return(s=d.sent())?(a=i.result.names.filter(function(n){return n.name===o&&n.userId===r.userId})).length?[4,this.confirmationDialog.show("Would you like to delete "+a.length+" existing "+(c="config"+(1===a.length?"":"s"))+" with the same name?","Delete existing configs?","Permanently delete "+a.length+" "+c,"No")]:[3,6]:[2,void 0];case 4:return d.sent()?[4,this.deleteConfigInner(r,a.map(function(n){return n.configId}),e)]:[3,6];case 5:d.sent(),d.label=6;case 6:return[2,s]}})})},n.prototype.getConfigNamesInner=function(n,t,l,e){return da(this,void 0,void 0,function(){var u;return ba(this,function(r){switch(r.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.configStub.getConfigNames(n.tenantId,t,rn.nameAndIdAndOwner,e,l),"Loading existing names...")];case 1:return[2,{result:u=r.sent(),list:Un(u.names.map(function(n){return n.name}).concat(u.simVersionNames.map(function(n){return n.name})))}]}})})},n.prototype.saveReferenceAsInner=function(n,t,l,e,u,r,i){return da(this,void 0,void 0,function(){var o,s,a,c;return ba(this,function(d){switch(d.label){case 0:return s=void 0,t!==un.worksheet?[3,2]:[4,this.cloneWorksheet.execute(n,u,r,i)];case 1:return(o=d.sent())?[3,5]:[2,void 0];case 2:return[4,this.loadingDialog.showUntilFinished(this.configStub.getConfig(r,i,e,l,void 0),"Loading document...")];case 3:return a=d.sent(),c=ye.objectToList(a.config.properties),[4,this.saveContentAsInner(n,t,l,e,u,s=a.config.data,c,a.config.notes)];case 4:return[2,d.sent()];case 5:return[2,{configId:o,userId:n.userId,config:s}]}})})},n.prototype.saveContentAsInner=function(n,t,l,e,u,r,i,o){return da(this,void 0,void 0,function(){var s,a;return ba(this,function(c){switch(c.label){case 0:return t!==un.worksheet?[3,2]:[4,this.loadingDialog.showUntilFinished(this.worksheetStub.postWorksheet(n.tenantId,{name:u,outline:r,properties:ca(i),notes:o}),"Saving worksheet...")];case 1:return a=c.sent(),s=a.worksheet.worksheetId,[3,4];case 2:return[4,this.loadingDialog.showUntilFinished(this.configStub.postConfig(n.tenantId,{name:u,configType:t,config:r,properties:ca(i),notes:o,simVersion:l},e),"Saving config...")];case 3:s=c.sent(),c.label=4;case 4:return[2,{configId:s,userId:n.userId,config:new me(t,n.userId,s,u,r,i,o,l,!1,void 0)}]}})})},n.prototype.deleteConfigInner=function(n,t,l){return da(this,void 0,void 0,function(){var e,u,r;return ba(this,function(i){switch(i.label){case 0:e=0,u=0,r=t,i.label=1;case 1:return u<r.length?(e++,[4,this.loadingDialog.showUntilFinished(this.configStub.deleteConfig(n.tenantId,r[u],l),"Deleting config "+e+"...")]):[3,4];case 2:i.sent(),i.label=3;case 3:return u++,[3,1];case 4:return[2]}})})},n}(),pa=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),ha=function(){function n(n){this.dialogManager=n}return n.prototype.loadConfig=function(n,t,l,e,u,r){return void 0===u&&(u=!1),void 0===r&&(r=!1),i=this,void 0,s=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return[4,this.dialogManager.showSecondaryDialog(new ga(n,t,l,e,u,r))];case 1:return[2,i.sent()]}})},new((o=void 0)||(o=Promise))(function(n,t){function l(n){try{u(s.next(n))}catch(n){t(n)}}function e(n){try{u(s.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new o(function(n){n(t.value)}).then(l,e)}u((s=s.apply(i,[])).next())});var i,o,s},n}(),ga=function(n){function t(t,l,e,u,r,i){var o=n.call(this)||this;return o.configType=t,o.simVersion=l,o.subTreePath=e,o.initialFilter=u,o.returnReferenceOnly=r,o.allowExplicitNothing=i,o}return pa(t,n),t}(se),ya=e.sb({encapsulation:0,styles:[[".quick-config-manager[_ngcontent-%COMP%]   .button-menu-hovering-area[_ngcontent-%COMP%]{top:2.5rem;left:-.4rem;padding:1rem;width:400px;background-color:#fff}.quick-config-manager[_ngcontent-%COMP%]   .fa-pencil[_ngcontent-%COMP%]{position:absolute;left:1.5rem;top:.4rem;color:#f55}.quick-config-manager[_ngcontent-%COMP%]   .hover-area-tab[_ngcontent-%COMP%]{position:absolute;padding:.75rem;width:4rem;height:3rem;text-align:center;top:-3rem;left:-1px;background-color:#fff;border:1px solid #d3d3d3;border-bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}.quick-config-manager[_ngcontent-%COMP%]   .hover-area-tab[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]{padding-left:0;padding-top:1px}.quick-config-manager[_ngcontent-%COMP%]   .hover-area-tab[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   .fa-pencil[_ngcontent-%COMP%]{left:1.85rem;top:.8rem}.quick-config-manager[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.75rem}.quick-config-manager[_ngcontent-%COMP%]   .previously-saved-item[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem}.quick-config-manager[_ngcontent-%COMP%]   .no-user-configs-message[_ngcontent-%COMP%]{font-style:italic}"]],data:{}});function ma(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null))],null,null)}function va(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null))],null,null)}function wa(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,1,"h3",[["class","current-config-name"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){var l=t.component;n(t,5,0,(null==l.currentConfig?null:l.currentConfig.name)||"Unsaved")})}function Ma(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","quick-access-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Ca(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","previously-saved-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.loadUserConfig(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],null,function(n,t){n(t,3,0,t.context.$implicit.name)})}function Sa(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","no-user-configs-message last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["None"]))],null,null)}function Ia(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Ca)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Sa)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,3,0,l.userConfigs),n(t,6,0,!l.userConfigs.length)},null)}function xa(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,64,"div",[["class","quick-config-manager button-menu-hover-target"]],null,[[null,"mouseenter"]],function(n,t,l){var e=!0;return"mouseenter"===t&&(e=!1!==n.component.loadIfRequired()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,6,"button",[["class","btn btn-smart btn-secondary btn-icon open-button"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,ma)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(10,0,null,null,53,"div",[["class","content button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(12,0,null,null,9,"div",[["class","hover-area-tab"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(14,0,null,null,6,"div",[["class","icon-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,va)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(23,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(24,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(26,0,null,null,36,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,wa)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(31,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(33,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(35,0,null,null,1,"button",[["class","btn btn-secondary save-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.save()&&e),e},null,null)),(n()(),e.Mb(36,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(38,0,null,null,1,"button",[["class","btn btn-secondary save-as-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveAs()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Save As"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(41,0,null,null,1,"button",[["class","btn btn-secondary view-all-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.viewAll()&&e),e},null,null)),(n()(),e.Mb(-1,null,["View All"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(46,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(48,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(50,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(52,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Quick Access:"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Ma)),e.tb(56,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,Ia)),e.tb(59,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,7,0,l.isEdited),n(t,19,0,l.isEdited),n(t,24,0,l.errorMessage),n(t,29,0,l.showName),n(t,56,0,l.isLoading&&!l.errorMessage),n(t,59,0,l.userConfigs)},function(n,t){var l=t.component;n(t,35,0,!l.canSave),n(t,36,0,l.isSaving?"Saving...":"Save"),n(t,38,0,!l.canSaveAs)})}var Oa=[Zt.w.required],ka=function(n){return n[n.string=0]="string",n[n.number=1]="number",n[n.dateTime=2]="dateTime",n}({}),Ta=function(n,t,l){this.id=n,this.name=t,this.requiresValue=l},Pa=[new Ta(X.equals,"=",!0),new Ta(X.notEquals,"!=",!0),new Ta(X.lessThan,"<",!0),new Ta(X.greaterThan,">",!0),new Ta(X.lessThanOrEquals,"<=",!0),new Ta(X.greaterThanOrEquals,">=",!0),new Ta(X.exists,"exists",!1),new Ta(X.notExists,"!exists",!1)],Ea=Pa.reduce(function(n,t){return n[t.id]=t,n},{}),_a=function(){return function(n,t,l){this.id=n,this.name=t,this.conditionNameValidators=l,this.conditionNameValidators||(this.conditionNameValidators=Oa)}}(),Va=function(){function n(n,t,l){this.isFiniteSet=n,this.items=t,this.autocompleteOptions=l}return n.prototype.get=function(n){return this.items.find(function(t){return t.name===n})},n}(),ja=function(){return function(n,t,l,e,u,r,i){void 0===r&&(r=[]),void 0===i&&(i=!1),this.name=n,this.displayName=t,this.units=l,this.type=e,this.operators=u,this.values=r,this.isFiniteValues=i,u&&0!==u.length||(this.operators=wn()),r||(this.values=[])}}(),Ra=function(n,t){this.value=n,this.displayValue=t,this.displayValue||(this.displayValue=n)},Fa=function(){function n(n,t,l){void 0===n&&(n=R.and),void 0===t&&(t=[]),void 0===l&&(l=[]),this.operator=n,this.conditions=t,this.groups=l,this.conditions||(this.conditions=[]),this.groups||(this.groups=[])}return n.prototype.populate=function(){for(var n=!0,t=0,l=this.conditions;t<l.length;t++)n=n&&l[t].populate();for(var e=0,u=this.groups;e<u.length;e++)n=n&&u[e].populate();return n},n}(),Aa=function(){function n(n,t,l,e){void 0===e&&(e=""),this.source=n,this.name=t,this.operator=l,this.value=e}return Object.defineProperty(n.prototype,"dataSource",{set:function(n){this._dataSource=n},enumerable:!0,configurable:!0}),n.prototype.populate=function(){if(!this._dataSource)throw new sl("Filter condition data source not found.");return this._dataSource.populate()},n}(),La=function(){function n(n,t){this.timer=n,this.getFriendlyErrorAndLog=t,this.queryChanged=new e.n}return n.prototype.ngOnInit=function(){var n=this;this.filterChangedSubscription=this.dataSource.filterChanged.subscribe(function(t){return n.loadFilter(t.query)}),this.loadFilter(this.dataSource.currentQuery)},n.prototype.ngOnDestroy=function(){this.filterChangedSubscription&&this.filterChangedSubscription.unsubscribe()},n.prototype.loadFilter=function(n){try{this.groupViewModel=n?this.getGroupViewModel(n):new Fa}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.getConditionSources=function(){return this.dataSource.getConditionSources()},n.prototype.getConditionSourceItems=function(n){return this.dataSource.getConditionSourceItems(n)},Object.defineProperty(n.prototype,"hasConditionSourceItemsChanged",{get:function(){return this.dataSource.hasConditionSourceItemsChanged},enumerable:!0,configurable:!0}),n.prototype.getConditionSourceViewModel=function(n){return this.dataSource.getConditionSourceViewModel(n)},n.prototype.getConditionSourceItemViewModel=function(n,t){return this.dataSource.getConditionSourceItemViewModel(n,t)},n.prototype.notifyChanged=function(){this.notifyChangedInBackground()},n.prototype.notifyChangedInBackground=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.timer.yield()];case 1:return l.sent(),this.groupViewModel.populate()?(n=this.getResolvedGroup(this.groupViewModel),this.queryChanged.emit(new Na(!0,n))):this.queryChanged.emit(new Na(!1,null)),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.getGroupViewModel=function(n){var t=this;if(n)return new Fa(n.operator,(n.conditions||[]).map(function(n){return t.getConditionViewModel(n)}).filter(function(n){return!!n}),(n.groups||[]).map(function(n){return t.getGroupViewModel(n)}).filter(function(n){return!!n}))},n.prototype.getConditionViewModel=function(n){if(n)return new Aa(this.dataSource.getConditionSourceViewModel(n.source),this.dataSource.getConditionSourceItemViewModel(n.source,n.name),Ea[n.operator],n.value)},n.prototype.getResolvedGroup=function(n){var t=this;if(n)return new function(n,t,l){this.operator=n,this.conditions=t,this.groups=l,this.conditions||(this.conditions=[]),this.groups||(this.groups=[])}(n.operator,(n.conditions||[]).map(function(n){return t.getResolvedCondition(n)}).filter(function(n){return!!n}),(n.groups||[]).map(function(n){return t.getResolvedGroup(n)}).filter(function(n){return!!n}))},n.prototype.getResolvedCondition=function(n){if(n)return new function(n,t,l,e){this.source=n,this.name=t,this.operator=l,this.value=e}(n.source.id,n.name.name,n.operator.id,n.value)},Object.defineProperty(n.prototype,"manager",{get:function(){return this},enumerable:!0,configurable:!0}),n}(),Da=function(n,t){this.isValid=n,this.root=t},Na=function(n,t){this.isValid=n,this.root=t},Ua=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Qa=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Ja=function(){function n(n){this.parent=n}return n.prototype.ngOnInit=function(){this.parent&&this.parent.form&&(this.ctrl=this.parent.form.get(this.formControlName))},n.prototype.ngOnChanges=function(){this.ctrl&&(this.shouldDisable?this.ctrl.disable():this.ctrl.enable())},n}(),$a=function(){function n(n,t,l,u,r,i,o){this.formBuilder=n,this.tenancyStub=t,this.json=l,this.listFilterQueryBuilderDataSourceFactory=u,this.upgradeListFilterForComplexQueries=r,this.identity=i,this.getFriendlyErrorAndLog=o,this.canPersistFilter=!1,this.filterChanged=new e.n,this.configUpdated=new e.n,this.name=new Zt.f("",tl.configNameValidators)}return n.prototype.ngOnInit=function(){this.load()},n.prototype.ngOnDestroy=function(){this.listFilterQueryBuilderDataSource&&this.listFilterQueryBuilderDataSource.dispose()},Object.defineProperty(n.prototype,"canBeSoftDeleted",{get:function(){return!this.isStudyJobs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canBeInWorksheet",{get:function(){return this.showWorksheets&&!this.isStudyJobs&&(!this.isConfig||this.filterConfigType!==un.worksheetFilter)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showWorksheets",{get:function(){return this.identity.showWorksheets},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isConfig",{get:function(){return!this.isStudy&&!this.isStudyJobs},enumerable:!0,configurable:!0}),n.prototype.load=function(){return Ua(this,void 0,void 0,function(){var n,t;return Qa(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.isStudy=this.filterConfigType===un.studyFilter,this.isStudyJobs=this.filterConfigType===un.jobFilter,this.clearedFilter=this.json.clone(this.initialFilter),this.name.setValue(this.initialFilter.filterName,{}),this.form=this.formBuilder.group({name:this.name}),this.includeIfDeleteRequested=!!this.initialFilter.includeIfDeleteRequested,this.includeIfHasParentWorksheet=!!this.initialFilter.includeIfHasParentWorksheet,this.propertySortOptions=[E.creationDate,E.modifiedDate,E.name],this.discardCurrentFilterQuery(),n=this,[4,this.tenancyStub.getTenantUsers(this.tenantId)];case 1:return n.tenantUsers=l.sent(),this.listFilterQueryBuilderDataSource=this.listFilterQueryBuilderDataSourceFactory.create(this.filterConfigType,this.canPersistFilter,this.tenantUsers),[4,this.listFilterQueryBuilderDataSource.initialize()];case 2:return l.sent(),this.isLoaded=!0,[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},Object.defineProperty(n.prototype,"configSource",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.onConfigUpdatedExternally=function(n){return Ua(this,void 0,void 0,function(){var t,l;return Qa(this,function(e){switch(e.label){case 0:return e.trys.push([0,6,,7]),n?(this.managedConfig=n,(t=n.getConfigCopy())?(t.data&&(t=t.data),[4,this.upgradeListFilterForComplexQueries.execute(t)]):[3,2]):[3,4];case 1:return t=e.sent(),this.name.setValue(t.filterName,{}),this.includeIfDeleteRequested=!!t.includeIfDeleteRequested,this.includeIfHasParentWorksheet=!!t.includeIfHasParentWorksheet,this.emitFilter(t,!1),[3,3];case 2:this.emitFilter(this.initialFilter,!1),e.label=3;case 3:return[3,5];case 4:this.managedConfig=new ia(void 0,void 0,void 0,void 0,!1),this.emitFilter(this.initialFilter,!1),e.label=5;case 5:return[3,7];case 6:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,7];case 7:return[2]}})})},n.prototype.onConfigClearedManually=function(){this.managedConfig&&(this.managedConfig=new ia(void 0,void 0,void 0,void 0,!1),this.configUpdated.emit(this.managedConfig))},n.prototype.onConfigUpdatedManually=function(n){var t=n;this.managedConfig?this.json.equals(t,this.managedConfig.getConfigCopy())||(this.managedConfig=ia.copy(this.managedConfig,function(n){n.isEdited=!0,n.config=t}),this.configUpdated.emit(this.managedConfig)):(this.managedConfig=new ia(void 0,void 0,void 0,t,!1),this.configUpdated.emit(this.managedConfig))},n.prototype.refresh=function(){try{this.emitFilter(this.initialFilter,!1)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.loadGroupResultsInBackground=function(){return Ua(this,void 0,void 0,function(){var n,t;return Qa(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.groupResultsTask||!this.loadGroupResults?[2]:(this.groupResultsTask=this.loadGroupResults(),n=this,[4,this.groupResultsTask]);case 1:return n.groupResults=l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.toggleShowFilters=function(){try{this.currentFilter=void 0,this.showSorting=!1,this.showFilters=!this.showFilters,this.showFilters?this.loadGroupResultsInBackground():this.discardCurrentFilterQuery()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.toggleShowSorting=function(){try{this.currentFilter=void 0,this.showFilters=!1,this.showSorting=!this.showSorting,this.showSorting&&this.loadGroupResultsInBackground()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.closeAllFilters=function(){this.currentFilter=void 0,this.showSorting=!1,this.showFilters=!1},n.prototype.clearFilter=function(){try{var n=this.json.clone(this.clearedFilter);this.name.setValue(n.filterName,{}),this.includeIfDeleteRequested=!1,this.includeIfHasParentWorksheet=!1,this.emitFilter(n,!1),this.onConfigClearedManually()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.filterByQuery=function(n){try{var t=this.getClone();t.query=n,this.emitFilter(t),this.isCurrentFilterQueryApplied=!0}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.discardCurrentFilterQuery=function(){try{this.currentFilterQuery=new Da(!0,this.initialFilter.query),this.isCurrentFilterQueryApplied=!0,this.closeAllFilters()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.toggleIncludeIfDeleteRequested=function(){this.includeIfDeleteRequested=!this.includeIfDeleteRequested,this.handleFilterControlsChanged()},n.prototype.toggleIncludeIfHasParentWorksheet=function(){this.includeIfHasParentWorksheet=!this.includeIfHasParentWorksheet,this.handleFilterControlsChanged()},n.prototype.filterName=function(){this.handleFilterControlsChanged()},n.prototype.handleFilterControlsChanged=function(){try{var n=this.getClone();n.filterName=this.name.value||void 0,this.includeIfDeleteRequested?n.includeIfDeleteRequested=!0:delete n.includeIfDeleteRequested,this.includeIfHasParentWorksheet?n.includeIfHasParentWorksheet=!0:delete n.includeIfHasParentWorksheet,this.emitFilter(n)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.togglePropertyOrdering=function(n){try{var t=this.getClone();t.orderByCustomProperty=void 0,t.orderByProperty===n?t.orderByDescending=!t.orderByDescending:(t.orderByProperty=n,t.orderByDescending=!1),this.emitFilter(t)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.toggleCustomPropertyOrdering=function(n){try{var t=this.getClone();t.orderByProperty=void 0,t.orderByCustomProperty===n?t.orderByDescending=!t.orderByDescending:(t.orderByCustomProperty=n,t.orderByDescending=!1),this.emitFilter(t)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.getClone=function(){return this.json.clone(this.initialFilter)},n.prototype.emitFilter=function(n,t){void 0===t&&(t=!0),delete n.itemsPerPage,delete n.continuationToken,this.currentFilterQuery=new Da(!0,n.query),this.isCurrentFilterQueryApplied=!0,this.filterChanged.emit(n),t&&this.onConfigUpdatedManually(n)},n.prototype.cssSanitize=function(n){return or(n)},Object.defineProperty(n.prototype,"currentQuery",{get:function(){return this.initialFilter.query},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterQueryBuilderDataSource",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.getConditionSourceViewModel=function(n){return this.listFilterQueryBuilderDataSource.getConditionSourceViewModel(n)},n.prototype.getConditionSourceItemViewModel=function(n,t){return this.listFilterQueryBuilderDataSource.getConditionSourceItemViewModel(n,t,this.groupResults)},n.prototype.getConditionSources=function(){return this.listFilterQueryBuilderDataSource.getConditionSources(this.filterConfigType)},n.prototype.getConditionSourceItems=function(n){return this.listFilterQueryBuilderDataSource.getConditionSourceItems(n,this.groupResults)},Object.defineProperty(n.prototype,"hasConditionSourceItemsChanged",{get:function(){return this.listFilterQueryBuilderDataSource.hasConditionSourceItemsChanged},enumerable:!0,configurable:!0}),n.prototype.onQueryChanged=function(n){this.currentFilterQuery=new Da(n.isValid,n.isValid?n.root:this.currentFilterQuery?this.currentFilterQuery.root:null),this.isCurrentFilterQueryApplied=n.isValid&&JSON.stringify(n.root||{})===JSON.stringify(this.initialFilter.query||{})},Object.defineProperty(n.prototype,"canShowFiltersAndSorting",{get:function(){return this.isLoaded&&!!this.groupResults},enumerable:!0,configurable:!0}),n}(),Ha=function(){function n(){this.conditionOperatorsMap=Ea}return Object.defineProperty(n.prototype,"operator",{get:function(){return this.condition?this.conditionOperatorsMap[this.condition.operator]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayValue",{get:function(){var n=this;if(this.condition){if("userId"===this.condition.name&&this.tenantUsers){var t=this.tenantUsers.users.find(function(t){return t.userId===n.condition.value});if(t)return t.username}return this.condition.value}},enumerable:!0,configurable:!0}),n}(),qa=e.sb({encapsulation:2,styles:[],data:{}});function Ba(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","query-operator"]],null,null,null,null,null)),(n()(),e.Mb(2,null,["",""])),(n()(),e.Mb(-1,null,["("]))],null,function(n,t){n(t,2,0,t.component.operator.name)})}function za(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,[")"]))],null,null)}function Ka(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xa0"])),(n()(),e.ub(2,0,null,null,1,"span",[["class","query-operator"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\xa0"])),(n()(),e.ub(5,0,null,null,1,"span",[["class","query-value"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""]))],null,function(n,t){var l=t.component;n(t,3,0,l.operator.name),n(t,6,0,l.displayValue)})}function Wa(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"span",[["class","query-condition"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Ba)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(4,null,["",".",""])),(n()(),e.lb(16777216,null,null,1,null,za)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,Ka)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,!l.operator.requiresValue),n(t,6,0,!l.operator.requiresValue),n(t,8,0,l.operator.requiresValue)},function(n,t){var l=t.component;n(t,4,0,l.condition.source,l.condition.name)})}function Ga(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,Wa)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,2,0,t.component.condition)},null)}var Ya=function(){function n(){}return Object.defineProperty(n.prototype,"operator",{get:function(){return this.group?this.group.operator.toUpperCase():""},enumerable:!0,configurable:!0}),n}(),Za=e.sb({encapsulation:2,styles:[],data:{}});function Xa(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","query-operator"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n      ","\n    "]))],null,function(n,t){n(t,1,0,t.component.operator)})}function nc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Xa)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(5,0,null,null,2,"cs-filter-query-renderer-condition",[],null,null,null,Ga,qa)),e.tb(6,49152,null,0,Ha,[],{condition:[0,"condition"],tenantUsers:[1,"tenantUsers"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,t.context.index>0),n(t,6,0,t.context.$implicit,l.tenantUsers)},null)}function tc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","query-operator"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n      ","\n    "]))],null,function(n,t){n(t,1,0,t.component.operator)})}function lc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,tc)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    (\n    "])),(n()(),e.ub(5,0,null,null,2,"cs-filter-query-renderer-group",[],null,null,null,uc,Za)),e.tb(6,49152,null,0,Ya,[],{group:[0,"group"],tenantUsers:[1,"tenantUsers"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    )\n  "]))],function(n,t){var l=t.component;n(t,3,0,t.context.index>0||l.group.conditions.length),n(t,6,0,t.context.$implicit,l.tenantUsers)},null)}function ec(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,nc)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,lc)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.group.conditions),n(t,6,0,l.group.groups)},null)}function uc(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,ec)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.group)},null)}var rc=function(){this.isApplied=!0},ic=e.sb({encapsulation:2,styles:[['.filter-query-renderer{margin:.5rem 0;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:.9rem;background:#fff;border:1px solid #dcdbdb;border-radius:3px;padding:.25rem .5rem;text-align:center}.filter-query-renderer.query-invalid{background:#ffc8c8}.filter-query-renderer.query-not-applied{opacity:.5}.filter-query-renderer .query-operator{color:#6495ed}.filter-query-renderer .query-value{color:#3c763d}.filter-query-renderer .query-condition{white-space:nowrap}']],data:{}});function oc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","filter-query-renderer"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"query-invalid":0,"query-not-applied":1}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,2,"cs-filter-query-renderer-group",[],null,null,null,uc,Za)),e.tb(5,49152,null,0,Ya,[],{group:[0,"group"],tenantUsers:[1,"tenantUsers"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"filter-query-renderer",n(t,2,0,!l.data.isValid,!l.isApplied)),n(t,5,0,l.data.root,l.tenantUsers)},null)}function sc(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,oc)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.data&&l.data.root&&(l.data.root.conditions.length||l.data.root.groups.length))},null)}var ac=l("yIpB"),cc=[Zt.w.required],dc=[Zt.w.required,tl.numeric],bc=[Zt.w.required,tl.dateTime],fc=function(){function n(n,t,l,e){this.formBuilder=n,this.timer=t,this.canopyAutocomplete=l,this.getFriendlyErrorAndLog=e,this.conditionSources=[],this.conditionOperators=Pa,this.conditionOperatorsMap=Ea,this.conditionSourcesMap={},this.conditionNameControl=new Zt.f("",Oa),this.conditionValueControl=new Zt.f("",cc)}return n.prototype.ngOnInit=function(){this.load()},n.prototype.ngOnDestroy=function(){this.unsubscribeFromTransientEvents()},n.prototype.ngOnChanges=function(n){this.condition.dataSource=this,this.updateFormValuesFromViewModel()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:if(l.trys.push([0,2,,3]),this.conditionId=Object(ac.a)(10),this.nameElementId=this.conditionId+"-name-textbox",this.valueElementId=this.conditionId+"-value-textbox",this.form=this.formBuilder.group({conditionValueControl:this.conditionValueControl,conditionNameControl:this.conditionNameControl}),this.condition.dataSource=this,this.conditionSources=this.manager.getConditionSources()||[],!this.conditionSources.length)throw new cl("No condition sources found.");if(!this.conditionOperators.length)throw new cl("No condition operators found.");return this.conditionSourcesMap=this.conditionSources.reduce(function(n,t){return n[t.id]=t,n},{}),this.condition.operator||(this.condition.operator=this.conditionOperators[0]),[4,this.timer.yield()];case 1:return l.sent(),this.nameAutocomplete=this.canopyAutocomplete.create(this.nameElementId,this.conditionNameControl,function(){return t.manager.hasConditionSourceItemsChanged&&t.updateConditionSourceItemSet(),t.getNameAutocompleteListFromSourceItemSet()}),this.valueAutocomplete=this.canopyAutocomplete.create(this.valueElementId,this.conditionValueControl,function(){var n=[];return t.condition.name&&n.push.apply(n,t.condition.name.values.map(function(n){return n.value})),n}),this.onConditionSourceChanged(this.condition.source?this.condition.source.id:this.conditionSources[0].id),this.ngOnChanges(null),this.subscribeToTransientEvents(),[3,3];case 2:return n=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.onConditionSourceChanged=function(n){try{if(this.condition.source=this.conditionSourcesMap[n],!this.condition.source&&this.conditionSources.length&&(this.condition.source=this.conditionSources[0]),this.updateConditionSourceItemSet(),!this.conditionSourceItemSet.isFiniteSet){var t=this.conditionSourceItemSet.autocompleteOptions;t&&(this.nameAutocomplete.sort=t.sort,this.nameAutocomplete.filter=t.filter),this.nameAutocomplete.list=this.getNameAutocompleteListFromSourceItemSet()}}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.getNameAutocompleteListFromSourceItemSet=function(){if(!this.conditionSourceItemSet)return[];var n=this.conditionSourceItemSet.autocompleteOptions;return n?n.list:this.conditionSourceItemSet.items.map(function(n){return n.name})},n.prototype.updateConditionSourceItemSet=function(){try{if(this.conditionSourceItemSet=this.manager.getConditionSourceItems(this.condition.source.id),this.condition.name){var n=this.conditionSourceItemSet.get(this.condition.name.name);this.condition.name=n||(this.conditionSourceItemSet.isFiniteSet&&this.conditionSourceItemSet.items.length?this.conditionSourceItemSet.items[0]:this.manager.getConditionSourceItemViewModel(this.condition.source.id,this.condition.name.name))}else this.condition.name=new ja("","",null,ka.string);this.conditionNameControl.setValidators(this.condition.source.conditionNameValidators),this.conditionSourceItemSet.isFiniteSet||this.conditionNameControl.updateValueAndValidity(),this.updateConditionOperators(),this.updateConditionValue(),this.notifyChanged()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.updateConditionOperators=function(){var n=this;this.conditionOperators=this.getNameConditionOperators(),this.conditionOperators.length&&!this.conditionOperators.some(function(t){return t.id===n.condition.operator.id})&&(this.condition.operator=this.conditionOperators[0])},n.prototype.updateConditionValue=function(){var n=this;if(this.condition.name){switch(this.condition.name.type){case ka.number:this.conditionValueControl.setValidators(dc);break;case ka.dateTime:this.conditionValueControl.setValidators(bc);break;default:this.conditionValueControl.setValidators(cc)}this.condition.name.isFiniteValues||this.conditionValueControl.updateValueAndValidity(),this.condition.name.isFiniteValues&&this.condition.name.values.length&&!this.condition.name.values.some(function(t){return t.value===n.condition.value})&&(this.condition.value=this.condition.name.values[0].value)}},n.prototype.getNameConditionOperators=function(){var n=this;return this.condition.name&&this.condition.name.operators&&this.condition.name.operators.length?this.condition.name.operators.map(function(t){return n.conditionOperatorsMap[t]}):Pa},n.prototype.onConditionNameChanged=function(n){try{this.condition.name=this.getConditionNameViewModel(n),this.updateConditionOperators(),this.updateConditionValue(),this.notifyChanged()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.onConditionOperatorChanged=function(n){try{this.condition.operator=this.conditionOperatorsMap[n],this.notifyChanged()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.onConditionValueChanged=function(n){try{this.condition.value=n,this.notifyChanged()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.subscribeToTransientEvents=function(){var n=this;this.formChangedSubscription=this.conditionNameControl.valueChanges.subscribe(function(){n.onConditionNameChanged(n.conditionNameControl.value)}),this.formChangedSubscription.add(this.conditionValueControl.valueChanges.subscribe(function(){n.onConditionValueChanged(n.conditionValueControl.value)}))},n.prototype.unsubscribeFromTransientEvents=function(){this.formChangedSubscription&&(this.formChangedSubscription.unsubscribe(),this.formChangedSubscription=void 0)},n.prototype.notifyChanged=function(){this.updateFormValuesFromViewModel(),this.manager.notifyChanged()},n.prototype.populate=function(){return!this.condition.operator.requiresValue&&this.condition.value&&(this.condition.value="",this.updateFormValuesFromViewModel()),!(!(this.conditionSourceItemSet&&this.conditionSourceItemSet.isFiniteSet||this.conditionNameControl.valid)||this.condition.operator.requiresValue&&!this.conditionValueControl.valid)},n.prototype.getConditionNameViewModel=function(n){var t;return this.conditionSourceItemSet&&(t=this.conditionSourceItemSet.get(n)),t||(t=new ja(n,n,null,ka.string)),t},n.prototype.updateFormValuesFromViewModel=function(){var n=this.condition.name?this.condition.name.name:"";this.conditionNameControl.value!==n&&this.conditionNameControl.setValue(n),this.conditionValueControl.value!==this.condition.value&&this.conditionValueControl.setValue(this.condition.value)},n}(),pc=l("9Pu7"),hc=function(){function n(){}return n.prototype.create=function(n,t,l,e,u){var r=this;void 0===u&&(u=!1);var i,o,s=document.getElementById(n);if(!s){var a=document.getElementsByClassName(n);if(!a||0===a.length)return;s=a[0]}l.list?o=l:(Array.isArray(l)||(l=(i=l)()),o={list:l,minChars:0,maxItems:100,autoFirst:!0},e&&(o.sort=e));var c,d=new pc(s,o);return u&&s.addEventListener("awesomplete-open",function(n){c=t.value}),s.addEventListener("awesomplete-selectcomplete",function(n){var l=u?c:t.value;if(Array.isArray(l)){var e=n.text.value;-1===l.indexOf(e)&&(l.push(e),t.setValue(l)),s.value="",i&&(d.list=r.loadAndFilterValues(i,t)),d.open(),d.evaluate(),u&&s&&s instanceof HTMLElement&&(s.blur(),s.focus())}else t.setValue(n.text.value),d._list.some(function(t){return("object"==typeof t?t.value:t).startsWith(n.text.value+".")})&&(d.open(),d.evaluate());t.markAsDirty()}),s.addEventListener("focus",function(n){i&&(d.list=r.loadAndFilterValues(i,t)),d.open(),d.evaluate()}),d},n.prototype.loadAndFilterValues=function(n,t){var l=n(),e=t.value;if(Array.isArray(e))for(var u=0,r=e;u<r.length;u++){var i=l.indexOf(r[u]);-1!==i&&l.splice(i,1)}return l},n}(),gc=e.sb({encapsulation:2,styles:[['.filter-query-builder-condition .condition-operator-select{font-family:Menlo,Monaco,Consolas,"Courier New",monospace;width:100px}.filter-query-builder-condition .condition-source-select{width:160px}.filter-query-builder-condition .input-area,.filter-query-builder-condition .input-group-area{position:relative;display:inline-block}.filter-query-builder-condition .input-area.hidden-input{display:none}.filter-query-builder-condition .input-area .errors-area{position:absolute;bottom:0;right:.2rem;background-color:transparent;font-size:.7rem;pointer-events:none;z-index:10}.filter-query-builder-condition .input-area .errors-area p{margin:0}.filter-query-builder-condition .relative-area{position:relative;display:inline-block}']],data:{}});function yc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"option",[],[[1,"selected",0]],null,null,null,null)),e.tb(1,147456,null,0,Zt.s,[e.l,e.H,[8,null]],{value:[0,"value"]},null),e.tb(2,147456,null,0,Zt.B,[e.l,e.H,[8,null]],{value:[0,"value"]},null),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.id),n(t,2,0,t.context.$implicit.id)},function(n,t){n(t,0,0,t.context.$implicit.id===t.component.condition.source.id||null),n(t,3,0,t.context.$implicit.name)})}function mc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Value is required.\n        "]))],null,null)}function vc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Path is invalid.\n        "]))],null,null)}function wc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Name is invalid.\n        "]))],null,null)}function Mc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"option",[],[[1,"selected",0]],null,null,null,null)),e.tb(1,147456,null,0,Zt.s,[e.l,e.H,[8,null]],{value:[0,"value"]},null),e.tb(2,147456,null,0,Zt.B,[e.l,e.H,[8,null]],{value:[0,"value"]},null),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.name),n(t,2,0,t.context.$implicit.name)},function(n,t){n(t,0,0,t.context.$implicit.name===t.component.condition.name.name||null),n(t,3,0,t.context.$implicit.displayName)})}function Cc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"select",[["class","form-control condition-name-select"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.onConditionNameChanged(l.target.value)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Mc)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.conditionSourceItemSet.items)},null)}function Sc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"option",[],[[1,"selected",0]],null,null,null,null)),e.tb(1,147456,null,0,Zt.s,[e.l,e.H,[8,null]],{value:[0,"value"]},null),e.tb(2,147456,null,0,Zt.B,[e.l,e.H,[8,null]],{value:[0,"value"]},null),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.id),n(t,2,0,t.context.$implicit.id)},function(n,t){n(t,0,0,t.context.$implicit.id===t.component.condition.operator.id||null),n(t,3,0,t.context.$implicit.name)})}function Ic(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"option",[],[[1,"selected",0]],null,null,null,null)),e.tb(1,147456,null,0,Zt.s,[e.l,e.H,[8,null]],{value:[0,"value"]},null),e.tb(2,147456,null,0,Zt.B,[e.l,e.H,[8,null]],{value:[0,"value"]},null),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.value),n(t,2,0,t.context.$implicit.value)},function(n,t){n(t,0,0,t.context.$implicit.value===t.component.condition.value||null),n(t,3,0,t.context.$implicit.displayValue)})}function xc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.condition.name.units)})}function Oc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"span",[["class","input-group-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,13,"span",[["class","input-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(4,0,null,null,4,"select",[["class","form-control condition-value-select"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.onConditionValueChanged(l.target.value)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Ic)),e.tb(7,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(10,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,xc)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,7,0,l.condition.name.values),n(t,13,0,l.condition.name.units)},null)}function kc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Value is required.\n            "]))],null,null)}function Tc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Value should be numeric.\n            "]))],null,null)}function Pc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              YYYY-MM-DD"])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["T"])),(n()(),e.Mb(-1,null,["HH:mm:ss"])),(n()(),e.ub(5,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Z"])),(n()(),e.Mb(-1,null,["\n            "]))],null,null)}function Ec(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.condition.name.units)})}function _c(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,89,"div",[["class","filter-query-builder-condition"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,83,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0;return"submit"===t&&(u=!1!==e.Eb(n,7).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,7).onReset()&&u),u},null,null)),e.tb(6,16384,null,0,Zt.y,[],null,null),e.tb(7,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},null),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(9,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(11,0,null,null,4,"select",[["class","form-control condition-source-select"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.onConditionSourceChanged(l.target.value)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,yc)),e.tb(14,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(17,0,null,null,22,"span",[["class","input-area"]],null,null,null,null,null)),e.tb(18,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(19,{"hidden-input":0}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(21,0,null,null,5,"input",[["class","form-control condition-name-textbox"],["formControlName","conditionNameControl"],["type","text"]],[[8,"placeholder",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,22)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,22).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,22)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,22)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(22,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(24,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(26,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(28,0,null,null,10,"div",[["class","errors-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,mc)),e.tb(31,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,vc)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,wc)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Cc)),e.tb(42,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(44,0,null,null,4,"select",[["class","form-control condition-operator-select"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.onConditionOperatorChanged(l.target.value)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Sc)),e.tb(47,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Oc)),e.tb(51,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(53,0,null,null,34,"span",[["class","input-area input-group-area"]],null,null,null,null,null)),e.tb(54,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(55,{"hidden-input":0}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(57,0,null,null,29,"span",[["class","input-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(59,0,null,null,20,"span",[["class","relative-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(61,0,null,null,5,"input",[["class","form-control condition-value-textbox"],["formControlName","conditionValueControl"],["placeholder","Value"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,62)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,62).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,62)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,62)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(62,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(64,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(66,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(68,0,null,null,10,"div",[["class","errors-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,kc)),e.tb(71,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Tc)),e.tb(74,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Pc)),e.tb(77,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(81,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Ec)),e.tb(84,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,7,0,l.form),n(t,14,0,l.conditionSources),n(t,18,0,"input-area",n(t,19,0,null==l.conditionSourceItemSet?null:l.conditionSourceItemSet.isFiniteSet)),n(t,24,0,"conditionNameControl"),n(t,31,0,l.conditionNameControl.hasError("required")),n(t,34,0,l.conditionNameControl.hasError("configPath")),n(t,37,0,l.conditionNameControl.hasError("customPropertyName")),n(t,42,0,null==l.conditionSourceItemSet?null:l.conditionSourceItemSet.isFiniteSet),n(t,47,0,l.conditionOperators),n(t,51,0,null==l.condition.name?null:l.condition.name.isFiniteValues),n(t,54,0,"input-area input-group-area",n(t,55,0,!l.condition.operator.requiresValue||(null==l.condition.name?null:l.condition.name.isFiniteValues))),n(t,64,0,"conditionValueControl"),n(t,71,0,l.conditionValueControl.hasError("required")),n(t,74,0,l.conditionValueControl.hasError("numeric")),n(t,77,0,l.conditionValueControl.hasError("dateTime")),n(t,84,0,null==l.condition.name?null:l.condition.name.units)},function(n,t){var l=t.component;n(t,5,0,e.Eb(t,9).ngClassUntouched,e.Eb(t,9).ngClassTouched,e.Eb(t,9).ngClassPristine,e.Eb(t,9).ngClassDirty,e.Eb(t,9).ngClassValid,e.Eb(t,9).ngClassInvalid,e.Eb(t,9).ngClassPending),n(t,21,0,e.wb(1,"","config"===(null==l.condition.source?null:l.condition.source.id)?"Path":"Name",""),e.wb(1,"",l.nameElementId,""),e.Eb(t,26).ngClassUntouched,e.Eb(t,26).ngClassTouched,e.Eb(t,26).ngClassPristine,e.Eb(t,26).ngClassDirty,e.Eb(t,26).ngClassValid,e.Eb(t,26).ngClassInvalid,e.Eb(t,26).ngClassPending),n(t,61,0,e.wb(1,"",l.valueElementId,""),e.Eb(t,66).ngClassUntouched,e.Eb(t,66).ngClassTouched,e.Eb(t,66).ngClassPristine,e.Eb(t,66).ngClassDirty,e.Eb(t,66).ngClassValid,e.Eb(t,66).ngClassInvalid,e.Eb(t,66).ngClassPending)})}var Vc=function(){function n(n){this.getFriendlyErrorAndLog=n,this.groupOperators=nn(),this.conditionSources=[]}return n.prototype.ngOnInit=function(){try{this.conditionSources=this.manager.getConditionSources()||[]}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.addCondition=function(){this.conditionSources.length&&(this.group.conditions.push(new Aa(this.conditionSources[0])),this.manager.notifyChanged())},n.prototype.removeCondition=function(n){var t=this.group.conditions.indexOf(n);-1!==t&&(this.group.conditions.splice(t,1),this.manager.notifyChanged())},n.prototype.addGroup=function(){this.group.groups.push(new Fa(this.getOppositeGroupOperator())),this.manager.notifyChanged()},n.prototype.wrapGroup=function(){var n=this.group.conditions.slice(),t=this.group.groups.slice();this.group.conditions.length=0,this.group.groups.length=0,this.group.groups.push(new Fa(this.group.operator,n,t)),this.group.operator=this.getOppositeGroupOperator(),this.manager.notifyChanged()},n.prototype.removeGroup=function(n){var t=this.group.groups.indexOf(n);-1!==t&&(this.group.groups.splice(t,1),this.manager.notifyChanged())},n.prototype.absorbGroup=function(n){var t,l,e=this.group.groups.indexOf(n);-1!==e&&this.group.groups.splice(e,1),(t=this.group.conditions).push.apply(t,n.conditions),(l=this.group.groups).push.apply(l,n.groups),this.manager.notifyChanged()},n.prototype.onGroupOperatorChanged=function(n){try{this.group.operator=n,this.manager.notifyChanged()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.getOppositeGroupOperator=function(){return this.group.operator===R.and?R.or:R.and},n}(),jc=e.sb({encapsulation:2,styles:[[".filter-query-builder-group{margin-top:.5rem;margin-right:-1rem;padding:0 1rem;border:0 solid #dcdbdb;border-left-width:1px;border-radius:3px;background:rgba(0,0,0,.01)}.filter-query-builder-group input[type=text],.filter-query-builder-group select{width:200px;display:inline-block}.filter-query-builder-group .group-operator-select{width:100px;font-weight:700}.filter-query-builder-group .group-condition{margin-top:.5rem}.filter-query-builder-group .group-child,.filter-query-builder-group .group-condition{position:relative}.filter-query-builder-group .group-child .remove-condition-button,.filter-query-builder-group .group-child .remove-group-button,.filter-query-builder-group .group-condition .remove-condition-button,.filter-query-builder-group .group-condition .remove-group-button{position:absolute;top:0;right:1rem}.filter-query-builder-group .group-child .remove-condition-button .fa,.filter-query-builder-group .group-child .remove-group-button .fa,.filter-query-builder-group .group-condition .remove-condition-button .fa,.filter-query-builder-group .group-condition .remove-group-button .fa{margin:0}.filter-query-builder-group .group-child .absorb-group-button,.filter-query-builder-group .group-condition .absorb-group-button{position:absolute;top:0;right:4rem}.filter-query-builder-group .group-child .absorb-group-button .fa,.filter-query-builder-group .group-condition .absorb-group-button .fa{margin:0}"]],data:{}});function Rc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),e.tb(1,147456,null,0,Zt.s,[e.l,e.H,[8,null]],{value:[0,"value"]},null),e.tb(2,147456,null,0,Zt.B,[e.l,e.H,[8,null]],{value:[0,"value"]},null),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit),n(t,2,0,t.context.$implicit)},function(n,t){n(t,0,0,t.context.$implicit===t.component.group.operator||null),n(t,3,0,t.context.$implicit)})}function Fc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"div",[["class","group-condition"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(2,0,null,null,2,"cs-filter-query-builder-condition",[],null,null,null,_c,gc)),e.tb(3,770048,null,0,fc,[Zt.e,fr,hc,On],{manager:[0,"manager"],condition:[1,"condition"],tenantUsers:[2,"tenantUsers"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(6,0,null,null,1,"button",[["class","btn btn-secondary remove-condition-button"],["title","Delete Condition"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeCondition(n.context.$implicit)&&e),e},null,null)),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-trash-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "]))],function(n,t){var l=t.component;n(t,3,0,l.manager,t.context.$implicit,l.tenantUsers)},null)}function Ac(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"div",[["class","group-child"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(2,0,null,null,2,"cs-filter-query-builder-group",[],null,null,null,Lc,jc)),e.tb(3,114688,null,0,Vc,[On],{manager:[0,"manager"],group:[1,"group"],tenantUsers:[2,"tenantUsers"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(6,0,null,null,1,"button",[["class","btn btn-secondary remove-group-button"],["title","Delete Group"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeGroup(n.context.$implicit)&&e),e},null,null)),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-trash-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"button",[["class","btn btn-secondary absorb-group-button"],["title","Unwrap Group"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.absorbGroup(n.context.$implicit)&&e),e},null,null)),(n()(),e.ub(10,0,null,null,0,"i",[["class","fa fa-long-arrow-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "]))],function(n,t){var l=t.component;n(t,3,0,l.manager,t.context.$implicit,l.tenantUsers)},null)}function Lc(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,34,"div",[["class","filter-query-builder-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(6,0,null,null,16,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,4,"select",[["class","form-control group-operator-select"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.onGroupOperatorChanged(l.target.value)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Rc)),e.tb(11,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(14,0,null,null,1,"button",[["class","btn btn-secondary btn-smart add-condition-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.addCondition()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Add Condition"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(17,0,null,null,1,"button",[["class","btn btn-secondary btn-smart add-group-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.addGroup()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Add Group"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(20,0,null,null,1,"button",[["class","btn btn-secondary btn-smart wrap-group-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.wrapGroup()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Wrap Group"])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(24,0,null,null,4,"div",[["class","group-conditions"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Fc)),e.tb(27,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(30,0,null,null,4,"div",[["class","group-children"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Ac)),e.tb(33,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,l.errorMessage),n(t,11,0,l.groupOperators),n(t,27,0,l.group.conditions),n(t,33,0,l.group.groups)},null)}var Dc=e.sb({encapsulation:2,styles:[],data:{}});function Nc(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,7,"div",[["class","filter-query-builder"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(6,0,null,null,1,"cs-filter-query-builder-group",[],null,null,null,Lc,jc)),e.tb(7,114688,null,0,Vc,[On],{manager:[0,"manager"],group:[1,"group"],tenantUsers:[2,"tenantUsers"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,l.errorMessage),n(t,7,0,l.manager,l.groupViewModel,l.tenantUsers)},null)}function Uc(n){var t=n;if(t){var l=t.lastIndexOf(".");-1!==l&&(t=t.substring(l+1));var e=t.indexOf("[");-1!==e&&(t=t.substring(0,e))}return t}var Qc=function(){function n(n,t,l,e){this.studyTypeLookup=n,this.getStudyAutocompleteOptions=t,this.studyStagingArea=l,this.simVersionDocumentCache=e}return n.prototype.create=function(n,t,l){return new zc(n,t,l,this.studyTypeLookup,this.getStudyAutocompleteOptions,this.studyStagingArea,this.simVersionDocumentCache)},n}(),Jc=[X.equals,X.notEquals],$c=[X.equals,X.notEquals,X.lessThan,X.greaterThan,X.lessThanOrEquals,X.greaterThanOrEquals],Hc=wn(),qc=[Zt.w.required].concat(tl.customPropertyNameValidators),Bc=[Zt.w.required].concat(tl.configPathValidators),zc=function(){function n(n,t,l,e,u,r,i){this.filterConfigType=n,this.isPersistentFilter=t,this.tenantUsers=l,this.studyTypeLookup=e,this.getStudyAutocompleteOptions=u,this.studyStagingArea=r,this.simVersionDocumentCache=i,this._hasConditionSourceItemsChanged=!0,this.filterConfigType!==un.studyFilter&&(this.filterAutocompleteConfigType=this.filterConfigType.substr(0,this.filterConfigType.length-"Filter".length))}return n.prototype.initialize=function(){return n=this,void 0,l=function(){var n,t,l=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return[4,this.getStudyAutocompleteOptions.initialize()];case 1:return e.sent(),n=this,[4,this.studyTypeLookup.getStudyTypeList()];case 2:return n.studyTypesList=e.sent(),t=this,[4,this.simVersionDocumentCache.get(this.simVersionDocumentCache.lastRequestedVersion)];case 3:return t.simVersionDocuments=e.sent(),this.studyStagingAreaChangedSubscription=this.studyStagingArea.changed.subscribe(function(){return l.onStudyStagingAreaChanged()}),this.onStudyStagingAreaChanged(),[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.dispose=function(){this.studyStagingAreaChangedSubscription&&this.studyStagingAreaChangedSubscription.unsubscribe()},n.prototype.onStudyStagingAreaChanged=function(){this.studyAutocompleteInformation=this.getStudyAutocompleteOptions.executeSynchronous(!1,!1,this.filterAutocompleteConfigType),this._hasConditionSourceItemsChanged=!0},Object.defineProperty(n.prototype,"hasConditionSourceItemsChanged",{get:function(){return this._hasConditionSourceItemsChanged},enumerable:!0,configurable:!0}),n.prototype.getConditionSourceViewModel=function(n){switch(n){case tn.metadata:return new _a(tn.metadata,"Metadata");case tn.customProperty:return new _a(tn.customProperty,"Custom Property",qc);case tn.config:return new _a(tn.config,"Config",Bc);case tn.configMetadata:return new _a(tn.configMetadata,"Config Metadata")}return new _a(n,n)},n.prototype.getConditionSources=function(n){switch(n){case un.jobFilter:return[this.getConditionSourceViewModel(tn.metadata)];case un.studyFilter:return[this.getConditionSourceViewModel(tn.customProperty),this.getConditionSourceViewModel(tn.metadata),this.getConditionSourceViewModel(tn.config),this.getConditionSourceViewModel(tn.configMetadata)];default:return this.isPersistentFilter?[this.getConditionSourceViewModel(tn.customProperty),this.getConditionSourceViewModel(tn.metadata),this.getConditionSourceViewModel(tn.config)]:[this.getConditionSourceViewModel(tn.customProperty),this.getConditionSourceViewModel(tn.metadata)]}},n.prototype.getConditionSourceItemViewModel=function(n,t,l){switch(l=l||[],n){case tn.metadata:var e=t;switch(e){case ln.state:return new ja(e,"State",null,ka.string,Jc,[new Ra("successful","Successful"),new Ra("failed","Failed")],!0);case ln.userId:return new ja(e,"User ID",null,ka.string,Jc,this.tenantUsers.users.map(function(n){return new Ra(n.userId,n.username)}),!0);case ln.name:return new ja(e,"Name",null,ka.string,Jc);case ln.parentWorksheetId:return new ja(e,"Parent Worksheet ID",null,ka.string,Jc);case ln.simVersion:return new ja(e,"Sim Version",null,ka.number,Jc);case ln.creationDate:return new ja(e,"Creation Date",null,ka.dateTime,$c);case ln.modifiedDate:return new ja(e,"Modified Date",null,ka.dateTime,$c);case ln.supportSession:return new ja(e,"Support Session",null,ka.string,Jc,[new Ra("open","Open"),new Ra("closed","Closed")],!0);case ln.studyType:return new ja(e,"Study Type",null,ka.string,Jc,this.studyTypesList.map(function(n){return new Ra(n.studyType,n.name)}),!0);case ln.executionTimeSeconds:return new ja(e,"Execution Time","s",ka.number,$c);case ln.jobCount:return new ja(e,"Job Count",null,ka.number,$c);case ln.succeededJobCount:return new ja(e,"Succeeded Job Count",null,ka.number,$c);case ln.failedJobCount:return new ja(e,"Failed Job Count",null,ka.number,$c);case ln.succeededComputeCredits:return new ja(e,"Succeeded Compute Credits",null,ka.number,$c);case ln.succeededStorageCredits:return new ja(e,"Succeeded Storage Credits",null,ka.number,$c)}break;case tn.customProperty:var u=l.find(function(n){return n.name===t})||{name:t,groups:[]};return new ja(u.name,u.name,null,ka.string,Hc,u.groups.map(function(n){return new Ra(n.key)}),!1);case tn.config:return new ja(t,t,this.simVersionDocuments.units[Uc(t)],ka.string,Hc);case tn.configMetadata:var r=t;switch(r){case en.name:return new ja(r,"Name",null,ka.string,$c)}}return this._hasConditionSourceItemsChanged=!1,new ja(t,t,null,ka.string)},n.prototype.getConditionSourceItems=function(n,t){var l,e=[],u=!0;switch(t=t||[],n){case tn.metadata:switch(this.filterConfigType===un.jobFilter?e.push(this.getConditionSourceItemViewModel(n,ln.state,t)):e.push(this.getConditionSourceItemViewModel(n,ln.name,t),this.getConditionSourceItemViewModel(n,ln.userId,t),this.getConditionSourceItemViewModel(n,ln.simVersion,t),this.getConditionSourceItemViewModel(n,ln.creationDate,t),this.getConditionSourceItemViewModel(n,ln.modifiedDate,t),this.getConditionSourceItemViewModel(n,ln.supportSession,t),this.getConditionSourceItemViewModel(n,ln.parentWorksheetId,t)),this.filterConfigType){case un.studyFilter:e.push(this.getConditionSourceItemViewModel(n,ln.studyType,t),this.getConditionSourceItemViewModel(n,ln.executionTimeSeconds,t),this.getConditionSourceItemViewModel(n,ln.jobCount,t),this.getConditionSourceItemViewModel(n,ln.succeededJobCount,t),this.getConditionSourceItemViewModel(n,ln.failedJobCount,t),this.getConditionSourceItemViewModel(n,ln.succeededComputeCredits,t),this.getConditionSourceItemViewModel(n,ln.succeededStorageCredits,t))}break;case tn.customProperty:u=!1;for(var r=0,i=t;r<i.length;r++)e.push(this.getConditionSourceItemViewModel(n,i[r].name,t));break;case tn.config:if(u=!1,this.studyAutocompleteInformation){l=this.studyAutocompleteInformation.options;for(var o=0,s=this.studyAutocompleteInformation.autocompleteList;o<s.length;o++){var a=s[o];e.push(this.getConditionSourceItemViewModel(n,"object"==typeof a?a.value:a,t))}}break;case tn.configMetadata:e.push(this.getConditionSourceItemViewModel(n,en.name,t))}return new Va(u,e,l)},n}(),Kc=function(){function n(n){this.listFilterStub=n}return n.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return n.filterCustomProperties&&n.filterCustomProperties.length||n.filterUserId||n.filterSupportSessions?[4,this.listFilterStub.upgradeListFilter(n)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,n]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),Wc=e.sb({encapsulation:2,styles:[[".list-filter{border:1px solid rgba(0,0,0,.125);background-color:#f5f5f5;border-top-left-radius:.25rem;border-top-right-radius:.25rem;border-bottom-width:0;padding:.5rem 1rem}.list-filter .form-group .filter-progress{display:inline-block}.list-filter .form-group .filter-progress .loader-container{top:.25rem;position:absolute;font-size:.6rem}.list-filter .active-filter-property{color:#0c6eb9}.list-filter .form-group{display:block;margin-bottom:0}.list-filter .form-group button .fa{margin:0}.list-filter .right-side{text-align:right}.list-filter .sort-buttons button{margin-top:.5rem;margin-right:.25rem}.list-filter .sort-buttons button .fa{margin:0 0 0 .25rem}.list-filter .current-sort-mode{display:inline;margin-left:.2rem;font-size:.8rem;color:gray}.list-filter .group-buttons button{margin-top:.5rem;margin-right:.25rem}.list-filter .group-buttons button,.list-filter .sort-buttons button{border:0;background-color:transparent}.list-filter .group-buttons button:hover,.list-filter .sort-buttons button:hover{background-color:#e6e6e6}.list-filter .filter-buttons{visibility:collapse;display:none}.list-filter .filter-buttons button{margin-top:.5rem;margin-right:.25rem}.list-filter .active-filter-buttons{visibility:visible;display:block}.list-filter .toggle-button{color:#adb5bd}.list-filter .active-toggle-button{color:#1e90ff}.list-filter .item-count{background:#96b2c7;color:#fff;display:inline-block;border-radius:.5rem;height:1rem;min-width:1rem;text-align:center;font-size:.75rem;margin:.2rem 0 .2rem .5rem}.list-filter .view-custom-properties hr{margin-top:.5rem;margin-bottom:0}.list-filter .filter-builder-header{margin-bottom:0}.list-filter .query-builder-row .query-builder-buttons{margin:1rem 0 0}.list-filter .query-builder-row .query-builder-buttons button{margin-top:0}.list-filter .query-builder-row .query-builder-buttons a{margin-left:.5rem}.list-filter .query-builder-load-progress,.list-filter .query-renderer-load-progress{padding-top:.5rem;display:block}.filtered-list{border:1px solid rgba(0,0,0,.125);border-top-width:0;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}"]],data:{}});function Gc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-quick-config-manager",[],null,[[null,"configChanged"]],function(n,t,l){var e=!0;return"configChanged"===t&&(e=!1!==n.component.onConfigUpdatedExternally(l)&&e),e},xa,ya)),e.tb(1,245760,null,0,ra,[Q,aa,fa,ha,O,On],{configType:[0,"configType"],persistLocally:[1,"persistLocally"],updateSource:[2,"updateSource"],showName:[3,"showName"]},{configChanged:"configChanged"})],function(n,t){var l=t.component;n(t,1,0,l.filterConfigType,!0,l.configSource,!0)},null)}function Yc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"input",[["class","form-control"],["formControlName","name"],["id","filter-by-name-input"],["maxlength","200"],["placeholder","Name"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,1)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,1).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,1)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,1)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(1,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.tb(2,540672,null,0,Zt.l,[],{maxlength:[0,"maxlength"]},null),e.Jb(1024,null,Zt.n,function(n){return[n]},[Zt.l]),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(5,671744,null,0,Zt.h,[[3,Zt.c],[6,Zt.n],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(7,16384,null,0,Zt.q,[[4,Zt.p]],null,null),e.tb(8,606208,null,0,Ja,[[3,Zt.c]],{formControlName:[0,"formControlName"],shouldDisable:[1,"shouldDisable"]},null)],function(n,t){var l=t.component;n(t,2,0,"200"),n(t,5,0,"name"),n(t,8,0,"name",l.disableForm)},function(n,t){n(t,0,0,e.Eb(t,2).maxlength?e.Eb(t,2).maxlength:null,e.Eb(t,7).ngClassUntouched,e.Eb(t,7).ngClassTouched,e.Eb(t,7).ngClassPristine,e.Eb(t,7).ngClassDirty,e.Eb(t,7).ngClassValid,e.Eb(t,7).ngClassInvalid,e.Eb(t,7).ngClassPending)})}function Zc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","filter-progress"],["id","filter-progress"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Xc(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"button",[["class","btn btn-smart btn-secondary btn-icon toggle-button"],["id","include-if-has-parent-worksheet-button"],["title","Include In Worksheets"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleIncludeIfHasParentWorksheet()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"active-toggle-button":0}),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-th fa-fw"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,1,0,"btn btn-smart btn-secondary btn-icon toggle-button",n(t,2,0,t.component.includeIfHasParentWorksheet))},function(n,t){n(t,0,0,t.component.disableForm)})}function nd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"button",[["class","btn btn-smart btn-secondary btn-icon toggle-button"],["id","include-if-delete-requested-button"],["title","Include Delete Requested"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleIncludeIfDeleteRequested()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"active-toggle-button":0}),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-trash fa-fw"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,1,0,"btn btn-smart btn-secondary btn-icon toggle-button",n(t,2,0,t.component.includeIfDeleteRequested))},function(n,t){n(t,0,0,t.component.disableForm)})}function td(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"div",[["class","current-sort-mode"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n            ","\n            "])),(n()(),e.ub(2,0,null,null,2,"i",[["class","fa"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"fa-caret-down":0,"fa-caret-up":1}),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,3,0,"fa",n(t,4,0,l.initialFilter.orderByDescending,!l.initialFilter.orderByDescending))},function(n,t){var l=t.component;n(t,1,0,l.initialFilter.orderByProperty||l.initialFilter.orderByCustomProperty)})}function ld(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"button",[["class","btn btn-smart btn-secondary"],["id","filter-sort-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleShowSorting()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"active-filter-property":0}),(n()(),e.Mb(-1,null,["\n          Sort\n          "])),(n()(),e.lb(16777216,null,null,1,null,td)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-secondary",n(t,2,0,l.showSorting)),n(t,5,0,l.initialFilter.orderByProperty||l.initialFilter.orderByCustomProperty)},function(n,t){n(t,0,0,t.component.disableForm)})}function ed(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","query-renderer-load-progress"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function ud(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,2,"cs-filter-query-renderer",[],null,null,null,sc,ic)),e.tb(3,49152,null,0,rc,[],{data:[0,"data"],isApplied:[1,"isApplied"],tenantUsers:[2,"tenantUsers"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,l.currentFilterQuery,l.isCurrentFilterQueryApplied,l.tenantUsers)},null)}function rd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","query-builder-load-progress"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function id(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,2,"cs-filter-query-builder",[],null,[[null,"queryChanged"]],function(n,t,l){var e=!0;return"queryChanged"===t&&(e=!1!==n.component.onQueryChanged(l)&&e),e},Nc,Dc)),e.tb(3,245760,null,0,La,[fr,On],{dataSource:[0,"dataSource"],tenantUsers:[1,"tenantUsers"]},{queryChanged:"queryChanged"}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(6,0,null,null,10,"p",[["class","query-builder-buttons"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,1,"button",[["class","btn btn-smart btn-secondary apply-query-builder"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.filterByQuery(u.currentFilterQuery.root)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Apply"])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(11,0,null,null,1,"button",[["class","btn btn-smart btn-secondary cancel-query-builder"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.discardCurrentFilterQuery()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(14,0,null,null,1,"a",[["href","/wiki/List-Filtering"],["target","_blank"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Filtering Help"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,l.filterQueryBuilderDataSource,l.tenantUsers)},function(n,t){var l=t.component;n(t,8,0,!(null!=l.currentFilterQuery&&l.currentFilterQuery.isValid))})}function od(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","row query-builder-row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,rd)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,id)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,5,0,!l.canShowFiltersAndSorting&&!l.errorMessage),n(t,8,0,l.canShowFiltersAndSorting)},null)}function sd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","query-builder-load-progress"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function ad(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"i",[["class","fa"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"fa-caret-down":0,"fa-caret-up":1})],function(n,t){var l=t.component;n(t,1,0,"fa",n(t,2,0,l.initialFilter.orderByDescending,!l.initialFilter.orderByDescending))},null)}function cd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"button",[["class","btn btn-smart btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.togglePropertyOrdering(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(1,null,["\n          ","\n          "])),(n()(),e.lb(16777216,null,null,1,null,ad)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,t.component.initialFilter.orderByProperty===t.context.$implicit)},function(n,t){n(t,0,0,t.component.disableForm),n(t,1,0,t.context.$implicit)})}function dd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"i",[["class","fa"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"fa-caret-down":0,"fa-caret-up":1})],function(n,t){var l=t.component;n(t,1,0,"fa",n(t,2,0,l.initialFilter.orderByDescending,!l.initialFilter.orderByDescending))},null)}function bd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"button",[],[[8,"className",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleCustomPropertyOrdering(n.context.$implicit.name)&&e),e},null,null)),(n()(),e.Mb(1,null,["\n          ","\n          "])),(n()(),e.lb(16777216,null,null,1,null,dd)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,t.component.initialFilter.orderByCustomProperty===t.context.$implicit.name)},function(n,t){var l=t.component;n(t,0,0,e.wb(1,"btn btn-smart btn-secondary sort-custom-property-",l.cssSanitize(t.context.$implicit.name),""),l.disableForm),n(t,1,0,t.context.$implicit.name)})}function fd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","sort-buttons"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,cd)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,bd)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,l.propertySortOptions),n(t,6,0,l.groupResults)},null)}function pd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,sd)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,fd)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,5,0,!l.canShowFiltersAndSorting&&!l.errorMessage),n(t,8,0,l.canShowFiltersAndSorting)},null)}function hd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,77,"div",[["class","list-filter"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,53,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,29,"div",[["class","col-12 col-sm-7"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,11).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,11).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.filterName()&&u),u},null,null)),e.tb(10,16384,null,0,Zt.y,[],null,null),e.tb(11,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(13,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(15,0,null,null,19,"div",[["class","form-group form-inline"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(17,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","filter-refresh-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.refresh()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(19,0,null,null,0,"i",[["class","fa fa-refresh"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,Gc)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(25,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","filter-clear-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.clearFilter()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            Clear Filters\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Yc)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Zc)),e.tb(33,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(38,0,null,null,19,"div",[["class","col-12 col-sm-5"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(40,0,null,null,16,"div",[["class","right-side"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Xc)),e.tb(43,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,nd)),e.tb(46,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,ld)),e.tb(50,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(52,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","filter-filter-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleShowFilters()&&e),e},null,null)),e.tb(53,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(54,{"active-filter-property":0}),(n()(),e.Mb(-1,null,["\n          Filter\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(60,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(62,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,ed)),e.tb(65,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,ud)),e.tb(68,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,od)),e.tb(73,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,pd)),e.tb(76,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,11,0,l.form),n(t,23,0,l.canPersistFilter),n(t,29,0,!l.isStudyJobs),n(t,33,0,l.disableForm),n(t,43,0,l.canBeInWorksheet),n(t,46,0,l.canBeSoftDeleted),n(t,50,0,!l.isStudyJobs),n(t,53,0,"btn btn-smart btn-secondary",n(t,54,0,l.showFilters)),n(t,65,0,!l.tenantUsers),n(t,68,0,l.tenantUsers),n(t,73,0,l.showFilters),n(t,76,0,l.showSorting)},function(n,t){var l=t.component;n(t,9,0,e.Eb(t,13).ngClassUntouched,e.Eb(t,13).ngClassTouched,e.Eb(t,13).ngClassPristine,e.Eb(t,13).ngClassDirty,e.Eb(t,13).ngClassValid,e.Eb(t,13).ngClassInvalid,e.Eb(t,13).ngClassPending),n(t,17,0,l.disableForm),n(t,25,0,l.disableForm),n(t,52,0,l.disableForm)})}function gd(n){if(!n)return"";var t=Math.floor(n/60),l=n-60*t,e=l.toFixed(2);return l<10&&(e="0"+e),t+":"+e}function yd(n){return n.replace(/_/g,"_"+In)}var md=function(){function n(){this.canNavigate=!0,this.RELEASE_NOTES_URL=Cn}return n.prototype.onCopy=function(n){!function(n){var t=n.target.textContent;t&&-1!==t.indexOf(In)&&(t=t.replace(xn,"").trim(),n.preventDefault(),n.clipboardData.setData("Text",t),console.log("Sanitized clipboard"))}(n)},n}(),vd=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),wd=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Md=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Cd=function(n){function t(t,l,u,r,i,o,s,a,c,d,b,f,p,h,g,y){var m=n.call(this)||this;return m.filterUtilities=t,m.identity=l,m.moment=u,m.canopyPusher=r,m.studyStub=i,m.confirmationDialog=o,m.studyTypeLookup=s,m.createUserInformationMaps=a,m.sanitizer=c,m.stageStudy=d,m.downloadStudyService=b,m.goToJobService=f,m.localUserSettingsManager=p,m.significantSimVersions=h,m.studySubmittedEvents=g,m.getFriendlyErrorAndLog=y,m.studySelected=new e.n,m.showProperties=!0,m.isDeleting=!1,m.currentIdentity=m.identity.get(),m}return vd(t,n),t.prototype.ngOnInit=function(){var n=this;this.filter=this.filterUtilities.getInitialFilter(E.creationDate,!0,this.initialQuery),this.studiesProgressSubscription=this.canopyPusher.studiesProgress.subscribe(function(t){return n.onStudiesProgress(t)}),this.studyBuildProgressSubscription=this.canopyPusher.studyBuildProgress.subscribe(function(t){return n.onStudyBuildProgress(t)}),this.studySubmittedSubscription=this.studySubmittedEvents.studySubmitted.subscribe(function(){return n.reloadFilter()}),this.loadTask=this.load()},t.prototype.ngOnDestroy=function(){this.studiesProgressSubscription.unsubscribe(),this.studyBuildProgressSubscription.unsubscribe(),this.studySubmittedSubscription.unsubscribe()},t.prototype.toggleProperties=function(){this.showProperties=this.localUserSettingsManager.state.showCustomPropertiesInLists=!this.localUserSettingsManager.state.showCustomPropertiesInLists,this.localUserSettingsManager.save()},Object.defineProperty(t.prototype,"canPersistFilter",{get:function(){return!this.initialQuery},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getLoadGroupResultsDelegate",{get:function(){var n=this;return function(){return n.loadGroupResults()}},enumerable:!0,configurable:!0}),t.prototype.loadGroupResults=function(){return wd(this,void 0,void 0,function(){return Md(this,function(n){switch(n.label){case 0:return[4,this.studyStub.getStudies(this.currentIdentity.tenantId,void 0,!1,P.groupOnly)];case 1:return[2,n.sent().groupResults]}})})},t.prototype.reloadFilter=function(){return wd(this,void 0,void 0,function(){var n,t;return Md(this,function(l){switch(l.label){case 0:if(l.trys.push([0,6,,7]),this.isReloading=!0,this.errorMessage=void 0,!this.loadTask)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.loadTask];case 2:case 3:return l.sent(),[3,4];case 4:return[4,this.loadTask=this.studyStub.getStudies(this.currentIdentity.tenantId,this.filter)];case 5:return n=l.sent(),this.studies=[],this.addQueryResults(n),[3,7];case 6:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,7];case 7:return this.isReloading=!1,[2]}})})},t.prototype.load=function(){return wd(this,void 0,void 0,function(){var n,t;return Md(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.showProperties=this.localUserSettingsManager.state.showCustomPropertiesInLists,n=this,[4,this.studyTypeLookup.getStudyTypeMap()];case 1:return n.studyTypeMap=l.sent(),this.canPersistFilter?(this.studies=[],this.isReloading=!0,[2]):(this.reloadFilter(),[3,3]);case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},t.prototype.loadNext=function(){return wd(this,void 0,void 0,function(){var n,t;return Md(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),this.lastResult.queryResults.hasMoreResults?this.loadTask?[4,this.loadTask]:[3,2]:[2];case 1:l.sent(),l.label=2;case 2:return this.isReloading=!0,this.filter.continuationToken=this.lastResult.queryResults.continuationToken,[4,this.loadTask=this.studyStub.getStudies(this.currentIdentity.tenantId,this.filter)];case 3:return n=l.sent(),this.addQueryResults(n),[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return this.isReloading=!1,[2]}})})},t.prototype.addQueryResults=function(n){var t,l=this;this.lastResult=n,this.map?this.createUserInformationMaps.append(n.userInformation,this.map):this.map=this.createUserInformationMaps.execute(n.userInformation),(t=this.studies).push.apply(t,n.queryResults.documents.map(function(t){var e=t.data.jobCount||t.data.dispatchedJobCount,u=e&&e===t.data.completedJobCount,r=!(!t.data.errorMessages||!t.data.errorMessages.length),i=!(u||r||e&&e===t.data.dispatchedJobCount),o=l.map.users[t.userId],s=l.studyTypeMap[t.data.studyType];return new function(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w,M,C,S,I,x,O){this.tenantId=n,this.userId=t,this.studyId=l,this.name=e,this.nameTruncated=u,this.username=r,this.creationDate=i,this.creationDateRaw=o,this.modifiedDate=s,this.isCompleted=a,this.isBuilding=c,this.hasErrors=d,this.executionTime=b,this.jobCount=f,this.dispatchedJobCount=p,this.completedJobCount=h,this.succeededJobCount=g,this.studyType=y,this.studyTypeName=m,this.isOwner=v,this.deleteRequested=w,this.parentWorksheetId=M,this.properties=C,this.simVersion=S,this.supportSession=I,this.succeededComputeCredits=x,this.succeededStorageCredits=O,this.isDeleting=!1,this.isSelected=!1}(t.tenantId,t.userId,t.documentId,t.name,l.truncate(t.name),o?o.username:t.userId,l.moment.fromNow(t.creationDate),t.creationDate,l.moment.fromNow(t.modifiedDate),u,i,r,gd(t.data.executionTimeSeconds),e,t.data.dispatchedJobCount,t.data.completedJobCount,t.data.succeededJobCount,t.data.studyType,s?s.name:t.data.studyType,t.userId===l.currentIdentity.userId,t.deleteRequested,t.parentWorksheetId,ye.objectToList(t.properties),t.simVersion,{session:t.supportSession,userInformation:n.userInformation},t.data.succeededComputeCredits,t.data.succeededStorageCredits)}))},t.prototype.filterChanged=function(n){this.filter=n,this.reloadFilter()},t.prototype.onStudySelected=function(n){this.studySelected.emit(n)},t.prototype.onStudiesProgress=function(n){return wd(this,void 0,void 0,function(){var t,l,e,u,r,i,o;return Md(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),this.loadTask?[4,this.loadTask]:[3,2];case 1:s.sent(),s.label=2;case 2:if(!this.studies)return[2];for(t=0,l=n.items;t<l.length;t++)for(e=l[t],u=0,r=this.studies;u<r.length;u++)(i=r[u]).studyId===e.studyId&&(i.isCompleted=i.jobCount&&i.jobCount===e.completedJobCount,i.executionTime=gd(e.executionTimeMs/1e3),i.completedJobCount=e.completedJobCount,i.succeededJobCount=e.succeededJobCount,i.succeededComputeCredits=e.succeededComputeCredits,i.succeededStorageCredits=e.succeededStorageCredits);return[3,4];case 3:return o=s.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(o),[3,4];case 4:return[2]}})})},t.prototype.onStudyBuildProgress=function(n){return wd(this,void 0,void 0,function(){var t,l,e,u;return Md(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.loadTask?[4,this.loadTask]:[3,2];case 1:r.sent(),r.label=2;case 2:if(!this.studies)return[2];for(t=0,l=this.studies;t<l.length;t++)if((e=l[t]).studyId===n.studyId&&e.dispatchedJobCount<=n.dispatchedJobCount){if(n.errorMessages)return e.hasErrors=!!n.errorMessages.length,e.isBuilding=!1,[2];e.jobCount=n.jobCount,e.dispatchedJobCount=n.dispatchedJobCount,e.isBuilding=n.dispatchedJobCount!==n.jobCount;break}return[3,4];case 3:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,4];case 4:return[2]}})})},t.prototype.renderWithCustomLineBreaks=function(n){return yd(n)},t.prototype.cssSanitize=function(n){return or(n)},t.prototype.styleSanitize=function(n){return this.sanitizer.bypassSecurityTrustStyle(n)},t.prototype.delete=function(n){return wd(this,void 0,void 0,function(){var t;return Md(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),n.isOwner?[4,this.confirmationDialog.show("Are you sure you want to delete this study? This action cannot be reversed.","Confirm Delete Study","Permanently Delete Study")]:[3,3];case 1:return l.sent()?(n.isDeleting=!0,[4,this.studyStub.deleteStudy(this.currentIdentity.tenantId,n.studyId)]):[3,3];case 2:l.sent(),this.studies=this.studies.filter(function(t){return t.studyId!==n.studyId}),l.label=3;case 3:return[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return n.isDeleting=!1,[2]}})})},Object.defineProperty(t.prototype,"shouldUndelete",{get:function(){var n=this.userStudies.filter(function(n){return n.isSelected});return!!n.length&&n.every(function(n){return n.deleteRequested})},enumerable:!0,configurable:!0}),t.prototype.deleteSelected=function(){return wd(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b;return Md(this,function(f){switch(f.label){case 0:return f.trys.push([0,13,,14]),n=this.shouldUndelete,t=(t=this.userStudies.filter(function(n){return n.isSelected})).filter(n?function(n){return n.deleteRequested}:function(n){return!n.deleteRequested}),0===(l=t.length)?[2]:(e=1===l?"Study":"Studies",u=void 0,n?[4,this.confirmationDialog.show("Are you sure you want to restore "+l+" "+e+"?","Confirm Restore "+l+" "+e,"Restore "+l+" "+e)]:[3,2]);case 1:return u=!!f.sent(),[3,4];case 2:return[4,this.confirmationDialog.show("Are you sure you want to delete "+l+" "+e+"? This action cannot be reversed.","Confirm Delete "+l+" "+e,"Permanently Delete "+l+" "+e)];case 3:u=!!f.sent(),f.label=4;case 4:if(!u)return[3,12];f.label=5;case 5:for(f.trys.push([5,,11,12]),this.isDeleting=!0,r=0,i=t;r<i.length;r++)(d=i[r]).isDeleting=!0;t.reverse(),o=0,s=t,f.label=6;case 6:return o<s.length?[4,this.studyStub.deleteStudy(this.currentIdentity.tenantId,(d=s[o]).studyId,n)]:[3,9];case 7:f.sent(),d.deleteRequested=!n,f.label=8;case 8:return o++,[3,6];case 9:return[4,this.reloadFilter()];case 10:return f.sent(),[3,12];case 11:for(this.isDeleting=!1,a=0,c=t;a<c.length;a++)(d=c[a]).isDeleting=!1;return[7];case 12:return[3,14];case 13:return b=f.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(b),[3,14];case 14:return[2]}})})},Object.defineProperty(t.prototype,"canSelectAll",{get:function(){return this.userStudies.some(function(n){return!n.isSelected})},enumerable:!0,configurable:!0}),t.prototype.toggleSelectAll=function(){try{this.userStudies.forEach(this.canSelectAll?function(n){return n.isSelected=!0}:function(n){return n.isSelected=!1})}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},Object.defineProperty(t.prototype,"userStudies",{get:function(){return this.studies.filter(function(n){return n.isOwner})},enumerable:!0,configurable:!0}),t.prototype.stageToResultsStagingArea=function(n){try{this.stageStudy.toResultsStagingArea(n.tenantId,n.studyId,n.name,n.jobCount)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},t.prototype.stageToStudyStagingArea=function(n){return wd(this,void 0,void 0,function(){var t;return Md(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.stageStudy.toStudyStagingArea(n.tenantId,n.studyId,n.name,n.jobCount)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},t.prototype.downloadStudy=function(n,t,l,e){return void 0===e&&(e=!1),wd(this,void 0,void 0,function(){var u;return Md(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.downloadStudyService.execute(n.tenantId,n.studyId,n.name,t,l,e)];case 1:return r.sent(),[3,3];case 2:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,3];case 3:return[2]}})})},t.prototype.goToJob=function(n){return wd(this,void 0,void 0,function(){var t;return Md(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.goToJobService.execute(n.tenantId,n.studyId,n.jobCount)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},t.prototype.trackById=function(n,t){return t.studyId},t.prototype.truncate=function(n){return n.length>20?n.substr(0,20)+"\u2026":n},t}(md),Sd=function(){function n(){}return n.prototype.getInitialFilter=function(n,t,l){void 0===n&&(n=E.modifiedDate),void 0===t&&(t=!0),void 0===l&&(l=void 0);var e={};return e.orderByProperty=n,e.orderByDescending=t,e.query=l,e},n}(),Id=l("eC5B"),xd=function(){function n(n,t){this.logError=n,this.identity=t,this.studiesProgress=new e.n,this.studyBuildProgress=new e.n}return n.prototype.serviceOnInit=function(){var n=this;this.pusher=new Id("5dc5bbb037d2ffb96fe1",{encrypted:!0}),this.updateCurrentUser(),this.identity.changed.subscribe(function(){return n.updateCurrentUser()})},n.prototype.updateCurrentUser=function(){var n=this;try{var t=this.identity.get();if(t.tenantId!==this.tenantId&&(this.tenantId&&this.pusher.unsubscribe(this.tenantId),this.tenantId=t.tenantId,this.tenantId)){var l=this.pusher.subscribe(this.tenantId);l.bind("studies-progress",function(t){n.studiesProgress.emit(t)}),l.bind("study-build-progress",function(t){n.studyBuildProgress.emit(t)})}}catch(n){this.logError.execute(n)}},n}(),Od="1.1727",kd=function(){function n(n,t,l,e){this.resultsStagingArea=n,this.studyStagingArea=t,this.promptDialog=l,this.confirmationDialog=e}return n.prototype.toResultsStagingArea=function(n,t,l,e){this.resultsStagingArea.addSource(new fo(n,t,l,void 0,e+" job"+(1!==e?"s":"")))},n.prototype.toStudyStagingArea=function(n,t,l,e,u){return r=this,void 0,o=function(){var r,i;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(o){switch(o.label){case 0:return Object(fe.isUndefined)(u)?(u=0,r="",e>1?[4,this.promptDialog.show("Enter a job index between 0 and "+(e-1)+":","Go To Job")]:[3,2]):[3,4];case 1:if(!(r=o.sent()))return[2];u=+r,o.label=2;case 2:return u<0||u>=e?[4,this.confirmationDialog.show('Invalid job index "'+r+'".',"Invalid Request","OK","OK")]:[3,4];case 3:return o.sent(),[2];case 4:return(i={source:{tenantId:n,studyId:t,jobIndex:u}}).source.tenantId=n,this.studyStagingArea.stage(un.telemetry,void 0,void 0,l+(1===e?"":" - Job Index "+u),i,[],void 0,Od,!1),[2]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},n}(),Td=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Pd=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Ed=function(){function n(n,t,l){this.sanitizer=n,this.loadingDialog=t,this.studyStub=l}return n.prototype.getStudyTokenUri=function(n,t,l){var e=JSON.stringify({tenantId:n,studyId:t,studyName:l});return this.sanitizer.bypassSecurityTrustResourceUrl("data:application/octet-stream,"+encodeURIComponent(e))},n.prototype.getStudyJobTokenUri=function(n,t,l,e,u){var r={tenantId:n,studyId:t,studyName:e,job:{jobIndex:so(l),jobName:u}},i=JSON.stringify(r);return this.sanitizer.bypassSecurityTrustResourceUrl("data:application/octet-stream,"+encodeURIComponent(i))},n.prototype.execute=function(n,t,l,e,u,r){return Td(this,void 0,void 0,function(){var i=this;return Pd(this,function(o){return[2,this.loadingDialog.show(function(o){return o.setStatus("Preparing download..."),i.downloadStudyInner(n,t,l,e,u,r)})]})})},n.prototype.downloadStudyInner=function(t,l,e,u,r,i){return Td(this,void 0,void 0,function(){var o,s;return Pd(this,function(a){switch(a.label){case 0:return[4,this.studyStub.getStudyDownloadUrl(t,l)];case 1:return o=a.sent(),s=this.studyStub.getStudyDownload_url(t,l,o.accessSignature,o.expiry,e,u,r,i),n.download(s),[2]}})})},n.prototype.downloadJob=function(n,t,l,e,u,r,i){var o=this;return this.loadingDialog.show(function(s){return s.setStatus("Preparing download..."),o.downloadJobInner(n,t,l,e,u,r,i)})},n.prototype.downloadJobInner=function(t,l,e,u,r,i,o){return Td(this,void 0,void 0,function(){var s,a;return Pd(this,function(c){switch(c.label){case 0:return[4,this.studyStub.getStudyDownloadUrl(t,l)];case 1:return s=c.sent(),a=this.studyStub.getStudyJobDownload_url(t,l,e,s.accessSignature,s.expiry,u+(r?"-"+r:""),i,o),n.download(a),[2]}})})},n.download=function(n,t){var l=document.createElement("a");l.setAttribute("href",n),t&&l.setAttribute("download",t),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)},n}(),_d=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Vd=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},jd=function(){function n(n,t,l,e,u){this.promptDialog=n,this.viewJobDialog=t,this.confirmationDialog=l,this.studyStub=e,this.loadingDialog=u}return n.prototype.execute=function(n,t,l){return _d(this,void 0,void 0,function(){var e;return Vd(this,function(u){switch(u.label){case 0:return[4,this.promptForJobIndex(l)];case 1:return-1===(e=u.sent())?[3,3]:[4,this.viewJobDialog.show(n,t,t+"-"+e)];case 2:u.sent(),u.label=3;case 3:return[2]}})})},n.prototype.loadAndPromptForJobIndex=function(n,t){return _d(this,void 0,void 0,function(){var l;return Vd(this,function(e){switch(e.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.studyStub.getStudyMetadata(n,t),"Loading...")];case 1:return l=e.sent(),[4,this.promptForJobIndex(l.study.data.jobCount,!0)];case 2:return[2,e.sent()]}})})},n.prototype.promptForJobIndex=function(n,t){return void 0===t&&(t=!1),_d(this,void 0,void 0,function(){var l,e;return Vd(this,function(u){switch(u.label){case 0:return l=0,e="",n>1||t?[4,this.promptDialog.show("Enter a job index between 0 and "+(n-1)+":","Go To Job")]:[3,2];case 1:if(!(e=u.sent()))return[2,-1];l=+e,u.label=2;case 2:return l<0||l>=n||isNaN(l)?[4,this.confirmationDialog.show('Invalid job index "'+e+'".',"Invalid Request","OK","OK")]:[3,4];case 3:return u.sent(),[2,-1];case 4:return[2,l]}})})},n}(),Rd=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Fd=function(n){function t(t,l,e){return n.call(this,t,l,e)||this}return Rd(t,n),t.prototype.fromMutable=function(n){return n},t.prototype.toMutable=function(n){return n},t.prototype.uninitialized=function(n){return new function(n,t,l){void 0===t&&(t=!0),this.userId=n,this.showCustomPropertiesInLists=t,this.userSimVersion=l}(n)},t.prototype.getLocalStorageKey=function(){return"localUserSettings"},t.prototype.serviceOnInit=function(){this.initialize()},t.prototype.save=function(){this.update(this.state)},t}(be),Ad=function(){function n(n){this.getSimVersion=n}return Object.defineProperty(n.prototype,"isAfterTelemetrySimulation",{get:function(){return this.isAfterSimVersion(1727)},enumerable:!0,configurable:!0}),n.prototype.isAfterSimVersion=function(n){var t=this.getSimVersion.currentSimVersion;if(!t)return!1;var l=Object(Tt.a)(t);return 0===l||l>=n},n}(),Ld=function(){return function(){this.studySubmitted=new e.n}}(),Dd=e.sb({encapsulation:0,styles:[[".view-studies-component[_ngcontent-%COMP%]   .failure-job-count[_ngcontent-%COMP%]{color:#d95929}.view-studies-component[_ngcontent-%COMP%]   .failure-job-count[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d95929;text-decoration:none}.view-studies-component[_ngcontent-%COMP%]   .success-job-count[_ngcontent-%COMP%]{color:#8fbf4d}.view-studies-component[_ngcontent-%COMP%]   .success-job-count[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8fbf4d;text-decoration:none}.view-studies-component[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:80px;height:1rem;margin:.2rem 0 0}.view-studies-component[_ngcontent-%COMP%]   .progress-icon[_ngcontent-%COMP%]{position:absolute;font-size:.75rem;margin-left:.2rem;color:#fff}.view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap;max-width:150px;overflow:hidden}@media (min-width:768px){.view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{max-width:200px}}.view-studies-component[_ngcontent-%COMP%]   td.icon-cell[_ngcontent-%COMP%]{overflow:visible}.view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .select-study-link[_ngcontent-%COMP%]{white-space:normal}.view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]{text-transform:uppercase;font-size:.6rem;margin-top:.5rem;color:#d95929}.view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .view-studies-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d95929}.view-studies-component[_ngcontent-%COMP%]   .job-count-column[_ngcontent-%COMP%]{overflow:visible}.view-studies-component[_ngcontent-%COMP%]   .created-column[_ngcontent-%COMP%]{max-width:140px}"]],data:{}});function Nd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n  "]))],null,null)}function Ud(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"th",[["class","icon-cell"]],null,null,null,null,null))],null,null)}function Qd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-check-square-o"]],null,null,null,null,null))],null,null)}function Jd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-square-o"]],null,null,null,null,null))],null,null)}function $d(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-trash-o"]],null,null,null,null,null))],null,null)}function Hd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-undo"]],null,null,null,null,null))],null,null)}function qd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function Bd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"td",[["class","icon-cell"]],null,null,null,null,null))],null,null)}function zd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"button",[["class","btn btn-smart btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToStudyStagingArea(n.parent.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"cs-stage-as-telemetry-text",[],null,null,null,Cs,vs)),e.tb(4,49152,null,0,ms,[],{studyType:[0,"studyType"]},null),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){n(t,4,0,t.parent.parent.context.$implicit.studyType)},null)}function Kd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,41,"td",[["class","icon-cell button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,3,"button",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-ellipsis-h"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(7,0,null,null,33,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToResultsStagingArea(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(11,0,null,null,0,"i",[["class","fa fa-area-chart"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,zd)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(17,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.goToJob(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(19,0,null,null,0,"i",[["class","fa fa-cube"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Go To Job\n              "])),(n()(),e.Mb(-1,null,["\n\n              "])),(n()(),e.ub(22,0,null,null,1,"cs-linting-engine-dialog-launcher",[],null,null,null,Es,ks)),e.tb(23,49152,null,0,Ss,[ce,xs,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],studyId:[2,"studyId"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(25,0,null,null,1,"cs-set-ownership-dialog-launcher",[],null,[[null,"ownershipChanged"]],function(n,t,l){var e=!0;return"ownershipChanged"===t&&(e=!1!==n.component.reloadFilter()&&e),e},Ls,Rs)),e.tb(26,114688,null,0,Vs,[ce,_s,O,On],{documentId:[0,"documentId"],documentTenantId:[1,"documentTenantId"],documentUserId:[2,"documentUserId"]},{ownershipChanged:"ownershipChanged"}),(n()(),e.Mb(-1,null,["\n\n              "])),(n()(),e.ub(28,0,null,null,1,"span",[["class","inline-button-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Download:"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(31,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadStudy(n.parent.context.$implicit,!1,!1,!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(33,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Scalar (CSV)\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(36,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadStudy(n.parent.context.$implicit,!0,!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(38,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["All (CSV)\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,15,0,t.component.significantSimVersions.isAfterTelemetrySimulation),n(t,23,0,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.userId,t.parent.context.$implicit.studyId),n(t,26,0,t.parent.context.$implicit.studyId,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.userId)},function(n,t){n(t,2,0,e.wb(2,"btn btn-smart btn-secondary btn-icon btn-xsm study-hover-button-",t.parent.context.index," study-hover-name-",t.component.cssSanitize(t.parent.context.$implicit.name),"")),n(t,31,0,t.parent.context.$implicit.jobCount<2)})}function Wd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"a",[],[[8,"className",0],[8,"title",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,3),(n()(),e.Mb(3,null,["\n              ","\n            "]))],function(n,t){n(t,1,0,n(t,2,0,"/studies",t.parent.context.$implicit.tenantId,t.parent.context.$implicit.studyId))},function(n,t){var l=t.component;n(t,0,0,e.wb(2,"select-study-link name-",l.cssSanitize(t.parent.context.$implicit.name)," username-",l.cssSanitize(t.parent.context.$implicit.username)," overflow-ellipsis"),e.wb(1,"",t.parent.context.$implicit.name,""),e.Eb(t,1).target,e.Eb(t,1).href),n(t,3,0,l.renderWithCustomLineBreaks(t.parent.context.$implicit.name))})}function Gd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"a",[["href","javascript:void(0)"]],[[8,"className",0],[8,"title",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onStudySelected(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(2,"select-study-link name-",l.cssSanitize(t.parent.context.$implicit.name)," username-",l.cssSanitize(t.parent.context.$implicit.username)," overflow-ellipsis"),e.wb(1,"",t.parent.context.$implicit.name,"")),n(t,1,0,l.renderWithCustomLineBreaks(t.parent.context.$implicit.name))})}function Yd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","config-study-additional-information"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Delete Requested"]))],null,null)}function Zd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","config-study-additional-information"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,2).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(2,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(3,3),(n()(),e.Mb(-1,null,["Worksheet"]))],function(n,t){n(t,2,0,n(t,3,0,"/worksheets",t.parent.context.$implicit.tenantId,t.parent.context.$implicit.parentWorksheetId))},function(n,t){n(t,1,0,e.Eb(t,2).target,e.Eb(t,2).href)})}function Xd(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,1,"small",[["class","overflow-ellipsis"]],[[8,"title",0]],null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,2,0,e.wb(1,"",t.context.$implicit.name,"")),n(t,3,0,t.context.$implicit.name)})}function nb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","custom-property-names"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Xd)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.parent.context.$implicit.properties)},null)}function tb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,12,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(2,0,null,null,1,"span",[["class","progress-icon"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,0,"i",[["class","fa fa-cloud-upload"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(5,0,null,null,6,"div",[["class","progress"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(7,0,null,null,3,"div",[["class","progress-bar"]],null,null,null,null,null)),e.tb(8,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(9,{width:0}),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "]))],function(n,t){n(t,8,0,n(t,9,0,100*t.parent.parent.context.$implicit.dispatchedJobCount/t.parent.parent.context.$implicit.jobCount+"%"))},null)}function lb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    Building...\n                  "]))],null,null)}function eb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    Waiting...\n                  "]))],null,null)}function ub(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,lb)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,eb)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "]))],function(n,t){n(t,3,0,t.parent.parent.context.$implicit.jobCount),n(t,6,0,!t.parent.parent.context.$implicit.jobCount)},null)}function rb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,tb)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,ub)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.parent.context.$implicit.dispatchedJobCount),n(t,6,0,!t.parent.context.$implicit.dispatchedJobCount)},null)}function ib(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n                  ","\n                "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.creationDate)})}function ob(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,1,"small",[],[[8,"title",0]],null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,2,0,e.wb(1,"",t.context.$implicit.value,"")),n(t,3,0,t.context.$implicit.value)})}function sb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","custom-property-values"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,ob)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.parent.context.$implicit.properties)},null)}function ab(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(2,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,4),(n()(),e.Mb(5,null,["\n                      ","\n                    "])),(n()(),e.Mb(-1,null,["\n                  "]))],function(n,t){n(t,3,0,n(t,4,0,"/studies",t.parent.parent.context.$implicit.tenantId,t.parent.parent.context.$implicit.studyId,"jobs"))},function(n,t){n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href),n(t,5,0,t.parent.parent.context.$implicit.completedJobCount)})}function cb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n                    ","\n                  "]))],null,function(n,t){n(t,1,0,t.parent.parent.context.$implicit.completedJobCount)})}function db(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,ab)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,cb)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "]))],function(n,t){var l=t.component;n(t,3,0,l.canNavigate),n(t,6,0,!l.canNavigate)},null)}function bb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,[""," / ",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.completedJobCount,t.parent.context.$implicit.jobCount)})}function fb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,0,0,e.wb(1,"time-name-",t.component.cssSanitize(t.parent.context.$implicit.name),"")),n(t,1,0,t.parent.context.$implicit.executionTime)})}function pb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"div",[["class","progress"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,5,"div",[["class","progress-bar"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"bg-danger":0}),e.tb(5,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(6,{width:0}),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){n(t,3,0,"progress-bar",n(t,4,0,t.parent.parent.context.$implicit.hasErrors||t.parent.parent.context.$implicit.completedJobCount!==t.parent.parent.context.$implicit.succeededJobCount)),n(t,5,0,n(t,6,0,100*t.parent.parent.context.$implicit.completedJobCount/t.parent.parent.context.$implicit.jobCount+"%"))},null)}function hb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,pb)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,!t.parent.context.$implicit.isCompleted)},null)}function gb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"div",[["class","study-type-area"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              ",""])),(n()(),e.ub(2,0,null,null,3,"a",[["class","study-sim-version"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,1),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,n(t,4,0,t.component.RELEASE_NOTES_URL))},function(n,t){n(t,1,0,t.parent.context.$implicit.studyTypeName),n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href),n(t,5,0,t.parent.context.$implicit.simVersion)})}function yb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","study-type-area"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              ",""])),(n()(),e.ub(2,0,null,null,1,"span",[["class","study-sim-version"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.studyTypeName),n(t,3,0,t.parent.context.$implicit.simVersion)})}function mb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"input",[["type","checkbox"]],[[8,"className",0],[8,"id",0],[8,"checked",0]],[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=0!=(n.parent.context.$implicit.isSelected=!n.parent.context.$implicit.isSelected)&&e),e},null,null))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(2,"select-item-checkbox select-name-",l.cssSanitize(t.parent.context.$implicit.name)," select-username-",l.cssSanitize(t.parent.context.$implicit.username),""),e.wb(1,"select-",t.parent.context.$implicit.studyId,"-checkbox"),t.parent.context.$implicit.isSelected)})}function vb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function wb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-support-session-hover-launcher",[],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==(n.parent.context.$implicit.supportSession=l)&&e),e},Ys,Ws)),e.tb(1,49152,null,0,Ks,[],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"})],function(n,t){n(t,1,0,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.studyId,"study","definition",t.parent.context.$implicit.supportSession)},null)}function Mb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,91,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Bd)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Kd)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,16,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Wd)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Gd)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Yd)),e.tb(17,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Zd)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,nb)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(26,0,null,null,10,"td",[["class","created-column custom-property-values-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,rb)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,ib)),e.tb(32,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,sb)),e.tb(35,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(38,0,null,null,18,"td",[["class","job-count-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(40,0,null,null,15,"div",[["class","job-count-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(42,0,null,null,1,"cs-view-credits",[["class","view-credits-component"]],null,null,null,la,Xs)),e.tb(43,49152,null,0,Zs,[],{computeCredits:[0,"computeCredits"],storageCredits:[1,"storageCredits"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(45,0,null,null,9,"span",[],null,null,null,null,null)),e.tb(46,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{ngClass:[0,"ngClass"]},null),e.Hb(47,{"success-job-count":0,"failure-job-count":1}),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,db)),e.tb(50,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,bb)),e.tb(53,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(58,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,fb)),e.tb(61,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,hb)),e.tb(64,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(67,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,gb)),e.tb(70,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,yb)),e.tb(73,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(76,0,null,null,1,"td",[["class","hidden-md-down"]],null,null,null,null,null)),(n()(),e.Mb(77,null,["\n            ","\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(79,0,null,null,11,"td",[["class","icon-cell"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,mb)),e.tb(82,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,vb)),e.tb(85,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,wb)),e.tb(89,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,l.canNavigate&&!t.context.$implicit.isCompleted),n(t,6,0,l.canNavigate&&t.context.$implicit.isCompleted),n(t,11,0,l.canNavigate),n(t,14,0,!l.canNavigate),n(t,17,0,t.context.$implicit.deleteRequested),n(t,20,0,t.context.$implicit.parentWorksheetId),n(t,23,0,l.showProperties),n(t,29,0,t.context.$implicit.isBuilding),n(t,32,0,!t.context.$implicit.isBuilding),n(t,35,0,l.showProperties),n(t,43,0,t.context.$implicit.succeededComputeCredits,t.context.$implicit.succeededStorageCredits),n(t,46,0,n(t,47,0,t.context.$implicit.isCompleted&&t.context.$implicit.completedJobCount===t.context.$implicit.succeededJobCount&&!t.context.$implicit.hasErrors,t.context.$implicit.hasErrors||t.context.$implicit.completedJobCount!==t.context.$implicit.succeededJobCount)),n(t,50,0,t.context.$implicit.isCompleted||t.context.$implicit.hasErrors),n(t,53,0,!t.context.$implicit.isCompleted&&!t.context.$implicit.hasErrors),n(t,61,0,t.context.$implicit.isCompleted||t.context.$implicit.hasErrors),n(t,64,0,!t.context.$implicit.isCompleted&&!t.context.$implicit.hasErrors),n(t,70,0,l.canNavigate),n(t,73,0,!l.canNavigate),n(t,82,0,t.context.$implicit.isOwner&&!t.context.$implicit.isDeleting),n(t,85,0,t.context.$implicit.isDeleting),n(t,89,0,t.context.$implicit.supportSession.session)},function(n,t){n(t,77,0,t.context.$implicit.username)})}function Cb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.loadNext()&&e),e},null,null)),(n()(),e.Mb(1,null,["\n        ","\n      "]))],null,function(n,t){var l=t.component;n(t,0,0,l.isReloading),n(t,1,0,l.isReloading?"Loading...":"More...")})}function Sb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,76,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-list-filter",[],null,[[null,"filterChanged"]],function(n,t,l){var e=!0;return"filterChanged"===t&&(e=!1!==n.component.filterChanged(l)&&e),e},hd,Wc)),e.tb(3,245760,null,0,$a,[Zt.e,U,Qr,Qc,Kc,O,On],{initialFilter:[0,"initialFilter"],loadGroupResults:[1,"loadGroupResults"],disableForm:[2,"disableForm"],tenantId:[3,"tenantId"],filterConfigType:[4,"filterConfigType"],canPersistFilter:[5,"canPersistFilter"]},{filterChanged:"filterChanged"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,64,"div",[["class","filtered-list"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,61,"table",[["class","table studies-table last-item"],["id","studies-table"]],null,[[null,"copy"]],function(n,t,l){var e=!0;return"copy"===t&&(e=!1!==n.component.onCopy(l)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,52,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,49,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Ud)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,4,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Name\n            "])),(n()(),e.ub(18,0,null,null,1,"a",[["class","toggle-properties-button"],["href","javascript:void(0)"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleProperties()&&e),e},null,null)),(n()(),e.Mb(19,null,[""," Properties"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(22,0,null,null,1,"th",[["class","created-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Created"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(25,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Jobs"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(28,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Time"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(31,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Type"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(34,0,null,null,1,"th",[["class","hidden-md-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Owner"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(37,0,null,null,22,"th",[["class","double-icon-cell"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(39,0,null,null,7,"button",[["class","btn btn-secondary btn-icon btn-icon-only btn-xsm"],["id","select-all-studies-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleSelectAll()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Qd)),e.tb(42,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Jd)),e.tb(45,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(48,0,null,null,10,"button",[["class","btn btn-secondary btn-icon btn-xsm"],["id","delete-studies-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.deleteSelected()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,$d)),e.tb(51,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Hd)),e.tb(54,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,qd)),e.tb(57,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(63,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Mb)),e.tb(66,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(71,0,null,null,4,"p",[["class","table-footer-buttons"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Cb)),e.tb(74,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,l.filter,l.getLoadGroupResultsDelegate,l.isReloading,l.currentIdentity.tenantId,"studyFilter",l.canPersistFilter),n(t,14,0,l.canNavigate),n(t,42,0,!l.canSelectAll),n(t,45,0,l.canSelectAll),n(t,51,0,!l.isDeleting&&!l.shouldUndelete),n(t,54,0,!l.isDeleting&&l.shouldUndelete),n(t,57,0,l.isDeleting),n(t,66,0,l.studies,l.trackById),n(t,74,0,null==l.lastResult?null:null==l.lastResult.queryResults?null:l.lastResult.queryResults.hasMoreResults)},function(n,t){n(t,19,0,t.component.showProperties?"Hide":"Show")})}function Ib(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","view-studies-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Nd)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Sb)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,6,0,!l.studies),n(t,9,0,l.studies)},null)}var xb=function(){function n(n,t,l){this.router=l,this.tenantId=t.getTenantId(n),this.userId=t.getUserId(n)}return n.prototype.studySelected=function(n){this.router.navigate(["/studies",n.tenantId,n.studyId])},n}(),Ob=e.sb({encapsulation:0,styles:[[""]],data:{}});function kb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,"div",[["class","container-fluid"],["id","view-studies-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,23,"div",[["class","list-card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","list-card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Studies"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,17,"div",[["class","list-card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,11,"div",[["class","list-card-padded"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,8,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,14).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(14,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(15,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(17,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(22,0,null,null,1,"cs-view-studies",[],null,[[null,"studySelected"]],function(n,t,l){var e=!0;return"studySelected"===t&&(e=!1!==n.component.studySelected(l)&&e),e},Ib,Dd)),e.tb(23,245760,null,0,Cd,[Sd,O,qn,xd,q,ce,jt,$s,pr.c,kd,Ed,jd,Fd,Ad,Ld,On],null,{studySelected:"studySelected"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,14,0,n(t,15,0,"/")),n(t,23,0)},function(n,t){n(t,13,0,e.Eb(t,14).target,e.Eb(t,14).href)})}var Tb=e.qb("ng-component",xb,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,kb,Ob)),e.tb(1,49152,null,0,xb,[b.a,yl,b.m],null,null)],null,null)},{},{},[]),Pb=function(n,t,l,e){this.shortName=n,this.materialized=t,this.loader=l,this.additionalData=e},Eb=function(n,t){this.deleteRequested=n,this.parentWorksheetId=t},_b=function(){function n(n,t,l,e,u){this.configLoaderDialog=n,this.compareConfigDialog=t,this.prompt=l,this.getSimVersion=e,this.getFriendlyErrorAndLog=u,this.compactButton=!1}return n.prototype.ngOnInit=function(){},n.prototype.execute=function(){return n=this,void 0,l=function(){var n,t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,5]),[4,this.configLoaderDialog.loadConfig(this.configType,this.simVersion||this.getSimVersion.currentSimVersion,void 0,void 0,!1,!0)];case 1:return(n=u.sent())?(t=[this.getConfigOrConfigLoader()],n.configId&&t.push(new Pb("selected",n.config,void 0)),[4,this.compareConfigDialog.compare(this.configType,t,this.saveOutputConfigHandler)]):[2];case 2:return u.sent(),[3,5];case 3:return l=u.sent(),e=this.getFriendlyErrorAndLog.execute(l),[4,this.prompt.show(e,"Error")];case 4:return u.sent(),[3,5];case 5:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),Vb=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),jb=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Rb=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Fb=function(){function n(n){this.dialogManager=n}return n.prototype.compare=function(n,t,l,e){return jb(this,void 0,void 0,function(){var u;return Rb(this,function(r){switch(r.label){case 0:return n instanceof Bn&&(n=n.singularKey),(u=new Ab(n,t,l,e||"Save Output")).dismissData=new Db,[4,this.dialogManager.showSecondaryDialog(u)];case 1:return[2,r.sent()]}})})},n.prototype.compareDeprecated=function(n,t,l,e,u,r){return void 0===u&&(u="first"),void 0===r&&(r="second"),jb(this,void 0,void 0,function(){var i;return Rb(this,function(o){switch(o.label){case 0:return n instanceof Bn&&(n=n.singularKey),i=new Lb(n,t,l,e,u,r),[4,this.dialogManager.showSecondaryDialog(i)];case 1:return[2,o.sent()]}})})},n}(),Ab=function(n){function t(t,l,e,u){var r=n.call(this)||this;return r.configType=t,r.configs=l,r.saveOutputConfigHandler=e,r.saveOutputButtonText=u,r}return Vb(t,n),t}(se),Lb=function(n){function t(t,l,e,u,r,i){var o=n.call(this)||this;return o.configType=t,o.first=l,o.second=e,o.title=u,o.firstTitle=r,o.secondTitle=i,o}return Vb(t,n),t}(se),Db=function(){},Nb=function(){function n(n,t){this.getTenantSimVersion=n,this.getUserSimVersion=t,this.changed=new e.n}return n.prototype.serviceOnInit=function(){var n=this;this.getUserSimVersion.changed.subscribe(function(){return n.onSimVersionChanged()}),this.getTenantSimVersion.changed.subscribe(function(){return n.onSimVersionChanged()})},n.prototype.onSimVersionChanged=function(){this.changed.emit(this.currentSimVersion)},Object.defineProperty(n.prototype,"currentSimVersion",{get:function(){return this.getUserSimVersion.currentSimVersion||this.getTenantSimVersion.currentSimVersion},enumerable:!0,configurable:!0}),n.prototype.execute=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return[4,this.getUserSimVersion.execute()];case 1:return(n=t.sent())?[3,3]:[4,this.getTenantSimVersion.execute()];case 2:n=t.sent(),t.label=3;case 3:return[2,n]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),Ub=e.sb({encapsulation:0,styles:[[""]],data:{}});function Qb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare to\u2026"]))],null,null)}function Jb(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"button",[["class","btn btn-smart btn-secondary clone-config-launcher"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.execute()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-icon":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Qb)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-secondary clone-config-launcher",n(t,2,0,l.compactButton)),n(t,7,0,!l.compactButton)},null)}function $b(n,t,l){var e=l?l.studyJobInput:t.study.data.definition;return e?e[n]||e.simConfig[n]:void 0}function Hb(n,t){var l=n+".";return ye.objectToList(t.study.properties).filter(function(n){return n.name.startsWith(l)}).map(function(n){return{name:n.name.substr(l.length),value:n.value}})}function qb(n,t){var l=t.study.notes,e=kt.get(n),u=new RegExp("(?:^|\n)(?:"+n+"|"+(e?e.titleName:n)+"):\\s*\\n([\\s\\S]*?)(?:[\\w\\d ]+:\\n|$)","i").exec(l);if(u&&2===u.length)return u[1].trim()}function Bb(n,t){void 0===t&&(t=!1);var l=ye.objectToList(n.config.properties);return new me(n.config.subType,n.config.userId,n.config.documentId,n.config.name,t?n.config.data.definition:n.config.data,ve.fromMutables(l),n.config.notes,n.convertedSimVersion,!1,void 0)}function zb(n,t,l,e){return new me(n,void 0,Gb(n,t),t,l,[],void 0,e,!1,void 0)}function Kb(n,t){return new me(un.telemetry,void 0,void 0,n,t,[],void 0,Od,!1,void 0)}function Wb(n,t){var l=t.study.data.definition,e=l.simConfig[n]||l[n];if(e){var u=t.study.data.sources?t.study.data.sources.find(function(t){return t.configType===n}):void 0,r=u?u.name:t.study.name,i=!(!u||!u.isEdited),o=Hb(n,t),s=qb(n,t);return new me(n,u?u.userId:void 0,u?u.configId:void 0,r,e,ve.fromMutables(o),s,t.convertedSimVersion,i,void 0)}}function Gb(n,t){var l=kt.get(n);if(l)return l.pluralKey+"/"+t+".json"}var Yb=function(){function n(n,t,l){this.studyStagingArea=n,this.compareConfigDialog=t,this.getFriendlyErrorAndLog=l}return n.prototype.ngOnInit=function(){var n=this;try{this.simVersion=this.jobResult?this.jobResult.convertedSimVersion:this.studyResult.convertedSimVersion;for(var t=(this.studyResult.study.data.sources||[]).filter(function(t){return n.getSourceConfig(t.configType)}).map(function(t){var l=n.updateNameFromExplorationChanges(t.name,t.configType);return new Zb(kt.get(t.configType).titleName,t.configType,t.userId,t.configId,l,t.isEdited)}),l=function(n){var t=n.study.data.definition,l=[];if(t){if(t.simConfig)for(var e=0,u=Object.keys(t.simConfig);e<u.length;e++){var r=u[e];0!==Object.keys(t.simConfig[r]).length&&l.push(r)}t.exploration&&l.push(un.exploration)}return l}(this.studyResult).map(function(t){var l=kt.get(t).titleName,e=n.updateNameFromExplorationChanges(l,t);return new Zb(l,t,void 0,void 0,e,!1)}),e=t.slice(),u=function(n){e.every(function(t){return t.typeKey!==n.typeKey})&&e.push(n)},r=0,i=l;r<i.length;r++)u(i[r]);this.sources=e,wt(this.sources,function(n){return n.typeKey})}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.updateNameFromExplorationChanges=function(n,t){if(this.jobResult){var l=this.jobResult.studyJob.data.changes.find(function(n){return n.path===t});l&&(n=l.savedConfig.name)}return n},n.prototype.ngOnChanges=function(n){this.ngOnInit()},n.prototype.stageSource=function(n){try{var t=this.getSourceConfig(n.typeKey);if(!t)throw new cl("Unknown study source type: "+n.typeKey);var l=Hb(n.typeKey,this.studyResult),e=qb(n.typeKey,this.studyResult);this.studyStagingArea.stage(n.typeKey,n.userId,n.configId,n.name,t,l,e,this.simVersion,n.isEdited)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.compareToStaged=function(n){return t=this,void 0,e=function(){var t,l,e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.studyStagingArea.getInput(n.typeKey,this.simVersion)];case 1:return t=r.sent(),(l=Wb(n.typeKey,this.studyResult))&&(e=this.getSourceConfig(n.typeKey),l=l.withData(e)),[4,this.compareConfigDialog.compare(n.typeKey,[new Pb("current",l,void 0),new Pb("staged",t,void 0)],void 0)];case 2:return r.sent(),[3,4];case 3:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,4];case 4:return[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n.prototype.getConfigOrConfigLoaderCallback=function(n){var t=this;return function(){return t.getConfigForCompare(n)}},n.prototype.getConfigForCompare=function(n){var t=Wb(n,this.studyResult);return new Pb("study input",t,void 0)},n.prototype.getSourceConfig=function(n){return $b(n,this.studyResult,this.jobResult)},n}(),Zb=function(n,t,l,e,u,r){this.type=n,this.typeKey=t,this.userId=l,this.configId=e,this.name=u,this.isEdited=r},Xb=e.sb({encapsulation:0,styles:[["td[_ngcontent-%COMP%]{vertical-align:middle}"]],data:{}});function nf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-pencil"]],[[8,"id",0]],null,null,null,null))],null,function(n,t){n(t,0,0,e.wb(1,"study-edited-",t.parent.context.$implicit.typeKey,"-icon"))})}function tf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,33,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["\n          ","\n          "])),(n()(),e.lb(16777216,null,null,1,null,nf)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageSource(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(15,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stage\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(19,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(21,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToStaged(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(23,0,null,null,0,"i",[["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare to Staged\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(27,0,null,null,5,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(29,0,null,null,2,"cs-compare-to-something-button",[],null,null,null,Jb,Ub)),e.tb(30,114688,null,0,_b,[ha,Fb,ce,Nb,On],{configType:[0,"configType"],getConfigOrConfigLoader:[1,"getConfigOrConfigLoader"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,8,0,t.context.$implicit.isEdited),n(t,30,0,t.context.$implicit.typeKey,l.getConfigOrConfigLoaderCallback(t.context.$implicit.typeKey))},function(n,t){n(t,3,0,t.context.$implicit.type),n(t,6,0,t.context.$implicit.name),n(t,13,0,e.wb(1,"stage-",t.context.$implicit.typeKey,"-button")),n(t,21,0,e.wb(1,"compare-",t.context.$implicit.typeKey,"-button"))})}function lf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,34,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n    "," Inputs\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,28,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,25,"table",[["class","table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,16,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(11,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Type"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(19,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(21,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(23,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(27,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,tf)),e.tb(30,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,30,0,t.component.sources)},function(n,t){n(t,3,0,t.component.jobResult?"Job":"Study")})}var ef=function(){function n(n,t,l,e,u){this.studyStagingArea=n,this.getSimVersion=t,this.router=l,this.routerDataCache=e,this.getFriendlyErrorAndLog=u}return n.prototype.ngOnInit=function(){var n=this;try{if(!this.studyResult)return;this.simVersion=this.jobResult?this.jobResult.convertedSimVersion:this.studyResult.convertedSimVersion,this.isTelemetryJob=this.studyResult.study.data.studyType===bn.telemetry;var t=this.studyResult.study.data.sources.filter(function(n){return n.configType===un.telemetry}).filter(function(t){return n.getSourceConfig(t.configType)}).map(function(t){var l=t.name;if(n.jobResult){var e=n.jobResult.studyJob.data.changes.find(function(n){return n.path===t.configType});e&&(l=e.savedConfig.name)}return new Zb(kt.get(t.configType).titleName,t.configType,t.userId,t.configId,l,t.isEdited)});if(!t.length)return;this.telemetrySource=t[0]}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.execute=function(){return n=this,void 0,l=function(){var n,t,l,e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!this.telemetrySource)return[2];if(!(t=this.getSourceConfig((n=this.telemetrySource).typeKey)))throw new cl("Telemetry config not found.");return this.isRedirecting=!0,l=Hb(n.typeKey,this.studyResult),e=qb(n.typeKey,this.studyResult)||this.studyResult.study.notes,[4,this.studyStagingArea.getAsIfStaged(n.typeKey,n.userId,n.configId,n.name,t,l,e,this.simVersion,n.isEdited,this.getSimVersion.currentSimVersion)];case 1:return u=i.sent(),this.routerDataCache.push(u),[4,this.router.navigate(["/configs",kt.get(n.typeKey).pluralKey,"create"])];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,4];case 4:return this.isRedirecting=!1,[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.getSourceConfig=function(n){return $b(n,this.studyResult,this.jobResult)},n}(),uf=function(){function n(n){var t=this;this.router=n,this.router.events.subscribe(function(n){return t.handleRouteChange(n)})}return n.prototype.handleRouteChange=function(n){n instanceof b.e&&(++this.navigationCounter,this.navigationCounter>=2&&(this.data=void 0))},n.prototype.push=function(n){this.data=n,this.navigationCounter=0},n.prototype.pop=function(){var n=this.data;return this.data=void 0,n},n}(),rf=e.sb({encapsulation:0,styles:[[""]],data:{}});function of(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function sf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-repeat"]],null,null,null,null,null))],null,null)}function af(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit Telemetry"]))],null,null)}function cf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,12,"button",[["class","btn btn-smart btn-primary edit-and-run-telemetry-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.execute()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-icon":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,of)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,sf)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,af)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-primary edit-and-run-telemetry-button",n(t,2,0,l.compactButton)),n(t,5,0,l.isRedirecting),n(t,8,0,!l.isRedirecting),n(t,11,0,!l.compactButton)},null)}function df(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,cf)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.isTelemetryJob&&l.telemetrySource),n(t,4,0,l.errorMessage)},null)}var bf=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ff=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},pf=function(){function n(n,t,l,e,u,r,i,o,s,a,c){this.studyStub=n,this.json=t,this.resultsStagingArea=l,this.timer=e,this.canopyPusher=u,this.jobViewModelFactory=r,this.stageStudy=i,this.significantSimVersions=o,this.downloadStudy=s,this.getSimVersion=a,this.getFriendlyErrorAndLog=c,this.dashboardId="dashboard-"+(""+Math.random()).substring(2)}return n.prototype.ngOnInit=function(){var n=this;this.studiesProgressSubscription=this.canopyPusher.studiesProgress.subscribe(function(t){return n.onStudiesProgress(t)}),this.loadTask=this.load()},n.prototype.ngOnDestroy=function(){this.studiesProgressSubscription.unsubscribe(),this.viewer&&this.viewer.dispose()},n.prototype.load=function(){return bf(this,void 0,void 0,function(){var n,t,l,e;return ff(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),this.isLoaded=!1,n=this.studyStub.getStudyJob(this.tenantId,this.studyId,this.jobId,this.getSimVersion.currentSimVersion),t=void 0,this.studyResultTask?[4,this.studyResultTask]:[3,2];case 1:return t=u.sent(),[3,4];case 2:return[4,this.studyStub.getStudy(this.tenantId,this.studyId,this.getSimVersion.currentSimVersion)];case 3:t=u.sent(),u.label=4;case 4:return[4,n];case 5:return l=u.sent(),this.userId=l.studyJob.userId,this.jobViewModel=this.jobViewModelFactory.createFromData(l,t),this.studyName=t.study.name,this.studyJobCount=t.study.data.jobCount,this.setJobSummary(t,l,!l.studyJobInput),this.isLoaded=!0,this.downloadToken=this.downloadStudy.getStudyJobTokenUri(this.tenantId,this.studyId,this.jobId,t.study.name,l.studyJob.name),[3,7];case 6:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,7];case 7:return[2]}})})},n.prototype.reload=function(){return bf(this,void 0,void 0,function(){return ff(this,function(n){switch(n.label){case 0:return this.isLoaded=!1,this.job=void 0,this.jobViewModel=void 0,[4,this.timer.yield()];case 1:return n.sent(),this.loadTask=this.load(),[4,this.loadTask];case 2:return n.sent(),[2]}})})},n.prototype.setJobSummary=function(n,t,l){var e=t.studyJob;this.jobJson=this.json.stringify(e);var u=[];e.data.definition?u=this.json.flatten(e.data.definition):e.data.changes&&(u=e.data.changes.map(function(n){return{key:n.path,value:n.savedConfig?n.savedConfig.name:n.value}})),this.job=new hf(e.name,e.data.state===vn.successful,e.data.state===vn.failed,1===n.study.data.jobCount,u,t,n,e.documentId.substring(n.study.documentId.length+1),l)},n.prototype.stageToResultsStagingArea=function(){try{this.resultsStagingArea.addSource(new fo(this.tenantId,this.studyId,this.studyName,this.jobId,this.job.name))}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.stageToStudyStagingArea=function(){return bf(this,void 0,void 0,function(){var n;return ff(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.stageStudy.toStudyStagingArea(this.tenantId,this.studyId,this.studyName,this.studyJobCount,so(this.jobId))];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.downloadJob=function(n,t){return this.downloadStudy.downloadJob(this.tenantId,this.studyId,this.jobId,this.job.studyResult.study.name,this.job.name,n,t)},n.prototype.onStudiesProgress=function(n){return bf(this,void 0,void 0,function(){var t,l,e,u,r;return ff(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.loadTask?[4,this.loadTask]:[3,2];case 1:i.sent(),i.label=2;case 2:if(!this.job||this.job.isSuccessful||this.job.isFailed)return[2];for(t=function(n){if(n.studyId!==l.studyId)return"continue";var t=l.job.jobResult.studyJob.data.index;(n.successfulJobs.some(function(n){return n.i===t})||n.failedJobs.some(function(n){return n.i===t})||n.completedJobCount===l.job.studyResult.study.data.jobCount)&&l.reload()},l=this,e=0,u=n.items;e<u.length;e++)t(u[e]);return[3,4];case 3:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,4];case 4:return[2]}})})},n}(),hf=function(n,t,l,e,u,r,i,o,s){this.name=n,this.isSuccessful=t,this.isFailed=l,this.isSingleJob=e,this.flattenedDefinition=u,this.jobResult=r,this.studyResult=i,this.jobIndex=o,this.isPostProcessor=s},gf=function(){function n(n){this.getFriendlyErrorAndLog=n,this.showPostProcessor=!1,this.changed=new e.n,this.selectedJob=null,this.showStudyName=!0}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t,l,e,u,r,i,o=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(s){switch(s.label){case 0:return s.trys.push([0,7,8,9]),this.isLoading=!0,n=[],t=this.jobs.map(function(n){return n.jobName.tryLoad()}),[4,Promise.all(t)];case 1:s.sent(),l=0,e=this.jobs,s.label=2;case 2:return l<e.length?[4,(r=e[l]).jobName.tryLoad()]:[3,6];case 3:return s.sent(),[4,r.studyName.tryLoad()];case 4:s.sent(),(this.showPostProcessor||"Post Processor"!==r.jobName.value)&&n.push(r),s.label=5;case 5:return l++,[3,2];case 6:return this.filteredJobs=n,this.filteredJobs.length>0&&(u=this.filteredJobs[0].studyName.value,this.showStudyName=this.filteredJobs.some(function(n){return n.studyName.value!==u}),r=this.filteredJobs[0],this.jobSelectorState&&this.jobSelectorState.selectedJob&&-1!==this.filteredJobs.indexOf(this.jobSelectorState.selectedJob)&&(r=this.jobSelectorState.selectedJob),this.selectJob(r)),this.jobSelectorState&&this.jobSelectorState.changed.subscribe(function(n){return o.selectJob(n)}),[3,9];case 7:return i=s.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(i),[3,9];case 8:return this.isLoading=!1,[7];case 9:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.selectJob=function(n){try{if(-1===this.filteredJobs.indexOf(n)||this.selectedJob===n)return;this.selectedJob=n,this.changed.emit(n),this.jobSelectorState&&(this.jobSelectorState.selectedJob=n)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n}(),yf=e.sb({encapsulation:0,styles:[[".job-selector-container[_ngcontent-%COMP%]{margin-bottom:1rem}.job-selector-container[_ngcontent-%COMP%]   .job-selector[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.25rem;margin-top:1.5rem}.job-selector-container[_ngcontent-%COMP%]   .job-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;margin-top:.5rem}.job-selector-container[_ngcontent-%COMP%]   .job-selector-error-message[_ngcontent-%COMP%], .job-selector-container[_ngcontent-%COMP%]   .job-selector-loader[_ngcontent-%COMP%]{margin-top:1rem}"]],data:{}});function mf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,[""," / "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.studyName.value)})}function vf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"button",[["class","btn"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.selectJob(n.context.$implicit)&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,mf)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(6,null,["","\n    "]))],function(n,t){var l=t.component;n(t,1,0,"btn",n(t,2,0,t.context.$implicit===l.selectedJob,t.context.$implicit!==l.selectedJob)),n(t,5,0,l.showStudyName)},function(n,t){n(t,6,0,t.context.$implicit.jobName.value)})}function wf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","job-selector"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job:"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,vf)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,6,0,t.component.filteredJobs)},null)}function Mf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","job-selector-loader"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[["id","job-selector-loader"]],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n  "]))],null,null)}function Cf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","job-selector-error-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,t.component.errorMessage)},null)}function Sf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","container-fluid job-selector-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,wf)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Mf)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Cf)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,(null==l.filteredJobs?null:l.filteredJobs.length)>1&&!l.isLoading),n(t,6,0,l.isLoading&&!l.errorMessage),n(t,9,0,l.errorMessage)},null)}var If,xf=function(){function n(n){this.getFriendlyErrorAndLog=n,this.hasBeenActivated=!1,this.isLoaded=!1}return n.prototype.ngOnInit=function(){var n=this;this.tab?(this.tab.activated.subscribe(function(){return n.onActivated()}),this.tab.isActive&&this.onActivated()):this.onActivated()},n.prototype.onActivated=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.hasBeenActivated?[2]:(this.hasBeenActivated=!0,[4,this.load()]);case 1:return t.sent(),this.isLoaded=!0,[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),Of=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),kf=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Tf=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Pf=function(n){function t(t){var l=n.call(this,t)||this;return l.logFileType=If.warnings,l.collapsible=!1,l.job=null,l}return Of(t,n),Object.defineProperty(t.prototype,"alertType",{get:function(){switch(this.logFileType){case If.info:return"info";default:return"warning"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazy",{get:function(){switch(this.logFileType){case If.info:return this.job.info;default:return this.job.warnings}},enumerable:!0,configurable:!0}),t.prototype.load=function(){return kf(this,void 0,void 0,function(){return Tf(this,function(n){switch(n.label){case 0:return this.job?[4,this.lazy.tryLoad()]:[3,3];case 1:return n.sent(),[4,this.job.jobMetadataResult.tryLoad()];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.selectJob=function(n){return kf(this,void 0,void 0,function(){var t;return Tf(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.job=n,this.isLoaded?[4,this.load()]:[3,2];case 1:l.sent(),l.label=2;case 2:return[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},t}(xf);!function(n){n.warnings="warnings",n.info="info"}(If||(If={}));var Ef=e.sb({encapsulation:0,styles:[[""]],data:{}});function _f(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"button",[["aria-controls","log-file-content"],["aria-expanded","false"],["class","btn btn-secondary"],["data-target","#log-file-content"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Toggle Warnings\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function Vf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],[[8,"id",0]],null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,function(n,t){n(t,0,0,e.wb(1,"job-",t.component.logFileType,"-loader"))})}function jf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function Rf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,jf)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,t.component.lazy.value)},function(n,t){n(t,0,0,e.wb(1,"alert alert-",t.component.alertType,""))})}function Ff(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["No messages found."])),(n()(),e.Mb(-1,null,["\n          "]))],null,null)}function Af(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Rf)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Ff)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,null==l.lazy.value?null:l.lazy.value.length),n(t,6,0,!(l.collapsible||null!=l.lazy.value&&l.lazy.value.length))},null)}function Lf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,_f)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,7,"div",[["class","show"],["id","log-file-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Vf)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,Af)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,l.collapsible&&(null==l.lazy.value?null:l.lazy.value.length)),n(t,8,0,!l.lazy.isLoaded),n(t,11,0,l.lazy.isLoaded)},null)}function Df(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-job-selector",[],null,[[null,"changed"]],function(n,t,l){var e=!0;return"changed"===t&&(e=!1!==n.component.selectJob(l)&&e),e},Sf,yf)),e.tb(3,114688,null,0,gf,[On],{jobs:[0,"jobs"],showPostProcessor:[1,"showPostProcessor"],jobSelectorState:[2,"jobSelectorState"]},{changed:"changed"}),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,7,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Lf)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.jobs,!0,l.jobSelectorState),n(t,8,0,l.errorMessage),n(t,11,0,l.job)},null)}function Nf(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,Df)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.hasBeenActivated)},null)}var Uf=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Qf=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Jf=function(){function n(n,t){this.unitsManager=n,this.setChannelUnitsDialog=t,this.decimalPlaces=4,this.simpleRender=!1}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.unitsManager.changed.subscribe(function(){n.updateSynchronous()}),this.unitsManager.isInitialized?this.updateSynchronous():this.update()},n.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},n.prototype.setUnits=function(){return Uf(this,void 0,void 0,function(){return Qf(this,function(n){switch(n.label){case 0:return[4,this.setChannelUnitsDialog.show(this.channelName,this.units)];case 1:return n.sent(),[2]}})})},n.prototype.setMouseOver=function(n){this.showUnits&&(this.isMouseOver=n)},n.prototype.updateSynchronous=function(){try{if(this.showUnits){var n=this.unitsManager.getUnitsSynchronous(this.channelName,this.units);this.renderValue=this.sanitizeUnits(n)}else{var t=this.unitsManager.getValueSynchronous(this.channelName,this.units,this.value);this.renderValue=this.formatValue(t)}}catch(n){this.renderValue=this.showUnits?this.sanitizeUnits(this.units):this.formatValue(this.value)}},n.prototype.update=function(){return Uf(this,void 0,void 0,function(){var n,t;return Qf(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.showUnits?[4,this.unitsManager.getUnits(this.channelName,this.units)]:[3,2];case 1:return n=l.sent(),this.renderValue=this.sanitizeUnits(n),[3,4];case 2:return[4,this.unitsManager.getValue(this.channelName,this.units,this.value)];case 3:t=l.sent(),this.renderValue=this.formatValue(t),l.label=4;case 4:return[3,6];case 5:return l.sent(),this.renderValue=this.showUnits?this.sanitizeUnits(this.units):this.formatValue(this.value),[3,6];case 6:return[2]}})})},n.prototype.cssSanitize=function(n){return or(n)},n.prototype.formatValue=function(n){return Rn.execute(n,this.decimalPlaces)},n.prototype.sanitizeUnits=function(n){return"()"===n?"-":n},n}(),$f=l("YJNB"),Hf=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},qf=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Bf=function(){function n(n,t){this.logError=n,this.userSettingsCache=t,this.changed=new e.n}return n.prototype.serviceOnInit=function(){var n=this;this.userSettingsCache.changed.subscribe(function(t){return n.updateUnitsCache(t)})},n.prototype.updateUnitsCache=function(n){return Hf(this,void 0,void 0,function(){var t,l;return qf(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n];case 1:return t=e.sent(),this.unitsCache=t?t.settings.channels.reduce(function(n,t){return n[t.name]=t.units,n},{}):{},this.changed.emit(void 0),[3,3];case 2:return l=e.sent(),this.logError.execute(l),[3,3];case 3:return[2]}})})},n.prototype.refresh=function(){return this.updateUnitsCache(this.userSettingsCache.get())},Object.defineProperty(n.prototype,"isInitialized",{get:function(){return!!this.unitsCache},enumerable:!0,configurable:!0}),n.prototype.ensureInitialized=function(){return Hf(this,void 0,void 0,function(){return qf(this,function(n){switch(n.label){case 0:return this.unitsCache?[3,2]:[4,this.updateUnitsCache(this.userSettingsCache.get())];case 1:n.sent(),n.label=2;case 2:return[2]}})})},n.prototype.getUnits=function(n,t){return Hf(this,void 0,void 0,function(){return qf(this,function(l){switch(l.label){case 0:return this.unitsCache?[3,2]:[4,this.updateUnitsCache(this.userSettingsCache.get())];case 1:l.sent(),l.label=2;case 2:return[2,this.unitsCache[n]||t]}})})},n.prototype.getUnitsSynchronous=function(n,t){if(!this.unitsCache)throw new sl("Units cache was not populated.");return this.unitsCache[n]||t},n.prototype.getValueSynchronous=function(n,t,l){var e=this.getUnitsSynchronous(n,t);return e&&e!==t?$f.a.convertValueBetweenUnits(l,t,e):l},n.prototype.getValue=function(n,t,l){return Hf(this,void 0,void 0,function(){var e;return qf(this,function(u){switch(u.label){case 0:return[4,this.getUnits(n,t)];case 1:return(e=u.sent())&&e!==t?[2,$f.a.convertValueBetweenUnits(l,t,e)]:[2,l]}})})},n}(),zf=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Kf=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t){return l=this,void 0,u=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return[4,this.dialogManager.showTertiaryDialog(new Wf(n,t))];case 1:return[2,l.sent()]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},n}(),Wf=function(n){function t(t,l){var e=n.call(this)||this;return e._channelName=t,e._currentUnits=l,e}return zf(t,n),Object.defineProperty(t.prototype,"channelName",{get:function(){return this._channelName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentUnits",{get:function(){return this._currentUnits},enumerable:!0,configurable:!0}),t}(se),Gf=function(){function n(n){this._units=n}return Object.defineProperty(n.prototype,"units",{get:function(){return this._units},enumerable:!0,configurable:!0}),n}(),Yf=e.sb({encapsulation:0,styles:[[".unit-renderer[_ngcontent-%COMP%]{position:relative}.unit-renderer[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden}.unit-renderer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:-.33rem;top:-.33rem}"]],data:{}});function Zf(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Mb(1,null,["\n  ","\n"]))],null,function(n,t){n(t,1,0,t.component.renderValue)})}function Xf(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(1,0,null,null,11,"span",[["class","unit-renderer"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(n,t,l){var e=!0,u=n.component;return"mouseenter"===t&&(e=!1!==u.setMouseOver(!0)&&e),"mouseleave"===t&&(e=!1!==u.setMouseOver(!1)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(3,0,null,null,3,"span",[],null,null,null,null,null)),e.tb(4,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{ngClass:[0,"ngClass"]},null),e.Hb(5,{hidden:0}),(n()(),e.Mb(6,null,["\n      ","\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,3,"button",[["class","btn btn-secondary btn-sm"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setUnits()&&e),e},null,null)),e.tb(9,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(10,{hidden:0}),(n()(),e.Mb(-1,null,["Set"])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,n(t,5,0,l.isMouseOver)),n(t,9,0,"btn btn-secondary btn-sm",n(t,10,0,!l.isMouseOver))},function(n,t){n(t,6,0,t.component.renderValue)})}function np(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,Zf)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(0,[["standard",2]],null,0,null,Xf)),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.simpleRender,e.Eb(t,3))},null)}var tp=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),lp=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ep=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},up=function(n){function t(t){var l=n.call(this,t)||this;return l.job=null,l.ScalarResultType=rp,l}return tp(t,n),t.prototype.getResults=function(n,t){switch(t){case rp.all:return n.results;case rp.standard:return n.standardResults;case rp.constraint:return n.constraintResults;case rp.setup:return n.setupResults}return[]},Object.defineProperty(t.prototype,"hasConstraintResults",{get:function(){return!!this.job.scalarResults.value&&this.job.scalarResults.value.some(function(n){return n.constraintResults.length>0})},enumerable:!0,configurable:!0}),t.prototype.load=function(){return lp(this,void 0,void 0,function(){return ep(this,function(n){switch(n.label){case 0:return this.job?[4,this.job.scalarResults.tryLoad()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.selectJob=function(n){return lp(this,void 0,void 0,function(){var t;return ep(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.job=n,this.isLoaded?[4,this.load()]:[3,2];case 1:l.sent(),l.label=2;case 2:return[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},t}(xf),rp=function(n){return n[n.all=0]="all",n[n.standard=1]="standard",n[n.constraint=2]="constraint",n[n.setup=3]="setup",n}({}),ip=e.sb({encapsulation:0,styles:[[".scalar-result-type-header[_ngcontent-%COMP%]{margin-top:2rem}"]],data:{}});function op(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["id","job-scalar-results-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function sp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            No scalar results found.\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],null,null)}function ap(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","scalar-result-type-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Constraint Scalar Results\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(5,16777216,null,null,3,null,null,null,null,null,null,null)),e.tb(6,540672,null,0,f.s,[e.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Hb(7,{sourceType:0}),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,6,0,n(t,7,0,t.component.ScalarResultType.constraint),e.Eb(t.parent.parent.parent.parent.parent,3))},null)}function cp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,ap)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(5,0,null,null,1,"h1",[["class","scalar-result-type-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Scalar Results\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,16777216,null,null,3,null,null,null,null,null,null,null)),e.tb(9,540672,null,0,f.s,[e.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Hb(10,{sourceType:0}),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,l.hasConstraintResults),n(t,9,0,n(t,10,0,l.ScalarResultType.standard),e.Eb(t.parent.parent.parent.parent,3))},null)}function dp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,sp)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,cp)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,!l.job.scalarResults.value||!l.job.scalarResults.value.length),n(t,6,0,l.job.scalarResults.value&&l.job.scalarResults.value.length)},null)}function bp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,op)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,dp)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,!l.job.scalarResults.isLoaded),n(t,6,0,l.job.scalarResults.isLoaded)},null)}function fp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-job-selector",[],null,[[null,"changed"]],function(n,t,l){var e=!0;return"changed"===t&&(e=!1!==n.component.selectJob(l)&&e),e},Sf,yf)),e.tb(3,114688,null,0,gf,[On],{jobs:[0,"jobs"],jobSelectorState:[1,"jobSelectorState"]},{changed:"changed"}),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,7,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,bp)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.jobs,l.jobSelectorState),n(t,8,0,l.errorMessage),n(t,11,0,l.job)},null)}function pp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(5,0,null,null,2,"td",[],[[8,"className",0]],null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"cs-unit",[],null,null,null,np,Yf)),e.tb(7,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],value:[2,"value"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(9,0,null,null,2,"td",[],[[8,"className",0]],null,null,null,null)),(n()(),e.ub(10,0,null,null,1,"cs-unit",[],null,null,null,np,Yf)),e.tb(11,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],value:[2,"value"],showUnits:[3,"showUnits"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(13,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(14,null,["",""])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,7,0,t.context.$implicit.name,t.context.$implicit.units,t.context.$implicit.value),n(t,11,0,t.context.$implicit.name,t.context.$implicit.units,t.context.$implicit.value,!0)},function(n,t){n(t,3,0,t.context.$implicit.name),n(t,5,0,e.wb(1,"scalar-results-row-",t.context.index,"-value")),n(t,9,0,e.wb(1,"scalar-results-row-",t.context.index,"-units")),n(t,14,0,t.context.$implicit.description)})}function hp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,34,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n        ","\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,28,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(7,0,null,null,25,"table",[["class","table last-item"]],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(9,0,null,null,16,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(11,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Value"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(19,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Units"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(22,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Description"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(27,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,pp)),e.tb(30,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,30,0,t.component.getResults(t.parent.context.$implicit,t.parent.parent.context.sourceType))},function(n,t){n(t,3,0,t.parent.context.$implicit.name),n(t,7,0,e.wb(1,"scalar-results-table-",t.parent.context.$implicit.simType,""))})}function gp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,hp)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,t.component.getResults(t.context.$implicit,t.parent.context.sourceType).length)},null)}function yp(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,gp)),e.tb(2,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,2,0,t.component.job.scalarResults.value)},null)}function mp(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,fp)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["tables",2]],null,0,null,yp)),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.hasBeenActivated)},null)}var vp=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),wp=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Mp=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Cp=function(n){function t(t){var l=n.call(this,t)||this;return l.job=null,l}return vp(t,n),t.prototype.load=function(){return wp(this,void 0,void 0,function(){var n,t,l,e,u;return Mp(this,function(r){switch(r.label){case 0:n=[],t=0,l=this.jobs,r.label=1;case 1:return t<l.length?[4,(e=l[t]).jobMetadataResult.tryLoad()]:[3,6];case 2:return r.sent(),[4,e.studyMetadataResult.tryLoad()];case 3:return r.sent(),u=!1,e.jobMetadataResult.value?e.jobMetadataResult.value.studyJob.data.state===vn.failed?u=!0:e.jobMetadataResult.value.studyJob.data.errorMessages&&(u=!!e.jobMetadataResult.value.studyJob.data.errorMessages.length):e.studyMetadataResult.value&&e.studyMetadataResult.value.study.data.errorMessages&&(u=!!e.studyMetadataResult.value.study.data.errorMessages.length),u?[4,e.diagnosis.tryLoad()]:[3,5];case 4:r.sent(),n.push(e),r.label=5;case 5:return t++,[3,1];case 6:return this.jobsWithErrors=n,[2]}})})},t.prototype.selectJob=function(n){return wp(this,void 0,void 0,function(){return Mp(this,function(t){try{this.job=n}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})})},t}(xf),Sp=e.sb({encapsulation:0,styles:[[""]],data:{}});function Ip(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["id","job-errors-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function xp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-job-selector",[],null,[[null,"changed"]],function(n,t,l){var e=!0;return"changed"===t&&(e=!1!==n.component.selectJob(l)&&e),e},Sf,yf)),e.tb(1,114688,null,0,gf,[On],{jobs:[0,"jobs"],showPostProcessor:[1,"showPostProcessor"],jobSelectorState:[2,"jobSelectorState"]},{changed:"changed"})],function(n,t){var l=t.component;n(t,1,0,l.jobsWithErrors,!0,l.jobSelectorState)},null)}function Op(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["No errors found."])),(n()(),e.Mb(-1,null,["\n    "]))],null,null)}function kp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n            ","\n          "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function Tp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,kp)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,5,0,t.component.job.jobMetadataResult.value.studyJob.data.errorMessages)},null)}function Pp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n            ","\n          "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function Ep(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Study"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Pp)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,8,0,t.component.job.studyMetadataResult.value.study.data.errorMessages)},null)}function _p(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n            ","\n          "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function Vp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Diagnosis"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,_p)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,8,0,t.component.job.diagnosis.value)},null)}function jp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","alert alert-danger job-failed-error"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(7,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job failed."])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Tp)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,Ep)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,Vp)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,12,0,null==l.job.jobMetadataResult.value?null:null==l.job.jobMetadataResult.value.studyJob.data.errorMessages?null:l.job.jobMetadataResult.value.studyJob.data.errorMessages.length),n(t,15,0,null==l.job.studyMetadataResult.value?null:null==l.job.studyMetadataResult.value.study.data.errorMessages?null:l.job.studyMetadataResult.value.study.data.errorMessages.length),n(t,18,0,null==l.job.diagnosis.value?null:l.job.diagnosis.value.length)},null)}function Rp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Ip)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,xp)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(8,0,null,null,10,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Op)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(13,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(14,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,jp)),e.tb(17,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,!l.jobsWithErrors&&!l.errorMessage),n(t,6,0,l.jobsWithErrors),n(t,11,0,l.jobsWithErrors&&0===l.jobsWithErrors.length),n(t,14,0,l.errorMessage),n(t,17,0,l.job)},null)}function Fp(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,Rp)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.hasBeenActivated)},null)}var Ap=l("gozj"),Lp=['"',"<",">","|","\0"].concat(Fn.range(1,31).map(function(n){return String.fromCharCode(n)}),[":","*","?","\\","/"]);function Dp(n){if(!n)return"file";for(var t=0,l=Lp;t<l.length;t++)n=n.replace(l[t],"_");return n}var Np=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Up=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Qp=function(){function n(n,t,l,e,u,r,i,o,s){this.identity=n,this.configStub=t,this.loadingDialog=l,this.saveAsDialog=e,this.getSimVersion=r,this.studyStagingArea=i,this.json=o,this.getFriendlyErrorAndLog=s,this.showAsCard=!1,this.fileLoader=u.create()}return n.prototype.ngOnInit=function(){this.currentIdentity=this.identity.get(),this.trackSource=this.studyResult.study.data.sources.find(function(n){return n.configType===un.track}),this.fileLoader.addStudy(this.currentIdentity.tenantId,this.studyResult.study.documentId,this.studyResult.accessInformation,this.studyResult.convertedSimVersion)},Object.defineProperty(n.prototype,"isSupportedStudyType",{get:function(){return"successful"===this.jobResult.studyJob.data.state&&("generateRacingLine"===this.studyResult.study.data.studyType||"quasiStaticLapWithGenerateRacingLine"===this.studyResult.study.data.studyType||"trackConverter"===this.studyResult.study.data.studyType||this.studyResult.study.data.studyType.startsWith("dynamicLap"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSaveToSource",{get:function(){return"successful"===this.jobResult.studyJob.data.state&&!!(this.trackSource&&this.trackSource.configId&&this.trackSource.userId)&&this.trackSource.userId===this.currentIdentity.userId&&!this.isSavingToSourceTrack},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSave",{get:function(){return"successful"===this.jobResult.studyJob.data.state&&!this.isSavingToSourceTrack},enumerable:!0,configurable:!0}),n.prototype.stageRacingLine=function(){return Np(this,void 0,void 0,function(){var n,t,l,e;return Up(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),this.errorMessage=void 0,[4,this.loadingDialog.showUntilFinished(this.fileLoader.loadTrackForStudyJob(this.studyResult.study.documentId,so(this.jobResult.studyJob.documentId)),"Loading...")];case 1:return n=u.sent(),this.removeTrackDataNotInSchema(n),t=Hb(un.track,this.studyResult),l=qb(un.track,this.studyResult),this.studyStagingArea.stage(un.track,this.trackSource?this.trackSource.userId:void 0,this.trackSource?this.trackSource.configId:void 0,this.getTrackConfigName(),n,t,l,this.studyResult.convertedSimVersion,!0),[3,3];case 2:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,3];case 3:return[2]}})})},n.prototype.saveRacingLineToSourceTrack=function(){return Np(this,void 0,void 0,function(){var n,t,l,e;return Up(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),this.errorMessage=void 0,this.isSavingToSourceTrack=!0,[4,this.loadingDialog.showUntilFinished(this.configStub.getConfig(this.currentIdentity.tenantId,n=this.trackSource.configId,void 0,this.getSimVersion.currentSimVersion),"Loading...")];case 1:return t=u.sent(),[4,this.loadingDialog.showUntilFinished(this.populateConfigRacingLineFromStudyJob(l=t.config.data),"Applying...")];case 2:return l=u.sent(),this.removeTrackDataNotInSchema(l),[4,this.loadingDialog.showUntilFinished(this.configStub.putConfig(this.currentIdentity.tenantId,n,{name:t.config.name,configType:t.config.subType,properties:ye.objectToList(t.config.properties),notes:t.config.notes,config:l,simVersion:t.convertedSimVersion}),"Saving...")];case 3:return u.sent(),[3,5];case 4:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,5];case 5:return this.isSavingToSourceTrack=!1,[2]}})})},n.prototype.populateConfigRacingLineFromStudyJob=function(n){return Np(this,void 0,void 0,function(){var t,l,e,u,r,i=this;return Up(this,function(o){switch(o.label){case 0:if(t=this.studyResult.study.documentId,l=so(this.jobResult.studyJob.documentId),!this.jobResult.studyJobInput.simTypes.length)throw new cl("No job sim types found for job.");return e=this.studyResult.study.data.studyType,[4,this.fileLoader.loadVectorMetadata(t,l,this.jobResult.studyJobInput.simTypes[0])];case 1:return u=o.sent(),[4,new zi.a(e,this.jobResult.studyJob.simVersion,u,function(n,e){return i.fileLoader.loadChannelDataByFileName(t,l,n,e)},function(n){return i.fileLoader.loadJsonDataByFileName(t,l,n)}).execute(n)];case 2:return r=o.sent(),this.removeTrackDataNotInSchema(r),[2,r]}})})},n.prototype.saveRacingLineToNewTrack=function(){return Np(this,void 0,void 0,function(){var n,t,l,e;return Up(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),this.errorMessage=void 0,[4,this.loadingDialog.showUntilFinished(this.fileLoader.loadTrackForStudyJob(this.studyResult.study.documentId,so(this.jobResult.studyJob.documentId)),"Loading...")];case 1:return n=u.sent(),this.removeTrackDataNotInSchema(n),t=Hb(un.track,this.studyResult),l=qb(un.track,this.studyResult),[4,this.saveAsDialog.showForContent(this.getTrackConfigName(),un.track,this.studyResult.convertedSimVersion,void 0,n,t,l)];case 2:return u.sent(),[3,4];case 3:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,4];case 4:return[2]}})})},n.prototype.downloadDeprecated=function(){return Np(this,void 0,void 0,function(){var n,t,l;return Up(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.errorMessage=void 0,[4,this.loadingDialog.showUntilFinished(this.fileLoader.loadTrackForStudyJob(this.studyResult.study.documentId,so(this.jobResult.studyJob.documentId)),"Loading...")];case 1:return n=e.sent(),t=this.json.stringify({simVersion:this.studyResult.study.simVersion,config:n}),Ap.b.download(Dp(this.getTrackConfigName())+".json",t,"application/json"),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},n.prototype.removeTrackDataNotInSchema=function(n){n.centreLine&&delete n.centreLine},n.prototype.getTrackConfigName=function(){return this.trackSource&&this.trackSource.name?this.trackSource.name:this.studyResult.study.name},n}(),Jp=function(){function n(){}return n.prototype.create=function(n){return new $p(n)},n}(),$p=function(){function n(n){this.dialog=n,this.loadingComplete=new e.n}return n.prototype.load=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.isLoading=!0,[4,this.dialog.action(this)];case 1:return n=l.sent(),this.loadingComplete.emit(n),[3,3];case 2:return t=l.sent(),this.loadingComplete.emit(new Hp(t)),[3,3];case 3:return this.isLoading=!1,[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.setStatus=function(n){this.status=n},n}(),Hp=function(n){this.error=n},qp=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Bp=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return[4,this.dialogManager.showTertiaryDialog(new zp(n))];case 1:if((t=l.sent())instanceof Hp)throw t.error;return[2,t]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n.prototype.showUntilFinished=function(n,t){return this.show(function(l){return l.setStatus(t),n})},n}(),zp=function(n){function t(t){var l=n.call(this)||this;return l._action=t,l}return qp(t,n),Object.defineProperty(t.prototype,"action",{get:function(){return this._action},enumerable:!0,configurable:!0}),t.prototype.dismiss=function(){},t}(se),Kp=e.sb({encapsulation:0,styles:[["td[_ngcontent-%COMP%]{vertical-align:middle}"]],data:{}});function Wp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,29,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-racing-line-hover-button"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-flag-checkered"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Save Racing Line\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,21,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-racing-line-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveRacingLineToSourceTrack()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,0,"i",[["class","fa fa-flag-checkered"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Save Racing Line to Source Track\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(14,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-racing-line-as-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveRacingLineToNewTrack()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,0,"i",[["class","fa fa-flag-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Save Racing Line as New Track\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(19,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","stage-racing-line-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageRacingLine()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(21,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stage\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(24,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-deprecated-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadDeprecated()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(26,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["(Deprecated) Download with Centre Line\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],null,function(n,t){var l=t.component;n(t,9,0,!l.canSaveToSource),n(t,14,0,!l.canSave),n(t,19,0,!l.canSave),n(t,24,0,!l.canSave)})}function Gp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Wp)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.isSupportedStudyType)},null)}function Yp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,58,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Apply Racing Line\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(5,0,null,null,52,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,49,"table",[["class","table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,13,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,10,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Type"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(18,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(20,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(24,0,null,null,31,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(26,0,null,null,28,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(28,0,null,null,1,"td",[["class","config-type-name"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Track"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(31,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(33,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","stage-racing-line-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageRacingLine()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(35,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stage\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(39,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(41,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-racing-line-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveRacingLineToSourceTrack()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(43,0,null,null,0,"i",[["class","fa fa-flag-checkered"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Save to Source Config\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(47,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(49,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-racing-line-as-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveRacingLineToNewTrack()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(51,0,null,null,0,"i",[["class","fa fa-flag-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Save as New Config\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],null,function(n,t){var l=t.component;n(t,33,0,!l.canSave),n(t,41,0,!l.canSaveToSource),n(t,49,0,!l.canSave)})}function Zp(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Yp)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.isSupportedStudyType)},null)}function Xp(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,Gp)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,Zp)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,!l.showAsCard),n(t,5,0,l.showAsCard),n(t,8,0,l.errorMessage)},null)}var nh=function(){function n(){}return n.prototype.execute=function(n,t){for(var l=0,e=t;l<e.length;l++){var u=e[l];this.applySingleChange(n,u.path,u.value)}},n.prototype.applySingleChange=function(n,t,l){if(Object(fe.isUndefined)(n))throw new cl("Path not found when applying constraint result.");if(0!==t.length){var e=t[0];1!==t.length?this.applySingleChange(n[e],t.slice(1),l):n[e]=l}},n}(),th=function(n,t){this.path=n,this.value=t},lh=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},eh=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},uh=function(){function n(n,t,l,e,u,r,i,o,s,a){this.getSimVersion=n,this.configStub=t,this.loadingDialog=l,this.studyStagingArea=e,this.compareConfigDialog=u,this.saveAsDialog=r,this.identity=i,this.json=o,this.applyChangesToConfig=s,this.getFriendlyErrorAndLog=a,this.isLoading=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return lh(this,void 0,void 0,function(){var n;return eh(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),this.job?(this.isLoading=!0,this.currentIdentity=this.identity.get(),[4,this.job.scalarResults.load()]):[2];case 1:return t.sent(),this.configChanges=this.extractConfigChanges(this.job.scalarResults.value),wt(this.configChanges,function(n){return n.configType}),this.configChanges.length?[4,this.job.studyResult.load()]:[3,3];case 2:t.sent(),this.sourcesByConfigType=this.job.studyResult.value.study.data.sources.reduce(function(n,t){return n[t.configType]=t,n},{}),t.label=3;case 3:return[3,5];case 4:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,5];case 5:return this.isLoading=!1,[2]}})})},n.prototype.compareToInput=function(n){return lh(this,void 0,void 0,function(){var t,l,e,u;return eh(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.errorMessage=void 0,[4,this.getConfigWithChanges(n)];case 1:return t=r.sent(),l=Wb(n.configType,this.job.studyResult.value),e=$b(n.configType,this.job.studyResult.value,this.job.jobResult.value),l=l.withData(e),[4,this.compareConfigDialog.compare(n.configType,[new Pb("input with constraint results applied",t,void 0),new Pb("input",l,void 0)],void 0)];case 2:return r.sent(),[3,4];case 3:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,4];case 4:return[2]}})})},n.prototype.stageWithChanges=function(n){return lh(this,void 0,void 0,function(){var t,l;return eh(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.errorMessage=void 0,[4,this.getConfigWithChanges(n)];case 1:return t=e.sent(),this.studyStagingArea.stageInput(t),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},n.prototype.saveChangesToSourceConfig=function(n){return lh(this,void 0,void 0,function(){var t,l,e,u,r;return eh(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.errorMessage=void 0,(t=this.sourcesByConfigType[n.configType])&&t.configId?[4,this.getConfigWithChanges(n)]:[2];case 1:return l=i.sent(),[4,this.loadingDialog.showUntilFinished(this.configStub.getConfig(this.currentIdentity.tenantId,e=t.configId,void 0,this.getSimVersion.currentSimVersion),"Loading source config...")];case 2:return u=i.sent(),[4,this.loadingDialog.showUntilFinished(this.configStub.putConfig(this.currentIdentity.tenantId,e,{name:u.config.name,configType:u.config.subType,properties:ye.objectToList(u.config.properties),notes:u.config.notes,config:l.data,simVersion:l.simVersion}),"Saving...")];case 3:return i.sent(),[3,5];case 4:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,5];case 5:return[2]}})})},n.prototype.saveChangesToNewConfig=function(n){return lh(this,void 0,void 0,function(){var t,l;return eh(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.errorMessage=void 0,[4,this.getConfigWithChanges(n)];case 1:return t=e.sent(),[4,this.saveAsDialog.showForContent(t.name,n.configType,t.simVersion,void 0,t.data,t.properties,t.notes)];case 2:return e.sent(),[3,4];case 3:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,4];case 4:return[2]}})})},n.prototype.canSaveToSource=function(n){if(!this.sourcesByConfigType)return!1;var t=this.sourcesByConfigType[n];return!!t&&!!t.configId&&!!t.userId&&t.userId===this.currentIdentity.userId},n.prototype.getConfigWithChanges=function(n){return lh(this,void 0,void 0,function(){var t;return eh(this,function(l){switch(l.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.job.jobResult.load(),"Please wait...")];case 1:return l.sent(),[4,this.loadingDialog.showUntilFinished(this.job.studyResult.load(),"Please wait...")];case 2:if(l.sent(),!(t=$b(n.configType,this.job.studyResult.value,this.job.jobResult.value)))throw new cl("Input config not found.");return t=this.json.clone(t),this.applyChangesToConfig.execute(t,n.changes),[2,Wb(n.configType,this.job.studyResult.value).withData(t,!0)]}})})},n.prototype.extractConfigChanges=function(n){for(var t=new Map,l=0,e=n;l<e.length;l++){var u=e[l];if(u.constraintResults.length)for(var r=0,i=u.constraintResults;r<i.length;r++){var o=i[r],s=o.constraintParameterPath.split(".");if(!(s.length<=2)){var a=s[0],c=s.slice(1),d=o.value,b=t.get(a);b||t.set(a,b=[]),b.push(new th(c,d))}}}for(var f=[],p=0,h=Array.from(t.entries());p<h.length;p++){var g=h[p],y=(d=g[1],kt.get(g[0]));y&&f.push(new rh(y.singularKey,y.titleName,d))}return f},n}(),rh=function(n,t,l){this.configType=n,this.name=t,this.changes=l},ih=e.sb({encapsulation:0,styles:[[".config-type-name[_ngcontent-%COMP%]{vertical-align:middle}"]],data:{}});function oh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function sh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,36,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[["class","config-type-name"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(7,0,null,null,3,"button",[["class","btn btn-secondary btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToInput(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(9,0,null,null,0,"i",[["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare to Input\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(13,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(15,0,null,null,3,"button",[["class","btn btn-secondary btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageWithChanges(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(17,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stage\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(21,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(23,0,null,null,3,"button",[["class","btn btn-secondary btn-smart"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveChangesToSourceConfig(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(25,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Save to Source Config\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(29,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(31,0,null,null,3,"button",[["class","btn btn-secondary btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveChangesToNewConfig(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(33,0,null,null,0,"i",[["class","fa fa-file-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Save as New Config\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.name),n(t,23,0,!l.canSaveToSource(t.context.$implicit.configType))})}function ah(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,33,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    Apply Constraint Scalar Results\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,27,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,24,"table",[["class","table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,15,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(11,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Type"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(18,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(22,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(26,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,sh)),e.tb(29,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,29,0,t.component.configChanges)},null)}function ch(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(1,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,oh)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,ah)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.errorMessage),n(t,4,0,l.isLoading),n(t,7,0,l.configChanges&&l.configChanges.length)},null)}var dh=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),bh=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},fh=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},ph=function(n){function t(t){var l=n.call(this,t)||this;return l.job=null,l}return dh(t,n),t.prototype.load=function(){return bh(this,void 0,void 0,function(){return fh(this,function(n){switch(n.label){case 0:return this.job?[4,this.job.studyResult.tryLoad()]:[3,3];case 1:return n.sent(),[4,this.job.jobResult.tryLoad()];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.selectJob=function(n){return bh(this,void 0,void 0,function(){var t;return fh(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.job=n,this.isLoaded?[4,this.load()]:[3,2];case 1:l.sent(),l.label=2;case 2:return[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},t}(xf),hh=e.sb({encapsulation:0,styles:[[""]],data:{}});function gh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["id","job-result-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function yh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-view-study-sources",[],null,null,null,lf,Xb)),e.tb(1,638976,null,0,Yb,[Se,Fb,On],{studyResult:[0,"studyResult"],jobResult:[1,"jobResult"]},null)],function(n,t){var l=t.component;n(t,1,0,l.job.studyResult.value,l.job.jobResult.value)},null)}function mh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-save-racing-line-buttons",[],null,null,null,Xp,Kp)),e.tb(3,114688,null,0,Qp,[O,Q,Bp,fa,Yi,Nb,Se,Qr,On],{studyResult:[0,"studyResult"],jobResult:[1,"jobResult"],showAsCard:[2,"showAsCard"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,l.job.studyResult.value,l.job.jobResult.value,!0)},null)}function vh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,yh)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(5,0,null,null,1,"cs-save-configs-with-constraint-results-buttons",[],null,null,null,ch,ih)),e.tb(6,114688,null,0,uh,[Nb,Q,Bp,Se,Fb,fa,O,Qr,nh,On],{job:[0,"job"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,mh)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,l.job.jobResult.value.studyJobInput),n(t,6,0,l.job),n(t,9,0,l.job.studyResult.isLoaded&&l.job.jobResult.isLoaded)},null)}function wh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,gh)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,vh)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,!l.job.jobResult.isLoaded),n(t,6,0,l.job.jobResult.isLoaded&&l.job.studyResult.isLoaded)},null)}function Mh(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-job-selector",[],null,[[null,"changed"]],function(n,t,l){var e=!0;return"changed"===t&&(e=!1!==n.component.selectJob(l)&&e),e},Sf,yf)),e.tb(3,114688,null,0,gf,[On],{jobs:[0,"jobs"],jobSelectorState:[1,"jobSelectorState"]},{changed:"changed"}),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,7,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,wh)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.jobs,l.jobSelectorState),n(t,8,0,l.errorMessage),n(t,11,0,l.job)},null)}function Ch(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,Mh)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.hasBeenActivated)},null)}var Sh=function(){function n(){}return n.prototype.toggleHelp=function(){this.showHelp=!this.showHelp},n}(),Ih=e.sb({encapsulation:0,styles:[['.chart-help-area[_ngcontent-%COMP%]{margin-top:1rem}.chart-help-area[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{overflow:hidden;max-height:0;opacity:0;transition:max-height .5s linear,opacity .5s linear,margin-top .5s linear}.chart-help-area[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#fcfcfc;margin:0}.chart-help-area[_ngcontent-%COMP%]   .help-content.show-help[_ngcontent-%COMP%]{max-height:800px;opacity:1;margin-top:.9375rem}@media (min-width:576px){.chart-help-area[_ngcontent-%COMP%]   .help-content.show-help[_ngcontent-%COMP%]{max-height:600px}}.chart-help-area[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:.75rem}.chart-help-area[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin:.5rem 0;padding-left:1.75rem}.chart-help-area[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\f058";position:absolute;top:0;left:0;color:#555}']],data:{}});function xh(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,70,"div",[["class","chart-help-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,6,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,3,"button",[["class","btn btn-smart btn-secondary toggle-button pull-sm-right"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleHelp()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-question-circle"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Chart Help\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(11,0,null,null,59,"div",[["class","help-content"]],null,null,null,null,null)),e.tb(12,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(13,{"show-help":0}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(15,0,null,null,54,"div",[["class","card card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(17,0,null,null,51,"ul",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(19,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Press 'x', 'y' or 'z' to change between X, Y or XY zooming."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(22,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Hold 'x', 'y' or 'z' and scroll with mouse/trackpad to zoom in and out."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(25,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Click-and-drag to pan after zooming."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(28,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Double-click to reset zoom."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(31,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Click on x-axis label to toggle x-domains."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(34,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Right-click to start an X, Y or XY area selection."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(37,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["While a selection exists, legend values can optionally display mean, min or max value calculations."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(40,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Press 'm' to toggle y-domain calculation mode between None, Mean, Min and Max"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(43,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["While a calculation is enabled, the x-domain values show the difference over the highlighted range."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(46,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Toggling calculation mode with no selection will briefly display calculation for all data."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(49,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Right-click or press escape to cancel area selection.\n        "])),(n()(),e.ub(51,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Left click to zoom to selection."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(54,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Click on any legend colour square to toggle channel visibility."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(57,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Click on any legend units square to edit channel units."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(60,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Click and drag between sub-plots or sub-plot axis to resize."])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(63,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["See "])),(n()(),e.ub(65,0,null,null,1,"a",[["href","/wiki/Results-Viewer-Controls"],["target","_blank"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["the help page"])),(n()(),e.Mb(-1,null,[" for more details."])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,12,0,"help-content",n(t,13,0,t.component.showHelp))},null)}var Oh=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),kh=function(){function n(n,t,l){this.name=n,this.id=t,this.type=l,this.activatedEmitter=new e.n,this._isActive=!1}return Object.defineProperty(n.prototype,"activated",{get:function(){return this.activatedEmitter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),n.prototype.activate=function(){this._isActive=!0,this.activatedEmitter.emit(this)},n.prototype.deactivate=function(){this._isActive=!1},n}(),Th=function(n){function t(t,l,e){void 0===e&&(e=!1);var u=n.call(this,t,"data-car-"+or(t),jh.navigationStation)||this;return u.filter=l,u.perJob=e,u}return Oh(t,n),t}(kh),Ph=function(n){function t(t,l,e){var u=n.call(this,t,l.reduce(function(n,t){return n+"-"+t},"data-sim-types"),jh.navigationStation)||this;return u.simTypes=l,u.navigationStationRenderType=e,u}return Oh(t,n),t}(kh),Eh=function(n){function t(t){void 0===t&&(t=!1);var l=n.call(this,"Car Config","data-car",jh.navigationStation)||this;return l.perJob=t,l}return Oh(t,n),t}(kh),_h=function(n){function t(t){void 0===t&&(t=!1);var l=n.call(this,"Track Config","data-track",jh.navigationStation)||this;return l.perJob=t,l}return Oh(t,n),t}(kh),Vh=function(n){return n[n.default=0]="default",n[n.racingLine=1]="racingLine",n}({}),jh=function(n){return n[n.inputs=0]="inputs",n[n.scalarResults=1]="scalarResults",n[n.info=2]="info",n[n.warnings=3]="warnings",n[n.errors=4]="errors",n[n.navigationStation=5]="navigationStation",n}({}),Rh=l("3fdc"),Fh=l("l8dc"),Ah=l("B1Qi"),Lh=l("tTpF"),Dh=l("3zBt"),Nh=l("4FPt"),Uh=l("5LEv"),Qh=l("/Lry"),Jh=l("8H56"),$h=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Hh=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},qh=function(n,t,l){this.name=n,this.data=t,this.job=l},Bh=function(){function n(n,t,l,e){this.canopyFileLoaderFactory=n,this.canopySiteHooksFactory=t,this.getSimVersion=l,this.zone=e}return n.prototype.createCaches=function(){var n=this.canopyFileLoaderFactory.create(),t=this.canopySiteHooksFactory.create(n);return new Wh(t,n)},n.prototype.createCarViewer=function(n,t,l,e){return $h(this,void 0,void 0,function(){var u;return Hh(this,function(r){switch(r.label){case 0:return[4,this.populateViewerData(t,e.fileLoader,e.siteHooks)];case 1:return u=r.sent(),[2,new _i(this.zone,new Ci.a(n,new Fh.a(new ji(this.zone,e.fileLoader),new Vi(this.zone,e.siteHooks),u.studyJobs,u.simTypes.concat(["ComponentSweeps"]),l,!0)))]}})})},n.prototype.createSimTypesViewer=function(n,t,l,e){return $h(this,void 0,void 0,function(){var u;return Hh(this,function(r){switch(r.label){case 0:return[4,this.populateViewerData(t,e.fileLoader,e.siteHooks)];case 1:return u=r.sent(),[2,new _i(this.zone,new Ci.a(n,new Dh.a(new ji(this.zone,e.fileLoader),new Vi(this.zone,e.siteHooks),u.studyJobs,l)))]}})})},n.prototype.createRacingLineViewer=function(n,t,l,e,u){return $h(this,void 0,void 0,function(){var r;return Hh(this,function(i){switch(i.label){case 0:return[4,this.populateViewerData(t,e.fileLoader,e.siteHooks)];case 1:return r=i.sent(),[2,new _i(this.zone,new Ci.a(n,new Jh.a(new ji(this.zone,e.fileLoader),new Vi(this.zone,e.siteHooks),r.studyJobs,l,u)))]}})})},n.prototype.createTrackPreview=function(n,t,l,e){return $h(this,void 0,void 0,function(){var u,r,i;return Hh(this,function(o){switch(o.label){case 0:return u=e?e.fileLoader:this.canopyFileLoaderFactory.create(),r=e?e.siteHooks:this.canopySiteHooksFactory.create(u),i=t.map(function(n){return n.job}).filter(function(n){return!!n}),[4,this.populateViewerData(i,u,r)];case 1:return o.sent(),[2,new _i(this.zone,new Ci.a(n,new Nh.a(new ji(this.zone,u),new Vi(this.zone,r),t,l)))]}})})},n.prototype.createCarPreview=function(n,t,l,e){return $h(this,void 0,void 0,function(){var u,r,i;return Hh(this,function(o){switch(o.label){case 0:return u=e?e.fileLoader:this.canopyFileLoaderFactory.create(),r=e?e.siteHooks:this.canopySiteHooksFactory.create(u),i=t.map(function(n){return n.job}).filter(function(n){return!!n}),[4,this.populateViewerData(i,u,r)];case 1:return o.sent(),[2,new _i(this.zone,new Ci.a(n,new Uh.a(new ji(this.zone,u),new Vi(this.zone,r),t,l)))]}})})},n.prototype.createTelemetryPreview=function(n,t,l){return $h(this,void 0,void 0,function(){var e,u,r;return Hh(this,function(i){switch(i.label){case 0:return e=l?l.fileLoader:this.canopyFileLoaderFactory.create(),u=l?l.siteHooks:this.canopySiteHooksFactory.create(e),r=t.map(function(n){return n.job}).filter(function(n){return!!n}),[4,this.populateViewerData(r,e,u)];case 1:return i.sent(),[2,new _i(this.zone,new Ci.a(n,new Qh.a(new ji(this.zone,e),new Vi(this.zone,u),t,8)))]}})})},n.prototype.populateCachesForStudyJobs=function(n,t){return this.populateViewerData(n,t.fileLoader,t.siteHooks)},n.prototype.populateViewerData=function(n,t,l){return $h(this,void 0,void 0,function(){var e,u,r,i,o,s,a,c,d,b,f,p,h,g;return Hh(this,function(y){switch(y.label){case 0:return e=[],u=[],r=[],i=n.map(function(n){return n.jobName.tryLoad()}),[4,Promise.all(i)];case 1:y.sent(),o=0,s=n,y.label=2;case 2:return o<s.length?[4,(a=s[o]).studyMetadataResult.tryLoad()]:[3,8];case 3:return y.sent(),[4,a.studyName.tryLoad()];case 4:return y.sent(),[4,a.jobName.tryLoad()];case 5:return y.sent(),[4,a.simTypes.tryLoad()];case 6:if(y.sent(),a.studyMetadataResult.value&&a.jobName.value&&a.studyName.value&&"Post Processor"!==a.jobName.value&&(c=a.source.tenantId,b=a.source.jobId,f=a.simVersion,-1===e.indexOf(d=a.source.studyId)&&(a.inlineStudyResult?t.addInlineStudy(c,d,a.inlineStudyResult):(t.addStudy(c,d,a.studyMetadataResult.value.accessInformation,f),t.addStudyJob(c,d,so(b),a)),l.addStudy(c,d,a.studyName.value),e.push(d)),l.addJobName(b,a.jobName.value),u.push(new Rh.a(d,so(b))),a.simTypes.value))for(p=0,h=a.simTypes.value;p<h.length;p++)-1===r.indexOf(g=h[p])&&r.push(g);y.label=7;case 7:return o++,[3,2];case 8:return[2,{simTypes:r,studyJobs:u}]}})})},n.prototype.createJobOverlayViewer=function(n,t){for(var l=this.canopyFileLoaderFactory.create(),e=this.canopySiteHooksFactory.create(l),u=0,r=t;u<r.length;u++){var i=r[u];l.addStudy(i.tenantId,i.studyId,i.accessInformation,this.getSimVersion.currentSimVersion),e.addStudy(i.tenantId,i.studyId,i.name);for(var o=0,s=i.jobs;o<s.length;o++){var a=s[o];e.addJobName(a.jobId,a.name)}}var c=this.getJobIndexes(t),d=this.getAllSimTypes(t);return new _i(this.zone,new Ci.a(n,new Dh.a(new ji(this.zone,l),new Vi(this.zone,e),c,d)))},n.prototype.createStarExplorationMapViewer=function(n,t,l,e,u,r){var i=this.canopyFileLoaderFactory.create(),o=this.canopySiteHooksFactory.create(i);return i.addStudy(l,e,t,this.getSimVersion.currentSimVersion),o.addStudy(l,e,u),new _i(this.zone,new Ci.a(n,new Lh.a(new ji(this.zone,i),new Vi(this.zone,o),[{studyId:e,jobIndex:Ci.b}],r.concat(["Debug"]))))},n.prototype.createParallelCoordinatesViewer=function(n,t,l,e,u,r){var i=this.canopyFileLoaderFactory.create(),o=this.canopySiteHooksFactory.create(i);return i.addStudy(l,e,t,this.getSimVersion.currentSimVersion),o.addStudy(l,e,u),new _i(this.zone,new Ci.a(n,new Ah.a(new ji(this.zone,i),new Vi(this.zone,o),[{studyId:e,jobIndex:Ci.b}],r.concat(["Debug"]))))},n.prototype.canCreateExplorationMapViewer=function(n){return!0},n.prototype.getJobIndexes=function(n){for(var t=[],l=0,e=n;l<e.length;l++)for(var u=e[l],r=0,i=u.jobs;r<i.length;r++){var o=so(i[r].jobId);t.push(new Rh.a(u.studyId,o))}return t},n.prototype.getAllSimTypes=function(n){var t=[];if(0===n.length)return t;for(var l=0,e=n;l<e.length;l++)for(var u=0,r=e[l].simTypes;u<r.length;u++){var i=r[u];-1===t.indexOf(i)&&t.push(i)}return t},n}(),zh=function(n,t,l,e,u,r){this.tenantId=n,this.studyId=t,this.name=l,this.jobs=e,this.simTypes=u,this.accessInformation=r},Kh=function(n,t){this.jobId=n,this.name=t},Wh=function(n,t){this.siteHooks=n,this.fileLoader=t},Gh=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Yh=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Zh=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Xh=function(n){function t(t,l,e,u){var r=n.call(this,u)||this;return r.visualizationFactory=t,r.timer=l,r.simVersionDocumentCache=e,r.perJob=!1,r.job=null,r}return Gh(t,n),t.prototype.ngOnDestroy=function(){if(this.navigationStation&&this.navigationStation.dispose(),this.perJobNavigationStations)for(var n=0,t=this.perJobNavigationStations;n<t.length;n++)t[n].dispose()},t.prototype.getJobDashboardId=function(n){return this.dashboardId+"-"+n},t.prototype.isJobActive=function(n){return this.job===n},t.prototype.load=function(){return Yh(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w,M,C,S=this;return Zh(this,function(I){switch(I.label){case 0:if(this.dashboardId=this.navigationStationPrefix||"view-job-charts-"+(""+Math.random()).substring(2),this.tab.activated.subscribe(function(){return S.reload()}),n=this.visualizationCaches,!(this.tab instanceof Ph))return[3,13];if(this.tab.navigationStationRenderType!==Vh.racingLine)return[3,10];this.perJob=!0,t=0,l=this.jobs,I.label=1;case 1:return t<l.length?[4,(h=l[t]).jobResult.tryLoad()]:[3,4];case 2:I.sent(),I.label=3;case 3:return t++,[3,1];case 4:this.perJobNavigationStations=[],this.perJobBuilt=this.jobs.map(function(n){return!1}),b=0,e=0,u=this.jobs,I.label=5;case 5:return e<u.length?(h=u[e]).jobResult.value&&h.jobResult.value.studyJobInput&&h.jobResult.value.studyJobInput.simConfig&&(y=h.jobResult.value.studyJobInput.simConfig.track)?[4,this.visualizationFactory.createRacingLineViewer(this.getJobDashboardId(b),[h],this.tab.simTypes,n,y)]:[3,7]:[3,9];case 6:m=I.sent(),this.perJobNavigationStations.push(m),I.label=7;case 7:++b,I.label=8;case 8:return e++,[3,5];case 9:return[3,12];case 10:return r=this,[4,this.visualizationFactory.createSimTypesViewer(this.dashboardId,this.jobs,this.tab.simTypes,n)];case 11:r.navigationStation=I.sent(),I.label=12;case 12:return[3,44];case 13:if(!(this.tab instanceof Th))return[3,21];if(Object(fe.isNullOrUndefined)(this.tab.filter))return[3,20];if(this.perJob=this.tab.perJob,!this.perJob)return[3,18];this.perJobNavigationStations=[],this.perJobBuilt=this.jobs.map(function(n){return!1}),b=0,i=0,o=this.jobs,I.label=14;case 14:return i<o.length?(h=o[i],[4,this.visualizationFactory.createCarViewer(this.getJobDashboardId(b),[h],this.tab.filter,n)]):[3,17];case 15:m=I.sent(),this.perJobNavigationStations.push(m),++b,I.label=16;case 16:return i++,[3,14];case 17:return[3,20];case 18:return s=this,[4,this.visualizationFactory.createCarViewer(this.dashboardId,this.jobs,this.tab.filter,n)];case 19:s.navigationStation=I.sent(),I.label=20;case 20:return[3,44];case 21:return this.tab instanceof Eh||this.tab instanceof _h?(this.perJob=this.tab.perJob,[4,this.simVersionDocumentCache.get(this.simVersionDocumentCache.lastRequestedVersion)]):[3,43];case 22:a=I.sent(),c=0,d=this.jobs,I.label=23;case 23:return c<d.length?[4,(h=d[c]).jobResult.tryLoad()]:[3,26];case 24:I.sent(),I.label=25;case 25:return c++,[3,23];case 26:if(!this.perJob)return[3,36];this.perJobNavigationStations=[],this.perJobBuilt=this.jobs.map(function(n){return!1}),b=0,f=0,p=this.jobs,I.label=27;case 27:return f<p.length?(h=p[f]).jobResult.value&&h.jobResult.value.studyJobInput&&h.jobResult.value.studyJobInput.simConfig?[4,h.getStudyJobName()]:[3,33]:[3,35];case 28:return g=I.sent(),this.tab instanceof Eh?(y=h.jobResult.value.studyJobInput.simConfig.car)?[4,this.visualizationFactory.createCarPreview(this.getJobDashboardId(b),[new qh(g,y,h)],a.units,n)]:[3,30]:[3,31];case 29:m=I.sent(),this.perJobNavigationStations.push(m),I.label=30;case 30:return[3,33];case 31:return(y=h.jobResult.value.studyJobInput.simConfig.track)?[4,this.visualizationFactory.createTrackPreview(this.getJobDashboardId(b),[new qh(g,y,h)],a.units,n)]:[3,33];case 32:m=I.sent(),this.perJobNavigationStations.push(m),I.label=33;case 33:++b,I.label=34;case 34:return f++,[3,27];case 35:return[3,42];case 36:return v=function(n){return Yh(S,void 0,void 0,function(){var t,l,e,u,r;return Zh(this,function(i){switch(i.label){case 0:t=[],l=0,e=this.jobs,i.label=1;case 1:return l<e.length?[4,(u=e[l]).getStudyJobName()]:[3,4];case 2:r=i.sent(),u.jobResult.value&&u.jobResult.value.studyJobInput&&u.jobResult.value.studyJobInput.simConfig&&u.jobResult.value.studyJobInput.simConfig[n]&&t.push(new qh(r,u.jobResult.value.studyJobInput.simConfig[n],u)),i.label=3;case 3:return l++,[3,1];case 4:return[2,t]}})})},this.tab instanceof Eh?[4,v(un.car)]:[3,39];case 37:return M=I.sent(),w=this,[4,this.visualizationFactory.createCarPreview(this.dashboardId,M,a.units,n)];case 38:return w.navigationStation=I.sent(),[3,42];case 39:return[4,v(un.track)];case 40:return M=I.sent(),C=this,[4,this.visualizationFactory.createTrackPreview(this.dashboardId,M,a.units,n)];case 41:C.navigationStation=I.sent(),I.label=42;case 42:return[3,44];case 43:this.errorMessage="Unexpected tab type.",I.label=44;case 44:return this.navigationStation?[4,this.timer.yield()]:[3,47];case 45:return I.sent(),[4,this.navigationStation.build()];case 46:I.sent(),I.label=47;case 47:return this.job?(this.isLoaded=!0,[4,this.selectJob(this.job)]):[3,49];case 48:I.sent(),I.label=49;case 49:return[2]}})})},t.prototype.reload=function(){return Yh(this,void 0,void 0,function(){var n,t;return Zh(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.navigationStation?[4,this.navigationStation.redraw()]:[3,2];case 1:return l.sent(),[3,4];case 2:return this.job?-1===(n=this.jobs.indexOf(this.job))?[3,4]:this.perJobBuilt[n]?[4,this.perJobNavigationStations[n].redraw()]:[3,4]:[3,4];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,6];case 6:return[2]}})})},t.prototype.selectJob=function(n){return Yh(this,void 0,void 0,function(){var t,l,e;return Zh(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),this.job=n,this.isLoaded?-1===(t=this.jobs.indexOf(this.job))?[3,5]:(l=this.perJobNavigationStations[t],this.perJobBuilt[t]?[3,2]:(this.perJobBuilt[t]=!0,[4,l.build()])):[2];case 1:return u.sent(),[3,5];case 2:return[4,this.timer.yield()];case 3:return u.sent(),[4,l.redraw()];case 4:u.sent(),u.label=5;case 5:return[3,7];case 6:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,7];case 7:return[2]}})})},t}(xf),ng=e.sb({encapsulation:0,styles:[[""]],data:{}});function tg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-job-selector",[],null,[[null,"changed"]],function(n,t,l){var e=!0;return"changed"===t&&(e=!1!==n.component.selectJob(l)&&e),e},Sf,yf)),e.tb(1,114688,null,0,gf,[On],{jobs:[0,"jobs"],jobSelectorState:[1,"jobSelectorState"]},{changed:"changed"})],function(n,t){var l=t.component;n(t,1,0,l.jobs,l.jobSelectorState)},null)}function lg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"div",[],null,null,null,null,null)),e.tb(1,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(2,{display:0}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,0,"div",[["class","dashboard"]],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,1,0,n(t,2,0,t.component.isJobActive(t.context.$implicit)?"block":"none"))},function(n,t){n(t,4,0,e.wb(1,"",t.component.getJobDashboardId(t.context.index),""))})}function eg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["id","chart-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function ug(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,30,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,tg)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,24,"div",[["class","view-job-navigation-station-component"],["id","view-job-navigation-station-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(10,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(13,0,null,null,0,"div",[["class","dashboard"]],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,lg)),e.tb(16,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(18,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,eg)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(24,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(26,0,null,null,1,"cs-chart-help",[],null,null,null,xh,Ih)),e.tb(27,49152,null,0,Sh,[],null,null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.perJob),n(t,10,0,l.errorMessage),n(t,16,0,l.jobs),n(t,21,0,!l.isLoaded)},function(n,t){n(t,13,0,e.wb(1,"",t.component.dashboardId,""))})}function rg(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,ug)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.hasBeenActivated)},null)}var ig=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d){this.editorValue=n,this.simVersion=t,this.userId=l,this.configId=e,this.name=u,this.isEdited=r,this.customProperties=i,this.identity=o,this.studyStub=s,this.canopyPusher=a,this.jobViewModelFactory=c,this.getFriendlyErrorAndLog=d,this.savedInStagingArea=!1,this.status=og.none,this.isStudySuccessful=!1}return n.prototype.execute=function(){return n=this,void 0,l=function(){var n,t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),this.status=og.checking,this.statusMessage="Submitting simulation...",this.currentIdentity=this.identity.get(),n={simTypes:[cn.StraightSim],simConfig:{car:void 0,track:void 0,weather:void 0,constraints:{}},exploration:void 0},Object(Tt.a)(this.simVersion)>=1604?n.simConfig.weather={TAir:20,pAirAtmosphericLocal:101300,rHumidityRelative:.2}:(n.simConfig.track={name:"Car Verification Track",hTrackAboveSeaLevel:0,racingLine:{sLap:[0,1],cLap:[0,1]}},n.simConfig.weather={TAir:20,pAirAtmosphericAtSeaLevel:101300,rHumidityRelative:.2}),n.simConfig.car=this.editorValue,t=[{configType:un.car,userId:this.userId,configId:this.configId,name:this.name,isEdited:this.isEdited}],l=(this.customProperties||[]).map(function(n){return{name:un.car+"."+n.name,value:n.value}}),[4,this.executeStudy({name:this.currentIdentity.userId,studyType:bn.straightSim,simVersion:this.simVersion,sources:t,properties:l,study:n,isTransient:!0})];case 1:return u.sent(),[3,3];case 2:return e=u.sent(),this.status=og.none,this.errorMessage=this.getFriendlyErrorAndLog.execute(e),this.statusMessage="",[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),og=function(n){return n[n.none=0]="none",n[n.checking=1]="checking",n[n.checked=2]="checked",n}({}),sg=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),ag=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},cg=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},dg=function(n){function t(t,l,e,u,r,i,o,s,a,c,d,b,f){var p=n.call(this,t,l,e,u,r,i,o,a,c,d,b,f)||this;return p.timer=s,p.isStudyCompleted=!1,p}return sg(t,n),t.prototype.dispose=function(){this.unsubscribe()},t.prototype.unsubscribe=function(){this.studiesProgressSubscription&&(this.studiesProgressSubscription.unsubscribe(),this.studiesProgressSubscription=void 0),this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=void 0)},t.prototype.executeStudy=function(n){return ag(this,void 0,void 0,function(){var t,l,e=this;return cg(this,function(u){switch(u.label){case 0:return this.studiesProgressSubscription=this.canopyPusher.studiesProgress.subscribe(function(n){return e.onStudiesProgress(n)}),t=this.timer.repeat(15e3),this.timerSubscription=t.subscribe(function(){return e.onTimerTick()}),[4,this.studyStub.postStudy(this.currentIdentity.tenantId,n)];case 1:return l=u.sent(),this.studyId=l.studyId,this.statusMessage="Waiting for result...",[2]}})})},t.prototype.onStudiesProgress=function(n){return ag(this,void 0,void 0,function(){var t,l=this;return cg(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.isStudyCompleted?(this.unsubscribe(),[2]):this.studyId?(this.statusMessage=this.statusMessage+".",n.items.find(function(n){return n.studyId===l.studyId&&n.completedJobCount>0})?(this.isStudyCompleted=!0,this.unsubscribe(),[4,this.loadResults()]):[3,2]):[2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return t=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},t.prototype.onTimerTick=function(){return ag(this,void 0,void 0,function(){var n,t;return cg(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),this.isStudyCompleted?(this.unsubscribe(),[2]):this.studyId?(this.statusMessage=this.statusMessage+".",[4,this.studyStub.getStudyMetadata(this.currentIdentity.tenantId,this.studyId)]):[2];case 1:return(n=l.sent()).study.data.completedJobCount>0?(this.isStudyCompleted=!0,this.unsubscribe(),[4,this.loadResults(n)]):[3,3];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return[2]}})})},t.prototype.loadResults=function(n){return ag(this,void 0,void 0,function(){var t,l,e;return cg(this,function(u){switch(u.label){case 0:return this.statusMessage="Loading result...",t=this.studyStub.getStudyJobMetadata(this.currentIdentity.tenantId,this.studyId,this.studyId+"-0"),n?(this.studyMetadataResult=n,[3,3]):[3,1];case 1:return l=this,[4,this.studyStub.getStudyMetadata(this.currentIdentity.tenantId,this.studyId)];case 2:l.studyMetadataResult=u.sent(),u.label=3;case 3:return e=this,[4,t];case 4:return e.studyJobMetadataResult=u.sent(),this.jobViewModel=this.jobViewModelFactory.createFromData(this.studyJobMetadataResult,this.studyMetadataResult,"Current","Verify Car"),this.isStudySuccessful=!!this.studyMetadataResult.study.data.succeededJobCount,this.status=og.checked,this.statusMessage="",[2]}})})},t}(ig),bg=function(){function n(){this.changed=new e.n}return Object.defineProperty(n.prototype,"selectedJob",{get:function(){return this._selectedJob},set:function(n){this._selectedJob!==n&&(this._selectedJob=n,this.changed.emit(n))},enumerable:!0,configurable:!0}),n}(),fg=l("Bpm0"),pg=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},hg=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},gg="racingLine",yg=function(){function n(n,t,l,e,u,r){this.jobViewModelSetFactory=n,this.unitsManager=t,this.getCarVisualizationTabs=l,this.visualizationFactory=e,this.getJobsSimTypeMetadataFactory=u,this.getFriendlyErrorAndLog=r,this.renderType=jh,this.jobLogFileType=If,this.scalarResultsTabId="scalarResults",this.racingLineTabId=gg,this.errorsTabId="errors",this.informationTabId="information",this.inputsTabId="inputs",this.jobSelectorState=new bg,this.shouldShowWarningsInline=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return pg(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w;return hg(this,function(M){switch(M.label){case 0:return M.trys.push([0,9,,10]),[4,this.unitsManager.ensureInitialized()];case 1:return M.sent(),this.jobSources&&!this.jobs&&(n=this.jobViewModelSetFactory.create(this.jobSources),this.jobs=n.jobs),this.jobs||(this.jobs=[]),[4,this.getAllSimTypes()];case 2:return t=M.sent(),this.visualizationCaches=this.visualizationFactory.createCaches(),[4,this.visualizationFactory.populateCachesForStudyJobs(this.jobs,this.visualizationCaches)];case 3:return M.sent(),[4,this.getJobsSimTypeMetadataFactory.create(this.visualizationCaches.fileLoader).execute(this.jobs.map(function(n){return{studyId:n.source.studyId,jobIndex:so(n.source.jobId)}}),t)];case 4:l=M.sent(),e=[],u=!1,r=!1,i=0,o=this.jobs,M.label=5;case 5:return i<o.length?[4,(s=o[i]).studyMetadataResult.tryLoad()]:[3,8];case 6:if(M.sent(),s.studyMetadataResult.value&&(u=u||s.studyMetadataResult.value.study.data.sources.some(function(n){return n.configType===un.car}),r=r||s.studyMetadataResult.value.study.data.sources.some(function(n){return n.configType===un.track})),u&&r)return[3,8];M.label=7;case 7:return i++,[3,5];case 8:for(a=[],c=[],d=0,b=t;d<b.length;d++)(f=b[d])!==cn.GenerateRacingLine&&(Object(fg.b)(f,l)?a.push(f):c.push(f));if(a.length&&e.push(new Ph("Main",a,Vh.default)),(p=t.find(function(n){return n===cn.GenerateRacingLine||n===cn.TrackConverter}))&&e.push(new Ph("Racing Line",[p],Vh.racingLine)),c.length&&(h=new Set([cn.ConstraintSatisfier,cn.TrackConverter]),e.push.apply(e,c.filter(function(n){return!h.has(n)}).map(function(n){return new Ph(n,[n],Vh.default)}))),-1!==t.indexOf(cn.StraightSim))for(m=this.getCarVisualizationTabs.execute(),g=0,y=m;g<y.length;g++)e.push(new Th((v=y[g]).name,v.filter,v.perJob));else this.jobs.some(function(n){return n.studyName.isLoaded&&"Verify Car"===n.studyName.value})&&(m=this.getCarVisualizationTabs.execute(),v=m.find(function(n){return n.filter===Fh.b.suspension}),e.push(new Th(v.name,v.filter,v.perJob)));return u&&e.push(new Eh),r&&e.push(new _h),e.push.apply(e,[new kh("Scalar Results",this.scalarResultsTabId,jh.scalarResults),new kh("Inputs",this.inputsTabId,jh.inputs),new kh("Info",this.informationTabId,jh.info),new kh("Warnings",this.informationTabId,jh.warnings),new kh("Errors",this.errorsTabId,jh.errors)]),this.tabs=e,this.jobs.every(function(n){return n.jobMetadataResult.value&&n.jobMetadataResult.value.studyJob.data.state===vn.failed||n.studyMetadataResult.value&&0===n.studyMetadataResult.value.study.data.succeededJobCount})?this.setTab(this.tabs[this.tabs.length-1]):this.setTab(this.tabs[0]),this.shouldShowWarningsInline=1===this.jobs.length&&this.jobs[0].studyMetadataResult.value&&Object(Tt.a)(this.jobs[0].studyMetadataResult.value.study.simVersion)>=2299,[3,10];case 9:return w=M.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(w),[3,10];case 10:return[2]}})})},n.prototype.getAllSimTypes=function(){return pg(this,void 0,void 0,function(){var n,t,l,e,u,r,i;return hg(this,function(o){switch(o.label){case 0:n=[],t=0,l=this.jobs,o.label=1;case 1:return t<l.length?[4,(e=l[t]).simTypes.tryLoad()]:[3,4];case 2:if(o.sent(),e.simTypes.value)for(u=0,r=e.simTypes.value;u<r.length;u++)-1===n.indexOf(i=r[u])&&n.push(i);o.label=3;case 3:return t++,[3,1];case 4:return[2,n]}})})},n.prototype.setTab=function(n){this.currentTab=n;for(var t=0,l=this.tabs.filter(function(n){return n.isActive});t<l.length;t++)l[t].deactivate();n.activate()},n.prototype.cssSanitize=function(n){return or(n)},n}(),mg=function(n,t){this.study=n,this.studyMetadata=t},vg=function(){function n(n,t,l,e){this.jobViewModelFactory=n,this.lazyLoadedStudyFactory=t,this.lazyLoadedStudyMetadataFactory=l,this.getSimVersion=e}return n.prototype.create=function(n){var t=this,l=this.getSimVersion.currentSimVersion,e=this.createStudyMetadataMap(n),u=n.map(function(n){return t.jobViewModelFactory.create(n,l,e[n.studyId])});return new wg(e,u)},n.prototype.createStudyMetadataMap=function(n){for(var t=this,l=this.getSimVersion.currentSimVersion,e=[],u=function(n){e.find(function(t){return t.studyId===n.studyId})||e.push(n)},r=0,i=n;r<i.length;r++)u(i[r]);return e.reduce(function(n,e){var u=t.lazyLoadedStudyFactory.create(e.tenantId,e.studyId,l),r=t.lazyLoadedStudyMetadataFactory.create(u,e.tenantId,e.studyId);return n[e.studyId]=new mg(u,r),n},{})},n}(),wg=function(n,t){this.studyMetadataMap=n,this.jobs=t},Mg=function(){function n(){}return n.prototype.execute=function(){return[{name:"Powertrain",filter:Fh.b.powertrain,perJob:!1},{name:"Tyres",filter:Fh.b.tyreSlip,perJob:!1},{name:"Suspension",filter:Fh.b.suspensionKinematics,perJob:!1}]},n}(),Cg=l("c8oZ"),Sg=function(){function n(){}return n.prototype.create=function(n){return new Cg.a(n)},n}(),Ig=e.sb({encapsulation:0,styles:[[".job-results-component[_ngcontent-%COMP%], .job-results-component[_ngcontent-%COMP%]   .job-results-tabs[_ngcontent-%COMP%]{margin-bottom:1rem}.job-results-component[_ngcontent-%COMP%]   .job-results-tabs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.25rem;margin-top:1.5rem}.job-results-component[_ngcontent-%COMP%]   .job-results-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;margin-top:.5rem}.job-results-component[_ngcontent-%COMP%]   .job-results-error-message[_ngcontent-%COMP%], .job-results-component[_ngcontent-%COMP%]   .job-results-loader[_ngcontent-%COMP%]{margin-top:1rem}"]],data:{}});function xg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job-log-file",[],null,null,null,Nf,Ef)),e.tb(3,114688,null,0,Pf,[On],{jobs:[0,"jobs"],logFileType:[1,"logFileType"],collapsible:[2,"collapsible"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,l.jobs,l.jobLogFileType.warnings,!0)},null)}function Og(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","job-results-loader"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[["id","job-results-loader"]],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n    "]))],null,null)}function kg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","job-results-error-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.errorMessage)},null)}function Tg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setTab(n.context.$implicit)&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(3,null,["\n        ","\n      "]))],function(n,t){n(t,1,0,e.wb(1,"btn btn-smart job-results-tab-",t.component.cssSanitize(t.context.$implicit.name),""),n(t,2,0,t.context.$implicit.isActive,!t.context.$implicit.isActive))},function(n,t){n(t,3,0,t.context.$implicit.name)})}function Pg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","job-results-tabs"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job Data:"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Tg)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,6,0,t.component.tabs)},null)}function Eg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job-scalar-results",[],null,null,null,mp,ip)),e.tb(3,114688,null,0,up,[On],{tab:[0,"tab"],jobs:[1,"jobs"],jobSelectorState:[2,"jobSelectorState"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.parent.context.$implicit,l.jobs,l.jobSelectorState)},null)}function _g(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job-log-file",[],null,null,null,Nf,Ef)),e.tb(3,114688,null,0,Pf,[On],{tab:[0,"tab"],jobs:[1,"jobs"],jobSelectorState:[2,"jobSelectorState"],logFileType:[3,"logFileType"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.parent.context.$implicit,l.jobs,l.jobSelectorState,l.jobLogFileType.info)},null)}function Vg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job-log-file",[],null,null,null,Nf,Ef)),e.tb(3,114688,null,0,Pf,[On],{tab:[0,"tab"],jobs:[1,"jobs"],jobSelectorState:[2,"jobSelectorState"],logFileType:[3,"logFileType"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.parent.context.$implicit,l.jobs,l.jobSelectorState,l.jobLogFileType.warnings)},null)}function jg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job-errors",[],null,null,null,Fp,Sp)),e.tb(3,114688,null,0,Cp,[On],{tab:[0,"tab"],jobs:[1,"jobs"],jobSelectorState:[2,"jobSelectorState"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.parent.context.$implicit,l.jobs,l.jobSelectorState)},null)}function Rg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job-inputs",[],null,null,null,Ch,hh)),e.tb(3,114688,null,0,ph,[On],{tab:[0,"tab"],jobs:[1,"jobs"],jobSelectorState:[2,"jobSelectorState"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.parent.context.$implicit,l.jobs,l.jobSelectorState)},null)}function Fg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job-navigation-station",[],null,null,null,rg,ng)),e.tb(3,245760,null,0,Xh,[Bh,fr,qr,On],{tab:[0,"tab"],jobs:[1,"jobs"],jobSelectorState:[2,"jobSelectorState"],navigationStationPrefix:[3,"navigationStationPrefix"],visualizationCaches:[4,"visualizationCaches"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.parent.context.$implicit,l.jobs,l.jobSelectorState,l.navigationStationPrefix?l.navigationStationPrefix+"-"+t.parent.context.index:void 0,l.visualizationCaches)},null)}function Ag(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,25,"div",[],null,null,null,null,null)),e.tb(1,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(2,{display:0}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,20,"div",[],null,null,null,null,null)),e.tb(5,16384,null,0,f.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Eg)),e.tb(8,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,_g)),e.tb(11,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Vg)),e.tb(14,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,jg)),e.tb(17,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Rg)),e.tb(20,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Fg)),e.tb(23,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,t.context.$implicit.isActive?"block":"none")),n(t,5,0,t.context.$implicit.type),n(t,8,0,l.renderType.scalarResults),n(t,11,0,l.renderType.info),n(t,14,0,l.renderType.warnings),n(t,17,0,l.renderType.errors),n(t,20,0,l.renderType.inputs),n(t,23,0,l.renderType.navigationStation)},null)}function Lg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Ag)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,t.component.tabs)},null)}function Dg(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,19,"div",[["class","job-results-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,xg)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Og)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,kg)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Pg)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Lg)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,4,0,l.shouldShowWarningsInline),n(t,9,0,!l.tabs&&!l.errorMessage),n(t,12,0,l.errorMessage),n(t,15,0,l.tabs),n(t,19,0,l.tabs)},null)}var Ng=function(n,t,l,e,u){this.tenantId=n,this.studyId=t,this.jobId=l,this.studyName=e,this.jobName=u},Ug=function(){function n(n,t,l,e,u,r,i,o,s,a,c){this.lazyLoadedStudyFactory=n,this.lazyLoadedStudyMetadataFactory=t,this.lazyLoadedStudyJobFactory=l,this.lazyLoadedStudyJobMetadataFactory=e,this.lazyLoadedStudyJobInfoFactory=u,this.lazyLoadedStudyJobWarningsFactory=r,this.lazyLoadedStudyJobDiagnosisFactory=i,this.lazyLoadedStudyJobScalarResultSetsFactory=o,this.lazyLoadedStudyNameFactory=s,this.lazyLoadedJobNameFactory=a,this.lazyLoadedSimTypesFactory=c}return n.prototype.create=function(n,t,l){if(!l){var e=this.lazyLoadedStudyFactory.create(n.tenantId,n.studyId,t),u=this.lazyLoadedStudyMetadataFactory.create(e,n.tenantId,n.studyId);l=new mg(e,u)}return Qg.create(t,n,l.study,l.studyMetadata,this.lazyLoadedStudyJobFactory,this.lazyLoadedStudyJobMetadataFactory,this.lazyLoadedStudyJobInfoFactory,this.lazyLoadedStudyJobWarningsFactory,this.lazyLoadedStudyJobDiagnosisFactory,this.lazyLoadedStudyJobScalarResultSetsFactory,this.lazyLoadedStudyNameFactory,this.lazyLoadedJobNameFactory,this.lazyLoadedSimTypesFactory)},n.prototype.createFromData=function(n,t,l,e,u){var r=t.convertedSimVersion,i=this.lazyLoadedStudyFactory.create(t.study.tenantId,t.study.documentId,r),o=this.lazyLoadedStudyMetadataFactory.create(i,t.study.tenantId,t.study.documentId),s=Qg.create(r,new Ng(n.studyJob.tenantId,t.study.documentId,n.studyJob.documentId,t.study.name,n.studyJob.name),i,o,this.lazyLoadedStudyJobFactory,this.lazyLoadedStudyJobMetadataFactory,this.lazyLoadedStudyJobInfoFactory,this.lazyLoadedStudyJobWarningsFactory,this.lazyLoadedStudyJobDiagnosisFactory,this.lazyLoadedStudyJobScalarResultSetsFactory,this.lazyLoadedStudyNameFactory,this.lazyLoadedJobNameFactory,this.lazyLoadedSimTypesFactory,u);return n.studyJobInput&&(s.jobResult.value=n),t.study.data&&t.study.data.definition&&(s.studyResult.value=t),s.jobMetadataResult.value=n,s.studyMetadataResult.value=t,l&&(s.jobName.value=l),e&&(s.studyName.value=e),s},n}(),Qg=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f){this.simVersion=n,this.source=t,this.studyResult=l,this.studyMetadataResult=e,this.jobResult=u,this.jobMetadataResult=r,this.scalarResults=i,this.info=o,this.warnings=s,this.diagnosis=a,this.studyName=c,this.jobName=d,this.simTypes=b,this.inlineStudyResult=f,!c.isLoaded&&this.source.studyName&&(this.studyName.value=this.source.studyName),!d.isLoaded&&this.source.jobName&&(this.jobName.value=this.source.jobName)}return n.create=function(t,l,e,u,r,i,o,s,a,c,d,b,f,p){var h=r.create(l.tenantId,l.studyId,l.jobId,t),g=i.create(h,l.tenantId,l.studyId,l.jobId),y=o.create(g,l.tenantId,l.studyId,l.jobId),m=s.create(g,l.tenantId,l.studyId,l.jobId),v=a.create(g,l.tenantId,l.studyId,l.jobId),w=c.create(h,l.tenantId,l.studyId,l.jobId),M=b.create(g);return new n(t,l,e,u,h,g,w,y,m,v,d.create(u),M,f.create(h,u),p)},n.prototype.clone=function(t,l){var e=new n(this.simVersion,this.source,this.studyResult.clone(),this.studyMetadataResult.clone(),this.jobResult.clone(),this.jobMetadataResult.clone(),this.scalarResults.clone(),this.info.clone(),this.warnings.clone(),this.diagnosis.clone(),this.studyName.clone(),this.jobName.clone(),this.simTypes.clone(),this.inlineStudyResult);return l&&(e.studyName.value=l),t&&(e.jobName.value=t),e},n.prototype.getStudyJobName=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){switch(n.label){case 0:return[4,this.studyName.load()];case 1:return n.sent(),[4,this.jobName.load()];case 2:return n.sent(),[2,this.studyName.value+" / "+this.jobName.value]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),Jg=e.sb({encapsulation:0,styles:[["#view-job-page[_ngcontent-%COMP%]   #chart-header[_ngcontent-%COMP%]   .loader-container[_ngcontent-%COMP%]{display:inline-block;margin:0}#view-job-page[_ngcontent-%COMP%]   .chart-help-area[_ngcontent-%COMP%]{margin-bottom:.9375rem}#view-job-page[_ngcontent-%COMP%]   .load-charts-button-area[_ngcontent-%COMP%]{text-align:center;margin:1rem}#view-job-page[_ngcontent-%COMP%]   .job-index[_ngcontent-%COMP%]{margin-left:.5rem}"]],data:{}});function $g(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(6,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n            "])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,n(t,4,0,"../"))},function(n,t){n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href)})}function Hg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["id","job-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function qg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,22,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(2,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(6,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          View Job\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(9,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,$g)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(14,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(15,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,Hg)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,12,0,!l.hideBackButton),n(t,15,0,l.errorMessage),n(t,18,0,!l.errorMessage)},null)}function Bg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-linting-engine-dialog-launcher",[],null,null,null,Es,ks)),e.tb(1,49152,null,0,Ss,[ce,xs,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],studyId:[2,"studyId"],jobId:[3,"jobId"]},null)],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.userId,l.studyId,l.jobId)},null)}function zg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n            "]))],function(n,t){n(t,1,0,n(t,2,0,"../"))},function(n,t){n(t,0,0,e.Eb(t,1).target,e.Eb(t,1).href)})}function Kg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-edit-and-run-telemetry-button",[],null,null,null,df,rf)),e.tb(1,114688,null,0,ef,[Se,Nb,b.m,uf,On],{studyResult:[0,"studyResult"],jobResult:[1,"jobResult"]},null)],function(n,t){var l=t.component;n(t,1,0,l.job.studyResult,l.job.jobResult)},null)}function Wg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","stage-job-to-results-staging-area-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToResultsStagingArea()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-area-chart"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare\n            "]))],null,null)}function Gg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"button",[["class","btn btn-smart btn-secondary"],["id","stage-job-to-study-staging-area-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToStudyStagingArea()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"cs-stage-as-telemetry-text",[],null,null,null,Cs,vs)),e.tb(4,49152,null,0,ms,[],{studyType:[0,"studyType"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,4,0,t.component.job.studyResult.study.data.studyType)},null)}function Yg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadJob(!0,n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["Channels (",")\n                "]))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(1,"download-job-results-csv-",t.context.$implicit,"button"),!l.job.isSuccessful||l.job.isPostProcessor),n(t,3,0,t.context.$implicit)})}function Zg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Job is still running...\n          "]))],null,null)}function Xg(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,3,0,t.context.$implicit.key),n(t,6,0,t.context.$implicit.value)})}function ny(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,25,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h1",[["id","changes-from-baseline-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Changes from Baseline"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(5,0,null,null,19,"table",[["class","table diff-table last-item"],["id","diff-table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(7,0,null,null,10,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(9,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(11,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Path"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(14,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Value"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(19,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Xg)),e.tb(22,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,22,0,t.component.job.flattenedDefinition)},null)}function ty(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"cs-view-job-results",[],null,null,null,Dg,Ig)),e.tb(1,114688,null,0,yg,[vg,Bf,Mg,Bh,Sg,On],{jobs:[0,"jobs"],navigationStationPrefix:[1,"navigationStationPrefix"]},null),e.Fb(2,1)],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,l.jobViewModel),l.dashboardId)},null)}function ly(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,96,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,90,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(4,0,null,null,87,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(6,0,null,null,10,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["\n          ","\n          "])),(n()(),e.ub(8,0,null,null,1,"small",[["class","text-muted job-index"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["Index ",", ",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(11,0,null,null,4,"div",[["class","card-header-float-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Bg)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(18,0,null,null,72,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(20,0,null,null,48,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,zg)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Kg)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Wg)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Gg)),e.tb(32,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(34,0,null,null,1,"cs-save-racing-line-buttons",[],null,null,null,Xp,Kp)),e.tb(35,114688,null,0,Qp,[O,Q,Bp,fa,Yi,Nb,Se,Qr,On],{studyResult:[0,"studyResult"],jobResult:[1,"jobResult"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(37,0,null,null,1,"span",[["class","inline-button-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Download:"])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(40,0,null,null,27,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(42,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-job-results-csv-hover-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadJob(!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(44,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job (CSV)\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(47,0,null,null,19,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(49,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-job-results-csv-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadJob(!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(51,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job (CSV)\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(54,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-job-results-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadJob(!1)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(56,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job (Binary)\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(59,0,null,null,3,"a",[["class","btn btn-smart btn-menu btn-secondary"],["id","download-token-button"]],[[2,"disabled",null],[8,"download",0],[1,"href",4]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(61,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Job (Token)\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Yg)),e.tb(65,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(70,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(71,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(73,0,null,null,1,"pre",[["class","raw-json debug-information"],["id","job-json"]],null,null,null,null,null)),(n()(),e.Mb(74,null,["",""])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,Zg)),e.tb(77,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(79,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            This job is "])),(n()(),e.ub(81,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(82,null,[""," ",""])),(n()(),e.Mb(-1,null,["\n            and "])),(n()(),e.ub(84,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(85,null,[""," ",""])),(n()(),e.Mb(-1,null,[".\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,ny)),e.tb(89,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,ty)),e.tb(95,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,14,0,l.jobViewModel),n(t,23,0,!l.hideBackButton),n(t,26,0,l.job),n(t,29,0,l.job.isSuccessful&&!l.job.isPostProcessor),n(t,32,0,l.job.isSuccessful&&!l.job.isPostProcessor&&l.significantSimVersions.isAfterTelemetrySimulation),n(t,35,0,l.job.studyResult,l.job.jobResult),n(t,65,0,l.job.jobResult.simTypes),n(t,71,0,l.errorMessage),n(t,77,0,!l.job.isFailed&&!l.job.isSuccessful),n(t,89,0,!l.job.isSingleJob&&!l.job.isPostProcessor),n(t,95,0,l.jobViewModel)},function(n,t){var l=t.component;n(t,7,0,l.job.name),n(t,9,0,l.job.jobIndex,l.job.studyResult.study.name),n(t,42,0,!l.job.isSuccessful||l.job.isPostProcessor),n(t,49,0,!l.job.isSuccessful||l.job.isPostProcessor),n(t,54,0,l.job.isPostProcessor),n(t,59,0,l.job.isPostProcessor,e.wb(2,"",l.studyId,"-",l.job.jobIndex,".canopy-download-token"),l.downloadToken),n(t,74,0,l.jobJson),n(t,82,0,l.job.jobResult.studyJob.data.computeCredits,1===l.job.jobResult.studyJob.data.computeCredits?"compute credit":"compute credits"),n(t,85,0,l.job.jobResult.studyJob.data.storageCredits,1===l.job.jobResult.studyJob.data.storageCredits?"storage credit":"storage credits")})}function ey(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["id","view-job-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,qg)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,1,"pre",[["class","raw-json debug-information"],["id","job-dashboard-id"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,ly)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,!l.isLoaded),n(t,9,0,l.isLoaded)},function(n,t){n(t,6,0,t.component.dashboardId)})}var uy=function(){this.showDivider=!0},ry=e.sb({encapsulation:0,styles:[[".view-custom-properties[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.5rem}.view-custom-properties[_ngcontent-%COMP%]   .custom-property[_ngcontent-%COMP%]{display:inline-block;margin:.5rem .5rem 0 0}.view-custom-properties[_ngcontent-%COMP%]   .name-box[_ngcontent-%COMP%]{display:inline-block;background:#f5f5f5;padding:.1rem .5rem;margin:0;border:1px solid #ccc;border-top-left-radius:4px;border-bottom-left-radius:4px}.view-custom-properties[_ngcontent-%COMP%]   .value-box[_ngcontent-%COMP%]{display:inline-block;background:#fff;padding:.1rem .5rem;margin:0;border:1px solid #ccc;border-left-width:0;border-top-right-radius:4px;border-bottom-right-radius:4px}"]],data:{}});function iy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function oy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"div",[["class","custom-property"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"div",[["class","name-box"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.ub(4,0,null,null,1,"div",[["class","value-box"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n  "]))],null,function(n,t){n(t,3,0,t.context.$implicit.name),n(t,5,0,t.context.$implicit.value)})}function sy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","view-custom-properties"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,iy)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,oy)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.customProperties&&l.customProperties.length&&l.showDivider),n(t,6,0,l.customProperties)},null)}var ay=function(){function n(n){this.json=n}return n.prototype.createContent=function(n,t,l){return new cy(n,t,this.json.clone(l)||[])},n.prototype.copy=function(n,t,l){this.cache=this.createContent(n,t,l)},n.prototype.get=function(){if(this.cache)return this.cache.withRows(this.json.clone(this.cache.rows))},n}(),cy=function(){function n(n,t,l){this.sourceTenantId=n,this.sourceWorksheetId=t,this.rows=l,l||(this.rows=[])}return n.prototype.withRows=function(t){return new n(this.sourceTenantId,this.sourceWorksheetId,t)},n}(),dy=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},by=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},fy=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},py=function(){function n(n,t,l,e,u,r,i){this.loadingDialog=n,this.identity=t,this.studyStub=l,this.configStub=e,this.getSimVersion=u,this.loadStudyService=r,this.recreateTelemetryStudyFromInputData=i}return n.prototype.execute=function(n,t,l,e){return by(this,void 0,void 0,function(){var u,r,i,o,s;return fy(this,function(a){switch(a.label){case 0:return e||(e=yy.default()),u=[],r=this.identity.get(),[4,this.loadStudy(n,t,i=this.getSimVersion.currentSimVersion,o=0)];case 1:return s=a.sent(),[4,this.appendRowsFromStudy(s,l,e,i,r,u,o)];case 2:return a.sent(),[2,new gy(new cy(r.tenantId,l,u))]}})})},n.prototype.loadStudyIfNotForbidden=function(n,t,l,e){return by(this,void 0,void 0,function(){return fy(this,function(u){switch(u.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.loadStudyService.tryLoadIfNotForbidden(n,t,l),"Loading "+this.getProgressStudyName(e)+"...")];case 1:return[2,u.sent()]}})})},n.prototype.loadStudy=function(n,t,l,e){return by(this,void 0,void 0,function(){return fy(this,function(u){switch(u.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.loadStudyService.load(n,t,l),"Loading "+this.getProgressStudyName(e)+"...")];case 1:return[2,u.sent()]}})})},n.prototype.appendRowsFromStudy=function(n,t,l,e,u,r,i){return by(this,void 0,void 0,function(){var o,s,a,c,d,b,f,p,h,g,y,m,v,w;return fy(this,function(M){switch(M.label){case 0:s=(o=n.study).tenantId,a=o.documentId,c=dy({},o.data.definition.simConfig),(d=o.data.definition.exploration)&&(c[un.exploration]=d),b={simTypes:n.simTypes,simConfig:{},exploration:void 0},f=[],p=[],h=function(a){var d,h,y,m,v,w;return fy(this,function(M){switch(M.label){case 0:return"constraints"===a?[2,"continue"]:(d=a,h=o.name,y=c[a],(m=o.data.sources.find(function(n){return n.configType===d}))&&m.name&&(h=m.name),[4,g.processConfig(n,l,u,h,d,y,e,s,t,r,i)]);case 1:return v=M.sent(),w=v.configId,v.worksheetConfig&&p.push(v.worksheetConfig),d===un.exploration?b.exploration=v.studyConfig:b.simConfig[a]=v.studyConfig,f.push({configType:d,userId:w?u.userId:void 0,configId:w,name:h,isEdited:!1}),[2]}})},g=this,y=0,m=Object.keys(c),M.label=1;case 1:return y<m.length?[5,h(m[y])]:[3,4];case 2:M.sent(),M.label=3;case 3:return y++,[3,1];case 4:return v={tenantId:s,targetId:a},l.alwaysCreateNewStudies||s!==u.tenantId?[4,this.loadingDialog.showUntilFinished(this.studyStub.postStudy(u.tenantId,{name:o.name,studyType:o.data.studyType,simVersion:e,sources:f,study:b,isTransient:!1}),"Creating "+this.getProgressStudyName(i)+"...")]:[3,6];case 5:w=M.sent(),v={tenantId:u.tenantId,targetId:w.studyId},M.label=6;case 6:return r.push({name:void 0,configs:p,study:{reference:v}}),[2,v]}})})},n.prototype.processConfig=function(n,t,l,e,u,r,i,o,s,a,c){return u===un.telemetry?this.processTelemetryConfig(n,t,l,e,u,r,i,o,s,a,c):this.processNonTelemetryConfig(l,e,u,r,i,s,c)},n.prototype.processTelemetryConfig=function(n,t,l,e,u,r,i,o,s,a,c){return by(this,void 0,void 0,function(){var d,b,f,p,h,g,y,m,v;return fy(this,function(w){switch(w.label){case 0:return r.source?(f=d=r.source.tenantId||o,p=b=r.source.studyId,h=r.source.jobIndex||0,y=(g=d!==l.tenantId||t.alwaysCreateNewStudies)&&t.alwaysRecreateTelemetryStudiesFromData,!g||y?[3,2]:[4,this.loadStudyIfNotForbidden(d,b,i,c+1)]):[2,new hy(void 0,r,void 0)];case 1:(m=w.sent())||(y=!0),w.label=2;case 2:return y?[4,this.recreateTelemetryStudyFromInputData.execute(e,n,h)]:[3,5];case 3:return v=w.sent(),f=v.tenantId,p=v.targetId,h=0,[4,this.loadingDialog.showUntilFinished(this.loadStudyService.loadCompleted(v.tenantId,v.targetId,i),"Waiting for telemetry study to complete...")];case 4:return w.sent(),[3,7];case 5:return g?[4,this.appendRowsFromStudy(m,s,t,i,l,a,c+1)]:[3,7];case 6:v=w.sent(),f=v.tenantId,p=v.targetId,w.label=7;case 7:return[2,new hy(void 0,r={source:{tenantId:f,studyId:p,jobIndex:h}},{configType:u,inheritReference:!1,reference:{tenant:{tenantId:f,targetId:p,jobIndex:h}}})]}})})},n.prototype.processNonTelemetryConfig=function(n,t,l,e,u,r,i){return by(this,void 0,void 0,function(){var o;return fy(this,function(s){switch(s.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.configStub.postConfig(n.tenantId,{name:t,configType:l,config:e,simVersion:u,parentWorksheetId:r}),"Creating "+l+" from "+this.getProgressStudyName(i)+"...")];case 1:return o=s.sent(),[2,new hy(o,e,{configType:l,inheritReference:!1,reference:{tenant:{tenantId:n.tenantId,targetId:o}}})]}})})},n.prototype.getProgressStudyName=function(n){return"study"+(n?" "+(n+1):"")},n}(),hy=function(n,t,l){this.configId=n,this.studyConfig=t,this.worksheetConfig=l},gy=function(n){this.clipboardContent=n},yy=function(){function n(n,t){this.alwaysCreateNewStudies=n,this.alwaysRecreateTelemetryStudiesFromData=t}return n.default=function(){return new n(!1,!0)},n.fromEvent=function(t){var l=n.default();return new n(n.invertIf(l.alwaysCreateNewStudies,!(!t.ctrlKey&&!t.metaKey)),n.invertIf(l.alwaysRecreateTelemetryStudiesFromData,!!t.altKey))},n.invertIf=function(n,t){return t?!n:n},n}(),my=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},vy=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},wy=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y){this.studyStub=e,this.json=u,this.stageStudy=r,this.visualizationFactory=i,this.moment=o,this.timer=s,this.canopyPusher=a,this.identity=c,this.studyTypeLookup=d,this.createUserInformationMaps=b,this.downloadStudyService=f,this.significantSimVersions=p,this.getSimVersion=h,this.createWorksheetFromStudyIfRequired=g,this.getFriendlyErrorAndLog=y,this.RELEASE_NOTES_URL=Cn,this.isWorksheetPage=n.execute(t),this.tenantId=l.getTenantId(t),this.userId=l.getUserId(t),this.studyId=t.snapshot.params[Mn]}return n.prototype.ngOnInit=function(){var n=this;this.studiesProgressSubscription=this.canopyPusher.studiesProgress.subscribe(function(t){return n.onStudiesProgress(t)}),this.studyBuildProgressSubscription=this.canopyPusher.studyBuildProgress.subscribe(function(t){return n.onStudyBuildProgress(t)}),this.loadTask=this.load()},n.prototype.ngOnDestroy=function(){this.studiesProgressSubscription.unsubscribe(),this.studyBuildProgressSubscription.unsubscribe(),this.viewer&&this.viewer.dispose()},Object.defineProperty(n.prototype,"parentWorksheetId",{get:function(){return this.study?this.study.studyResult.study.parentWorksheetId:void 0},enumerable:!0,configurable:!0}),n.prototype.load=function(){return my(this,void 0,void 0,function(){var n,t,l,e,u,r;return vy(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.isLoaded=!1,n=this.identity.get(),this.isOwner=n.userId===this.userId,this.isCurrentTenant=n.tenantId===this.tenantId,this.studyResultTask=this.studyStub.getStudy(this.tenantId,this.studyId,this.getSimVersion.currentSimVersion),[4,this.studyResultTask];case 1:return t=i.sent(),l=this.createUserInformationMaps.execute(t.userInformation),e=l.users[t.study.userId].username,u=this,[4,this.studyTypeLookup.getStudyTypeMap()];case 2:return u.studyTypeMap=i.sent(),this.applyLoadedStudy(t,e),this.isLoaded=!0,[3,4];case 3:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,4];case 4:return[4,this.showChart()];case 5:return i.sent(),[2]}})})},n.prototype.applyLoadedStudy=function(n,t){this.simVersion=n.convertedSimVersion;var l=n.study;this.studyJson=this.json.stringify(l);var e=l.data.jobCount||l.data.dispatchedJobCount,u=this.visualizationFactory.canCreateExplorationMapViewer(l.data.studyType)&&e>1&&!!n.study.data.definition.exploration,r=e&&e===l.data.completedJobCount,i=!(r||l.data.errorMessages&&l.data.errorMessages.length||e&&e===l.data.dispatchedJobCount);this.study=new My(l.name,t,this.moment.fromNow(l.creationDate),e,l.data.dispatchedJobCount,l.data.succeededJobCount,l.data.completedJobCount-l.data.succeededJobCount,l.data.dispatchedJobCount-l.data.completedJobCount,l.data.succeededComputeCredits,l.data.succeededStorageCredits,r,i,u,u?n.study.data.definition.exploration.design.name:void 0,ye.objectToList(l.properties),l.notes,l.data.studyType,this.studyTypeMap[l.data.studyType].name,n,this.unique(l.data.errorMessages)),this.downloadToken=this.downloadStudyService.getStudyTokenUri(this.tenantId,this.studyId,this.study.name)},n.prototype.unique=function(n){var t=[];if(n)for(var l=0,e=n;l<e.length;l++){var u=e[l];-1===t.indexOf(u)&&t.push(u)}return t},n.prototype.showChart=function(){return my(this,void 0,void 0,function(){var n;return vy(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),this.study?(this.study.showExplorationMapViewer=this.study.hasExplorationMap&&this.study.isCompleted&&this.study.succeededJobCount>0,this.study.showExplorationMapViewer?(this.isLoadingChart=!0,[4,this.timer.yield()]):[3,3]):[3,3];case 1:return t.sent(),[4,this.plotViewer()];case 2:t.sent(),t.label=3;case 3:return[3,5];case 4:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,5];case 5:return this.isLoadingChart=!1,[2]}})})},n.prototype.plotViewer=function(){return my(this,void 0,void 0,function(){var n,t;return vy(this,function(l){switch(l.label){case 0:return n=this.study.studyResult.accessInformation,this.viewer&&this.viewer.dispose(),"Star"!==this.study.explorationDesignType?[3,2]:(t=this.visualizationFactory.createStarExplorationMapViewer("dashboard",n,this.tenantId,this.studyId,this.study.name,this.study.studyResult.simTypes),this.viewer=t,[4,t.build()]);case 1:return l.sent(),[3,4];case 2:return t=this.visualizationFactory.createParallelCoordinatesViewer("dashboard",n,this.tenantId,this.studyId,this.study.name,this.study.studyResult.simTypes),this.viewer=t,[4,t.build()];case 3:l.sent(),l.label=4;case 4:return[2]}})})},n.prototype.stageToResultsStagingArea=function(){try{this.stageStudy.toResultsStagingArea(this.tenantId,this.studyId,this.study.name,this.study.jobCount)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.stageToStudyStagingArea=function(){return my(this,void 0,void 0,function(){var n;return vy(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.stageStudy.toStudyStagingArea(this.tenantId,this.studyId,this.study.name,this.study.jobCount)];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.downloadStudy=function(n,t,l){return void 0===l&&(l=!1),my(this,void 0,void 0,function(){var e;return vy(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.downloadStudyService.execute(this.tenantId,this.studyId,this.study.name,n,t,l)];case 1:return u.sent(),[3,3];case 2:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,3];case 3:return[2]}})})},n.prototype.downloadJob=function(n){return this.downloadStudyService.downloadJob(this.tenantId,this.studyId,Ji(this.studyId,0),this.study.name,void 0,!0,n)},n.prototype.onStudiesProgress=function(n){return my(this,void 0,void 0,function(){var t,l,e,u,r,i;return vy(this,function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),this.loadTask?[4,this.loadTask]:[3,2];case 1:o.sent(),o.label=2;case 2:if(!this.study||this.study.isCompleted)return[2];for(t=0,l=n.items;t<l.length;t++)(e=l[t]).studyId===this.studyId&&(this.study.succeededJobCount=e.succeededJobCount,this.study.succeededComputeCredits=e.succeededComputeCredits,this.study.succeededStorageCredits=e.succeededStorageCredits,this.study.failedJobCount=e.completedJobCount-e.succeededJobCount,this.study.incompleteJobCount=this.study.jobCount-e.completedJobCount,this.study.isCompleted=this.study.jobCount&&this.study.jobCount===e.completedJobCount,this.study.creationDate=this.moment.fromNow(this.study.studyResult.study.creationDate));return this.study.isCompleted?(u=this.study.username,this.studyResultTask=this.studyStub.getStudy(this.tenantId,this.studyId,this.getSimVersion.currentSimVersion),[4,this.studyResultTask]):[3,5];case 3:return r=o.sent(),this.applyLoadedStudy(r,u),[4,this.showChart()];case 4:o.sent(),o.label=5;case 5:return[3,7];case 6:return i=o.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(i),[3,7];case 7:return[2]}})})},n.prototype.onStudyBuildProgress=function(n){return my(this,void 0,void 0,function(){var t;return vy(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.loadTask?[4,this.loadTask]:[3,2];case 1:l.sent(),l.label=2;case 2:return!this.study||this.study.isCompleted?[2]:n.studyId!==this.studyId||this.study.dispatchedJobCount>n.dispatchedJobCount?[2]:n.errorMessages?(this.study.errorMessages=n.errorMessages,this.study.isBuilding=!1,this.study.isCompleted=!0,[2]):(this.study.jobCount=n.jobCount,this.study.dispatchedJobCount=n.dispatchedJobCount,this.study.isBuilding=n.dispatchedJobCount!==n.jobCount,[3,4]);case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},Object.defineProperty(n.prototype,"supportSession",{get:function(){return{session:this.study.studyResult.study.supportSession,userInformation:this.study.studyResult.userInformation}},enumerable:!0,configurable:!0}),n.prototype.onSupportSessionChanged=function(n){this.study.studyResult.userInformation=n.userInformation,this.study.studyResult.study.supportSession=n.session},Object.defineProperty(n.prototype,"showWorksheets",{get:function(){return this.identity.showWorksheets},enumerable:!0,configurable:!0}),n.prototype.createWorksheet=function(n){return my(this,void 0,void 0,function(){return vy(this,function(t){switch(t.label){case 0:return[4,this.createWorksheetFromStudyIfRequired.execute(this.tenantId,this.studyId,this.study.name,!1,yy.fromEvent(n))];case 1:return t.sent(),[2]}})})},n}(),My=function(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v){this.name=n,this.username=t,this.creationDate=l,this.jobCount=e,this.dispatchedJobCount=u,this.succeededJobCount=r,this.failedJobCount=i,this.incompleteJobCount=o,this.succeededComputeCredits=s,this.succeededStorageCredits=a,this.isCompleted=c,this.isBuilding=d,this.hasExplorationMap=b,this.explorationDesignType=f,this.properties=p,this.notes=h,this.studyType=g,this.studyTypeName=y,this.studyResult=m,this.errorMessages=v},Cy=function(){function n(){}return n.prototype.execute=function(n){if(!n)throw new Error("No route provided.");for(var t=n.snapshot;t;){if(t.url.some(function(n){return"worksheets"===n.path}))return!0;t=t.parent}return!1},n}(),Sy=function(){function n(n,t,l,e,u,r,i){this.getWorksheetForSupportSession=n,this.createWorksheetFromStudy=t,this.confirmationDialog=l,this.promptDialog=e,this.loadingDialog=u,this.router=r,this.getFriendlyErrorAndLog=i}return n.prototype.execute=function(n,t,l,e,u){return void 0===u&&(u=void 0),r=this,void 0,o=function(){var r,i,o,s,a;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(c){switch(c.label){case 0:return c.trys.push([0,11,,14]),e?[4,this.loadingDialog.showUntilFinished(this.getWorksheetForSupportSession.execute(t),"Searching for existing worksheet...")]:[3,5];case 1:return(r=c.sent())?[4,this.confirmationDialog.show("A worksheet already exists for this support session. Would you like to open it?","Existing Worksheet Found",["Open Existing","Create New"])]:[3,4];case 2:return(i=c.sent())?"Open Existing"!==i?[3,4]:[4,this.router.navigate(["/worksheets",r.tenantId,r.documentId])]:[2];case 3:return c.sent(),[2];case 4:l="Support Session: "+l,c.label=5;case 5:return[4,this.promptDialog.show("What would you like to call the worksheet?","Worksheet Name",l)];case 6:return(l=c.sent())?[4,this.createWorksheetFromStudy.execute(n,t,l,e,u)]:[2];case 7:return o=c.sent(),[4,this.confirmationDialog.show("Would you like to open the worksheet?","Worksheet Created",["No","Yes"],"No")];case 8:return"Yes"!==c.sent()?[3,10]:[4,this.router.navigate(["/worksheets",o.tenantId,o.worksheetId])];case 9:return c.sent(),[2];case 10:return[3,14];case 11:return s=c.sent(),[4,this.getFriendlyErrorAndLog.execute(s)];case 12:return a=c.sent(),[4,this.confirmationDialog.show(a,"Failed to create worksheet","OK","OK")];case 13:return c.sent(),[3,14];case 14:return[2]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},n}(),Iy=e.sb({encapsulation:0,styles:[["#view-study-page[_ngcontent-%COMP%]   .failure-header[_ngcontent-%COMP%]{color:#d95929}#view-study-page[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]{color:#8fbf4d}#view-study-page[_ngcontent-%COMP%]   #study-explorer-chart.scalar-viewer[_ngcontent-%COMP%]{min-height:800px}#view-study-page[_ngcontent-%COMP%]   #parallel-coordinates-chart[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%]{padding-left:.2rem;padding-right:.2rem}#view-study-page[_ngcontent-%COMP%]   a.study-sim-version[_ngcontent-%COMP%]{color:gray}#view-study-page[_ngcontent-%COMP%]   .study-notes-content[_ngcontent-%COMP%]{margin:1rem}"]],data:{}});function xy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,24,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        View Study\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,18,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(7,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(9,0,null,null,6,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,10).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(10,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(11,1),e.Fb(12,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(14,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(18,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(19,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(21,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(22,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,10,0,l.isWorksheetPage?n(t,11,0,"../../../"):n(t,12,0,"../../")),n(t,19,0,l.errorMessage)},function(n,t){n(t,9,0,e.Eb(t,10).target,e.Eb(t,10).href)})}function Oy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"],["title","Create Worksheet. Hold Ctrl or Shift to force copying the study."]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.createWorksheet(l)&&e),e},null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-th"]],null,null,null,null,null))],null,null)}function ky(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","view-jobs-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-cube"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["View Jobs\n            "]))],function(n,t){n(t,1,0,n(t,2,0,"./jobs"))},function(n,t){n(t,0,0,e.Eb(t,1).target,e.Eb(t,1).href)})}function Ty(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"button",[["class","btn btn-smart btn-secondary"],["id","stage-to-study-staging-area-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToStudyStagingArea()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"cs-stage-as-telemetry-text",[],null,null,null,Cs,vs)),e.tb(4,49152,null,0,ms,[],{studyType:[0,"studyType"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,4,0,t.component.study.studyType)},function(n,t){n(t,0,0,!t.component.study.isCompleted)})}function Py(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","edit-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit\n            "]))],function(n,t){n(t,1,0,n(t,2,0,"./edit"))},function(n,t){n(t,0,0,e.Eb(t,1).target,e.Eb(t,1).href)})}function Ey(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-scalar-results-csv-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadStudy(!1,!1,!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Scalar Results (CSV)\n                "]))],null,function(n,t){n(t,0,0,!t.component.study.isCompleted)})}function _y(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-scalar-results-zip-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadStudy(!1,!1)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Scalar Results (Zip)\n                "]))],null,function(n,t){n(t,0,0,!t.component.study.isCompleted)})}function Vy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadJob(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["Job Channels (",")\n                  "]))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(1,"download-job-results-csv-",t.context.$implicit,"-button"),!l.study.isCompleted),n(t,3,0,t.context.$implicit)})}function jy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Vy)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n                "]))],function(n,t){n(t,3,0,t.component.study.studyResult.simTypes)},null)}function Ry(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function Fy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Ry)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,t.component.study.errorMessages)},null)}function Ay(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              Building "," of "," jobs...\n            "]))],null,function(n,t){var l=t.component;n(t,1,0,l.study.dispatchedJobCount,l.study.jobCount)})}function Ly(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Building...\n              "]))],null,null)}function Dy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Waiting...\n              "]))],null,null)}function Ny(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Ly)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Dy)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,3,0,l.study.jobCount),n(t,6,0,!l.study.jobCount)},null)}function Uy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              "," "," still running.\n            "]))],null,function(n,t){var l=t.component;n(t,1,0,l.study.incompleteJobCount,1===l.study.incompleteJobCount?"job is":"jobs are")})}function Qy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Running...\n            "]))],null,null)}function Jy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Ay)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Ny)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Uy)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Qy)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,3,0,l.study.isBuilding&&l.study.dispatchedJobCount),n(t,6,0,l.study.isBuilding&&!l.study.dispatchedJobCount),n(t,9,0,l.study.incompleteJobCount),n(t,12,0,!l.study.isBuilding&&!l.study.incompleteJobCount)},null)}function $y(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            This study has "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(3,null,[""," ",""])),(n()(),e.Mb(-1,null,[",\n            of which "])),(n()(),e.ub(5,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(7,null,[" "," succeeded\n            and "])),(n()(),e.ub(8,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(9,null,["",""])),(n()(),e.Mb(10,null,[" "," failed.\n          "]))],null,function(n,t){var l=t.component;n(t,3,0,l.study.jobCount,1===l.study.jobCount?"job":"jobs"),n(t,6,0,l.study.succeededJobCount),n(t,7,0,1===l.study.succeededJobCount?"has":"have"),n(t,9,0,l.study.failedJobCount),n(t,10,0,1===l.study.failedJobCount?"has":"have")})}function Hy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            This study has used "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(3,null,[""," ",""])),(n()(),e.Mb(-1,null,["\n            and "])),(n()(),e.ub(5,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(6,null,[""," ",""])),(n()(),e.Mb(-1,null,[".\n          "]))],null,function(n,t){var l=t.component;n(t,3,0,l.study.succeededComputeCredits,1===l.study.succeededComputeCredits?"compute credit":"compute credits"),n(t,6,0,l.study.succeededStorageCredits,1===l.study.succeededStorageCredits?"storage credit":"storage credits")})}function qy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Study Notes\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","card-body study-notes-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(7,0,null,null,1,"pre",[["class","raw-json last-item"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,8,0,t.component.study.notes)})}function By(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-view-study-sources",[],null,null,null,lf,Xb)),e.tb(1,638976,null,0,Yb,[Se,Fb,On],{studyResult:[0,"studyResult"]},null)],function(n,t){n(t,1,0,t.component.study.studyResult)},null)}function zy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","loader-centered"],["id","study-chart-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Ky(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,zy)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,1,"div",[["id","dashboard"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.isLoadingChart)},null)}function Wy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"cs-view-job",[],null,null,null,ey,Jg)),e.tb(3,245760,null,0,pf,[q,Qr,co,fr,xd,Ug,kd,Ad,Ed,Nb,On],{tenantId:[0,"tenantId"],studyId:[1,"studyId"],jobId:[2,"jobId"],hideBackButton:[3,"hideBackButton"],studyResultTask:[4,"studyResultTask"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,l.tenantId,l.studyId,l.studyId+"-0",!0,l.studyResultTask)},null)}function Gy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,138,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,129,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,120,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(6,0,null,null,15,"h1",[["class","card-header"],["id","view-study-header"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["\n          ","\n          "])),(n()(),e.ub(8,0,null,null,3,"small",[["class","text-muted"]],null,null,null,null,null)),e.tb(9,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(10,{"success-header":0,"failure-header":1}),(n()(),e.Mb(11,null,["\n            ","\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,7,"div",[["class","card-header-float-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Oy)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(18,0,null,null,1,"cs-support-session-launcher",[],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==n.component.onSupportSessionChanged(l)&&e),e},zs,Hs)),e.tb(19,114688,null,0,Ns,[Qs,$s,On],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"}),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(23,0,null,null,100,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(25,0,null,null,62,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(27,0,null,null,7,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,28).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(28,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(29,1),e.Fb(30,1),e.Fb(31,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(33,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,ky)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(39,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","stage-to-results-staging-area-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToResultsStagingArea()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(41,0,null,null,0,"i",[["class","fa fa-area-chart"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Ty)),e.tb(45,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Py)),e.tb(48,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(50,0,null,null,1,"span",[["class","inline-button-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Download:"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(53,0,null,null,33,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(55,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-all-results-csv-hover-button"],["title","Approximately 10MB per job."]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadStudy(!0,!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(57,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Study (CSV)\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(60,0,null,null,25,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(62,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-all-results-csv-button"],["title","Approximately 10MB per job."]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadStudy(!0,!0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(64,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Study (CSV)\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(67,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","download-all-results-button"],["title","Approximately 10MB per job."]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.downloadStudy(!0,!1)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(69,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Study (Binary)\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(72,0,null,null,3,"a",[["class","btn btn-smart btn-menu btn-secondary"],["id","download-token-button"]],[[2,"disabled",null],[8,"download",0],[1,"href",4]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(74,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Study (Token)\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Ey)),e.tb(78,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,_y)),e.tb(81,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,jy)),e.tb(84,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(89,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(90,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(92,0,null,null,1,"pre",[["class","raw-json debug-information"],["id","study-json"]],null,null,null,null,null)),(n()(),e.Mb(93,null,["",""])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,Fy)),e.tb(96,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,Jy)),e.tb(99,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(101,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(102,null,["\n            Created "," by "])),(n()(),e.ub(103,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(104,null,["",""])),(n()(),e.Mb(-1,null,[".\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,$y)),e.tb(108,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Hy)),e.tb(111,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(113,0,null,null,6,"p",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(114,null,["\n            "," version "])),(n()(),e.ub(115,0,null,null,3,"a",[["class","study-sim-version"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,116).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(116,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(117,1),(n()(),e.Mb(118,null,["",""])),(n()(),e.Mb(-1,null,[".\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(121,0,null,null,1,"cs-view-custom-properties",[],null,null,null,sy,ry)),e.tb(122,49152,null,0,uy,[],{customProperties:[0,"customProperties"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,qy)),e.tb(127,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,By)),e.tb(130,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Ky)),e.tb(134,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Wy)),e.tb(137,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,9,0,"text-muted",n(t,10,0,l.study.isCompleted&&!l.study.failedJobCount,l.study.isCompleted&&l.study.failedJobCount)),n(t,16,0,l.showWorksheets),n(t,19,0,l.tenantId,l.studyId,"study","definition",l.supportSession),n(t,28,0,l.isCurrentTenant?l.isWorksheetPage?n(t,29,0,"../../../"):n(t,30,0,"../../"):n(t,31,0,"/support-sessions")),n(t,37,0,!l.study.isBuilding),n(t,45,0,l.significantSimVersions.isAfterTelemetrySimulation),n(t,48,0,l.isOwner),n(t,78,0,l.study.jobCount>=2),n(t,81,0,l.study.jobCount>=2),n(t,84,0,1===l.study.jobCount),n(t,90,0,l.errorMessage),n(t,96,0,null==l.study.errorMessages?null:l.study.errorMessages.length),n(t,99,0,!(l.study.isCompleted||null!=l.study.errorMessages&&l.study.errorMessages.length)),n(t,108,0,l.study.jobCount),n(t,111,0,l.study.succeededComputeCredits||l.study.succeededStorageCredits),n(t,116,0,n(t,117,0,l.RELEASE_NOTES_URL)),n(t,122,0,l.study.properties),n(t,127,0,l.study.notes),n(t,130,0,l.study.jobCount>1),n(t,134,0,l.study.showExplorationMapViewer),n(t,137,0,1===l.study.jobCount)},function(n,t){var l=t.component;n(t,7,0,l.study.name),n(t,11,0,l.study.isCompleted?"Completed":l.study.isBuilding?l.study.dispatchedJobCount?"Building":"Validating":"In Progress"),n(t,27,0,e.Eb(t,28).target,e.Eb(t,28).href),n(t,39,0,!l.study.isCompleted),n(t,55,0,!l.study.isCompleted),n(t,62,0,!l.study.isCompleted),n(t,67,0,!l.study.isCompleted),n(t,72,0,!l.study.isCompleted,e.wb(1,"",l.studyId,".canopy-download-token"),l.study.isCompleted?l.downloadToken:null),n(t,93,0,l.studyJson),n(t,102,0,l.study.creationDate),n(t,104,0,l.study.username),n(t,114,0,l.study.studyTypeName),n(t,115,0,e.Eb(t,116).target,e.Eb(t,116).href),n(t,118,0,l.study.studyResult.study.simVersion)})}function Yy(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["id","view-study-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,xy)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Gy)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,5,0,!l.isLoaded),n(t,9,0,l.isLoaded)},null)}var Zy=e.qb("ng-component",wy,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Yy,Iy)),e.tb(1,245760,null,0,wy,[Cy,b.a,yl,q,Qr,kd,Bh,qn,fr,xd,O,jt,$s,Ed,Ad,Nb,Sy,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Xy=l("g2vt");function nm(n,t){void 0===t&&(t=!0),t?n.markAsPristine():n.markAsDirty()}var tm=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},lm=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},em=function(){function n(n,t,l,e){this.tenantSettingsStub=n,this.timer=t,this.canopyAutocomplete=l,this.getFriendlyErrorAndLog=e,this.nameId=0,this.propertyNameSortDelegate=function(n,t){var l=-1!==n.indexOf(".");return l===(-1!==t.indexOf("."))?n.localeCompare(t):l?1:-1}}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return tm(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h=this;return lm(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),n=this,[4,this.tenantSettingsStub.getTenantDefaultCustomPropertyNames(this.tenantId,this.target)];case 1:if(n.settingsResult=g.sent(),t=[],this.initialProperties)for(l=0,e=this.initialProperties;l<e.length;l++)f=e[l],u=this.getNextNameAndValue(),t.push({initialName:f.name,name:new Zt.f(f.name,tl.customPropertyNameValidators),value:new Zt.f(f.value,tl.customPropertyValueValidators),nameId:u.name,valueId:u.value,nameAutocomplete:void 0,valueAutocomplete:void 0});for(r=0,i=this.settingsResult.settings.defaultCustomPropertyNames;r<i.length;r++)if((f=i[r]).target===this.target)for(o=function(n){if(!t.find(function(t){return t.name.value===n})){var l=s.getNextNameAndValue();t.push({initialName:n,name:new Zt.f(n,tl.customPropertyNameValidators),value:new Zt.f("",tl.customPropertyValueValidators),nameId:l.name,valueId:l.value,nameAutocomplete:void 0,valueAutocomplete:void 0})}},s=this,a=0,c=f.names;a<c.length;a++)o(c[a]);for(t.sort(ge("initialName")),d=0,b=t;d<b.length;d++)this.form.addControl((f=b[d]).nameId,f.name),this.form.addControl(f.valueId,f.value);return this.customProperties=t,this.form.valueChanges.subscribe(function(){return h.onValueChanges()}),[4,this.createAutocompleteOnInputs()];case 2:return g.sent(),this.customProperties.length||this.add(),[3,4];case 3:return p=g.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(p),[3,4];case 4:return[2]}})})},n.prototype.onValueChanges=function(){if(this.form.valid){this.resultProperties.splice(0);for(var n=0,t=this.customProperties;n<t.length;n++){var l=t[n];l.name.value&&l.value.value&&this.resultProperties.push({name:l.name.value.trim(),value:l.value.value.trim()})}}},n.prototype.onNameFocus=function(n){n.nameAutocomplete&&(n.nameAutocomplete.list=this.getAutocompleteNames(n),n.nameAutocomplete.evaluate())},n.prototype.onValueFocus=function(n){n.valueAutocomplete&&(n.valueAutocomplete.list=this.getAutocompleteValuesForPropertyName(n.name.value),n.valueAutocomplete.evaluate())},n.prototype.getAutocompleteNames=function(n){var t=this,l=this.settingsResult.customPropertyGroups.find(function(n){return n.target===t.target}),e=l?l.properties.map(function(n){return n.name}):[];if(this.target===T.study)for(var u=function(n){if(n.target===r.target)return"continue";e.push.apply(e,n.properties.map(function(t){return n.target+"."+t.name}))},r=this,i=0,o=this.settingsResult.customPropertyGroups;i<o.length;i++)u(o[i]);else{var s=this.settingsResult.customPropertyGroups.find(function(n){return n.target===T.study});if(s){var a=this.target+".";e.push.apply(e,s.properties.filter(function(n){return 0===n.name.indexOf(a)}).map(function(n){return n.name.substring(a.length)}))}}var c=this.customProperties.filter(function(t){return t!==n}).map(function(n){return n.name.value});return this.getUniqueValues(e,!0).filter(function(n){return-1===c.indexOf(n)})},n.prototype.getAutocompleteValuesForPropertyName=function(n){var t=[];if(n){this.findAutocompleteValues(t,this.target,n);var l=n.split(".");2===l.length?this.findAutocompleteValues(t,l[0],l[1]):this.target!==T.study&&this.findAutocompleteValues(t,T.study,this.target+"."+n)}return this.getUniqueValues(t,!1)},n.prototype.getUniqueValues=function(n,t){var l=Array.from(new Set(n));return t?l.sort(this.propertyNameSortDelegate):l.sort()},n.prototype.findAutocompleteValues=function(n,t,l){var e=this.settingsResult.customPropertyGroups.find(function(n){return n.target===t});if(e){var u=e.properties.find(function(n){return n.name===l});u&&n.push.apply(n,u.groups.map(function(n){return n.key}))}},n.prototype.createAutocompleteOnInputs=function(){return tm(this,void 0,void 0,function(){var n,t,l;return lm(this,function(e){switch(e.label){case 0:return[4,this.timer.yield()];case 1:for(e.sent(),n=0,t=this.customProperties;n<t.length;n++)(l=t[n]).nameAutocomplete||(l.nameAutocomplete=this.canopyAutocomplete.create(l.nameId+"-input",l.name,[],this.propertyNameSortDelegate)),l.valueAutocomplete||(l.valueAutocomplete=this.canopyAutocomplete.create(l.valueId+"-input",l.value,[]));return[2]}})})},n.prototype.getNextNameAndValue=function(){var n=this.getNextId();return{name:n+"-n",value:n+"-v"}},n.prototype.getNextId=function(){return"cp-"+this.nameId++},n.prototype.add=function(){return tm(this,void 0,void 0,function(){var n,t,l;return lm(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n=this.getNextNameAndValue(),t={initialName:"",name:new Zt.f("",tl.customPropertyNameValidators),value:new Zt.f("",tl.customPropertyValueValidators),nameId:n.name,valueId:n.value,nameAutocomplete:void 0,valueAutocomplete:void 0},this.customProperties.push(t),this.form.addControl(t.nameId,t.name),this.form.addControl(t.valueId,t.value),[4,this.createAutocompleteOnInputs()];case 1:return e.sent(),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},n.prototype.remove=function(n){var t=this.customProperties[n];this.customProperties.splice(n,1),this.form.removeControl(t.nameId),this.form.removeControl(t.valueId),nm(this.form,!1),this.onValueChanges()},n}(),um=e.sb({encapsulation:0,styles:[["#edit-custom-properties-component[_ngcontent-%COMP%]   .btn-hidden[_ngcontent-%COMP%]{border:none}#edit-custom-properties-component[_ngcontent-%COMP%]   .awesomplete[_ngcontent-%COMP%]{display:inline-block}#edit-custom-properties-component[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}"]],data:{}});function rm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Only letters, numbers, hyphens and periods are allowed.\n    "]))],null,null)}function im(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Name is too short.\n    "]))],null,null)}function om(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Name is too long.\n    "]))],null,null)}function sm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Value is too long.\n    "]))],null,null)}function am(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,30,"div",[["class","form-inline form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,5,"input",[["class","form-control"],["placeholder","Name"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0,r=n.component;return"input"===t&&(u=!1!==e.Eb(n,3)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,3).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,3)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,3)._compositionEnd(l.target.value)&&u),"focus"===t&&(u=!1!==r.onNameFocus(n.context.$implicit)&&u),u},null,null)),e.tb(3,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(5,540672,null,0,Zt.g,[[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{form:[0,"form"]},null),e.Jb(2048,null,Zt.p,null,[Zt.g]),e.tb(7,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(9,0,null,null,5,"input",[["class","form-control"],["placeholder","Value"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0,r=n.component;return"input"===t&&(u=!1!==e.Eb(n,10)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,10).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,10)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,10)._compositionEnd(l.target.value)&&u),"focus"===t&&(u=!1!==r.onValueFocus(n.context.$implicit)&&u),u},null,null)),e.tb(10,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(12,540672,null,0,Zt.g,[[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{form:[0,"form"]},null),e.Jb(2048,null,Zt.p,null,[Zt.g]),e.tb(14,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(16,0,null,null,1,"button",[["class","btn btn-smart btn-secondary remove-custom-property-button"],["type","button"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.remove(n.context.index)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Remove"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,rm)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,im)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,om)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,sm)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,5,0,t.context.$implicit.name),n(t,12,0,t.context.$implicit.value),n(t,20,0,t.context.$implicit.name.hasError("customPropertyName")),n(t,23,0,t.context.$implicit.name.hasError("minlength")),n(t,26,0,t.context.$implicit.name.hasError("maxlength")),n(t,29,0,t.context.$implicit.value.hasError("maxlength"))},function(n,t){n(t,2,0,e.wb(1,"",t.context.$implicit.nameId,"-input"),e.Eb(t,7).ngClassUntouched,e.Eb(t,7).ngClassTouched,e.Eb(t,7).ngClassPristine,e.Eb(t,7).ngClassDirty,e.Eb(t,7).ngClassValid,e.Eb(t,7).ngClassInvalid,e.Eb(t,7).ngClassPending),n(t,9,0,e.wb(1,"",t.context.$implicit.valueId,"-input"),e.Eb(t,14).ngClassUntouched,e.Eb(t,14).ngClassTouched,e.Eb(t,14).ngClassPristine,e.Eb(t,14).ngClassDirty,e.Eb(t,14).ngClassValid,e.Eb(t,14).ngClassInvalid,e.Eb(t,14).ngClassPending),n(t,16,0,e.wb(1,"remove-custom-property-button-",t.context.index,""))})}function cm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","btn btn-smart btn-secondary btn-hidden"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n    "]))],null,null)}function dm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-secondary add-button"],["id","add-custom-property-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.add()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Add"]))],null,null)}function bm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["id","edit-custom-properties-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,am)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(8,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,cm)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,dm)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,6,0,l.customProperties),n(t,11,0,!l.customProperties),n(t,14,0,l.customProperties)},null)}var fm=function(){function n(){this.isEditing=!1}return n.prototype.ngOnInit=function(){var n=this;this.reset&&this.reset.subscribe(function(){return n.isEditing=!1})},n.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},n.prototype.edit=function(){this.isEditing=!0},n}(),pm=e.sb({encapsulation:0,styles:[[".view-edit-custom-properties-component[_ngcontent-%COMP%]   .view-custom-properties-container[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}"]],data:{}});function hm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-view-custom-properties",[["class","view-custom-properties-container"]],null,null,null,sy,ry)),e.tb(1,49152,null,0,uy,[],{customProperties:[0,"customProperties"],showDivider:[1,"showDivider"]},null)],function(n,t){n(t,1,0,t.component.initialProperties,!1)},null)}function gm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,hm)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,4,"p",[["class","button-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"button",[["class","btn btn-secondary"],["id","edit-custom-properties-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.edit()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Edit"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,t.component.initialProperties.length)},null)}function ym(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-edit-custom-properties",[],null,null,null,bm,um)),e.tb(3,114688,null,0,em,[z,fr,hc,On],{tenantId:[0,"tenantId"],target:[1,"target"],initialProperties:[2,"initialProperties"],resultProperties:[3,"resultProperties"],form:[4,"form"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,l.tenantId,l.target,l.initialProperties,l.resultProperties,l.form)},null)}function mm(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,7,"div",[["class","view-edit-custom-properties-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,gm)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,ym)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,4,0,!l.isEditing),n(t,7,0,l.isEditing)},null)}var vm=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},wm=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Mm=function(){function n(n,t,l,e,u,r,i,o,s){this.formBuilder=l,this.studyStub=e,this.formSubmissionHandler=u,this.formCancellationHandler=r,this.getSimVersion=i,this.documentUpdatedEventService=o,this.getFriendlyErrorAndLog=s,this.isLoaded=!1,this.name=new Zt.f("",Zt.w.compose([Zt.w.required].concat(tl.configNameValidators))),this.notes=new Zt.f("",tl.configNotesValidators.slice()),this.submitButton=new ll("Save","Saving..."),this.saveSuccessful=!1,this.customProperties=[],this.tenantId=t.getTenantId(n),this.userId=t.getUserId(n),this.studyId=n.snapshot.params[Mn],this.form=this.formBuilder.group({name:this.name,notes:this.notes})}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return vm(this,void 0,void 0,function(){var n,t;return wm(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.studyStub.getStudy(this.tenantId,this.studyId,this.getSimVersion.currentSimVersion)];case 1:return n=l.sent(),this.name.setValue(n.study.name,{}),this.notes.setValue(n.study.notes,{}),this.customProperties=ye.objectToList(n.study.properties),this.isLoaded=!0,[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.routerCanDeactivate=function(){return this.formCancellationHandler.execute(this.form)},n.prototype.onSubmit=function(){return vm(this,void 0,void 0,function(){return wm(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.submit=function(){return vm(this,void 0,void 0,function(){return wm(this,function(n){switch(n.label){case 0:return[4,this.studyStub.putStudy(this.tenantId,this.studyId,{name:this.name.value,properties:this.customProperties,notes:this.notes.value})];case 1:return n.sent(),this.documentUpdatedEventService.emit(this.tenantId,this.studyId),nm(this.form),[2]}})})},n}(),Cm=function(){function n(n){this.confirmationDialog=n}return n.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return n.dirty?[4,this.confirmationDialog.show("Form has changes. Are you sure you want to navigate away?")]:[2,!0];case 1:return[2,!!t.sent()]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),Sm=function(){function n(){this.eventEmitter=new e.n}return Object.defineProperty(n.prototype,"documentUpdated",{get:function(){return this.eventEmitter},enumerable:!0,configurable:!0}),n.prototype.emit=function(n,t){this.eventEmitter.emit(new Im(n,t))},n}(),Im=function(n,t){this.tenantId=n,this.documentId=t},xm=e.sb({encapsulation:2,styles:[],data:{}});function Om(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Saved.\n        "]))],null,null)}function km(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Tm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is required\n                "]))],null,null)}function Pm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is too short.\n                "]))],null,null)}function Em(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is too long.\n                "]))],null,null)}function _m(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Notes are too long.\n                "]))],null,null)}function Vm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,64,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,23,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(6,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(8,0,null,null,1,"label",[["class","title-label"],["for","name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(11,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,12)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,12).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,12)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,12)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(12,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(14,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(16,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Tm)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Pm)),e.tb(22,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Em)),e.tb(25,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(30,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(32,0,null,null,18,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(34,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(36,0,null,null,1,"label",[["class","title-label"],["for","notes-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Notes"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(39,0,null,null,6,"textarea",[["autosize",""],["class","form-control notes-input"],["formControlName","notes"],["id","notes-input"],["rows","1"],["style","overflow: hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,40)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,40).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,40)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,40)._compositionEnd(l.target.value)&&u),"input"===t&&(u=!1!==e.Eb(n,45).resize()&&u),u},null,null)),e.tb(40,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(42,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(44,16384,null,0,Zt.q,[[4,Zt.p]],null,null),e.tb(45,4210688,null,0,Xy.b,[e.l],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,_m)),e.tb(48,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(53,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(55,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(57,0,null,null,1,"label",[["class","title-label"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Custom Properties"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(60,0,null,null,1,"cs-view-edit-custom-properties",[],null,null,null,mm,pm)),e.tb(61,245760,null,0,fm,[],{tenantId:[0,"tenantId"],target:[1,"target"],initialProperties:[2,"initialProperties"],resultProperties:[3,"resultProperties"],form:[4,"form"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,14,0,"name"),n(t,19,0,!l.name.pristine&&l.name.hasError("required")),n(t,22,0,l.name.hasError("minlength")),n(t,25,0,l.name.hasError("maxlength")),n(t,42,0,"notes"),n(t,48,0,l.notes.hasError("maxlength")),n(t,61,0,l.tenantId,"study",l.customProperties,l.customProperties,l.form)},function(n,t){n(t,11,0,e.Eb(t,16).ngClassUntouched,e.Eb(t,16).ngClassTouched,e.Eb(t,16).ngClassPristine,e.Eb(t,16).ngClassDirty,e.Eb(t,16).ngClassValid,e.Eb(t,16).ngClassInvalid,e.Eb(t,16).ngClassPending),n(t,39,0,e.Eb(t,44).ngClassUntouched,e.Eb(t,44).ngClassTouched,e.Eb(t,44).ngClassPristine,e.Eb(t,44).ngClassDirty,e.Eb(t,44).ngClassValid,e.Eb(t,44).ngClassInvalid,e.Eb(t,44).ngClassPending)})}function jm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,47,"div",[["class","container-fluid"],["id","edit-study-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,44,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,4,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Edit Study\n      "])),(n()(),e.ub(6,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(10,0,null,null,35,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(12,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,14).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,14).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(13,16384,null,0,Zt.y,[],null,null),e.tb(14,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(16,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(18,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(20,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,21).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(21,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(22,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(24,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(27,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","edit-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(29,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(30,null,["\n            ","\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(33,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(34,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Om)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,km)),e.tb(40,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,Vm)),e.tb(43,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,14,0,l.form),n(t,21,0,n(t,22,0,"../")),n(t,34,0,l.errorMessage),n(t,37,0,l.saveSuccessful),n(t,40,0,!l.isLoaded),n(t,43,0,l.isLoaded)},function(n,t){var l=t.component;n(t,7,0,l.name.value),n(t,12,0,e.Eb(t,16).ngClassUntouched,e.Eb(t,16).ngClassTouched,e.Eb(t,16).ngClassPristine,e.Eb(t,16).ngClassDirty,e.Eb(t,16).ngClassValid,e.Eb(t,16).ngClassInvalid,e.Eb(t,16).ngClassPending),n(t,20,0,e.Eb(t,21).target,e.Eb(t,21).href),n(t,27,0,!l.isLoaded||l.submitButton.isSubmitting),n(t,30,0,l.submitButton.text)})}var Rm=e.qb("ng-component",Mm,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,jm,xm)),e.tb(1,114688,null,0,Mm,[b.a,yl,Zt.e,q,Ml,Cm,Nb,Sm,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Fm=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Am=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Lm=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p){this.identity=e,this.moment=u,this.json=r,this.studyStub=i,this.getUsernameMap=o,this.resultsStagingArea=s,this.canopyPusher=a,this.viewJobDialog=c,this.goToJobService=d,this.stageStudy=b,this.significantSimVersions=f,this.getFriendlyErrorAndLog=p,this.tenantId=t.getTenantId(n),this.studyId=n.snapshot.params[Mn],this.currentIdentity=this.identity.get(),this.filter=l.getInitialFilter(E.index,!1)}return n.prototype.ngOnInit=function(){var n=this;this.studiesProgressSubscription=this.canopyPusher.studiesProgress.subscribe(function(t){return n.onStudiesProgress(t)}),this.loadTask=this.load()},n.prototype.ngOnDestroy=function(){this.studiesProgressSubscription.unsubscribe()},n.prototype.showJob=function(n){return Fm(this,void 0,void 0,function(){var t;return Am(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.viewJobDialog.show(n.tenantId,n.studyId,n.jobId)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},Object.defineProperty(n.prototype,"getLoadGroupResultsDelegate",{get:function(){var n=this;return function(){return n.loadGroupResults()}},enumerable:!0,configurable:!0}),n.prototype.loadGroupResults=function(){return Fm(this,void 0,void 0,function(){return Am(this,function(n){switch(n.label){case 0:if(!this.loadTask)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.loadTask];case 2:case 3:return n.sent(),[3,4];case 4:return this.lastResult?[2,this.lastResult.groupResults]:[2,[]]}})})},n.prototype.reloadFilter=function(){return Fm(this,void 0,void 0,function(){var n,t;return Am(this,function(l){switch(l.label){case 0:if(l.trys.push([0,6,,7]),!this.loadTask)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.loadTask];case 2:case 3:return l.sent(),[3,4];case 4:return this.isReloading=!0,this.errorMessage=void 0,[4,this.loadTask=this.studyStub.getStudyJobs(this.tenantId,this.studyId,this.filter)];case 5:return n=l.sent(),this.jobs=[],this.addQueryResults(n),[3,7];case 6:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,7];case 7:return this.isReloading=!1,[2]}})})},n.prototype.load=function(){return Fm(this,void 0,void 0,function(){var n,t,l,e,u;return Am(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n=this.getUsernameMap.execute(this.tenantId),t=this.studyStub.getStudyMetadata(this.tenantId,this.studyId),l=this,[4,n];case 1:return l.usernameMap=r.sent(),[4,t];case 2:return e=r.sent(),this.studyName=e.study.name,this.studyType=e.study.data.studyType,this.jobCount=e.study.data.dispatchedJobCount,this.incompleteJobCount=e.study.data.dispatchedJobCount-e.study.data.completedJobCount,this.jobs=[],this.isReloading=!0,[3,4];case 3:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,4];case 4:return[2]}})})},n.prototype.loadNext=function(){return Fm(this,void 0,void 0,function(){var n,t;return Am(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),this.loadTask?[4,this.loadTask]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.lastResult.queryResults.hasMoreResults?(this.isReloading=!0,this.filter.continuationToken=this.lastResult.queryResults.continuationToken,[4,this.loadTask=this.studyStub.getStudyJobs(this.tenantId,this.studyId,this.filter)]):[2];case 3:return n=l.sent(),this.addQueryResults(n),[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return this.isReloading=!1,[2]}})})},n.prototype.addQueryResults=function(n){var t,l=this;this.lastResult=n,(t=this.jobs).push.apply(t,n.queryResults.documents.map(function(n){return new Dm(n.tenantId,n.userId,n.data.studyId,n.documentId,n.data.index,n.name,l.usernameMap[n.userId]||n.userId,l.moment.fromNow(n.creationDate),n.creationDate,l.moment.fromNow(n.modifiedDate),n.data.state===vn.successful,n.data.state===vn.failed,gd(n.data.executionTimeSeconds),n.data.errorMessages,l.getChanges(n.data),n.userId===l.currentIdentity.userId,"Post Processor"===n.name,n.data.computeCredits,n.data.storageCredits)}))},n.prototype.getChanges=function(n){return n.definition?this.json.flatten(n.definition):n.changes?n.changes.map(function(n){return{key:n.path,value:n.savedConfig?n.savedConfig.name:n.value}}):[]},n.prototype.filterChanged=function(n){this.filter=n,this.reloadFilter()},n.prototype.onStudiesProgress=function(n){return Fm(this,void 0,void 0,function(){var t,l,e,u,r,i,o,s,a,c,d,b;return Am(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),this.loadTask?[4,this.loadTask]:[3,2];case 1:f.sent(),f.label=2;case 2:if(!this.jobs)return[2];for(t=0,l=n.items;t<l.length;t++)if((e=l[t]).studyId===this.studyId){for(this.incompleteJobCount=this.jobCount-e.completedJobCount,u=function(n){var t=r.jobs.find(function(t){return t.index===n.i});t&&(t.isSuccessful=!0,t.executionTime=gd(n.t/1e3))},r=this,i=0,o=e.successfulJobs;i<o.length;i++)u(o[i]);for(s=function(n){var t=a.jobs.find(function(t){return t.index===n.i});t&&(t.isFailed=!0,t.executionTime=gd(n.t/1e3),t.errorMessages=["Refresh list for failure reason."])},a=this,c=0,d=e.failedJobs;c<d.length;c++)s(d[c])}return[3,4];case 3:return b=f.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(b),[3,4];case 4:return[2]}})})},n.prototype.cssSanitize=function(n){return or(n)},n.prototype.stageToResultsStagingArea=function(n){try{this.resultsStagingArea.addSource(new fo(this.tenantId,this.studyId,this.studyName,n.jobId,n.name))}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.stageToStudyStagingArea=function(n){return Fm(this,void 0,void 0,function(){var t;return Am(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.stageStudy.toStudyStagingArea(this.tenantId,this.studyId,this.studyName,this.jobCount,so(n.jobId))];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.goToJob=function(){return Fm(this,void 0,void 0,function(){var n;return Am(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.goToJobService.execute(this.tenantId,this.studyId,this.jobCount)];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.trackById=function(n,t){return t.index},n}(),Dm=function(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m){this.tenantId=n,this.userId=t,this.studyId=l,this.jobId=e,this.index=u,this.name=r,this.username=i,this.creationDate=o,this.creationDateRaw=s,this.modifiedDate=a,this.isSuccessful=c,this.isFailed=d,this.executionTime=b,this.errorMessages=f,this.flattenedDefinition=p,this.isOwner=h,this.isPostProcessor=g,this.computeCredits=y,this.storageCredits=m},Nm=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Um=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l){return e=this,void 0,r=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return[4,this.dialogManager.showPrimaryDialog(new Qm(n,t,l))];case 1:return[2,e.sent()]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),Qm=function(n){function t(t,l,e){var u=n.call(this)||this;return u.tenantId=t,u.studyId=l,u.jobId=e,u}return Nm(t,n),t}(se),Jm=e.sb({encapsulation:0,styles:[["#view-jobs-page[_ngcontent-%COMP%]   .job-diff-key[_ngcontent-%COMP%], #view-jobs-page[_ngcontent-%COMP%]   .job-diff-value[_ngcontent-%COMP%], #view-jobs-page[_ngcontent-%COMP%]   .job-link[_ngcontent-%COMP%]{white-space:nowrap}#view-jobs-page[_ngcontent-%COMP%]   .job-diff-key[_ngcontent-%COMP%], #view-jobs-page[_ngcontent-%COMP%]   .job-diff-value[_ngcontent-%COMP%]{color:gray;font-size:.9rem}#view-jobs-page[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d95929}#view-jobs-page[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#8fbf4d}#view-jobs-page[_ngcontent-%COMP%]   .job-index[_ngcontent-%COMP%]{color:#aaa;font-size:.75rem;margin-left:.5rem}#view-jobs-page[_ngcontent-%COMP%]   .view-credits[_ngcontent-%COMP%]{margin-left:.25rem}"]],data:{}});function $m(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Jobs"]))],null,null)}function Hm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n        ","\n        "])),(n()(),e.ub(2,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Jobs\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,1,0,t.component.studyName)})}function qm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Bm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n          "," "," still running.\n        "]))],null,function(n,t){var l=t.component;n(t,1,0,l.incompleteJobCount,1===l.incompleteJobCount?"job is":"jobs are")})}function zm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["title","Compare"]],[[8,"id",0],[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToResultsStagingArea(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-area-chart"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare Results\n                  "]))],null,function(n,t){n(t,0,0,e.wb(1,"stage-to-results-staging-area-button-",t.parent.context.$implicit.jobId,""),e.wb(1,"btn btn-smart btn-secondary stage-to-results-staging-area-button-",t.parent.context.index,""))})}function Km(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"button",[["title","Stage"]],[[8,"id",0],[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stageToStudyStagingArea(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"cs-stage-as-telemetry-text",[],null,null,null,Cs,vs)),e.tb(4,49152,null,0,ms,[],{studyType:[0,"studyType"]},null),(n()(),e.Mb(-1,null,["\n                  "]))],function(n,t){n(t,4,0,t.component.studyType)},function(n,t){n(t,0,0,e.wb(1,"stage-to-study-staging-area-button-",t.parent.context.$implicit.jobId,""),e.wb(1,"btn btn-smart btn-secondary stage-to-study-staging-area-button-",t.parent.context.index,""))})}function Wm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","job-diff-key"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n                  ","\n                "]))],null,function(n,t){n(t,1,0,t.context.$implicit.key)})}function Gm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function Ym(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function Zm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function Xm(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","job-diff-value"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n                  ","\n                "]))],null,function(n,t){n(t,1,0,t.context.$implicit.value)})}function nv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,63,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,23,"td",[["class","icon-cell button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,3,"button",[],[[8,"id",0],[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,0,"i",[["class","fa fa-ellipsis-h"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(9,0,null,null,15,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,zm)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(14,0,null,null,3,"button",[["title","Quick View"]],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.showJob(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(16,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Quick View Job\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Km)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(22,0,null,null,1,"cs-linting-engine-dialog-launcher",[],null,null,null,Es,ks)),e.tb(23,49152,null,0,Ss,[ce,xs,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],studyId:[2,"studyId"],jobId:[3,"jobId"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(27,0,null,null,11,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(29,0,null,null,3,"a",[],[[8,"className",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,30).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(30,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(31,2),(n()(),e.Mb(32,null,["\n                  ","\n                "])),(n()(),e.ub(33,0,null,null,1,"small",[["class","job-index"]],null,null,null,null,null)),(n()(),e.Mb(34,null,["Index ",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Wm)),e.tb(37,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(40,0,null,null,19,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(42,0,null,null,13,"div",[],[[8,"title",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Gm)),e.tb(45,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Ym)),e.tb(48,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Zm)),e.tb(51,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(53,0,null,null,1,"cs-view-credits",[],null,null,null,la,Xs)),e.tb(54,49152,null,0,Zs,[],{computeCredits:[0,"computeCredits"],storageCredits:[1,"storageCredits"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Xm)),e.tb(58,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(61,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(62,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,12,0,!t.context.$implicit.isPostProcessor),n(t,20,0,!t.context.$implicit.isPostProcessor&&l.significantSimVersions.isAfterTelemetrySimulation),n(t,23,0,t.context.$implicit.tenantId,t.context.$implicit.userId,t.context.$implicit.studyId,t.context.$implicit.jobId),n(t,30,0,n(t,31,0,"./",t.context.$implicit.index)),n(t,37,0,t.context.$implicit.flattenedDefinition),n(t,45,0,t.context.$implicit.isSuccessful),n(t,48,0,t.context.$implicit.isFailed),n(t,51,0,!t.context.$implicit.isFailed&&!t.context.$implicit.isSuccessful),n(t,54,0,t.context.$implicit.computeCredits,t.context.$implicit.storageCredits),n(t,58,0,t.context.$implicit.flattenedDefinition)},function(n,t){var l=t.component;n(t,4,0,e.wb(1,"job-hover-button-",t.context.$implicit.jobId,""),e.wb(1,"btn btn-smart btn-secondary btn-icon btn-xsm job-hover-button-",t.context.index,"")),n(t,14,0,e.wb(1,"btn btn-smart btn-secondary quick-view-job-button-",t.context.index,"")),n(t,29,0,e.wb(3,"job-link name-",l.cssSanitize(t.context.$implicit.name)," job-id-",t.context.$implicit.jobId," job-link-",t.context.index,""),e.Eb(t,30).target,e.Eb(t,30).href),n(t,32,0,t.context.$implicit.name),n(t,34,0,t.context.$implicit.index),n(t,42,0,e.wb(1,"",t.context.$implicit.errorMessages&&t.context.$implicit.errorMessages.length?t.context.$implicit.errorMessages[0]:"","")),n(t,62,0,t.context.$implicit.executionTime)})}function tv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.loadNext()&&e),e},null,null)),(n()(),e.Mb(1,null,["\n          ","\n        "]))],null,function(n,t){var l=t.component;n(t,0,0,l.isReloading),n(t,1,0,l.isReloading?"Loading...":"More...")})}function lv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,39,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Bm)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,1,"cs-list-filter",[],null,[[null,"filterChanged"]],function(n,t,l){var e=!0;return"filterChanged"===t&&(e=!1!==n.component.filterChanged(l)&&e),e},hd,Wc)),e.tb(6,245760,null,0,$a,[Zt.e,U,Qr,Qc,Kc,O,On],{initialFilter:[0,"initialFilter"],loadGroupResults:[1,"loadGroupResults"],disableForm:[2,"disableForm"],tenantId:[3,"tenantId"],filterConfigType:[4,"filterConfigType"],canPersistFilter:[5,"canPersistFilter"]},{filterChanged:"filterChanged"}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,27,"div",[["class","filtered-list"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(10,0,null,null,24,"table",[["class","table jobs-table last-item"],["id","jobs-table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(12,0,null,null,15,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(14,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(16,0,null,null,0,"th",[["class","icon-cell"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(18,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(21,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["State"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(24,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Time"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(29,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,nv)),e.tb(32,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,tv)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,l.incompleteJobCount),n(t,6,0,l.filter,l.getLoadGroupResultsDelegate,l.isReloading,l.tenantId,"jobFilter",!0),n(t,32,0,l.jobs,l.trackById),n(t,38,0,null==l.lastResult?null:null==l.lastResult.queryResults?null:l.lastResult.queryResults.hasMoreResults)},null)}function ev(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,43,"div",[["class","container-fluid"],["id","view-jobs-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,40,"div",[["class","list-card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,7,"h1",[["class","list-card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,$m)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Hm)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(13,0,null,null,28,"div",[["class","list-card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(15,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(16,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(18,0,null,null,19,"div",[["class","list-card-padded"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(22,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,23).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(23,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(24,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(26,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(29,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"],["id","go-to-job-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.goToJob()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(31,0,null,null,0,"i",[["class","fa fa-cube"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Go To Job\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,qm)),e.tb(36,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,lv)),e.tb(40,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,7,0,!l.studyName),n(t,10,0,l.studyName),n(t,16,0,l.errorMessage),n(t,23,0,n(t,24,0,"../")),n(t,36,0,!l.jobs),n(t,40,0,l.jobs)},function(n,t){n(t,22,0,e.Eb(t,23).target,e.Eb(t,23).href)})}var uv=e.qb("ng-component",Lm,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,ev,Jm)),e.tb(1,245760,null,0,Lm,[b.a,yl,Sd,O,qn,Qr,q,Nn,co,xd,Um,jd,kd,Ad,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),rv=function(){return function(n,t){var l;this.tenantId=t.getTenantId(n),this.studyId=n.snapshot.params[Mn],this.jobId="number"==typeof(l=n.snapshot.params.jobId)?Ji(this.studyId,l):l}}(),iv=e.sb({encapsulation:2,styles:[],data:{}});function ov(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-view-job",[],null,null,null,ey,Jg)),e.tb(1,245760,null,0,pf,[q,Qr,co,fr,xd,Ug,kd,Ad,Ed,Nb,On],{tenantId:[0,"tenantId"],studyId:[1,"studyId"],jobId:[2,"jobId"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.studyId,l.jobId)},null)}var sv=e.qb("ng-component",rv,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,ov,iv)),e.tb(1,49152,null,0,rv,[b.a,yl],null,null)],null,null)},{},{},[]),av=function(){function n(n,t,l,e){this.prompt=n,this.importTelemetryDialog=t,this.identity=l,this.getFriendlyErrorAndLog=e,this.compactButton=!1}return Object.defineProperty(n.prototype,"isAdministrator",{get:function(){return this.identity.isAdministrator},enumerable:!0,configurable:!0}),n.prototype.launch=function(n){return t=this,void 0,e=function(){var t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,this.importTelemetryDialog.show(n)];case 1:return e.sent(),[3,4];case 2:return t=e.sent(),l=this.getFriendlyErrorAndLog.execute(t),[4,this.prompt.show(l,"List Versions Error")];case 3:return e.sent(),[3,4];case 4:return[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),cv=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),dv=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return[4,this.dialogManager.showPrimaryDialog(new bv(n))];case 1:return[2,t.sent()]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),bv=function(n){function t(t){var l=n.call(this)||this;return l.showDifferences=t,l}return cv(t,n),t}(se),fv=e.sb({encapsulation:0,styles:[[""]],data:{}});function pv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Import Telemetry"]))],null,null)}function hv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"button",[["class","btn btn-smart btn-primary import-telemetry-dialog-launcher"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.launch(!(!l.ctrlKey&&!l.metaKey))&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-icon":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-upload"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,pv)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-primary import-telemetry-dialog-launcher",n(t,2,0,l.compactButton)),n(t,7,0,!l.compactButton)},null)}var gv=function(){function n(n){this.router=n,this.configType=st,this.initialQuery={operator:R.and,conditions:[{source:tn.metadata,name:ln.studyType,operator:X.equals,value:bn.telemetry}]}}return n.prototype.studySelected=function(n){this.router.navigate(["/studies",n.tenantId,n.studyId])},n}(),yv=e.sb({encapsulation:0,styles:[[""]],data:{}});function mv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,36,"div",[["class","view-telemetry-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,33,"div",[["class","list-card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","list-card-header"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,27,"div",[["class","list-card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,21,"div",[["class","list-card-padded"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,18,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,14).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(14,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(15,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(17,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(20,0,null,null,1,"cs-import-telemetry-dialog-launcher",[],null,null,null,hv,fv)),e.tb(21,49152,null,0,av,[ce,dv,O,On],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(23,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","new-config-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,24).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(24,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(25,3),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(27,0,null,null,0,"i",[["class","fa fa-file-o"]],null,null,null,null,null)),(n()(),e.Mb(28,null,["New ","\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(32,0,null,null,1,"cs-view-studies",[],null,[[null,"studySelected"]],function(n,t,l){var e=!0;return"studySelected"===t&&(e=!1!==n.component.studySelected(l)&&e),e},Ib,Dd)),e.tb(33,245760,null,0,Cd,[Sd,O,qn,xd,q,ce,jt,$s,pr.c,kd,Ed,jd,Fd,Ad,Ld,On],{initialQuery:[0,"initialQuery"]},{studySelected:"studySelected"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,14,0,n(t,15,0,"/")),n(t,24,0,n(t,25,0,"/configs",l.configType.pluralKey,"create")),n(t,33,0,l.initialQuery)},function(n,t){var l=t.component;n(t,5,0,l.configType.titleName),n(t,13,0,e.Eb(t,14).target,e.Eb(t,14).href),n(t,23,0,e.Eb(t,24).target,e.Eb(t,24).href),n(t,28,0,l.configType.titleName)})}var vv=function(){function n(n,t,l,u){this.prompt=n,this.getSimVersion=t,this.saveAsDialog=l,this.getFriendlyErrorAndLog=u,this.compactButton=!1,this.copySaved=new e.n}return n.prototype.ngOnInit=function(){},n.prototype.execute=function(){return n=this,void 0,l=function(){var n,t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,this.saveAsDialog.showForReference(this.suggestedName,this.configType,this.getSimVersion.currentSimVersion,void 0,this.configTenantId,this.configId)];case 1:return(n=e.sent())&&this.copySaved.emit(new wv(n.configId)),[3,4];case 2:return t=e.sent(),l=this.getFriendlyErrorAndLog.execute(t),[4,this.prompt.show(l,"Clone Error")];case 3:return e.sent(),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),wv=function(n){this.documentId=n},Mv=e.sb({encapsulation:0,styles:[[""]],data:{}});function Cv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Clone"]))],null,null)}function Sv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"button",[["class","btn btn-smart btn-secondary clone-config-launcher"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.execute()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-icon":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-clone"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Cv)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-secondary clone-config-launcher",n(t,2,0,l.compactButton)),n(t,7,0,!l.compactButton)},null)}var Iv=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),xv=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ov=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},kv=function(n){function t(t,l,u,r,i,o,s,a,c,d){var b=n.call(this)||this;return b.moment=t,b.identity=l,b.configStub=u,b.confirmationDialog=r,b.studyStagingArea=i,b.createUserInformationMaps=o,b.localUserSettingsManager=s,b.getSimVersion=a,b.compareConfigToStaged=c,b.getFriendlyErrorAndLog=d,b.filterChanged=new e.n,b.configSelected=new e.n,b.showProperties=!0,b.isDeleting=!1,b.telemetryConfigType=st,b.worksheetConfigType=pt,b}return Iv(t,n),t.prototype.ngOnInit=function(){this.load()},t.prototype.toggleProperties=function(){this.showProperties=this.localUserSettingsManager.state.showCustomPropertiesInLists=!this.localUserSettingsManager.state.showCustomPropertiesInLists,this.localUserSettingsManager.save()},Object.defineProperty(t.prototype,"canPersistFilter",{get:function(){return!(this.configType.singularKey.endsWith("Filter")||this.configType.singularKey.endsWith("Viewer")||this.configType.singularKey.endsWith("CustomView")||this.subTreePath)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getLoadGroupResultsDelegate",{get:function(){var n=this;return function(){return n.loadGroupResults()}},enumerable:!0,configurable:!0}),t.prototype.loadGroupResults=function(){return xv(this,void 0,void 0,function(){return Ov(this,function(n){switch(n.label){case 0:return[4,this.configStub.getConfigs(this.tenantId,this.configType.singularKey,void 0,this.subTreePath,P.groupOnly)];case 1:return[2,n.sent().groupResults]}})})},t.prototype.reloadFilter=function(){return xv(this,void 0,void 0,function(){var n,t;return Ov(this,function(l){switch(l.label){case 0:if(l.trys.push([0,6,,7]),!this.loadTask)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.loadTask];case 2:case 3:return l.sent(),[3,4];case 4:return this.isReloading=!0,this.errorMessage=void 0,[4,this.loadTask=this.configStub.getConfigs(this.tenantId,this.configType.singularKey,this.filter,this.subTreePath)];case 5:return n=l.sent(),this.configs=[],this.addQueryResults(n),[3,7];case 6:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,7];case 7:return this.isReloading=!1,[2]}})})},t.prototype.load=function(){return xv(this,void 0,void 0,function(){var n,t;return Ov(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.showProperties=this.localUserSettingsManager.state.showCustomPropertiesInLists,this.currentIdentity=this.identity.get(),this.tenantId||(this.tenantId=this.currentIdentity.tenantId),this.canPersistFilter?(this.isReloading=!0,this.configs=[],[2]):[4,this.loadTask=this.configStub.getConfigs(this.tenantId,this.configType.singularKey,this.filter,this.subTreePath)];case 1:return n=l.sent(),this.configs=[],this.addQueryResults(n),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},t.prototype.loadNext=function(){return xv(this,void 0,void 0,function(){var n,t;return Ov(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),this.lastResult.queryResults.hasMoreResults?this.loadTask?[4,this.loadTask]:[3,2]:[2];case 1:l.sent(),l.label=2;case 2:return this.isReloading=!0,this.filter.continuationToken=this.lastResult.queryResults.continuationToken,[4,this.loadTask=this.configStub.getConfigs(this.tenantId,this.configType.singularKey,this.filter,this.subTreePath)];case 3:return n=l.sent(),this.addQueryResults(n),[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return this.isReloading=!1,[2]}})})},t.prototype.addQueryResults=function(n){var t,l=this;this.lastResult=n,this.map?this.createUserInformationMaps.append(n.userInformation,this.map):this.map=this.createUserInformationMaps.execute(n.userInformation);var e=this.getSimVersion.currentSimVersion;(t=this.configs).push.apply(t,n.queryResults.documents.map(function(t){return new Tv(t.documentId,t.tenantId,t.userId,l.map.users[t.userId].username,t.name,l.moment.fromNow(t.creationDate),l.moment.fromNow(t.modifiedDate),t.modifiedDate,t.userId===l.currentIdentity.userId,t.deleteRequested,t.parentWorksheetId,ye.objectToList(t.properties),{session:t.supportSession,userInformation:n.userInformation},t.simVersion,e&&Object(Tt.a)(t.simVersion)>Object(Tt.a)(e))}))},t.prototype.onFilterChanged=function(n){this.filter=n,this.reloadFilter(),this.filterChanged.emit(n)},t.prototype.onConfigSelected=function(n){this.configSelected.emit(n)},t.prototype.renderWithCustomLineBreaks=function(n){return yd(n)},t.prototype.cssSanitize=function(n){return or(n)},t.prototype.stage=function(n){return xv(this,void 0,void 0,function(){var t,l,e;return Ov(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),n.isStaging=!0,[4,this.configStub.getConfig(n.tenantId,n.documentId,this.subTreePath,this.getSimVersion.currentSimVersion)];case 1:return t=u.sent(),l=ye.objectToList(t.config.properties),this.studyStagingArea.stage(this.configType.singularKey,n.userId,n.documentId,t.config.name,t.config.data,l,t.config.notes,t.convertedSimVersion,!1),[3,3];case 2:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,3];case 3:return n.isStaging=!1,[2]}})})},t.prototype.compareToStaged=function(n){return xv(this,void 0,void 0,function(){var t;return Ov(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.compareConfigToStaged.execute(this.configType.singularKey,{tenant:{tenantId:n.tenantId,targetId:n.documentId}},"selected")];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},t.prototype.delete=function(n){return xv(this,void 0,void 0,function(){var t;return Ov(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),n.isOwner?[4,this.confirmationDialog.show("Are you sure you want to delete this "+this.configType.name+(this.subTreePath?" sub-component":"")+"? This action cannot be reversed.","Confirm Delete "+this.configType.titleName,"Permanently Delete "+this.configType.titleName)]:[3,3];case 1:return l.sent()?(n.isDeleting=!0,[4,this.configStub.deleteConfig(this.currentIdentity.tenantId,n.documentId,this.subTreePath)]):[3,3];case 2:l.sent(),this.configs=this.configs.filter(function(t){return t.documentId!==n.documentId}),l.label=3;case 3:return[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return n.isDeleting=!1,[2]}})})},Object.defineProperty(t.prototype,"shouldUndelete",{get:function(){var n=this.userConfigs.filter(function(n){return n.isSelected});return!!n.length&&n.every(function(n){return n.deleteRequested})},enumerable:!0,configurable:!0}),t.prototype.deleteSelected=function(){return xv(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b,f;return Ov(this,function(p){switch(p.label){case 0:return p.trys.push([0,13,,14]),n=this.shouldUndelete,t=(t=this.userConfigs.filter(function(n){return n.isSelected})).filter(n?function(n){return n.deleteRequested}:function(n){return!n.deleteRequested}),0===(l=t.length)?[2]:(e=1===l?"":"s",u=this.configType.titleName+(this.subTreePath?" Sub-Component":""),r=void 0,n?[4,this.confirmationDialog.show("Are you sure you want to restore "+l+" config"+e+" of type "+u+"?","Confirm Restore "+l+" "+u+" Config"+e,"Restore "+l+" "+u+" Config"+e)]:[3,2]);case 1:return r=!!p.sent(),[3,4];case 2:return[4,this.confirmationDialog.show("Are you sure you want to delete "+l+" config"+e+" of type "+u+"? This action cannot be reversed.","Confirm Delete "+l+" "+u+" Config"+e,"Permanently Delete "+l+" "+u+" Config"+e)];case 3:r=!!p.sent(),p.label=4;case 4:if(!r)return[3,12];p.label=5;case 5:for(p.trys.push([5,,11,12]),this.isDeleting=!0,i=0,o=t;i<o.length;i++)(b=o[i]).isDeleting=!0;t.reverse(),s=0,a=t,p.label=6;case 6:return s<a.length?[4,this.configStub.deleteConfig(this.currentIdentity.tenantId,(b=a[s]).documentId,this.subTreePath,n)]:[3,9];case 7:p.sent(),b.deleteRequested=!n,p.label=8;case 8:return s++,[3,6];case 9:return[4,this.reloadFilter()];case 10:return p.sent(),[3,12];case 11:for(this.isDeleting=!1,c=0,d=t;c<d.length;c++)(b=d[c]).isDeleting=!1;return[7];case 12:return[3,14];case 13:return f=p.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(f),[3,14];case 14:return[2]}})})},Object.defineProperty(t.prototype,"canSelectAll",{get:function(){return this.userConfigs.some(function(n){return!n.isSelected})},enumerable:!0,configurable:!0}),t.prototype.toggleSelectAll=function(){try{this.userConfigs.forEach(this.canSelectAll?function(n){return n.isSelected=!0}:function(n){return n.isSelected=!1})}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},Object.defineProperty(t.prototype,"userConfigs",{get:function(){return this.configs.filter(function(n){return n.isOwner})},enumerable:!0,configurable:!0}),t.prototype.trackById=function(n,t){return t.documentId},t}(md),Tv=function(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p){this.documentId=n,this.tenantId=t,this.userId=l,this.username=e,this.name=u,this.creationDate=r,this.modifiedDate=i,this.modifiedDateRaw=o,this.isOwner=s,this.deleteRequested=a,this.parentWorksheetId=c,this.properties=d,this.supportSession=b,this.simVersion=f,this.requiresDowngrade=p,this.isStaging=!1,this.isDeleting=!1,this.isSelected=!1},Pv=function(){function n(n,t,l,e,u,r){this.compareConfigDialog=n,this.loadingDialog=t,this.loadConfigFromReference=l,this.getSimVersion=e,this.studyStagingArea=u,this.saveToConfigReferenceHandlerFactory=r}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.loadConfigFromReference.execute(n,t),"Loading config...")];case 1:return e=r.sent(),[4,this.studyStagingArea.getInput(n,this.getSimVersion.currentSimVersion)];case 2:return u=r.sent(),[4,this.compareConfigDialog.compare(n,[new Pb(l||"worksheet",e,void 0),new Pb("staged",u,void 0)],this.saveToConfigReferenceHandlerFactory.create(t))];case 3:return r.sent(),[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),Ev=e.sb({encapsulation:0,styles:[[".view-configs-component.view-worksheet-configs[_ngcontent-%COMP%]   .config-sim-version[_ngcontent-%COMP%]{display:none}.view-configs-component[_ngcontent-%COMP%]   .loader-padding[_ngcontent-%COMP%]{margin-left:.9375rem}.view-configs-component[_ngcontent-%COMP%]   .select-config-link[_ngcontent-%COMP%]{cursor:pointer}.view-configs-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap}.view-configs-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .select-config-link[_ngcontent-%COMP%]{white-space:normal}.view-configs-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]{text-transform:uppercase;font-size:.6rem;margin-top:.5rem;color:#d95929}.view-configs-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .view-configs-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .view-configs-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .view-configs-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .config-study-additional-information[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d95929}.view-configs-component[_ngcontent-%COMP%]   #convert-telemetry-button[_ngcontent-%COMP%]{float:right}"]],data:{}});function _v(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Vv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-check-square-o"]],null,null,null,null,null))],null,null)}function jv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-square-o"]],null,null,null,null,null))],null,null)}function Rv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-trash-o"]],null,null,null,null,null))],null,null)}function Fv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-undo"]],null,null,null,null,null))],null,null)}function Av(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function Lv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null))],null,null)}function Dv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function Nv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"button",[],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stage(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Lv)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Dv)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,!t.parent.context.$implicit.isStaging),n(t,6,0,t.parent.context.$implicit.isStaging)},function(n,t){var l=t.component;n(t,0,0,e.wb(3,"btn btn-smart btn-secondary btn-icon btn-xsm stage-hover-button-",t.parent.context.index," stage-hover-name-",l.cssSanitize(t.parent.context.$implicit.name)," stage-hover-username-",l.cssSanitize(t.parent.context.$implicit.username),""))})}function Uv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-ellipsis-h"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "]))],null,function(n,t){n(t,0,0,e.wb(2,"btn btn-smart btn-secondary btn-icon btn-xsm config-hover-button-",t.parent.context.index," config-hover-name-",t.component.cssSanitize(t.parent.context.$implicit.name),""))})}function Qv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null))],null,null)}function Jv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function $v(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"button",[],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stage(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Qv)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Jv)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                Stage\n              "]))],function(n,t){n(t,3,0,!t.parent.context.$implicit.isStaging),n(t,6,0,t.parent.context.$implicit.isStaging)},function(n,t){var l=t.component;n(t,0,0,e.wb(3,"btn btn-smart btn-secondary stage-button-",t.parent.context.index," stage-name-",l.cssSanitize(t.parent.context.$implicit.name)," stage-username-",l.cssSanitize(t.parent.context.$implicit.username),""))})}function Hv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-linting-engine-dialog-launcher",[],null,null,null,Es,ks)),e.tb(1,49152,null,0,Ss,[ce,xs,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],configId:[2,"configId"]},null)],function(n,t){n(t,1,0,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.userId,t.parent.context.$implicit.documentId)},null)}function qv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","config-study-additional-information"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Delete Requested"]))],null,null)}function Bv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","config-study-additional-information"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,2).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(2,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(3,3),(n()(),e.Mb(-1,null,["Worksheet"]))],function(n,t){n(t,2,0,n(t,3,0,"/worksheets",t.parent.context.$implicit.tenantId,t.parent.context.$implicit.parentWorksheetId))},function(n,t){n(t,1,0,e.Eb(t,2).target,e.Eb(t,2).href)})}function zv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,0,0,e.wb(3,"custom-property-",t.parent.parent.context.index," custom-property-",t.parent.parent.context.index,"-",t.context.index,"-name")),n(t,3,0,t.context.$implicit.name)})}function Kv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","custom-property-names"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,zv)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.parent.context.$implicit.properties)},null)}function Wv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,0,0,e.wb(2,"custom-property-",t.parent.parent.context.index,"-",t.context.index,"-value")),n(t,3,0,t.context.$implicit.value)})}function Gv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","custom-property-values"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Wv)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.parent.context.$implicit.properties)},null)}function Yv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"div",[["class","config-modified-date-area"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              ",""])),(n()(),e.ub(2,0,null,null,5,"a",[["class","config-sim-version"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,5).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"sim-version-warning":0}),e.tb(5,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(6,1),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,3,0,"config-sim-version",n(t,4,0,t.parent.context.$implicit.requiresDowngrade)),n(t,5,0,n(t,6,0,l.RELEASE_NOTES_URL))},function(n,t){n(t,1,0,t.parent.context.$implicit.modifiedDate),n(t,2,0,e.Eb(t,5).target,e.Eb(t,5).href),n(t,7,0,t.parent.context.$implicit.simVersion)})}function Zv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"div",[["class","config-modified-date-area"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              ",""])),(n()(),e.ub(2,0,null,null,3,"span",[["class","config-sim-version"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"sim-version-warning":0}),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,"config-sim-version",n(t,4,0,t.parent.context.$implicit.requiresDowngrade))},function(n,t){n(t,1,0,t.parent.context.$implicit.modifiedDate),n(t,5,0,t.parent.context.$implicit.simVersion)})}function Xv(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"input",[["type","checkbox"]],[[8,"className",0],[8,"id",0],[8,"checked",0]],[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=0!=(n.parent.context.$implicit.isSelected=!n.parent.context.$implicit.isSelected)&&e),e},null,null))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(2,"select-item-checkbox select-name-",l.cssSanitize(t.parent.context.$implicit.name)," select-username-",l.cssSanitize(t.parent.context.$implicit.username),""),e.wb(1,"select-",t.parent.context.$implicit.documentId,"-checkbox"),t.parent.context.$implicit.isSelected)})}function nw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function tw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-support-session-hover-launcher",[],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==(n.parent.context.$implicit.supportSession=l)&&e),e},Ys,Ws)),e.tb(1,49152,null,0,Ks,[],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"})],function(n,t){n(t,1,0,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.documentId,"config",t.component.configType,t.parent.context.$implicit.supportSession)},null)}function lw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,76,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,27,"td",[["class","icon-cell button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Nv)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Uv)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,18,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,$v)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,3,"button",[],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToStaged(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(17,0,null,null,0,"i",[["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare to Staged\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Hv)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(23,0,null,null,1,"cs-clone-config-launcher",[],[[8,"className",0]],[[null,"copySaved"]],function(n,t,l){var e=!0;return"copySaved"===t&&(e=!1!==n.component.reloadFilter()&&e),e},Sv,Mv)),e.tb(24,114688,null,0,vv,[ce,Nb,fa,On],{configId:[0,"configId"],configTenantId:[1,"configTenantId"],configType:[2,"configType"],suggestedName:[3,"suggestedName"]},{copySaved:"copySaved"}),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(26,0,null,null,1,"cs-set-ownership-dialog-launcher",[],[[8,"className",0]],[[null,"ownershipChanged"]],function(n,t,l){var e=!0;return"ownershipChanged"===t&&(e=!1!==n.component.reloadFilter()&&e),e},Ls,Rs)),e.tb(27,114688,null,0,Vs,[ce,_s,O,On],{documentId:[0,"documentId"],documentTenantId:[1,"documentTenantId"],documentUserId:[2,"documentUserId"]},{ownershipChanged:"ownershipChanged"}),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(31,0,null,null,13,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(33,0,null,null,1,"a",[["href","javascript:void(0)"]],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onConfigSelected(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(34,null,["\n              ","\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,qv)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Bv)),e.tb(40,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Kv)),e.tb(43,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(46,0,null,null,4,"td",[["class","custom-property-values-column"]],null,null,null,null,null)),(n()(),e.Mb(47,null,["\n            ","\n            "])),(n()(),e.lb(16777216,null,null,1,null,Gv)),e.tb(49,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(52,0,null,null,7,"td",[["title","Saved config version. Config versions in red require downgrading for your current sim version, which may not produce valid configs."]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Yv)),e.tb(55,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Zv)),e.tb(58,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(61,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(62,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(64,0,null,null,11,"td",[["class","icon-cell"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,Xv)),e.tb(67,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,nw)),e.tb(70,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,tw)),e.tb(74,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,5,0,l.canStage),n(t,8,0,!l.canStage),n(t,13,0,l.canStage),n(t,21,0,l.canStage),n(t,24,0,t.context.$implicit.documentId,t.context.$implicit.tenantId,l.configType.singularKey,t.context.$implicit.name),n(t,27,0,t.context.$implicit.documentId,t.context.$implicit.tenantId,t.context.$implicit.userId),n(t,37,0,t.context.$implicit.deleteRequested),n(t,40,0,t.context.$implicit.parentWorksheetId),n(t,43,0,l.showProperties),n(t,49,0,l.showProperties),n(t,55,0,l.canNavigate),n(t,58,0,!l.canNavigate),n(t,67,0,t.context.$implicit.isOwner&&!t.context.$implicit.isDeleting),n(t,70,0,t.context.$implicit.isDeleting),n(t,74,0,t.context.$implicit.supportSession.session)},function(n,t){var l=t.component;n(t,15,0,e.wb(3,"btn btn-smart btn-secondary compare-to-staged-button-",t.context.index," compare-to-staged-name-",l.cssSanitize(t.context.$implicit.name)," compare-to-staged-username-",l.cssSanitize(t.context.$implicit.username),"")),n(t,23,0,e.wb(1,"clone-config-launcher-",l.cssSanitize(t.context.$implicit.name),"")),n(t,26,0,e.wb(1,"set-ownership-dialog-launcher-",l.cssSanitize(t.context.$implicit.name),"")),n(t,33,0,e.wb(2,"select-config-link name-",l.cssSanitize(t.context.$implicit.name)," username-",l.cssSanitize(t.context.$implicit.username),"")),n(t,34,0,l.renderWithCustomLineBreaks(t.context.$implicit.name)),n(t,47,0,t.context.$implicit.creationDate),n(t,62,0,t.context.$implicit.username)})}function ew(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.loadNext()&&e),e},null,null)),(n()(),e.Mb(1,null,["\n        ","\n      "]))],null,function(n,t){var l=t.component;n(t,0,0,l.isReloading),n(t,1,0,l.isReloading?"Loading...":"More...")})}function uw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,70,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-list-filter",[],null,[[null,"filterChanged"]],function(n,t,l){var e=!0;return"filterChanged"===t&&(e=!1!==n.component.onFilterChanged(l)&&e),e},hd,Wc)),e.tb(3,245760,null,0,$a,[Zt.e,U,Qr,Qc,Kc,O,On],{initialFilter:[0,"initialFilter"],loadGroupResults:[1,"loadGroupResults"],disableForm:[2,"disableForm"],tenantId:[3,"tenantId"],filterConfigType:[4,"filterConfigType"],canPersistFilter:[5,"canPersistFilter"]},{filterChanged:"filterChanged"}),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(5,0,null,null,57,"div",[["class","filtered-list"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,54,"table",[["id","configs-table"]],[[8,"className",0]],[[null,"copy"]],function(n,t,l){var e=!0;return"copy"===t&&(e=!1!==n.component.onCopy(l)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,45,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,42,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,0,"th",[["class","icon-cell"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(15,0,null,null,4,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Name\n            "])),(n()(),e.ub(17,0,null,null,1,"a",[["class","toggle-properties-button"],["href","javascript:void(0)"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleProperties()&&e),e},null,null)),(n()(),e.Mb(18,null,[""," Properties"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(21,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Created"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(24,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Modified"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(27,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Owner"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(30,0,null,null,22,"th",[["class","double-icon-cell"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(32,0,null,null,7,"button",[["class","btn btn-secondary btn-icon btn-icon-only btn-xsm"],["id","select-all-configs-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleSelectAll()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Vv)),e.tb(35,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,jv)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(41,0,null,null,10,"button",[["class","btn btn-secondary btn-icon btn-xsm"],["id","delete-configs-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.deleteSelected()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Rv)),e.tb(44,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Fv)),e.tb(47,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Av)),e.tb(50,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(56,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,lw)),e.tb(59,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(64,0,null,null,5,"p",[["class","table-footer-buttons"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,ew)),e.tb(68,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,l.filter,l.getLoadGroupResultsDelegate,l.isReloading,l.currentIdentity.tenantId,l.configType.singularKey+"Filter",l.canPersistFilter),n(t,35,0,!l.canSelectAll),n(t,38,0,l.canSelectAll),n(t,44,0,!l.isDeleting&&!l.shouldUndelete),n(t,47,0,!l.isDeleting&&l.shouldUndelete),n(t,50,0,l.isDeleting),n(t,59,0,l.configs,l.trackById),n(t,68,0,null==l.lastResult?null:null==l.lastResult.queryResults?null:l.lastResult.queryResults.hasMoreResults)},function(n,t){var l=t.component;n(t,7,0,e.wb(1,"table configs-table last-item ",l.cssSanitize(l.configType.singularKey),"-configs-table")),n(t,18,0,l.showProperties?"Hide":"Show")})}function rw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","loader-padding"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,_v)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,uw)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,8,0,!l.configs),n(t,12,0,l.configs)},function(n,t){var l=t.component;n(t,0,0,e.wb(1,"view-configs-component view-",null==l.configType?null:l.configType.singularKey,"-configs"))})}function iw(n){var t=n;return-1!==t.indexOf("/")&&(t=t.substr(t.lastIndexOf("/")+1)),-1!==t.indexOf(".")&&(t=t.substr(0,t.lastIndexOf("."))),t}var ow=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},sw=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},aw=function(){function n(n,t,l,u,r,i){this.simVersionStub=n,this.documentCache=t,this.studyStagingArea=l,this.json=u,this.getSimVersion=r,this.getFriendlyErrorAndLog=i,this.configSelected=new e.n}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return ow(this,void 0,void 0,function(){var n,t,l=this;return sw(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.documentCache.getFolder(this.configType.pluralKey,this.getSimVersion.currentSimVersion)];case 1:return n=e.sent(),this.simVersion=n.simVersion,this.configs=n.documents.map(function(n){return new cw(n.name,iw(n.name),l.simVersion)}),this.configs.sort(ge("name")),[3,3];case 2:return t=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.cssSanitize=function(n){return or(n)},n.prototype.stage=function(n){return ow(this,void 0,void 0,function(){var t,l,e;return sw(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),n.isStaging=!0,[4,this.simVersionStub.getDocument(this.simVersion,n.filePath)];case 1:return t=u.sent(),l=this.json.parse(t.document.content),this.studyStagingArea.stage(this.configType.singularKey,void 0,n.filePath,n.name,l,[],void 0,this.simVersion,!1),[3,3];case 2:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,3];case 3:return n.isStaging=!1,[2]}})})},n.prototype.onConfigSelected=function(n){this.configSelected.emit(n)},n}(),cw=function(n,t,l){this.filePath=n,this.name=t,this.simVersion=l,this.isStaging=!1},dw=e.sb({encapsulation:0,styles:[[".view-default-configs-component[_ngcontent-%COMP%]   .select-config-link[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function bw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function fw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"th",[["class","icon-cell"]],null,null,null,null,null))],null,null)}function pw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null))],null,null)}function hw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function gw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"td",[["class","icon-cell"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,7,"button",[],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stage(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,pw)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,hw)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,5,0,!t.parent.context.$implicit.isStaging),n(t,8,0,t.parent.context.$implicit.isStaging)},function(n,t){n(t,2,0,e.wb(2,"btn btn-smart btn-secondary btn-icon btn-xsm default-stage-button-",t.parent.context.index," default-stage-name-",t.component.cssSanitize(t.parent.context.$implicit.name),""))})}function yw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,gw)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(5,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(7,0,null,null,1,"a",[["href","javascript:void(0)"]],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onConfigSelected(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(8,null,["\n                ","\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,t.component.canStage)},function(n,t){n(t,7,0,e.wb(2,"select-config-link default-index-",t.context.index," default-name-",t.component.cssSanitize(t.context.$implicit.name),"")),n(t,8,0,t.context.$implicit.name)})}function mw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,22,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,19,"table",[["class","table configs-table last-item"],["id","default-configs-table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,10,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(6,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,fw)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(11,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,yw)),e.tb(19,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n      "]))],function(n,t){var l=t.component;n(t,9,0,l.canStage),n(t,19,0,l.configs)},null)}function vw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Defaults\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,bw)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,mw)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,8,0,l.errorMessage),n(t,11,0,!l.configs),n(t,14,0,l.configs)},null)}function ww(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","view-default-configs-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,vw)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,!l.configs||!!l.configs.length)},null)}var Mw=function(){function n(n,t,l,e,u,r){this.router=e,this.identity=u,this.significantSimVersions=r,this.telemetryConfigType=st,this.showTelemetryConfigs=!1,this.configType=l.snapshot.data[Mt],this.tenantId=t.getTenantId(l),this.userId=t.getUserId(l),this.initialFilter=n.getInitialFilter(),this.currentIdentity=this.identity.get()}return n.prototype.filterChanged=function(n){},n.prototype.configSelected=function(n){this.router.navigate(["/configs",this.configType.pluralKey,n.tenantId,n.documentId,"edit"])},n.prototype.defaultConfigSelected=function(n){this.router.navigate(["/default-configs",n.simVersion,this.configType.pluralKey,n.name,"edit"])},Object.defineProperty(n.prototype,"showTelemetrySimulations",{get:function(){return this.configType.singularKey===this.telemetryConfigType.singularKey&&this.significantSimVersions.isAfterTelemetrySimulation},enumerable:!0,configurable:!0}),n.prototype.toggleShowTelemetryConfigs=function(){this.showTelemetryConfigs=!this.showTelemetryConfigs},Object.defineProperty(n.prototype,"showConfigs",{get:function(){return this.configType.singularKey!==this.telemetryConfigType.singularKey||this.showTelemetryConfigs},enumerable:!0,configurable:!0}),n}(),Cw=e.sb({encapsulation:2,styles:[],data:{}});function Sw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-view-telemetry-configs",[],null,null,null,mv,yv)),e.tb(3,49152,null,0,gv,[b.m],{tenantId:[0,"tenantId"],userId:[1,"userId"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,l.tenantId,l.userId)},null)}function Iw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleShowTelemetryConfigs()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Show Configs"])),(n()(),e.Mb(-1,null,["\n  "]))],null,null)}function xw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,18,"div",[["class","list-card-padded"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,15,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","home-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,5).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(5,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(6,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(8,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(11,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","new-config-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,12).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(12,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(13,3),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,0,"i",[["class","fa fa-file-o"]],null,null,null,null,null)),(n()(),e.Mb(16,null,["New ","\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,5,0,n(t,6,0,"../../")),n(t,12,0,n(t,13,0,"/configs",l.configType.pluralKey,"create"))},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,5).target,e.Eb(t,5).href),n(t,11,0,e.Eb(t,12).target,e.Eb(t,12).href),n(t,16,0,l.configType.titleName)})}function Ow(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,24,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,17,"div",[["class","list-card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","list-card-header"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["\n        "," Configs\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,11,"div",[["class","list-card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(10,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,xw)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(15,0,null,null,2,"cs-view-configs",[],null,[[null,"filterChanged"],[null,"configSelected"]],function(n,t,l){var e=!0,u=n.component;return"filterChanged"===t&&(e=!1!==u.filterChanged(l)&&e),"configSelected"===t&&(e=!1!==u.configSelected(l)&&e),e},rw,Ev)),e.tb(16,114688,null,0,kv,[qn,O,Q,ce,Se,$s,Fd,Nb,Pv,On],{tenantId:[0,"tenantId"],configType:[1,"configType"],filter:[2,"filter"],canStage:[3,"canStage"]},{filterChanged:"filterChanged",configSelected:"configSelected"}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(21,0,null,null,2,"cs-view-default-configs",[],null,[[null,"configSelected"]],function(n,t,l){var e=!0;return"configSelected"===t&&(e=!1!==n.component.defaultConfigSelected(l)&&e),e},ww,dw)),e.tb(22,114688,null,0,aw,[H,qr,Se,Qr,Nb,On],{configType:[0,"configType"],canStage:[1,"canStage"]},{configSelected:"configSelected"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,10,0,l.errorMessage),n(t,13,0,!l.showTelemetrySimulations),n(t,16,0,l.tenantId,l.configType,l.initialFilter,!0),n(t,22,0,l.configType,!0)},function(n,t){n(t,5,0,t.component.configType.titleName)})}function kw(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","container-fluid"],["id","view-configs-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Sw)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Iw)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,Ow)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.showTelemetrySimulations),n(t,6,0,!l.showConfigs),n(t,9,0,l.showConfigs)},null)}var Tw=e.qb("ng-component",Mw,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,kw,Cw)),e.tb(1,49152,null,0,Mw,[Sd,yl,b.a,b.m,O,Ad],null,null)],null,null)},{},{},[]),Pw=function(n){this.significantSimVersions=n},Ew=e.sb({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{text-decoration:underline}"]],data:{}});function _w(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    Read the "])),(n()(),e.ub(4,0,null,null,1,"a",[["href","/wiki/Telemetry"],["target","_blank"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Telemetry documentation"])),(n()(),e.Mb(-1,null,[".\n  "])),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function Vw(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,_w)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.significantSimVersions.isAfterTelemetrySimulation)},null)}var jw=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Rw=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Fw=function(){function n(){}return n.isTrack=function(n){return n===un.track},n.isCar=function(n){return n===un.car},n.isTelemetry=function(n){return n===un.telemetry},n.hasConfigPreview=function(t){return n.isTrack(t)||n.isCar(t)||n.isTelemetry(t)},n}(),Aw=function(){function n(n,t,l){this.visualizationFactory=n,this.timer=t,this.getFriendlyErrorAndLog=l,this.elementId="view-config-preview-"+Object(ac.a)(10)}return n.prototype.ngOnDestroy=function(){this.navigationStation&&(this.navigationStation.dispose(),this.navigationStation=null)},Object.defineProperty(n.prototype,"isTrack",{get:function(){return Fw.isTrack(this.configType.singularKey)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCar",{get:function(){return Fw.isCar(this.configType.singularKey)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTelemetry",{get:function(){return Fw.isTelemetry(this.configType.singularKey)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasConfigPreview",{get:function(){return Fw.hasConfigPreview(this.configType.singularKey)},enumerable:!0,configurable:!0}),n.prototype.loadConfigPreviews=function(n,t){return jw(this,void 0,void 0,function(){var l,e,u,r;return Rw(this,function(i){switch(i.label){case 0:return i.trys.push([0,9,,10]),this.configPreviewErrorMessage=void 0,this.configPreviewElement&&this.configPreviewElement.nativeElement?(this.navigationStation&&(this.navigationStation.dispose(),this.navigationStation=null),this.configPreviewElement.nativeElement.innerHTML='<div id="'+this.elementId+'"></div>',[4,this.timer.yield()]):[2];case 1:return i.sent(),this.isTrack?(l=this,[4,this.visualizationFactory.createTrackPreview(this.elementId,n,t)]):[3,3];case 2:return l.navigationStation=i.sent(),[3,7];case 3:return this.isCar?(e=this,[4,this.visualizationFactory.createCarPreview(this.elementId,n,t)]):[3,5];case 4:return e.navigationStation=i.sent(),[3,7];case 5:return u=this,[4,this.visualizationFactory.createTelemetryPreview(this.elementId,n)];case 6:u.navigationStation=i.sent(),i.label=7;case 7:return[4,this.navigationStation.build()];case 8:return i.sent(),[3,10];case 9:return r=i.sent(),this.configPreviewErrorMessage=this.getFriendlyErrorAndLog.execute(r),[3,10];case 10:return[2]}})})},n.prototype.loadConfigPreviewsIfRequired=function(n,t){return jw(this,void 0,void 0,function(){return Rw(this,function(l){switch(l.label){case 0:return this.hasConfigPreview?[4,this.loadConfigPreviews(n,t)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},n}(),Lw=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Dw=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Nw=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Uw=function(n){function t(t,l,e){return n.call(this,t,l,e)||this}return Lw(t,n),t.prototype.ngOnDestroy=function(){this.editorInstance&&this.editorInstance.destroy(),n.prototype.ngOnDestroy.call(this)},t.prototype.updateConfigPreview=function(){return Dw(this,void 0,void 0,function(){var n,t;return Nw(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.errorMessage=void 0,this.editorInstance?(n=this.editorInstance.getValue(),[4,this.loadConfigPreview(n)]):[2];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},t.prototype.loadConfigPreview=function(n){return this.editorInstance?this.isTrack?this.loadConfigPreviews([new qh("Track",n)],this.editorInstance.defaultUnits):this.isCar?this.loadConfigPreviews([new qh("Car",n)],this.editorInstance.defaultUnits):this.loadConfigPreviews([new qh("Telemetry",n)],void 0):Promise.resolve()},t.prototype.loadConfigPreviewIfRequired=function(n){return Dw(this,void 0,void 0,function(){return Nw(this,function(t){switch(t.label){case 0:return this.hasConfigPreview?[4,this.loadConfigPreview(n)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t}(Aw),Qw=function(n){return n[n.none=0]="none",n[n.singleComment=1]="singleComment",n[n.multiComment=2]="multiComment",n}({});function Jw(n){for(var t,l,e=!1,u=Qw.none,r=0,i="",o=0;o<n.length;o++)if(t=n[o],l=n[o+1],u===Qw.none&&'"'===t&&("\\"===n[o-1]&&"\\"!==n[o-2]||(e=!e)),!e)if(u===Qw.none&&t+l==="//")i+=n.slice(r,o),r=o,u=Qw.singleComment,o++;else{if(u===Qw.singleComment&&t+l==="\r\n"){u=Qw.none,r=++o;continue}if(u===Qw.singleComment&&"\n"===t)u=Qw.none,r=o;else{if(!u&&t+l==="/*"){i+=n.slice(r,o),r=o,u=Qw.multiComment,o++;continue}if(u===Qw.multiComment&&t+l==="*/"){u=Qw.none,r=++o+1;continue}}}return i+(u!==Qw.none?"":n.substr(r))}var $w,Hw=function(n,t,l){this.autocompleteList=n,this.userInformation=t,this.options=l},qw=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Bw=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},zw=function(){function n(n,t){this.studyStagingArea=n,this.studyTypeLookup=t}return n.prototype.initialize=function(){return qw(this,void 0,void 0,function(){var n;return Bw(this,function(t){switch(t.label){case 0:return n=this,[4,this.studyTypeLookup.getStudyTypeMap()];case 1:return n.studyTypeMap=t.sent(),[2]}})})},n.prototype.execute=function(){return qw(this,void 0,void 0,function(){return Bw(this,function(n){switch(n.label){case 0:return[4,this.initialize()];case 1:return n.sent(),[2,this.executeSynchronous()]}})})},n.prototype.executeSynchronous=function(n,t,l){if(void 0===n&&(n=!0),void 0===t&&(t=!0),!this.studyTypeMap)throw new sl("GetStudyAutocompleteOptions was not initialized.");var e=this.studyStagingArea.state.inputs,u=this.studyTypeMap[this.studyStagingArea.state.studyType],r=e.map(function(n){return n.configType});t&&u&&(r=u.inputs.map(function(n){return n.configType})),l&&(r=r.filter(function(n){return n===l}));for(var i=[],o=[],s=function(t){if(n&&t===un.exploration)return"continue";if(!e.find(function(n){return n.configType===t})){var u=kt.get(t),r=u?u.titleName:t;l||o.push(t),i.push(r+" should be staged to enable "+r+" autocomplete.")}},a=0,c=r;a<c.length;a++)s(c[a]);for(var d={},b=0,f=e;b<f.length;b++){var p=f[b];n&&p.configType===un.exploration||-1!==r.indexOf(p.configType)&&(l||o.push(p.configType),o.push.apply(o,this.getOptions(p.data,l?"":p.configType,d)))}return new Hw(o,i,{list:o,minChars:0,maxItems:100,autoFirst:!0,filter:function(n,t){var l=n.lastIndexOf(".");if(-1===l)return 0===n.indexOf(t)&&n.label!==t;var e=n.substr(0,l-1);return 0===n.indexOf(t)&&-1===e.indexOf(t)&&n.label!==t},sort:function(n,t){var l="]"===n.substr(n.length-1),e="]"===t.substr(t.length-1);if(l){if(!e)return 1}else if(e)return-1;return function(n,t){return n===t?0:n<t?-1:1}(n.toLowerCase(),t.toLowerCase())}})},n.prototype.getOptions=function(n,t,l){var e=[];if("object"==typeof n)if("[object Array]"===Object.prototype.toString.call(n)){if(n.length<100&&t)for(var u=0,r=0,i=n;r<i.length;r++){var o=i[r];if(e.push(c=t+"["+u+"]"),o&&o.name){var s=t+"["+o.name+"]";l[s]=c,e.push({label:s,value:c})}e.push.apply(e,this.getOptions(o,c,l)),++u}}else for(var a in n){var c;n.hasOwnProperty(a)&&(e.push(c=(t?t+".":"")+a),e.push.apply(e,this.getOptions(n[a],c,l)))}return e},n}(),Kw=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ww=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Gw=function(){function n(n,t,l,e,u){this.identity=n,this.studyStagingArea=t,this.canopyFileLoaderFactory=l,this.studyStub=e,this.getSimVersion=u,this.channelNames=[],this.userInformation=[]}return n.prototype.initialize=function(){return Kw(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w;return Ww(this,function(M){switch(M.label){case 0:if(this.userInformation=[],this.channelNames=[],!(n=this.studyStagingArea.getExactInput(un.telemetry)))return this.userInformation.push("Stage a study job as telemetry to enable channel autocomplete."),[2];if(t=[],n.data.channels&&n.data.channels.length)for(l=0,e=n.data.channels;l<e.length;l++)(u=e[l]).name&&t.push(u.name);if(!n.data.source)return[3,9];M.label=1;case 1:return M.trys.push([1,8,,9]),r=this.identity.get(),o=(i=n.data.source).tenantId||r.tenantId,c=Ji(s=i.studyId,a=i.jobIndex||0),[4,this.studyStub.getStudyMetadata(o,s)];case 2:return d=M.sent(),[4,this.studyStub.getStudyJob(o,s,c,b=this.getSimVersion.currentSimVersion)];case 3:f=M.sent(),(p=this.canopyFileLoaderFactory.create()).addStudy(o,s,d.accessInformation,b),h=0,g=f.simTypes,M.label=4;case 4:return h<g.length?[4,p.loadVectorMetadata(s,a,g[h])]:[3,7];case 5:for(y=M.sent(),m=0,v=y;m<v.length;m++)t.push(v[m].name);M.label=6;case 6:return h++,[3,4];case 7:return[3,9];case 8:return w=M.sent(),console.error("Failed to load channel name autocomplete from telemetry."),console.error(w),[3,9];case 9:return this.channelNames=Un(t),[2]}})})},n.prototype.execute=function(n){return Kw(this,void 0,void 0,function(){return Ww(this,function(t){switch(t.label){case 0:return[4,this.initialize()];case 1:return t.sent(),[2,this.executeSynchronous(n)]}})})},n.prototype.executeSynchronous=function(n){return new Hw(this.channelNames,this.userInformation,{list:this.channelNames,minChars:0,maxItems:100,autoFirst:!0,filter:function(t,l){return n&&(l=l.match(/[^,]*$/)[0].trim()),0===t.indexOf(l)&&t.label!==l},sort:function(n,t){return function(n,t){return n===t?0:n<t?-1:1}(n.toLowerCase(),t.toLowerCase())},replace:function(t){if(n){var l=this.input.value.match(/^.+,\s*|/)[0];this.input.value=l+t+", "}else this.input.value=t}})},n}(),Yw=function(){function n(n,t,l,e){this.getStudyAutocompleteOptions=n,this.getChannelNameAutocompleteOptions=t,this.getUserMathsFormulaAutocompleteOptions=l,this.simVersionDocumentCache=e}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r,i,o,s=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(a){switch(a.label){case 0:return[4,this.getStudyAutocompleteOptions.execute()];case 1:return e=a.sent(),[4,this.simVersionDocumentCache.get(n)];case 2:return u=a.sent(),(r=[]).push({pathSuffix:".parameterPath",popupOnSelect:!0,userInformation:e.userInformation,changedAction:function(n,t){return s.updateChildUnits(n,t,u.units,l)},options:e.options},{pathSuffix:".valueType",popupOnSelect:!1,userInformation:[],changedAction:function(n,t){return s.updateChildUnitsValueType(n,t,u.units,l)},options:{}}),t!==un.userMaths?[3,4]:[4,this.getChannelNameAutocompleteOptions.execute(!1)];case 3:return o=a.sent(),i=this.getUserMathsFormulaAutocompleteOptions.execute(e,o),r.push({pathSuffix:".channelName",popupOnSelect:!0,userInformation:o.userInformation,changedAction:void 0,options:o.options},{pathSuffix:".expression",popupOnSelect:!0,userInformation:i.userInformation,changedAction:void 0,options:i.options}),[3,6];case 4:return t!==un.track?[3,6]:[4,this.getChannelNameAutocompleteOptions.execute(!0)];case 5:o=a.sent(),r.push({pathSuffix:".userChannels",popupOnSelect:!0,userInformation:o.userInformation,changedAction:void 0,options:o.options}),a.label=6;case 6:return[2,r]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n.prototype.updateChildUnits=function(n,t,l,e){var u=void 0;if(t.editors&&(t.editors.valueType?u=t.editors.valueType.value:t.editors.source&&t.editors.source.value&&t.editors.source.value.valueType&&(u=t.editors.source.value.valueType)),"multiplicative"===u)t.overrideChildUnits=void 0;else{var r=Uc(n),i="()",o=$w.full;r&&(i=l[r]||i,"additive"===u&&(o=$w.scaleOnly)),t.overrideChildUnits={units:i,channelName:r,mode:o}}e.emit()},n.prototype.updateChildUnitsValueType=function(n,t,l,e){for(var u=t;u;){if(u.editors&&u.editors&&u.editors.parameterPath){this.updateChildUnits(u.editors.parameterPath.value,u,l,e);break}u=u.parent}},n}();function Zw(n){var t=n.replace(/\.[0-9]+\./g,".").replace(/\.[0-9]+$/g,"").replace(/^root\.?/,"");return t||(t=void 0),t}!function(n){n.full="full",n.scaleOnly="scaleOnly"}($w||($w={}));var Xw,nM=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},tM=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},lM=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},eM=function(){function n(n,t,l,e,u,r,i,o,s,a){this.json=n,this.timer=t,this.createConfigSubTreeFilter=l,this.textFileReader=e,this.confirmationDialog=u,this.promptDialog=r,this.performPacejkaCanopyConversionFactory=i,this.performTirImportFactory=o,this.loadingDialog=s,this.getFriendlyErrorAndLog=a}return n.prototype.create=function(n,t,l,e){return new oM(n,t,l,e,this.json,this.timer,this.createConfigSubTreeFilter,this.textFileReader,this.confirmationDialog,this.promptDialog,this.performPacejkaCanopyConversionFactory,this.performTirImportFactory,this.loadingDialog,this.getFriendlyErrorAndLog)},n}();!function(n){n.load="load",n.encrypt="encrypt",n.import="import",n.tirToCanopy="tirToCanopy",n.importTir="importTir"}(Xw||(Xw={}));var uM,rM=[Xw.load,Xw.import,Xw.tirToCanopy,Xw.importTir,Xw.encrypt];!function(n){n.load="load",n.save="save",n.saveAs="saveAs",n.encrypt="encrypt",n.decrypt="decrypt",n.import="import",n.export="export",n.tirToCanopy="tirToCanopy",n.importTir="importTir"}(uM||(uM={}));var iM=function(n,t){this.updateDelegate=n,this.buttons=t},oM=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f){this.simVersion=n,this.configType=t,this.self=l,this.configSubTreeRepository=e,this.json=u,this.timer=r,this.createConfigSubTreeFilter=i,this.textFileReader=o,this.confirmationDialog=s,this.promptDialog=a,this.performPacejkaCanopyConversionFactory=c,this.performTirImportFactory=d,this.loadingDialog=b,this.getFriendlyErrorAndLog=f,this.allExtensionButtons=[]}return n.prototype.handleError=function(n){return tM(this,void 0,void 0,function(){var t;return lM(this,function(l){switch(l.label){case 0:return[4,this.getFriendlyErrorAndLog.execute(n)];case 1:return t=l.sent(),[4,this.confirmationDialog.show(t,"Error","OK","OK")];case 2:return l.sent(),[2]}})})},n.prototype.update=function(){for(var n=0,t=this.allExtensionButtons;n<t.length;n++)t[n].updateDelegate()},n.prototype.addButton=function(n,t,l,e){var u=this;n.appendChild(t),t.addEventListener("click",function(n){return tM(u,void 0,void 0,function(){var t;return lM(this,function(u){switch(u.label){case 0:n.preventDefault(),n.stopPropagation(),u.label=1;case 1:return u.trys.push([1,3,,5]),[4,l()];case 2:return u.sent(),[3,5];case 3:return t=u.sent(),[4,this.handleError(t)];case 4:return u.sent(),[3,5];case 5:return e&&e(),[2]}})})})},n.prototype.isParentSchemaOneOfBranch=function(){return!!(this.self&&this.self.parent&&this.self.parent.oneOf)},n.prototype.setValueOrParentValue=function(n){this.isParentSchemaOneOfBranch()?(this.self.parent.setValue(n),this.self.parent.onChange(!0)):(this.self.setValue(n),this.self.onChange(!0))},n.prototype.isEncryptedSchemaNode=function(n){return n.properties&&n.properties.name&&n.properties.name.enum&&1===n.properties.name.enum.length&&"encrypted"===n.properties.name.enum[0]},n.prototype.hasEncryptedOneOfBranch=function(){var n=this;return this.self.oneOf&&this.self.types.length>1&&this.self.types.some(function(t){return n.isEncryptedSchemaNode(t)})},n.prototype.canEncrypt=function(){return this.hasEncryptedOneOfBranch()&&!this.isEncryptedSchemaNode(this.self.types[this.self.type])},n.prototype.canDecrypt=function(){return this.hasEncryptedOneOfBranch()&&this.isEncryptedSchemaNode(this.self.types[this.self.type])},Object.defineProperty(n.prototype,"subTreeData",{get:function(){return this.self.subTreeData},set:function(n){this.self.subTreeData=n},enumerable:!0,configurable:!0}),n.prototype.addButtonsContainer=function(n,t){var l=Zw(this.self.path),e=this.self.theme.getHeaderButtonHolder();if(e.className+=" hover-button-group",n.appendChild(e),l)return this.addButtons(e,t)},n.prototype.addButtons=function(n,t){for(var l={load:this.addLoadButtons,encrypt:this.addEncryptionButtons,import:this.addImportButtons,tirToCanopy:this.addPacejkaCanopyConverterButtons,importTir:this.addPacejkaImportButtons},e=[],u=function(){for(var n=0,t=e;n<t.length;n++){var l=t[n];l&&l.updateDelegate&&l.updateDelegate()}},r=0,i=t;r<i.length;r++){var o=l[i[r]].call(this,n,u);o&&e.push(o)}var s=new iM(u,e.map(function(n){return n.buttons}).reduce(function(n,t){return nM({},n,t)},{}));return this.allExtensionButtons.push(s),s},n.prototype.addLoadButtons=function(n,t){var l=this,e=this.self.path,u=Zw(e),r=function(n){return n.replace(/^root\.?/,"")}(e);this.subTreeData=void 0;var i=this.self.getButton("","load","Load Component");i.className+=" btn-icon sub-tree-load-button";var o=this.self.getButton("","save","Save Component");o.className+=" btn-icon sub-tree-save-button";var s=this.self.getButton("","saveas","Save Component As");s.className+=" btn-icon sub-tree-save-as-button";var a=function(){o.disabled=!l.configSubTreeRepository.canSave(l.subTreeData)};return a(),this.addButton(n,i,function(){return tM(l,void 0,void 0,function(){var n,t;return lM(this,function(l){switch(l.label){case 0:return n=this.createConfigSubTreeFilter.execute(this.configType,this.self.jsoneditor.getValue(),u,r),[4,this.configSubTreeRepository.loadConfigSubTree(u,n)];case 1:return(t=l.sent())&&(this.subTreeData=t,this.setValueOrParentValue(t.config.data)),[2]}})})},t),u&&(this.addButton(n,o,function(){return tM(l,void 0,void 0,function(){var n;return lM(this,function(t){switch(t.label){case 0:return this.configSubTreeRepository.canSave(this.subTreeData)?(o.disabled=!0,o.innerText="Saving...",n=this.self.getValue(),[4,this.configSubTreeRepository.saveConfigSubTree(this.subTreeData.configId,u,this.subTreeData.config.name,n)]):[2];case 1:return t.sent(),[2]}})})},t),this.addButton(n,s,function(){return tM(l,void 0,void 0,function(){var n,t;return lM(this,function(l){switch(l.label){case 0:return n=this.self.getValue(),[4,this.configSubTreeRepository.saveConfigSubTreeAs(u,n)];case 1:return(t=l.sent())&&(this.subTreeData=t),[2]}})})},t)),new iM(function(){return a()},{load:i,save:o,saveAs:s})},n.prototype.addEncryptionButtons=function(n,t){var l=this;if(this.hasEncryptedOneOfBranch()){var e=this.self.getButton("","encrypt","Encrypt");e.className+=" btn-icon sub-tree-encrypt-button";var u=this.self.getButton("","encryptwithmetadata","Encrypt with Excluded Channels");u.className+=" btn-icon sub-tree-encrypt-button";var r=this.self.getButton("","decrypt","Decrypt");r.className+=" btn-icon sub-tree-decrypt-button";var i=function(){var n=function(n,t){t?n.classList.remove("sub-tree-button-hidden"):n.classList.add("sub-tree-button-hidden")};n(e,l.canEncrypt()),n(u,l.canEncrypt()),n(r,l.canDecrypt())};i();var o=function(){return tM(l,void 0,void 0,function(){return lM(this,function(n){switch(n.label){case 0:return this.self.jsoneditor.validate().length?[4,this.flashButton(e)]:[3,3];case 1:return n.sent(),[4,this.confirmationDialog.show("Please ensure the entire config is valid before encrypting.","Error","OK","OK")];case 2:return n.sent(),[2,!1];case 3:return[2,!0]}})})},s=function(n){return tM(l,void 0,void 0,function(){var t,l;return lM(this,function(e){switch(e.label){case 0:return t=this.self.getValue(),[4,this.configSubTreeRepository.encrypt(t,this.subTreeData?this.subTreeData.config.name:void 0,n)];case 1:return(l=e.sent())&&(this.subTreeData=void 0,this.setValueOrParentValue(l)),[2]}})})};return this.addButton(n,e,function(){return tM(l,void 0,void 0,function(){return lM(this,function(n){switch(n.label){case 0:return[4,o()];case 1:return n.sent()?[4,s(void 0)]:[2];case 2:return n.sent(),[2]}})})},t),Object(Tt.a)(this.simVersion)>=4804&&this.addButton(n,u,function(){return tM(l,void 0,void 0,function(){var n,t;return lM(this,function(l){switch(l.label){case 0:return[4,o()];case 1:return l.sent()?[4,this.promptDialog.show("Enter a comma list of channels which should not be hidden by this encrypted component.","Channel Whitelist",void 0,void 0,void 0,void 0,void 0)]:[2];case 2:if(n=l.sent(),Object(fe.isNullOrUndefined)(n))return[2];l.label=3;case 3:return l.trys.push([3,4,,6]),t=n.split(",").map(function(n){return n.trim()}),[3,6];case 4:return l.sent(),[4,this.confirmationDialog.show("Failed to parse channel list.","Error","OK","OK")];case 5:return l.sent(),[3,6];case 6:return[4,s(t)];case 7:return l.sent(),[2]}})})},t),this.addButton(n,r,function(){return tM(l,void 0,void 0,function(){var n,t,l,e;return lM(this,function(u){switch(u.label){case 0:n=this.self.getValue(),l=!1,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.configSubTreeRepository.decrypt(n)];case 2:return t=u.sent(),[3,4];case 3:return e=u.sent(),l=!0,this.handleError(e),[3,4];case 4:return Object(fe.isNullOrUndefined)(t)||(this.json.equals(t,n)?l=!0:(this.subTreeData=void 0,this.setValueOrParentValue(t))),l?[4,this.flashButton(r)]:[3,6];case 5:u.sent(),u.label=6;case 6:return[2]}})})},t),new iM(function(){return i()},{encrypt:e,decrypt:r})}},n.prototype.addImportButtons=function(n,t){var l=this,e=Zw(this.self.path);if(e){var u=this.self.getButton("","import","Import");u.className+=" btn-icon sub-tree-import-button";var r=this.self.getButton("","export","Export");r.className+=" btn-icon sub-tree-export-button";var i=document.createElement("input");return i.setAttribute("type","file"),i.setAttribute("accept",".json"),i.addEventListener("change",function(n){return tM(l,void 0,void 0,function(){var n,l,u,r,o,s;return lM(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),(n=i.files)&&0!==n.length?(l=n[0],i.value="",[4,this.textFileReader.read(l)]):[2];case 1:return u=a.sent(),r=this.json.parse(u),[4,this.configSubTreeRepository.import(e,r)];case 2:return(o=a.sent())&&(this.subTreeData=void 0,this.setValueOrParentValue(o)),[3,4];case 3:return s=a.sent(),this.handleError(s),[3,4];case 4:return t(),[2]}})})}),this.addButton(n,u,function(){return tM(l,void 0,void 0,function(){return lM(this,function(n){return i.click(),[2]})})},function(){}),this.addButton(n,r,function(){return tM(l,void 0,void 0,function(){var n;return lM(this,function(t){switch(t.label){case 0:return n=this.self.getValue(),[4,this.configSubTreeRepository.export(this.configType,e,this.subTreeData?this.subTreeData.config.name:void 0,n)];case 1:return t.sent(),[2]}})})},function(){return t()}),new iM(function(){},{import:u,export:r})}},n.prototype.addPacejkaCanopyConverterButtons=function(n,t){var l=this,e=Zw(this.self.path);if(Object(Tt.a)(this.simVersion)>=3102&&"tyres"===e){var u=this.self.getButton("Canopy","tirtocanopy","Convert from Pacejka to Canopy");u.className+=" btn-icon tir-to-canopy-button";var r=function(){l.self.value.name.startsWith("Pacejka")||u.classList.add("sub-tree-button-hidden")};return r(),this.addButton(n,u,function(){return tM(l,void 0,void 0,function(){return lM(this,function(n){switch(n.label){case 0:return[4,this.performPacejkaCanopyConversionFactory.create(this.simVersion,this.self.jsoneditor).execute()];case 1:return n.sent(),[2]}})})},t),new iM(function(){return r()},{tirToCanopy:u})}},n.prototype.addPacejkaImportButtons=function(n,t){var l=this,e=Zw(this.self.path);if(Object(Tt.a)(this.simVersion)>=3102&&("tyres.front"===e||"tyres.rear"===e||"tyres.frontL"===e||"tyres.rearL"===e)){var u=this.self.getButton("TIR","importtir","Import Pacejka TIR file");u.className+=" btn-icon import-tir-button";var r=function(){(l.self.parent.oneOf?l.self.parent.parent.value.name:l.self.parent.value.name).startsWith("Pacejka")||u.classList.add("sub-tree-button-hidden")},i=document.createElement("input");return i.setAttribute("type","file"),i.setAttribute("accept",".tir"),i.addEventListener("change",function(n){return tM(l,void 0,void 0,function(){var n,l,e,u,r,o;return lM(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),(n=i.files)&&0!==n.length?(l=n[0],i.value="",[4,this.loadingDialog.showUntilFinished(this.textFileReader.read(l),"Loading...")]):[2];case 1:return e=s.sent(),u=this.self.getValue(),[4,this.performTirImportFactory.create(this.simVersion).execute(e,u)];case 2:return r=s.sent(),[4,this.timer.yield()];case 3:return s.sent(),r&&(this.subTreeData=void 0,this.setValueOrParentValue(r)),[3,5];case 4:return o=s.sent(),this.handleError(o),[3,5];case 5:return t(),[2]}})})}),r(),this.addButton(n,u,function(){return tM(l,void 0,void 0,function(){return lM(this,function(n){return i.click(),[2]})})},function(){}),new iM(function(){return r()},{importTir:u})}},n.prototype.flashButton=function(n){return tM(this,void 0,void 0,function(){return lM(this,function(t){switch(t.label){case 0:return n.classList.add("decrypt-failed-button"),[4,this.timer.delay(500)];case 1:return t.sent(),n.classList.remove("decrypt-failed-button"),[2]}})})},n}();function sM(n){return parseFloat((1*n).toPrecision(5))}function aM(n,t,l){void 0===l&&(l=!1);var e=n.replace(/\*/g,".*").replace(/\?/g,".");return l&&(e="^"+e),new RegExp(e,t?"i":"")}function cM(n){return-1!==n.indexOf("*")||-1!==n.indexOf("?")}function dM(n){var t=/[^\s,"]+|"([^"]*)"/gi,l=[];do{var e=t.exec(n);null!=e&&l.push(e[1]?e[1]:e[0])}while(null!=e);return l}var bM=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),fM=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},pM=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},hM=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},gM=l("9Pu7"),yM=function(n,t){var l;if(n&&"object"==typeof n)if(Array.isArray(n)||"number"==typeof n.length&&n.length>0&&n.length-1 in n){for(l=0;l<n.length;l++)if(!1===t(l,n[l]))return}else if(Object.keys){var e=Object.keys(n);for(l=0;l<e.length;l++)if(!1===t(e[l],n[e[l]]))return}else for(l in n)if(n.hasOwnProperty(l)&&!1===t(l,n[l]))return},mM=function(){function n(n,t,l,e,u,r,i,o,s){this.zone=n,this.simVersionDocumentCache=t,this.getAutocompleteMaps=l,this.configSubTreeRepositoryFactory=e,this.unitsManager=u,this.setChannelUnitsDialog=r,this.json=i,this.savedConfigNamesCacheFactory=o,this.editorNodeExtensionsFactory=s}return n.prototype.create=function(n,t,l,u,r,i){return pM(this,void 0,void 0,function(){var o,s,a,c,d,b,f,p,h,g,y,m,v;return hM(this,function(w){switch(w.label){case 0:return this.simVersion=r,this.configType=i,this.internalUnitsChanged=new e.n,[4,this.unitsManager.refresh()];case 1:return w.sent(),o=this,[4,this.getAutocompleteMaps.execute(r,i,this.internalUnitsChanged)];case 2:return o.autoCompleteMaps=w.sent(),this.savedConfigNamesCache=this.savedConfigNamesCacheFactory.create(r),[4,this.simVersionDocumentCache.get(r)];case 3:for(s=w.sent(),this.configSubTreeRepository=this.configSubTreeRepositoryFactory.create(i,r),c={},d=0,b=s.documents;d<b.length;d++)if((f=b[d]).name.endsWith(".schema.json")&&(p=this.json.parse(Jw(f.content.replace(/"#\/([^\/"]+)"/g,'"'+f.name+'#/$1"'))),c[f.name]=p,c[f.name+"#"]=p,f.name===l+".schema.json"&&(a=p),!p.properties&&!p.type))for(h in p)p.hasOwnProperty(h)&&(c[f.name+"#/"+h]=p[h]);return(g=document.getElementById(t))?a&&(a.properties?Object.keys(a.properties).length>0:a.items||a.oneOf||a.anyOf)?(y=this.zone.runOutsideAngular(function(){return new JSONEditor(g,{theme:"canopy",iconlib:"fontawesome4",schema:a,refs:c,collapsed:!0,disable_edit_json:!0,disable_properties:!1,disable_array_reorder:!1,display_required_only:!0,keep_oneof_values:!0,startval:u})}),m=new MM(y,s.simVersion,s.units),v=!0,y.on("ready",function(){y.on("change",function(){v?v=!1:(nm(n,!1),m.changed.emit(void 0))})}),[2,m]):[2,new wM(u,s.simVersion,s.units)]:[2,void 0]}})})},n.prototype.serviceOnInit=function(){var n=this,t=function(n){return"array"===n.type&&n.items&&!Array.isArray(n.items)};JSONEditor.defaults.resolvers.unshift(function(n){if(n.enum&&1===n.enum.length)return"hiddenEnum"}),JSONEditor.defaults.resolvers.unshift(function(n){if(t(n)){if("string"===n.items.type&&!n.savedConfigs)return"splitStrings";if("number"===n.items.type)return"splitNumbers";if("integer"===n.items.type)return"splitIntegers";if("boolean"===n.items.type)return"splitBooleans";if(n.items.anyOf&&2===n.items.anyOf.length&&n.items.anyOf.every(function(n){return n&&("number"===n.type||"null"===n.type)}))return"splitNumbers"}else if("string"===n.type&&n.savedConfig)return"savedConfig"}),JSONEditor.defaults.resolvers.unshift(function(n){if(t(n)&&"array"===n.items.type&&n.items.items){if("string"===n.items.items.type)return"splitStrings2D";if("number"===n.items.items.type)return"splitNumbers2D";if("integer"===n.items.items.type)return"splitIntegers2D";if("boolean"===n.items.items.type)return"splitBooleans2D"}}),JSONEditor.defaults.resolvers.unshift(function(n){if(function(n){return"object"===n.type&&n.properties&&n.properties.name&&n.properties.name.enum&&1===n.properties.name.enum.length&&"encrypted"===n.properties.name.enum[0]}(n))return"encrypted"}),JSONEditor.defaults.custom_validators.push(function(n,l,e){var u=[],r=function(n){(void 0===n||null===n||Number.isNaN(n))&&u.push({path:e,property:"defined",message:"All elements must have a value"})};if(l&&t(n)&&["string","number","integer","boolean"].indexOf(n.items.type)>=0)if(Array.isArray(l))for(var i=0,o=l;i<o.length;i++)r(o[i]);else u.push({path:e,property:"enumerable",message:"Value was not an array"});return u}),JSONEditor.defaults.editors.encrypted=JSONEditor.defaults.editors.string.extend({getValue:function(){return this.encryptedValue&&(this.encryptedValue.description=this.value),this.encryptedValue},setValue:function(n,t,l){n&&"encrypted"===n.name&&(this.encryptedValue=n,this._super(this.encryptedValue.description,t,l),this.description.innerText=this.encryptedValue.channelWhitelist?"Encrypted component whitelisting channels "+this.encryptedValue.channelWhitelist.join(", ")+".":"Encrypted component.")},build:function(){this._super(),this.container.setAttribute("data-encryptedpath",this.path)},getNumColumns:function(){return 2}}),JSONEditor.defaults.editors.multiple=JSONEditor.defaults.editors.multiple.extend({getDisplayText:function(n){var t=this,l=[];yM(n,function(n,e){l.push(e.$ref?t.jsoneditor.expandRefs(e):e)});var e=t._super(l);return yM(e,function(n,t){t&&t.endsWith(" 1")&&(e[n]=t.substr(0,t.length-2))}),e},updateSwitcherVisibility:function(){var n=this.switcher;"Encrypted"===n.value||2===n.options.length&&Array.from(n.options).some(function(n){return"Encrypted"===n.value})||1===n.options.length&&"Unencrypted"===n.options[0].value?n.classList.add("select-with-encrypt-hidden"):n.classList.remove("select-with-encrypt-hidden")},build:function(){this._super();var t=this;if(!(this.container.children.length<3)){var l=document.createElement("div");this.container.insertBefore(l,this.container.children[0]),l.appendChild(this.container.children[1]),l.appendChild(this.container.children[1]),this.extensions=n.editorNodeExtensionsFactory.create(n.simVersion,n.configType,this,n.configSubTreeRepository);var e=this.extensions.addButtonsContainer(l,rM);if(e){e.buttons.encrypt&&(l.className+=" hover-button-group-container");var u=this.theme.getSwitcher(this.display_text);l.insertBefore(u,this.switcher),l.removeChild(this.switcher),this.switcher=u,this.switcher_options=this.theme.getSwitcherOptions(this.switcher),this.switcher.addEventListener("change",function(n){n.preventDefault(),n.stopPropagation();var l=n.target.value;"Encrypted"===l?e.buttons.encrypt.click():(t.switchEditor(t.display_text.indexOf(l)),t.onChange(!0)),t.updateSwitcherVisibility()})}}},onChange:function(n){this._super(n),this.updateSwitcherVisibility()},setValue:function(n,t){var l=this,e=this,u=function(n){var t=!1;return yM(l.validators,function(l,u){return!!u.validate(n).length||(e.type=l,e.switcher.value=e.display_text[l],t=!0,!1)}),t};if(!u(n)){var r=[n];u(r)&&(n=r)}this.switchEditor(this.type),this.editors[this.type].setValue(n,t),this.refreshValue(),e.onChange(),this.extensions&&this.extensions.update()}}),JSONEditor.defaults.editors.object=JSONEditor.defaults.editors.object.extend({addPropertyCheckbox:function(n){var t=this._super(n);return t.id=this.path.replace(/\./g,"-")+"-"+n+"-show",t},refreshAddProperties:function(){this._super();var n=!1;if(!this.schema.additionalProperties)for(var t in n=!0,this.addproperty_checkboxes)if(this.addproperty_checkboxes.hasOwnProperty(t)&&!this.addproperty_checkboxes[t].disabled){n=!1;break}n&&(this.addproperty_controls.style.display="none")},showAddProperty:function(){var n=this;n._super(),n.clickFunction=function(){n.hideAddProperty()},window.document.body.addEventListener("click",n.clickFunction)},hideAddProperty:function(){this._super(),window.document.body.removeEventListener("click",this.clickFunction)},preBuild:function(){if(this.schema.properties)for(var n=1,t=0,l=Object.keys(this.schema.properties);t<l.length;t++){var e=this.schema.properties[l[t]];e.propertyOrder||(e.propertyOrder=n),++n}this._super()},init:function(n){this._super(n),this.options=fM({},this.options,this.schema.options||{})},build:function(){if(this._super(),this.theme.addHelpLink(this.container,this.schema),this.addproperty_holder&&this.addproperty_holder.addEventListener("click",function(n){n.stopPropagation()}),this.title){var t=this.theme.getHeaderButtonHolder();t.className+=" hover-button-group",this.title.appendChild(t),this.extensions=n.editorNodeExtensionsFactory.create(n.simVersion,n.configType,this,n.configSubTreeRepository),this.extensions.addButtons(t,rM)}},setValue:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._super.apply(this,n),this.extensions&&this.extensions.update()}}),JSONEditor.defaults.editors.string=JSONEditor.defaults.editors.string.extend({getAutocompleteMap:function(){var t=this;if(n.autoCompleteMaps)return n.autoCompleteMaps.find(function(n){return t.path.endsWith(n.pathSuffix)})},getOverrideChildUnits:function(){for(var n=this.parent;n;){if(n.overrideChildUnits)return n.overrideChildUnits;n=n.parent}},preBuild:function(){var t=this;this._super(),this.getDefaultUnitsAndChannelName=function(){var n=t.schema.units,l=t.schema.unitsChannelName||t.title;if(n){var e=t.getOverrideChildUnits();e&&(n=e.units||n,l=e.channelName||l)}return{units:n,channelName:l}},this.getUnitsAndChannelName=function(){var l=t.getDefaultUnitsAndChannelName(),e=l.channelName;return{units:n.unitsManager.getUnitsSynchronous(e,l.units),channelName:e}},this.getDefaultUnits=function(){return t.getDefaultUnitsAndChannelName().units},this.getUnits=function(){return t.getUnitsAndChannelName().units},this.initializeUnitChangedSubscription=function(){n.internalUnitsChanged.subscribe(function(){n.zone.runOutsideAngular(function(){var n=t.valueUnits,l=t.getUnits(),e=t.getOverrideChildUnits();if(n!==l||e){var u=t.getValue();t.setValue(u)}})})},this.sanitizeArray=function(n){return n&&!Array.isArray(n)&&(n="object"==typeof n?[]:[n]),n||[]},this.replaceNullWithNaN=function(n){if(Array.isArray(n))for(var t=0;t<n.length;++t)Object(fe.isNullOrUndefined)(n[t])&&(n[t]=NaN)},this.replaceNullWithNaN2D=function(n){if(Array.isArray(n))for(var l=0,e=n;l<e.length;l++)t.replaceNullWithNaN(e[l])}},build:function(){var n=this;if(this.title=this.getTitle(),this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.title)),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)this._super();else{this.input_type="text",this.input=this.theme.getFormInputField(this.input_type),void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.id=this.path.replace(/\./g,"-"),this.input.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),n.schema.template)this.value=n.value;else{var l=this.value,e=n.sanitize(l);l!==e&&(this.value=e),n.is_dirty=!0,n.refreshValue(),n.onChange(!0)}}),this.format&&this.input.setAttribute("data-schemaformat",this.format);var t=this.input,l=this.getAutocompleteMap();if(l){(t=document.createElement("div")).appendChild(this.input);var e=new gM(this.input,l.options);if(l.popupOnSelect&&(this.input.addEventListener("awesomplete-selectcomplete",function(t){n.refreshValue(),n.onChange(!0),e.open(),e.evaluate()}),this.input.addEventListener("focus",function(n){e.open(),e.evaluate()})),l.changedAction&&(this.input.addEventListener("change",function(t){l.changedAction(n.value,n.parent)}),this.input.addEventListener("awesomplete-selectcomplete",function(t){l.changedAction(n.value,n.parent)})),l.userInformation.length){var u=this.description;this.description=document.createElement("div");for(var r=0,i=l.userInformation;r<i.length;r++)this.description.appendChild(this.theme.getFormInputDescription(i[r]));u&&this.description.appendChild(u)}}this.control=this.theme.getFormControl(this.label,t,this.description,this.schema,this.title,this),this.container.appendChild(this.control),window.requestAnimationFrame(function(){n.input.parentNode&&n.afterInputReady(),n.adjust_height&&n.adjust_height(n.input)}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()}},setValue:function(n,t,l){this._super(n,t,l);var e=this.getAutocompleteMap();e&&e.changedAction&&e.changedAction(n,this.parent)}}),JSONEditor.defaults.editors.hiddenEnum=JSONEditor.defaults.editors.string.extend({build:function(){this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.format=this.schema.format,this.input_type="hidden",this.input=this.theme.getFormInputField(this.input_type),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.refreshValue()},setValue:function(n,t,l){this.value||this._super(n,t,l)}}),JSONEditor.defaults.editors.number=JSONEditor.defaults.editors.string.extend({postBuild:function(){this._super(),this.initializeUnitChangedSubscription()},sanitize:function(n){return(n+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){if(this.initialValue&&parseFloat(this.value)===this.initialValue.display)return this.initialValue.raw||0;var n=this.getDefaultUnits(),t=this.getOverrideChildUnits();return $f.a.convertValueBetweenUnits(this.value,this.valueUnits,n,t&&t.mode===$w.scaleOnly)},setValue:function(n,t,l){var e=this.getDefaultUnits();this.valueUnits=this.getUnits();var u=this.getOverrideChildUnits(),r=$f.a.convertValueBetweenUnits(n,e,this.valueUnits,u&&u.mode===$w.scaleOnly);n!==r&&(r=sM(r)),this.initialValue={raw:n,display:r},this._super(r,t,l)}}),JSONEditor.defaults.editors.integer=JSONEditor.defaults.editors.number.extend({sanitize:function(n){return(n+="").replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),JSONEditor.defaults.editors.savedConfig=JSONEditor.defaults.editors.string.extend({build:function(){var t=this;this._super();var l="",e=[],u=new gM(this.input,{minChars:0,maxItems:100,autoFirst:!0,sort:function(n,t){return n.localeCompare(t)}});this.input.addEventListener("awesomplete-selectcomplete",function(n){t.refreshValue(),t.onChange(!0)}),this.input.addEventListener("focus",function(r){var i=t.parent.parent.parent.parent.value.parameterPath,o=function(n,l){var e=t.parent.value;return n.filter(function(n){return n===l||-1===e.indexOf(n)})};if(i!==l){u.list=["Loading..."];var s=i.replace(/\[[0-9+]]/g,"");n.savedConfigNamesCache.get(s).then(function(n){l=i,u.list=o(e=n,t.value),u.open(),u.evaluate()},function(){u.list=["Error loading configs"],u.open(),u.evaluate()})}else u.list=o(e,t.value);u.open(),u.evaluate()})}}),JSONEditor.defaults.editors.splitStrings=JSONEditor.defaults.editors.string.extend({getValue:function(){return this.value?dM(this.value.trim()).filter(function(n){return""!==n}):[]},setValue:function(n,t,l){return n=(n=(n=this.sanitizeArray(n))?n.map(function(n){return"string"!=typeof n||-1===n.indexOf(" ")&&-1===n.indexOf(",")?n:'"'+n+'"'}):"")?n.join(", "):"",this._super(n,t,l)}}),JSONEditor.defaults.editors.splitNumbers=JSONEditor.defaults.editors.splitStrings.extend({postBuild:function(){this._super(),this.initializeUnitChangedSubscription()},getValue:function(){if(this.initialValue&&this.value===this.initialValue.display)return this.initialValue.raw;var n=this.getDefaultUnits();return $f.a.convertValuesBetweenUnits(this._super().map(function(n){return+n}),this.valueUnits,n)},setValue:function(n,t,l){var e=this.getDefaultUnits();this.valueUnits=this.getUnits();var u=$f.a.isConversionRequired(e,this.valueUnits);n=this.sanitizeArray(n),this.replaceNullWithNaN(n);var r=n.slice();u&&(r=$f.a.convertValuesBetweenUnits(r.map(function(n){return+n}),e,this.valueUnits).map(sM)),this._super(r,t,l),this.initialValue={raw:n,display:this.input.value}}}),JSONEditor.defaults.editors.splitIntegers=JSONEditor.defaults.editors.splitNumbers.extend({getValue:function(){return this._super().map(function(n){return Math.trunc(n)})}}),JSONEditor.defaults.editors.splitBooleans=JSONEditor.defaults.editors.splitStrings.extend({getValue:function(){return this._super().map(function(n){return CM(n)})}}),JSONEditor.defaults.editors.splitStrings2D=JSONEditor.defaults.editors.string.extend({build:function(){var n=this;this.title=this.getTitle(),this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.title)),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.input_type="textarea",this.input=this.theme.getTextareaInput(),this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),n.schema.template)this.value=n.value;else{var l=this.value,e=n.sanitize(l);l!==e&&(this.value=e),n.is_dirty=!0,n.refreshValue(),n.onChange(!0)}}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.schema,this.title,this),this.container.appendChild(this.control),window.requestAnimationFrame(function(){n.input.parentNode&&n.afterInputReady()}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},getValue:function(){for(var n=[],t=0,l=this.value?this.value.trim().split(/\s*?\n\s*/):[];t<l.length;t++){var e=l[t],u=e?dM(e.trim()):[];n.push(u)}return n},setValue:function(n,t,l){if(!n)return this._super("",t,l);n&&!Array.isArray(n)&&(n="object"==typeof n?[]:[[n]]);for(var e=[],u=0,r=n;u<r.length;u++)e.push(r[u].join(", "));var i=e.join("\n");return this._super(i,t,l)}}),JSONEditor.defaults.editors.splitNumbers2D=JSONEditor.defaults.editors.splitStrings2D.extend({postBuild:function(){this._super(),this.initializeUnitChangedSubscription()},getValue:function(){var n=this;if(this.initialValue&&this.value===this.initialValue.display)return this.initialValue.raw;var t=this.getDefaultUnits();return this._super().map(function(l){return $f.a.convertValuesBetweenUnits(l.map(function(n){return+n}),n.valueUnits,t)})},setValue:function(n,t,l){var e=this.getDefaultUnits();this.valueUnits=this.getUnits();var u=$f.a.isConversionRequired(e,this.valueUnits);n=this.sanitizeArray(n),this.replaceNullWithNaN2D(n);var r=n.map(function(n){return n.slice()});if(u)for(var i=0;i<r.length;++i)r[i]=$f.a.convertValuesBetweenUnits(r[i].map(function(n){return+n}),e,this.valueUnits).map(sM);this._super(r,t,l),this.initialValue={raw:n,display:this.input.value}}}),JSONEditor.defaults.editors.splitIntegers2D=JSONEditor.defaults.editors.splitNumbers2D.extend({getValue:function(){return this._super().map(function(n){return n.map(function(n){return Math.trunc(n)})})}}),JSONEditor.defaults.editors.splitBooleans2D=JSONEditor.defaults.editors.splitStrings2D.extend({getValue:function(){return this._super().map(function(n){return n.map(function(n){return CM(n)})})}}),JSONEditor.defaults.editors.select=JSONEditor.defaults.editors.select.extend({getAutocompleteMap:function(){var t=this;if(n.autoCompleteMaps)return n.autoCompleteMaps.find(function(n){return t.path.endsWith(n.pathSuffix)})},build:function(){var n=this;this._super(),this.theme.addHelpLink(this.control,this.schema);var t=this.getAutocompleteMap();t&&t.changedAction&&this.input.addEventListener("change",function(l){t.changedAction(n.value,n.parent)})},setValue:function(n,t,l){this._super(n,t,l);var e=this.getAutocompleteMap();e&&e.changedAction&&e.changedAction(n,this.parent)}}),JSONEditor.defaults.editors.checkbox=JSONEditor.defaults.editors.checkbox.extend({build:function(){this._super(),this.theme.addHelpLink(this.control,this.schema)}}),JSONEditor.defaults.editors.array=JSONEditor.defaults.editors.array.extend({build:function(){this._super(),this.theme.addHelpLink(this.container,this.schema),this.extensions=n.editorNodeExtensionsFactory.create(n.simVersion,n.configType,this,n.configSubTreeRepository),this.extensions.addButtonsContainer(this.title,[Xw.load,Xw.import])},setValue:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._super.apply(this,n),this.extensions&&this.extensions.update()}}),JSONEditor.defaults.editors.table=JSONEditor.defaults.editors.table.extend({build:function(){this._super(),this.theme.addHelpLink(this.container,this.schema);var t=function(n){return n?n.replace("-"," "):n};if(this.parent.oneOf&&this.schema.title&&t(this.parent.schema.title)===t(this.schema.title)){for(var l=this.title,e=[],u=0;u<l.children.length;u++)e.push(l.children[u]);l.innerHTML="",e.forEach(function(n){l.appendChild(n)})}this.extensions=n.editorNodeExtensionsFactory.create(n.simVersion,n.configType,this,n.configSubTreeRepository),this.extensions.addButtonsContainer(this.title,[Xw.load,Xw.import])}}),JSONEditor.defaults.resolvers.unshift(function(n){if("boolean"===n.type)return"checkbox"}),JSONEditor.defaults.iconlibs.fontawesome4=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-down",expand:"caret-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",load:"cloud-download",save:"cloud-upload",saveas:"cloud-upload plus",import:"upload",importtir:"upload",tirtocanopy:"arrow-right",export:"download",encrypt:"lock",encryptwithmetadata:"lock filter",decrypt:"unlock",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-",getIcon:function(n){var t=this.mapping[n];if(!t)return null;var l=t.split(" ");if(l.length>1){for(var e=document.createElement("span"),u=0,r=l;u<r.length;u++){var i=r[u],o=document.createElement("i");o.className=this.icon_prefix+i,e.appendChild(o)}return e}var s=document.createElement("i");return s.className=this.icon_prefix+t,s}}),JSONEditor.defaults.themes.canopy=JSONEditor.defaults.themes.bootstrap3.extend({getHelpLink:function(n,t){var l=document.createElement("a");l.className+=" help-link-container",l.setAttribute("tabindex","-1"),l.setAttribute("target","_blank"),l.href=("/wiki/"+n+(t?";location="+t.toLowerCase():"")).replace(/ /g,"-");var e=document.createElement("i");e.className+=" fa fa-book";var u=document.createElement("span");return u.className+=" help-tooltip",u.textContent=(n+(t?"/"+t:"")).replace(/\//g," / "),l.appendChild(u),l.appendChild(e),l},addHelpLink:function(n,t){var l=t?t.wikiPage:void 0;if(l){var e=this.getHelpLink(l,t?t.wikiAnchor:void 0);e.className+=" help-non-addon",n.appendChild(e)}},getFormControl:function(t,l,e,u,r,i){var o=this,s=i?i.getUnits():void 0,a=u?u.wikiPage:void 0,c=u?u.wikiAnchor:void 0,d=document.createElement("div");if("hidden"===l.type)d.appendChild(l);else{if(t&&"checkbox"===l.type)d.className+=" checkbox",t.appendChild(l),t.style.fontSize="14px",d.style.marginTop="0",d.appendChild(t),l.style.position="relative",l.style.cssFloat="left";else{d.className+=" form-group";var b=!1;if(!t||"text"!==l.type&&"textarea"!==l.type||(b=!0),t&&(t.className+=" control-label",d.appendChild(t),!b&&s)){var f=document.createElement("span");f.textContent=" ("+s+")",d.appendChild(f)}var p=d;if(b&&((p=document.createElement("div")).className+=" input-group",d.appendChild(p)),p.appendChild(l),b&&s){var h=document.createElement("div"),g=document.createElement("span");h.className+=" input-group-prepend units-addon",g.className+=" input-group-text";var y=function(){var n=i.getUnits();"()"!==n&&"1"!==n||(n="-"),g.textContent=n};y(),n.internalUnitsChanged.subscribe(function(){n.zone.runOutsideAngular(function(){y()})}),h.addEventListener("click",function(){return pM(o,void 0,void 0,function(){var t;return hM(this,function(l){switch(l.label){case 0:return t=i.getUnitsAndChannelName(),[4,n.setChannelUnitsDialog.show(t.channelName,t.units)];case 1:return l.sent()&&n.internalUnitsChanged.emit(void 0),[2]}})})}),h.appendChild(g),p.insertBefore(h,p.firstChild)}if(a){var m=this.getHelpLink(a,c);if(b){var v=document.createElement("div");v.className+=" input-group-append",m.className+=" input-group-text help-addon",v.appendChild(m),p.appendChild(v)}else m.className+=" help-non-addon",d.appendChild(m)}}e&&d.appendChild(e)}return d},getTabHolder:function(){var n=document.createElement("div");return n.innerHTML='<div class="json-tab-bar"></div><div class="json-tab-content"></div>',n},getTab:function(n){var t=document.createElement("a");return t.className="btn btn-secondary json-tab-btn",t.setAttribute("href","#"),t.appendChild(n),t},markTabActive:function(n){n.className+=" active-tab-btn"},markTabInactive:function(n){n.className=n.className.replace(/\s?active-tab-btn/g,"")}})},n}(),vM=function(){function n(n,t){this.simVersion=n,this.defaultUnits=t,this.changed=new e.n,this.customViewFilter=[]}return n.prototype.getCustomViewFilter=function(){return this.customViewFilter||[]},n}(),wM=function(n){function t(t,l,e){var u=n.call(this,l,e)||this;return u.setValue(t),u}return bM(t,n),Object.defineProperty(t.prototype,"canValidate",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jsonEditor",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){try{return JSON.parse(this.unvalidatedContent)}catch(n){throw new cl(n.message)}},t.prototype.setValue=function(n){try{this.unvalidatedContent=JSON.stringify(n,void 0,2)}catch(n){throw new cl(n.message)}},t.prototype.validate=function(){},t.prototype.getFirstInput=function(){},t.prototype.getFirstVisibleInput=function(){},t.prototype.getFilteredValue=function(){throw new Error("Not supported")},t.prototype.setCustomView=function(n){throw new Error("Not supported")},t.prototype.collapseAll=function(){throw new Error("Not supported")},t.prototype.destroy=function(){},t}(vM),MM=function(n){function t(t,l,e){var u=n.call(this,l,e)||this;return u.jsonEditor=t,u}return bM(t,n),Object.defineProperty(t.prototype,"canValidate",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.setValue=function(n){this.jsonEditor.setValue(n)},t.prototype.getValue=function(){return this.validate(),this.jsonEditor.getValue()},t.prototype.validate=function(){var n=this.jsonEditor.validate();if(n.length){for(var t=[],l=0,e=n;l<e.length;l++){var u=e[l];t.push(u.message+" ("+u.path+"). ")}throw new dl(t.join("\n"))}},t.prototype.getFirstInput=function(){return this.getRenderedInput(this.jsonEditor.element.getElementsByTagName("input"))||this.getRenderedInput(this.jsonEditor.element.getElementsByTagName("select"))},t.prototype.getFirstVisibleInput=function(){return this.getVisibleInput(this.jsonEditor.element.getElementsByTagName("input"))||this.getVisibleInput(this.jsonEditor.element.getElementsByTagName("select"))},t.prototype.getRenderedInput=function(n){for(var t=0,l=n;t<l.length;t++){var e=l[t];if(this.isRendered(e))return e}},t.prototype.getVisibleInput=function(n){for(var t=0,l=n;t<l.length;t++){var e=l[t];if(this.isInViewport(e))return e}},t.prototype.isRendered=function(n){var t=n.getBoundingClientRect();return!(!t.width||!t.height)},t.prototype.isInViewport=function(n){var t=n.getBoundingClientRect();return!!(t.top>0&&t.left>0&&t.width&&t.height)},t.prototype.getFilteredValue=function(){var n=this,t=this.getValue(),l=this.getCustomViewFilter(),e=function(t,u,r){var i=!1,o=r||0===l.length||n.testParameter(u,l)||t&&"object"==typeof t&&t.name&&n.testParameter(t.name,l),s=t;if(t&&"object"==typeof t)if(Array.isArray(t)){s=[];for(var a=0,c=t;a<c.length;a++)(b=e(c[a],u,o)).isVisible&&s.push(b.value),i=b.isVisible||i}else for(var d in s={},t){var b;t.hasOwnProperty(d)&&((b=e(t[d],d,o)).isVisible&&(s[d]=b.value),i=b.isVisible||i)}return{isVisible:o||i,value:s}};return e(t,void 0,!1).value},t.prototype.setCustomView=function(n){var t=this;this.customViewFilter=n||[];var l=this.jsonEditor.element;if(l){var e=function(n){if(n&&n.getAttribute)return n.getAttribute("data-schemapath")},u=function(n){var t=n,l=n.lastIndexOf(".");return-1!==l&&(t=n.substring(l+1)),t},r=function(n){if(n.children){for(var t=!1,l=0,i=Array.from(n.children);l<i.length;l++)if(b=i[l]){var o=e(b);if(o&&(t=!0,"name"===u(o))){var s=b.getElementsByTagName("input");if(1===s.length){var a=s[0];if("hidden"===a.type||"text"===a.type)return a.value}}}if(!t)for(var c=0,d=Array.from(n.children);c<d.length;c++){var b;if(b=d[c]){var f=r(b);if(f)return f}}}},i=function(l,o){var s=!1;if("button"===l.type&&"Expand"===l.title)return l.click(),!1;var a=e(l),c=o||0===n.length;if(!c&&a){var d=u(a),b=r(l);if(t.testParameter(d,n)||b&&t.testParameter(b,n))if("name"===d){var f=l.getElementsByTagName("input");1===f.length&&"hidden"===f[0].type||(c=!0)}else c=!0}if(l.children)for(var p=0,h=Array.from(l.children);p<h.length;p++){var g=h[p];g&&(s=i(g,c)||s)}var y=c||s;return a&&(y?(l.classList.add("custom-editor-visible"),l.classList.remove("custom-editor-hidden")):(l.classList.add("custom-editor-hidden"),l.classList.remove("custom-editor-visible"))),y};i(l,!1)}},t.prototype.collapseAll=function(){var n=this.jsonEditor.element;if(n){var t=function(n){if(n.children)for(var l=0,e=Array.from(n.children);l<e.length;l++){var u=e[l];u&&t(u)}var r=function(n){return"button"===n.type&&"Collapse"===n.title?n:void 0}(n);r&&r.click()};t(n);var l=n.getElementsByClassName("json-editor-btn-collapse");l&&l.length&&l[0].click()}},t.prototype.destroy=function(){return this.jsonEditor.destroy()},t.prototype.testParameter=function(n,t){for(var l=0,e=t||[];l<e.length;l++){var u=e[l];if(cM(u)){if(aM(u,!1).test(n))return!0}else if(u===n)return!0}return!1},t}(vM);function CM(n){return!!n&&("1"===(n=n.toLowerCase())||"true"===n)}var SM=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),IM=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},xM=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},OM=function(n){function t(t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w){var M=n.call(this,m,v,w)||this;return M.identity=u,M.configStub=r,M.simVersionStub=i,M.textFileReader=o,M.jsonEditor=s,M.json=a,M.router=c,M.routerDataCache=d,M.formSubmissionHandler=b,M.simVersionDocumentCache=f,M.studyStagingArea=p,M.convertTelemetryConfigToStudy=h,M.significantSimVersions=g,M.getSimVersion=y,M.customProperties=[],M.name=new Zt.f("",[Zt.w.required].concat(tl.configNameValidators)),M.notes=new Zt.f("",tl.configNotesValidators.slice()),M.unvalidatedInput=new Zt.f("",[]),M.submitButton=new ll("Create","Creating..."),M.submitTelemetryButton=new ll("Run Telemetry","Submitting..."),M.telemetryConfigType=st,M.isWorksheetPage=t.execute(l),M.configType=l.snapshot.data[Mt],M.routeStudyInput=M.routerDataCache.pop(),M.form=e.group({name:M.name,notes:M.notes,unvalidatedInput:M.unvalidatedInput}),M}return SM(t,n),t.prototype.ngOnInit=function(){this.load()},t.prototype.ngOnDestroy=function(){n.prototype.ngOnDestroy.call(this)},Object.defineProperty(t.prototype,"canRunTelemetry",{get:function(){try{var n=this.editorInstance.getValue();return n.channels&&n.channels.length}catch(n){return!1}},enumerable:!0,configurable:!0}),t.prototype.load=function(){return IM(this,void 0,void 0,function(){var n,t,l,e,u,r;return xM(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),n=this.identity.get(),this.tenantId=n.tenantId,this.userId=n.userId,t=this,[4,this.getSimVersion.execute()];case 1:return t.simVersion=i.sent(),[4,this.simVersionDocumentCache.getFolder(this.configType.pluralKey,this.simVersion)];case 2:return l=i.sent(),this.defaultConfigs=l.documents.map(function(n){return new kM(n.name,iw(n.name))}),this.defaultConfigs.sort(ge("name")),e=this,[4,this.jsonEditor.create(this.form,"json-editor",this.configType.singularKey,void 0,this.simVersion,this.configType.singularKey)];case 3:return e.editorInstance=i.sent(),this.shouldImportFromRoute?[4,this.importFromRoute()]:[3,5];case 4:i.sent(),i.label=5;case 5:return this.editorInstance instanceof wM&&(this.unvalidatedInput.setValue((u=this.editorInstance).unvalidatedContent),this.unvalidatedInput.valueChanges.subscribe(function(n){return u.unvalidatedContent=n})),this.isLoaded=!0,[3,7];case 6:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,7];case 7:return[2]}})})},t.prototype.processFileImportEvent=function(n){return IM(this,void 0,void 0,function(){var t,l,e,u,r,i,o,s;return xM(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),this.isLoaded?(this.isLoaded=!1,this.errorMessage=void 0,[4,this.textFileReader.readSingleFileAndReset(n)]):[2];case 1:return(t=a.sent())?(l=this.json.parse(t.content),e=l,u=void 0,r=void 0,l.simVersion?(i=l.simVersion,e=l.config,u=l.notes||"",r=ye.objectToList(l.customProperties||{}),i===this.editorInstance.simVersion?[3,3]:[4,this.configStub.upgradeConfig(this.tenantId,this.editorInstance.simVersion,{configType:this.configType.singularKey,config:e,simVersion:i})]):[3,3]):[2];case 2:o=a.sent(),e=o.config,a.label=3;case 3:return this.editorInstance.setValue(e),u&&"string"==typeof u&&this.notes.setValue(u,{}),r&&(this.customProperties=r),t.name&&!this.name.value&&this.name.setValue(t.name.replace(/\.[^/.]+$/,""),{}),[4,this.loadConfigPreviewIfRequired(e)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(s),[3,6];case 6:return this.isLoaded=!0,[2]}})})},t.prototype.onImportDefaultClicked=function(){this.isLoaded&&(this.errorMessage=void 0,this.showDefaultConfigs=!this.showDefaultConfigs)},t.prototype.importDefault=function(n){return IM(this,void 0,void 0,function(){var t,l,e;return xM(this,function(u){switch(u.label){case 0:if(!this.isLoaded)return[2];this.isLoaded=!1,u.label=1;case 1:return u.trys.push([1,4,,5]),this.errorMessage=void 0,this.showDefaultConfigs=!1,[4,this.simVersionStub.getDocument(this.simVersion,n.filePath)];case 2:return t=u.sent(),l=this.json.parse(t.document.content),this.editorInstance.setValue(l),this.name.setValue(n.name+" Copy",{}),[4,this.loadConfigPreviewIfRequired(l)];case 3:return u.sent(),[3,5];case 4:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,5];case 5:return this.isLoaded=!0,[2]}})})},Object.defineProperty(t.prototype,"canImportStaged",{get:function(){return!!this.studyStagingArea.getExactInput(this.configType.singularKey)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldImportFromRoute",{get:function(){return!!this.routeStudyInput},enumerable:!0,configurable:!0}),t.prototype.importFromRoute=function(){return IM(this,void 0,void 0,function(){return xM(this,function(n){switch(n.label){case 0:return[4,this.importStudyInput(this.routeStudyInput)];case 1:return n.sent(),[2]}})})},t.prototype.importStaged=function(){return IM(this,void 0,void 0,function(){var n,t;return xM(this,function(l){switch(l.label){case 0:if(!this.isLoaded)return[2];this.isLoaded=!1,l.label=1;case 1:return l.trys.push([1,4,,5]),this.errorMessage=void 0,[4,this.studyStagingArea.getInput(this.configType.singularKey,this.editorInstance.simVersion)];case 2:return n=l.sent(),[4,this.importStudyInput(n)];case 3:return l.sent(),[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return this.isLoaded=!0,[2]}})})},t.prototype.importStudyInput=function(n){return IM(this,void 0,void 0,function(){return xM(this,function(t){switch(t.label){case 0:return this.editorInstance.setValue(n.data),this.name.setValue(n.name+" Copy",{}),this.notes.setValue(n.notes,{}),[4,this.timer.yield()];case 1:return t.sent(),n.properties&&(this.customProperties=ve.toMutables(n.properties)),[4,this.loadConfigPreviewIfRequired(n.data)];case 2:return t.sent(),[2]}})})},t.prototype.onSubmit=function(){return IM(this,void 0,void 0,function(){return xM(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submitSave,this.form,this.submitButton,this)];case 1:return n.sent()&&this.router.navigate(["/configs",this.configType.pluralKey]),[2]}})})},t.prototype.onSubmitTelemetry=function(){return IM(this,void 0,void 0,function(){return xM(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submitTelemetry,this.form,this.submitTelemetryButton,this)];case 1:return n.sent()&&this.router.navigate(["/configs",this.configType.pluralKey]),[2]}})})},Object.defineProperty(t.prototype,"isSubmitting",{get:function(){return this.submitButton.isSubmitting||this.submitTelemetryButton.isSubmitting},enumerable:!0,configurable:!0}),t.prototype.submitSave=function(){return IM(this,void 0,void 0,function(){var n;return xM(this,function(t){switch(t.label){case 0:return n=this.editorInstance.getValue(),[4,this.configStub.postConfig(this.tenantId,{name:this.name.value,configType:this.configType.singularKey,config:n,properties:this.customProperties,notes:this.notes.value,simVersion:this.editorInstance.simVersion})];case 1:return t.sent(),[2]}})})},t.prototype.submitTelemetry=function(){return IM(this,void 0,void 0,function(){var n;return xM(this,function(t){switch(t.label){case 0:return n=this.editorInstance.getValue(),[4,this.convertTelemetryConfigToStudy.execute(n,this.editorInstance.simVersion,this.name.value,!1,this.customProperties,this.notes.value)];case 1:return t.sent(),[2]}})})},Object.defineProperty(t.prototype,"showSubmitTelemetry",{get:function(){return this.configType.singularKey===this.telemetryConfigType.singularKey&&this.significantSimVersions.isAfterTelemetrySimulation&&this.canRunTelemetry},enumerable:!0,configurable:!0}),t}(Uw),kM=function(n,t){this.filePath=n,this.name=t},TM=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},PM=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},EM=function(){function n(){}return n.prototype.readSingleFileAndReset=function(n){return TM(this,void 0,void 0,function(){var t,l,e;return PM(this,function(u){switch(u.label){case 0:return(t=n.target.files)&&0!==t.length?(l=t[0],n.target.value="",[4,this.read(l)]):[2,void 0];case 1:return e=u.sent(),[2,new VM(l.name,e)]}})})},n.prototype.read=function(n){return new _M(n).read()},n}(),_M=function(){function n(n){var t=this;this.file=n,this.fileReader=new FileReader,this.promise=new Promise(function(n){t.resolve=n})}return n.prototype.read=function(){return TM(this,void 0,void 0,function(){var n=this;return PM(this,function(t){return this.fileReader.onload=function(){return n.fileLoaded()},this.fileReader.readAsText(this.file),[2,this.promise]})})},n.prototype.fileLoaded=function(){this.resolve(this.fileReader.result)},n}(),VM=function(n,t){this.name=n,this.content=t},jM=function(){function n(n,t,l){this.identity=n,this.studySubmittedEvents=t,this.studyStub=l}return n.prototype.execute=function(n,t,l,e,u,r){return i=this,void 0,s=function(){var i,o,s,a,c;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(d){switch(d.label){case 0:if(!n||!n.channels||!n.channels.length)throw new cl("Telemetry must contain channels to be converted to a telemetry study.");return i=this.identity.get(),o={simTypes:[cn.Telemetry],simConfig:{telemetry:n,constraints:{}},exploration:void 0},s=[{configType:un.telemetry,name:l,isEdited:e}],a=(u||[]).map(function(n){return{name:un.telemetry+"."+n.name,value:n.value}}),[4,this.studyStub.postStudy(i.tenantId,{name:l,studyType:bn.telemetry,simVersion:t,sources:s,properties:a,notes:r,study:o,isTransient:!1})];case 1:return c=d.sent(),this.studySubmittedEvents.studySubmitted.emit(c),[2,c]}})},new((o=void 0)||(o=Promise))(function(n,t){function l(n){try{u(s.next(n))}catch(n){t(n)}}function e(n){try{u(s.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new o(function(n){n(t.value)}).then(l,e)}u((s=s.apply(i,[])).next())});var i,o,s},n}(),RM=e.sb({encapsulation:0,styles:[['#config-preview-container[_ngcontent-%COMP%]{margin-bottom:1rem}#create-config-page[_ngcontent-%COMP%]   .json-editor[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:300px;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:.9rem}#create-config-page[_ngcontent-%COMP%]   #default-configs-list[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}#create-config-page[_ngcontent-%COMP%]   #default-configs-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.25rem}#create-config-page[_ngcontent-%COMP%]   #default-configs-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.25rem .5rem .25rem 0}#create-config-page[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-weight:700}#create-config-page[_ngcontent-%COMP%]   .unvalidated-input[_ngcontent-%COMP%]{min-height:20rem;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:.9rem}']],data:{}});function FM(n){return e.Ob(0,[(n()(),e.ub(0,0,[[1,0],["configPreviewContainer",1]],null,1,"div",[["id","config-preview-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function AM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-telemetry-help",[],null,null,null,Vw,Ew)),e.tb(1,49152,null,0,Pw,[Ad],null,null)],null,null)}function LM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","create-run-telemetry"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onSubmitTelemetry()&&e),e},null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){var l=t.component;n(t,0,0,l.isSubmitting),n(t,1,0,l.submitTelemetryButton.text)})}function DM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","create-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){var l=t.component;n(t,0,0,l.isSubmitting),n(t,1,0,l.submitButton.text)})}function NM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","update-track-preview-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.updateConfigPreview()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              Preview\n            "]))],null,function(n,t){n(t,0,0,!t.component.isLoaded)})}function UM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.importDefault(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit.name)})}function QM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["id","default-configs-list"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Select Default:"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,UM)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,6,0,t.component.defaultConfigs)},null)}function JM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is required\n                "]))],null,null)}function $M(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is too short.\n                "]))],null,null)}function HM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Name is too long.\n                "]))],null,null)}function qM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Notes are too long.\n                "]))],null,null)}function BM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,14,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,1,"label",[["class","title-label"],["for","unvalidated-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["JSON"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(9,0,null,null,5,"textarea",[["class","form-control unvalidated-input"],["formControlName","unvalidatedInput"],["id","unvalidated-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,10)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,10).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,10)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,10)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(10,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(12,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(14,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,12,0,"unvalidatedInput")},function(n,t){n(t,9,0,e.Eb(t,14).ngClassUntouched,e.Eb(t,14).ngClassTouched,e.Eb(t,14).ngClassPristine,e.Eb(t,14).ngClassDirty,e.Eb(t,14).ngClassValid,e.Eb(t,14).ngClassInvalid,e.Eb(t,14).ngClassPending)})}function zM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(6,0,null,null,1,"label",[["class","title-label"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Custom Properties"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(9,0,null,null,1,"cs-edit-custom-properties",[],null,null,null,bm,um)),e.tb(10,114688,null,0,em,[z,fr,hc,On],{tenantId:[0,"tenantId"],target:[1,"target"],initialProperties:[2,"initialProperties"],resultProperties:[3,"resultProperties"],form:[4,"form"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,BM)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,10,0,l.tenantId,l.configType.singularKey,l.customProperties,l.customProperties,l.form),n(t,15,0,!l.editorInstance.canValidate)},null)}function KM(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["id","config-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function WM(n){return e.Ob(0,[e.Kb(671088640,1,{configPreviewElement:0}),(n()(),e.lb(16777216,null,null,1,null,FM)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(4,0,null,null,127,"div",[["id","create-config-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(6,0,null,null,124,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,121,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(10,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(11,null,["Create ",""])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(13,0,null,null,115,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,AM)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(18,0,null,null,109,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,20).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,20).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(19,16384,null,0,Zt.y,[],null,null),e.tb(20,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(22,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(24,0,null,null,37,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(26,0,null,null,6,"a",[["class","btn btn-smart btn-secondary"],["id","cancel-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,27).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(27,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(28,1),e.Fb(29,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(31,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Cancel\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,LM)),e.tb(35,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,DM)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(40,0,null,null,1,"span",[["class","inline-button-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Import:"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(43,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","import-default-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onImportDefaultClicked()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(45,0,null,null,0,"i",[["class","fa fa-certificate"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Default\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(48,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","import-staged-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.importStaged()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(50,0,null,null,0,"i",[["class","fa fa-arrow-circle-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Staged\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(54,0,null,null,3,"span",[["class","btn btn-smart btn-secondary btn-file"],["id","import-local-file-button"]],null,null,null,null,null)),(n()(),e.ub(55,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["File"])),(n()(),e.ub(57,0,null,null,0,"input",[["accept",".json"],["id","file-load-button-input"],["type","file"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.processFileImportEvent(l)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,NM)),e.tb(60,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(63,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(64,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,QM)),e.tb(67,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(69,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(71,0,null,null,23,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(73,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(75,0,null,null,1,"label",[["class","title-label"],["for","name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(78,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,79)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,79).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,79)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,79)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(79,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(81,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(83,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,JM)),e.tb(86,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,$M)),e.tb(89,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,HM)),e.tb(92,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(97,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(99,0,null,null,18,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(101,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(103,0,null,null,1,"label",[["class","title-label"],["for","notes-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Notes"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(106,0,null,null,6,"textarea",[["autosize",""],["class","form-control notes-input"],["formControlName","notes"],["id","notes-input"],["rows","1"],["style","overflow: hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,107)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,107).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,107)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,107)._compositionEnd(l.target.value)&&u),"input"===t&&(u=!1!==e.Eb(n,112).resize()&&u),u},null,null)),e.tb(107,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(109,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(111,16384,null,0,Zt.q,[[4,Zt.p]],null,null),e.tb(112,4210688,null,0,Xy.b,[e.l],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,qM)),e.tb(115,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,zM)),e.tb(121,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,KM)),e.tb(124,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(126,0,null,null,0,"div",[["class","json-editor"],["id","json-editor"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.hasConfigPreview),n(t,16,0,"telemetry"==l.configType.singularKey),n(t,20,0,l.form),n(t,27,0,l.isWorksheetPage?n(t,28,0,"../../../"):n(t,29,0,"../")),n(t,35,0,l.showSubmitTelemetry),n(t,38,0,!l.showSubmitTelemetry),n(t,60,0,l.hasConfigPreview),n(t,64,0,l.errorMessage||l.configPreviewErrorMessage),n(t,67,0,l.showDefaultConfigs),n(t,81,0,"name"),n(t,86,0,!l.name.pristine&&l.name.hasError("required")),n(t,89,0,l.name.hasError("minlength")),n(t,92,0,l.name.hasError("maxlength")),n(t,109,0,"notes"),n(t,115,0,l.notes.hasError("maxlength")),n(t,121,0,l.isLoaded),n(t,124,0,!l.isLoaded)},function(n,t){var l=t.component;n(t,11,0,l.configType.titleName),n(t,18,0,e.Eb(t,22).ngClassUntouched,e.Eb(t,22).ngClassTouched,e.Eb(t,22).ngClassPristine,e.Eb(t,22).ngClassDirty,e.Eb(t,22).ngClassValid,e.Eb(t,22).ngClassInvalid,e.Eb(t,22).ngClassPending),n(t,26,0,e.Eb(t,27).target,e.Eb(t,27).href),n(t,43,0,!l.isLoaded),n(t,48,0,!l.isLoaded||!l.canImportStaged),n(t,78,0,e.Eb(t,83).ngClassUntouched,e.Eb(t,83).ngClassTouched,e.Eb(t,83).ngClassPristine,e.Eb(t,83).ngClassDirty,e.Eb(t,83).ngClassValid,e.Eb(t,83).ngClassInvalid,e.Eb(t,83).ngClassPending),n(t,106,0,e.Eb(t,111).ngClassUntouched,e.Eb(t,111).ngClassTouched,e.Eb(t,111).ngClassPristine,e.Eb(t,111).ngClassDirty,e.Eb(t,111).ngClassValid,e.Eb(t,111).ngClassInvalid,e.Eb(t,111).ngClassPending)})}var GM=e.qb("ng-component",OM,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,WM,RM)),e.tb(1,245760,null,0,OM,[Cy,b.a,Zt.e,O,Q,H,EM,mM,Qr,b.m,uf,Ml,qr,Se,jM,Ad,Nb,Bh,fr,On],null,null)],function(n,t){n(t,1,0)},null)},{configType:"configType"},{},[]),YM="Failed to run simulation.",ZM=function(){function n(n,t){this.carConfigValidationStagingArea=n,this.getFriendlyErrorAndLog=t,this.isStudySuccessful=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){var n=this;try{this.isStudySuccessful=!!this.job.studyMetadataResult.value.study.data.succeededJobCount;var t=void 0;this.isStudySuccessful?(t=this.carConfigValidationStagingArea.get().map(function(n){return n.jobViewModel}),this.previousJob&&t.every(function(t){return t.source.studyId!==n.previousJob.source.studyId})&&t.unshift(this.previousJob.clone("Previous"))):(this.errorMessages=[YM].concat(this.job.studyMetadataResult.value.study.data.errorMessages||[],this.job.jobMetadataResult.value.studyJob.data.errorMessages||[]),t=[]),t.unshift(this.job),this.jobs=t}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n}(),XM=function(){function n(n,t){this.logError=n,this.identity=t,this.studyJobs=[]}return n.prototype.serviceOnInit=function(){var n=this;this.currentIdentity=this.identity.get(),this.identity.changed.subscribe(function(t){return n.updateCurrentUser(t)})},n.prototype.updateCurrentUser=function(n){try{var t=this.currentIdentity.userId;this.currentIdentity=n,this.currentIdentity.userId!==t&&this.clear()}catch(n){this.logError.execute(n)}},n.prototype.add=function(n,t){this.studyJobs.unshift(new nC(n,t))},n.prototype.get=function(){return this.studyJobs.slice()},n.prototype.clear=function(){this.studyJobs=[]},n.prototype.count=function(){return this.studyJobs.length},n}(),nC=function(n,t){this.jobViewModel=n,this.editorValue=t},tC=e.sb({encapsulation:2,styles:[],data:{}});function lC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-view-job-results",[],null,null,null,Dg,Ig)),e.tb(1,114688,null,0,yg,[vg,Bf,Mg,Bh,Sg,On],{jobs:[0,"jobs"]},null)],function(n,t){n(t,1,0,t.component.jobs)},null)}function eC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[["class","loader-centered"],["id","validation-loader"]],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function uC(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,lC)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,eC)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,l.errorMessage),n(t,8,0,l.jobs),n(t,11,0,!l.jobs)},null)}var rC=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},iC=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},oC=function(){function n(n,t,l,e){this.carValidationSessionFactory=n,this.carConfigValidationStagingArea=t,this.promptDialog=l,this.getFriendlyErrorAndLog=e,this.checkStatusEnum=og}return n.prototype.ngOnDestroy=function(){this.removeSession()},n.prototype.runCheck=function(n){return rC(this,void 0,void 0,function(){var t,l;return iC(this,function(e){switch(e.label){case 0:if(e.trys.push([0,3,,4]),this.errorMessage=void 0,this.removeSession(),!this.tryGetEditorValue)throw new dl("No function provided to get editor value.");return[4,this.tryGetEditorValue(n)];case 1:if(!(t=e.sent()))throw new dl("Unable to check car unless it is valid.");return this.session=Object(Tt.a)(this.simVersion)>=1650?this.carValidationSessionFactory.createInlineStudySession(t,this.simVersion,this.userId,this.configId,this.name,this.isEdited,this.customProperties):this.carValidationSessionFactory.createNormalStudySession(t,this.simVersion,this.userId,this.configId,this.name,this.isEdited,this.customProperties),[4,this.session.execute()];case 2:return e.sent(),[3,4];case 3:return l=e.sent(),this.removeSession(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,4];case 4:return[2]}})})},n.prototype.removeSession=function(){try{this.errorMessage=void 0,this.session&&(this.session.dispose(),this.session.status===og.checked&&this.session.isStudySuccessful&&(this.previousSession=this.session),this.session=void 0)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.saveSession=function(){return rC(this,void 0,void 0,function(){var n,t;return iC(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.errorMessage=void 0,[4,this.promptDialog.show("Enter a name:","Pin Results","Pin","Save","Cancel")];case 1:return(n=l.sent())&&(this.carConfigValidationStagingArea.add(this.session.jobViewModel.clone(n),this.session.editorValue),this.session.savedInStagingArea=!0),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},Object.defineProperty(n.prototype,"savedSessionCount",{get:function(){try{return this.carConfigValidationStagingArea.count()}catch(n){return this.errorMessage=this.getFriendlyErrorAndLog.execute(n),0}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSaveSession",{get:function(){try{return!(!this.session||this.session.status!==og.checked||this.session.savedInStagingArea||!this.session.isStudySuccessful)}catch(n){return this.errorMessage=this.getFriendlyErrorAndLog.execute(n),!1}},enumerable:!0,configurable:!0}),n.prototype.clearSavedSessions=function(){try{this.carConfigValidationStagingArea.clear()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n}(),sC=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),aC=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},cC=function(n){function t(t,l,e,u,r,i,o,s,a,c,d,b,f){var p=n.call(this,t,l,e,u,r,i,o,a,c,d,b,f)||this;return p.studyUtilities=s,p.isStudyCompleted=!1,p.isStudySuccessful=!1,p}return sC(t,n),t.prototype.dispose=function(){},t.prototype.executeStudy=function(n){return t=this,void 0,e=function(){var t,l,e,u,r,i,o;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(s){switch(s.label){case 0:return this.statusMessage="Waiting for result...",[4,this.studyStub.postStudy(this.currentIdentity.tenantId,n,!0)];case 1:return t=s.sent(),this.statusMessage="Loading result...",this.isStudyCompleted=!0,this.isStudySuccessful=!(t.errors&&t.errors.length),(l=t.study).data.definition=n.study,e={study:l,accessInformation:null,userInformation:null,simTypes:n.study.simTypes,convertedSimVersion:n.simVersion},u=aC({},l,{documentId:l.documentId+"-0",data:{index:0,state:l.data.studyState===yn.failed?vn.failed:vn.successful,computeCredits:l.data.dispatchedComputeCredits,storageCredits:l.data.dispatchedStorageCredits,errorMessages:t.errors,executionTimeSeconds:l.data.executionTimeSeconds,studyId:l.documentId,changes:[]}}),r={studyJob:u,accessInformation:null},i={studyJob:u,studyJobInput:n.study,simTypes:n.study.simTypes,accessInformation:null},this.studyMetadataResult=e,this.studyJobMetadataResult=r,this.jobViewModel=this.jobViewModelFactory.createFromData(this.studyJobMetadataResult,this.studyMetadataResult,"Current","Verify Car",t),o=this.jobViewModel.scalarResults,[4,this.studyUtilities.getScalarResultSetsFromInline(t.scalarResults)];case 2:return o.value=s.sent(),this.jobViewModel.info.value=t.info,this.jobViewModel.warnings.value=t.warnings,this.jobViewModel.diagnosis.value=t.diagnosis,this.jobViewModel.jobResult.value=i,this.isStudySuccessful=!!this.studyMetadataResult.study.data.succeededJobCount,this.status=og.checked,this.statusMessage="",[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t}(ig),dC=function(){function n(n,t,l,e,u,r,i){this.timer=n,this.studyUtilities=t,this.identity=l,this.studyStub=e,this.canopyPusher=u,this.jobViewModelFactory=r,this.getFriendlyErrorAndLog=i}return n.prototype.createNormalStudySession=function(n,t,l,e,u,r,i){return new dg(n,t,l,e,u,r,i,this.timer,this.identity,this.studyStub,this.canopyPusher,this.jobViewModelFactory,this.getFriendlyErrorAndLog)},n.prototype.createInlineStudySession=function(n,t,l,e,u,r,i){return new cC(n,t,l,e,u,r,i,this.studyUtilities,this.identity,this.studyStub,this.canopyPusher,this.jobViewModelFactory,this.getFriendlyErrorAndLog)},n}(),bC=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),fC=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l,e,u,r,i){return o=this,void 0,a=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(o){switch(o.label){case 0:return[4,this.dialogManager.showTertiaryDialog(new pC(n,t,l,e,u,r,i))];case 1:return[2,o.sent()]}})},new((s=void 0)||(s=Promise))(function(n,t){function l(n){try{u(a.next(n))}catch(n){t(n)}}function e(n){try{u(a.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new s(function(n){n(t.value)}).then(l,e)}u((a=a.apply(o,[])).next())});var o,s,a},n.prototype.promptForNumber=function(n,t,l){return this.show(n,t,""+l,void 0,void 0,function(n){var t=Math.round(parseFloat(n))||0;return(isNaN(t)||t<0)&&(t=0),t>100&&(t=100),Promise.resolve(t)})},n}(),pC=function(n){function t(t,l,e,u,r,i,o){var s=n.call(this)||this;return s.message=t,s.title=l,s.initialValue=e,s.acceptMessage=u,s.dismissMessage=r,s.submitAction=i,s.autocomplete=o,s}return bC(t,n),t}(se),hC=e.sb({encapsulation:0,styles:[["#car-config-validator[_ngcontent-%COMP%]   #simulation-progress[_ngcontent-%COMP%]{display:flex}#car-config-validator[_ngcontent-%COMP%]   #simulation-progress[_ngcontent-%COMP%]   #progress-spinner[_ngcontent-%COMP%]{display:inline-block}#car-config-validator[_ngcontent-%COMP%]   #simulation-progress[_ngcontent-%COMP%]   #progress-spinner[_ngcontent-%COMP%]   .loader-container[_ngcontent-%COMP%]{font-size:.75rem}#car-config-validator[_ngcontent-%COMP%]   #simulation-progress[_ngcontent-%COMP%]   #progress-text[_ngcontent-%COMP%]{display:inline-block;-ms-grid-row-align:center;align-self:center;font-size:1.1rem;margin-top:-.1rem;margin-left:.75rem}#car-config-validator[_ngcontent-%COMP%]   #validation-viewer[_ngcontent-%COMP%]{margin-bottom:.9375rem}#car-config-validator[_ngcontent-%COMP%]   .pinned-results[_ngcontent-%COMP%]{display:block;padding-top:.25rem}@media (min-width:576px){#car-config-validator[_ngcontent-%COMP%]   .pinned-results[_ngcontent-%COMP%]{float:right;display:inline-block}}#car-config-validator[_ngcontent-%COMP%]   .pinned-results[_ngcontent-%COMP%]   .pinned-results-left[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .75rem;margin:0;border:1px solid #ccc;border-top-left-radius:4px;border-bottom-left-radius:4px}#car-config-validator[_ngcontent-%COMP%]   .pinned-results[_ngcontent-%COMP%]   .pinned-results-left[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:.5rem}#car-config-validator[_ngcontent-%COMP%]   .pinned-results[_ngcontent-%COMP%]   .pinned-results-right[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .75rem;margin:0;border:1px solid #ccc;border-left-width:0;border-top-right-radius:4px;border-bottom-right-radius:4px;cursor:pointer}"]],data:{}});function gC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Unsaved "]))],null,null)}function yC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","clear-verify-car-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeSession()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Clear Results\n      "]))],null,null)}function mC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","pin-results-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveSession()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-map-pin"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Pin Results\n      "]))],null,null)}function vC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"span",[["class","pinned-results"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,6,"div",[["class","pinned-results-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-map-pin"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(6,0,null,null,1,"span",[["id","pinned-results-count"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,[" Pinned\n        "])),(n()(),e.ub(9,0,null,null,3,"div",[["class","pinned-results-right"],["id","clear-pinned-results-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.clearSavedSessions()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(11,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.savedSessionCount)})}function wC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"p",[["id","simulation-progress"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[["id","progress-spinner"]],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,1,"span",[["id","progress-text"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,6,0,t.component.session.statusMessage)})}function MC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,wC)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(6,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,l.session.status===l.checkStatusEnum.checking),n(t,6,0,l.session.errorMessage)},null)}function CC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-car-config-validation-results",[],null,null,null,uC,tC)),e.tb(3,114688,null,0,ZM,[XM,On],{job:[0,"job"],previousJob:[1,"previousJob"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,l.session.jobViewModel,null==l.previousSession?null:l.previousSession.jobViewModel)},null)}function SC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,33,"div",[["id","car-config-validator"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,27,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,18,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,6,"button",[["class","btn btn-smart btn-secondary"],["id","verify-car-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.runCheck(!1)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,0,"i",[["class","fa fa-check-square-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Verify "])),(n()(),e.lb(16777216,null,null,1,null,gC)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["Car\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,yC)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,mC)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,vC)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(24,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(25,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,MC)),e.tb(28,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,CC)),e.tb(32,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,11,0,l.isCarDirty),n(t,15,0,l.session),n(t,18,0,l.canSaveSession),n(t,21,0,l.savedSessionCount),n(t,25,0,l.errorMessage),n(t,28,0,l.session),n(t,32,0,l.session&&l.session.status===l.checkStatusEnum.checked)},null)}var IC=function(){function n(n,t,l,e){this.prompt=n,this.listVersionsDialog=t,this.identity=l,this.getFriendlyErrorAndLog=e,this.compactButton=!1}return Object.defineProperty(n.prototype,"isAdministrator",{get:function(){return this.identity.isAdministrator},enumerable:!0,configurable:!0}),n.prototype.launch=function(){return n=this,void 0,l=function(){var n,t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:if(u.trys.push([0,2,,4]),!this.configType)throw new sl("No config type specified.");if(!this.getDocument)throw new sl("No getDocument delegate was supplied.");if(!(n=this.getDocument()))throw new sl("No version reference document was supplied.");return[4,this.listVersionsDialog.show(this.tenantId,this.userId,this.configId,n,this.configType,this.saveOutputConfigHandler)];case 1:return(t=u.sent())&&t.loadedDocument&&this.setDocument&&this.setDocument(t.loadedDocument),[3,4];case 2:return l=u.sent(),e=this.getFriendlyErrorAndLog.execute(l),[4,this.prompt.show(e,"List Versions Error")];case 3:return u.sent(),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),xC=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),OC=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l,e,u,r){return i=this,void 0,s=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return[4,this.dialogManager.showPrimaryDialog(new kC(n,t,l,e,u,r))];case 1:return[2,i.sent()]}})},new((o=void 0)||(o=Promise))(function(n,t){function l(n){try{u(s.next(n))}catch(n){t(n)}}function e(n){try{u(s.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new o(function(n){n(t.value)}).then(l,e)}u((s=s.apply(i,[])).next())});var i,o,s},n}(),kC=function(n){function t(t,l,e,u,r,i){var o=n.call(this)||this;return o.tenantId=t,o.userId=l,o.configId=e,o.configData=u,o.configType=r,o.saveOutputConfigHandler=i,o}return xC(t,n),t}(se),TC=e.sb({encapsulation:0,styles:[[""]],data:{}});function PC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Recent Versions"]))],null,null)}function EC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"button",[["class","btn btn-smart btn-secondary list-versions-dialog-launcher"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.launch()&&e),e},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"btn-icon":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-history"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,PC)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"btn btn-smart btn-secondary list-versions-dialog-launcher",n(t,2,0,l.compactButton)),n(t,7,0,!l.compactButton)},null)}var _C=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),VC=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},jC=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},RC=function(n){function t(t,l,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w,M,C,S,I){var x=n.call(this,C,S,I)||this;return x.router=t,x.formBuilder=l,x.identity=u,x.configStub=r,x.simVersionStub=i,x.getSimVersion=o,x.textFileReader=s,x.jsonEditor=a,x.json=c,x.studyStagingArea=d,x.formSubmissionHandler=b,x.formCancellationHandler=f,x.compareConfigDialog=p,x.saveAsDialog=h,x.confirmationDialog=g,x.convertConfigToCsv=y,x.convertTelemetryConfigToStudy=m,x.significantSimVersions=v,x.documentUpdatedEventService=w,x.saveToEditorHandlerFactory=M,x.customProperties=[],x.isWorksheetPage=!1,x.name=new Zt.f("",Zt.w.compose([Zt.w.required].concat(tl.configNameValidators))),x.notes=new Zt.f("",tl.configNotesValidators.slice()),x.unvalidatedInput=new Zt.f("",[]),x.submitSaveButton=new ll("Save","Saving..."),x.submitStageButton=new ll("Stage Snapshot","Staging..."),x.submitSaveAsButton=new ll("Save As New Config","Saving..."),x.submitTelemetryButton=new ll("Run Telemetry","Submitting..."),x.hasSaved=!1,x.isLoaded=!1,x.resetPropertyEditor=new e.n,x.telemetryConfigType=st,x.tryGetEditorValue=function(n){return VC(x,void 0,void 0,function(){var t;return jC(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.errorMessage=void 0,n?[4,this.onSubmit()]:[3,2];case 1:if(!l.sent())return[2,void 0];l.label=2;case 2:return[2,this.editorInstance.getValue()];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[2,void 0];case 4:return[2]}})})},x}return _C(t,n),Object.defineProperty(t.prototype,"saveSuccessful",{get:function(){return this.hasSaved&&this.form&&!this.form.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRunTelemetry",{get:function(){try{var n=this.editorInstance.getValue();return n.channels&&n.channels.length}catch(n){return!1}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){return VC(this,void 0,void 0,function(){return jC(this,function(n){switch(n.label){case 0:return this.form=this.formBuilder.group({name:this.name,notes:this.notes,unvalidatedInput:this.unvalidatedInput}),this.getConfigDocumentCallback=this.getConfigDocument.bind(this),this.setConfigDocumentCallback=this.setConfigDocument.bind(this),this.getEditorValueCallback=this.getEditorValue.bind(this),this.getConfigOrConfigLoaderCallback=this.getConfigForCompare.bind(this),this.isStaged?(this.submitSaveButton=new ll("Save to Source Config","Saving..."),[4,this.loadFromStagingArea()]):[3,2];case 1:return n.sent(),[3,6];case 2:if(!this.isDefault)return[3,4];if(!this.configName)throw new cl("Default config name is required.");if(!this.simVersion)throw new cl("Default config sim version is required.");return[4,this.loadFromSimVersionDocuments()];case 3:return n.sent(),[3,6];case 4:if(!this.configId)throw new cl("Config ID is required.");return[4,this.loadFromDatabase()];case 5:n.sent(),n.label=6;case 6:return this.initialEditorResult=this.getAsStudyInput(this.editorInstance.getValue()),[2]}})})},t.prototype.ngOnDestroy=function(){n.prototype.ngOnDestroy.call(this)},t.prototype.load=function(){this.currentIdentity=this.identity.get()},t.prototype.export=function(){return VC(this,void 0,void 0,function(){var n,t;return jC(this,function(l){try{n=this.editorInstance.getValue(),t=this.json.stringify({simVersion:this.simVersion,notes:this.notes.value,customProperties:ye.listToObject(this.customProperties),config:n}),Ap.b.download(Dp(this.name.value||this.configType.singularKey)+".json",t,"application/json")}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})})},t.prototype.exportFilteredCsv=function(){return VC(this,void 0,void 0,function(){var n,t,l;return jC(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n=this.editorInstance.getFilteredValue(),[4,this.convertConfigToCsv.execute(n,this.configType.singularKey,this.editorInstance.simVersion)];case 1:return t=e.sent(),Ap.b.download(Dp(this.name.value||this.configType.singularKey)+".csv",t,"text/plain"),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},Object.defineProperty(t.prototype,"isCurrentTenant",{get:function(){return this.currentIdentity.tenantId===this.tenantId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentWorksheetId",{get:function(){return this.documentResult?this.documentResult.config.parentWorksheetId:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOwner",{get:function(){return this.userId===this.currentIdentity.userId},enumerable:!0,configurable:!0}),t.prototype.configureEditor=function(n,t){return VC(this,void 0,void 0,function(){var l,e,u=this;return jC(this,function(r){switch(r.label){case 0:return l=this,[4,this.jsonEditor.create(this.form,"json-editor",this.configType.singularKey,n,t,this.configType.singularKey)];case 1:return l.editorInstance=r.sent(),this.lastSavedEditorValue=n,this.simVersion=t,this.saveOutputConfigHandler=this.saveToEditorHandlerFactory.create(this.editorInstance,function(n){u.customProperties=ca(n||[]),u.resetPropertyEditor.emit()},function(n){u.notes.setValue(n||"",{})}),this.isTrack?[4,this.loadConfigPreviewIfRequired(n)]:[3,3];case 2:r.sent(),r.label=3;case 3:return this.editorInstance instanceof wM&&(this.unvalidatedInput.setValue((e=this.editorInstance).unvalidatedContent,{}),this.unvalidatedInput.valueChanges.subscribe(function(n){return e.unvalidatedContent=n})),this.configDataFormatted=this.json.stringify({simVersion:t,config:n}),[2]}})})},t.prototype.loadFromSimVersionDocuments=function(){return VC(this,void 0,void 0,function(){var n,t,l;return jC(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.load(),this.configId=Gb(this.configType.singularKey,this.configName),[4,this.simVersionStub.getDocument(this.simVersion,this.configId)];case 1:return n=e.sent(),t=this.json.parse(n.document.content),this.userId=void 0,this.customProperties=[],[4,this.configureEditor(t,this.simVersion)];case 2:return e.sent(),this.name.setValue(this.configName,{}),this.isLoaded=!0,[3,4];case 3:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,4];case 4:return[2]}})})},t.prototype.loadFromStagingArea=function(){return VC(this,void 0,void 0,function(){var n,t,l,e;return jC(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.load(),[4,this.getSimVersion.execute()];case 1:return n=u.sent(),[4,this.studyStagingArea.getInput(this.configType.singularKey,n)];case 2:if(!(t=u.sent()))throw new dl("A staged "+this.configType.name+" was not found.");return this.stagedConfig=t,l=this,[4,this.studyStagingArea.getInput(this.configType.singularKey,void 0)];case 3:return l.originalStagedConfig=u.sent(),this.userId=t.userId,this.tenantId=this.currentIdentity.tenantId,this.configId=t.configId,this.customProperties=ve.toMutables(t.properties),[4,this.configureEditor(t.data,n)];case 4:return u.sent(),this.name.setValue(t.name,{}),this.notes.setValue(t.notes,{}),this.isLoaded=!0,[3,6];case 5:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,6];case 6:return[2]}})})},t.prototype.loadFromDatabase=function(){return VC(this,void 0,void 0,function(){var n,t,l;return jC(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.load(),[4,this.getSimVersion.execute()];case 1:return n=e.sent(),[4,this.configStub.getConfig(this.tenantId,this.configId,void 0,n)];case 2:return t=e.sent(),this.documentResult=t,this.userId=t.config.userId,this.customProperties=ye.objectToList(t.config.properties),this.supportSession={session:t.config.supportSession,userInformation:t.userInformation},[4,this.configureEditor(t.config.data,n)];case 3:return e.sent(),this.name.setValue(t.config.name,{}),this.notes.setValue(t.config.notes,{}),this.isLoaded=!0,[3,5];case 4:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,5];case 5:return[2]}})})},t.prototype.processFileImportEvent=function(n){return VC(this,void 0,void 0,function(){var t,l,e,u,r,i,o,s,a,c,d;return jC(this,function(b){switch(b.label){case 0:return b.trys.push([0,5,,6]),this.isLoaded?(this.isLoaded=!1,this.errorMessage=void 0,(l=(t=n.target).files)&&0!==l.length?(e=l[0],t.value="",[4,this.textFileReader.read(e)]):[2]):[2];case 1:return u=b.sent(),r=this.json.parse(u),i=r,o=void 0,s=void 0,r.simVersion?(a=r.simVersion,i=r.config,o=r.notes||"",s=ye.objectToList(r.customProperties||{}),a===this.editorInstance.simVersion?[3,3]:[4,this.configStub.upgradeConfig(this.currentIdentity.tenantId,this.editorInstance.simVersion,{configType:this.configType.singularKey,config:i,simVersion:a})]):[3,3];case 2:c=b.sent(),i=c.config,b.label=3;case 3:return this.editorInstance.setValue(i),o&&"string"==typeof o&&this.notes.setValue(o,{}),s&&(this.customProperties=s),e.name&&!this.name.value&&this.name.setValue(e.name.replace(/\.[^/.]+$/,""),{}),[4,this.loadConfigPreviewIfRequired(i)];case 4:return b.sent(),[3,6];case 5:return d=b.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(d),[3,6];case 6:return this.isLoaded=!0,[2]}})})},t.prototype.compareToStaged=function(){return VC(this,void 0,void 0,function(){var n,t;return jC(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),[4,this.studyStagingArea.getInput(this.configType.singularKey,this.editorInstance.simVersion)];case 1:return(n=l.sent())?[4,this.compareConfigDialog.compare(this.configType,[this.getConfigForCompare(),new Pb("staged",n,void 0)],this.saveOutputConfigHandler,"Save Output to Editor")]:[2];case 2:return l.sent(),[4,this.updateEditedStateIfEditingStagingArea()];case 3:return l.sent(),[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return[2]}})})},t.prototype.compareToSaved=function(){return VC(this,void 0,void 0,function(){var n;return jC(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.compareConfigDialog.compare(this.configType,[this.getConfigForCompare(),new Pb("saved",this.getAsStudyInput(this.lastSavedEditorValue),void 0)],this.saveOutputConfigHandler,"Save Output to Editor")];case 1:return t.sent(),[4,this.updateEditedStateIfEditingStagingArea()];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})})},t.prototype.updateEditedStateIfEditingStagingArea=function(){return VC(this,void 0,void 0,function(){var n,t;return jC(this,function(l){switch(l.label){case 0:return this.isStaged?(n=nm,t=[this.form],[4,this.checkIfEditorMatchesStagingArea()]):[2];case 1:return n.apply(void 0,t.concat([l.sent()])),[2]}})})},t.prototype.checkIfEditorMatchesStagingArea=function(){return VC(this,void 0,void 0,function(){var n,t,l;return jC(this,function(e){switch(e.label){case 0:return[4,this.studyStagingArea.getInput(this.configType.singularKey,this.simVersion)];case 1:return(n=e.sent())?(t=this.editorInstance.getValue(),l=this.getAsStudyInput(t),[2,this.json.studyInputDataEquals(n,l)]):[2,!1]}})})},t.prototype.getConfigForCompare=function(){var n=this.editorInstance.getValue();return new Pb("current",this.getAsStudyInput(n),void 0)},Object.defineProperty(t.prototype,"editorValue",{get:function(){try{return this.editorInstance.getValue()}catch(n){return void(this.errorMessage=this.getFriendlyErrorAndLog.execute(n))}},enumerable:!0,configurable:!0}),t.prototype.routerCanDeactivate=function(){return this.formCancellationHandler.execute(this.form)},t.prototype.onSave=function(){return VC(this,void 0,void 0,function(){return jC(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submitSave,this.form,this.submitSaveButton,this)];case 1:return[2,n.sent()]}})})},t.prototype.onStage=function(){return VC(this,void 0,void 0,function(){return jC(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submitStage,this.form,this.submitStageButton,this)];case 1:return[2,n.sent()]}})})},t.prototype.onSaveAs=function(){return VC(this,void 0,void 0,function(){return jC(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submitSaveAs,this.form,this.submitSaveAsButton,this)];case 1:return[2,n.sent()]}})})},t.prototype.onSubmitTelemetry=function(){return VC(this,void 0,void 0,function(){var n;return jC(this,function(t){switch(t.label){case 0:return[4,this.formSubmissionHandler.execute(this.submitTelemetry,this.form,this.submitTelemetryButton,this)];case 1:return(n=t.sent())&&this.router.navigate(["/configs",this.configType.pluralKey]),[2,n]}})})},Object.defineProperty(t.prototype,"isSubmitting",{get:function(){return this.submitSaveButton.isSubmitting||this.submitStageButton.isSubmitting||this.submitSaveAsButton.isSubmitting||this.submitTelemetryButton.isSubmitting},enumerable:!0,configurable:!0}),t.prototype.onSubmit=function(){return this.isStaged?this.onStage():this.onSave()},t.prototype.submitSave=function(){return VC(this,void 0,void 0,function(){var n;return jC(this,function(t){switch(t.label){case 0:return n=this.editorInstance.getValue(),[4,this.saveConfig(n)];case 1:return t.sent()&&(this.isStaged?this.studyStagingArea.updateIsEdited(this.configType.singularKey,!1):(this.lastSavedEditorValue=n,this.hasSaved=!0,nm(this.form))),[2]}})})},t.prototype.submitStage=function(){return VC(this,void 0,void 0,function(){var n;return jC(this,function(t){return n=this.editorInstance.getValue(),this.stageConfig(n),this.isStaged&&(this.lastSavedEditorValue=n,this.hasSaved=!0,nm(this.form)),[2]})})},t.prototype.submitSaveAs=function(){return VC(this,void 0,void 0,function(){var n,t;return jC(this,function(l){switch(l.label){case 0:return n=this.editorInstance.getValue(),[4,this.saveAsDialog.showForContent(this.name.value,this.configType.singularKey,this.editorInstance.simVersion,void 0,n,this.customProperties,this.notes.value)];case 1:return(t=l.sent())&&(nm(this.form),this.router.navigate(["/configs",this.configType.pluralKey,this.currentIdentity.tenantId,t.configId,"edit"])),[2]}})})},t.prototype.submitTelemetry=function(){return VC(this,void 0,void 0,function(){var n;return jC(this,function(t){switch(t.label){case 0:return n=this.editorInstance.getValue(),[4,this.convertTelemetryConfigToStudy.execute(n,this.editorInstance.simVersion,this.name.value,!1,this.customProperties,this.notes.value)];case 1:return t.sent(),[2]}})})},Object.defineProperty(t.prototype,"showSubmitTelemetry",{get:function(){return this.configType.singularKey===this.telemetryConfigType.singularKey&&this.significantSimVersions.isAfterTelemetrySimulation&&this.canRunTelemetry},enumerable:!0,configurable:!0}),t.prototype.stageConfig=function(n){this.studyStagingArea.stageInput(this.getAsStudyInput(n))},t.prototype.getAsStudyInput=function(n){return new me(this.configType.singularKey,this.userId,this.configId,this.name.value,n,this.customProperties,this.notes.value,this.editorInstance.simVersion,this.isEdited,void 0)},Object.defineProperty(t.prototype,"isEdited",{get:function(){return this.isStaged||this.form.dirty},enumerable:!0,configurable:!0}),t.prototype.getEditorValue=function(){return this.editorValue},t.prototype.getConfigDocument=function(){return{name:this.name.value,notes:this.notes.value,data:this.editorValue,properties:ye.listToObject(this.customProperties),deleteRequested:this.documentResult?this.documentResult.config.deleteRequested:void 0,parentWorksheetId:this.documentResult?this.documentResult.config.parentWorksheetId:void 0}},t.prototype.setConfigDocument=function(n){this.name.setValue(n.name),this.notes.setValue(n.notes),this.customProperties=ye.objectToList(n.properties),this.editorInstance.setValue(n.data),this.resetPropertyEditor.emit()},t.prototype.saveConfig=function(n){return VC(this,void 0,void 0,function(){return jC(this,function(t){switch(t.label){case 0:return this.isDefault?[2,!1]:this.isStaged?[4,this.verifySave()]:[3,2];case 1:if(!t.sent())return[2,!1];t.label=2;case 2:return[4,this.configStub.putConfig(this.tenantId,this.configId,{name:this.name.value,configType:this.configType.singularKey,config:n,properties:this.customProperties,notes:this.notes.value,simVersion:this.editorInstance.simVersion})];case 3:return t.sent(),this.documentUpdatedEventService.emit(this.tenantId,this.configId),[2,!0]}})})},t.prototype.verifySave=function(){return VC(this,void 0,void 0,function(){var n,t,l,e;return jC(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),[4,this.configStub.getConfig(this.tenantId,this.configId,void 0,this.editorInstance.simVersion)];case 1:return n=u.sent(),[3,6];case 2:return(t=u.sent()).isFromApi&&404===t.response.status?[4,this.confirmationDialog.show("The source config no longer exists.","Unable to save","OK","OK")]:[3,4];case 3:return u.sent(),[2,!1];case 4:throw t;case 5:return[3,6];case 6:return(l=n.config.name)===(e=this.name.value)?[3,8]:[4,this.confirmationDialog.show('Saving will rename the source config from "'+l+'" to "'+e+'".',"Confirm Rename","Save and Rename Source","Cancel")];case 7:if(!u.sent())return[2,!1];u.label=8;case 8:return[2,!0]}})})},t.prototype.onSupportSessionChanged=function(n){this.supportSession=n},t}(Uw),FC=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},AC=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},LC=function(){function n(n,t,l,e){this.configStub=n,this.compareConfigDialog=t,this.loadingDialog=l,this.getFriendlyErrorAndLog=e}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"status",{get:function(){return this.isDowngradedConfig?"downgraded for your current sim version. This may produce an unexpected config":this.isUpgradedConfig?"upgraded":"neither upgraded or downgraded"},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(n){this.isDowngradedConfig=!1,this.isUpgradedConfig=!1,(this.databaseResult||this.stagedResult&&this.originalStagedResult)&&(this.databaseResult?(this.originalConfigVersionString=this.databaseResult.config.simVersion,this.currentConfigVersionString=this.databaseResult.convertedSimVersion,this.configType=this.databaseResult.config.subType):this.stagedResult&&(this.originalConfigVersionString=this.originalStagedResult.simVersion,this.currentConfigVersionString=this.stagedResult.simVersion,this.configType=this.stagedResult.configType),this.originalConfigVersion=Object(Tt.a)(this.originalConfigVersionString),this.currentConfigVersion=Object(Tt.a)(this.currentConfigVersionString),this.isDowngradedConfig=this.currentConfigVersion<this.originalConfigVersion,this.isUpgradedConfig=this.currentConfigVersion>this.originalConfigVersion)},n.prototype.compareToOriginal=function(n){return FC(this,void 0,void 0,function(){var t;return AC(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.compareToOriginalInner(n)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.compareToOriginalInner=function(n){return FC(this,void 0,void 0,function(){var t,l;return AC(this,function(e){switch(e.label){case 0:return this.databaseResult?[4,this.loadingDialog.showUntilFinished(this.configStub.getConfig(this.databaseResult.config.tenantId,this.databaseResult.config.documentId,void 0,this.databaseResult.config.simVersion),"Loading original...")]:[3,2];case 1:return l=e.sent(),t=this.studyInputFromApiResult(l),[3,3];case 2:t=this.originalStagedResult,e.label=3;case 3:return this.editorContent&&!n.ctrlKey?[3,5]:[4,this.compareConvertedToOriginal(t)];case 4:return e.sent(),[3,9];case 5:return n.altKey?[4,this.compareEditorToConverted()]:[3,7];case 6:return e.sent(),[3,9];case 7:return[4,this.compareEditorToOriginal(t)];case 8:e.sent(),e.label=9;case 9:return[2]}})})},n.prototype.compareConvertedToOriginal=function(n){return FC(this,void 0,void 0,function(){var t;return AC(this,function(l){switch(l.label){case 0:return t=this.stagedResult||this.getDatabaseResultAsStudyInput(),[4,this.showCompareDialog(new Pb(this.currentConfigVersionString+" (before editor)",t,void 0),new Pb(this.originalConfigVersionString,n,void 0))];case 1:return l.sent(),[2]}})})},n.prototype.compareEditorToConverted=function(){return FC(this,void 0,void 0,function(){var n;return AC(this,function(t){switch(t.label){case 0:return n=this.stagedResult||this.getDatabaseResultAsStudyInput(),[4,this.showCompareDialog(new Pb(this.currentConfigVersionString,this.editorContent,void 0),new Pb(this.currentConfigVersionString+" (before editor)",n,void 0))];case 1:return t.sent(),[2]}})})},n.prototype.compareEditorToOriginal=function(n){return FC(this,void 0,void 0,function(){return AC(this,function(t){switch(t.label){case 0:return[4,this.showCompareDialog(new Pb(this.currentConfigVersionString,this.editorContent,void 0),new Pb(this.originalConfigVersionString,n,void 0))];case 1:return t.sent(),[2]}})})},n.prototype.getDatabaseResultAsStudyInput=function(){return this.studyInputFromApiResult(this.databaseResult)},n.prototype.studyInputFromApiResult=function(n){return me.fromApiResult(n)},n.prototype.showCompareDialog=function(n,t){return FC(this,void 0,void 0,function(){return AC(this,function(l){switch(l.label){case 0:return[4,this.compareConfigDialog.compare(this.configType,[n,t],this.saveOutputConfigHandler,"Save Output to Editor")];case 1:return l.sent(),[2]}})})},n}(),DC=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:none}.downgraded-config[_nghost-%COMP%]{display:block}"]],data:{}});function NC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,12,"div",[["class","alert"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"alert-warning":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(5,null,["\n    This config has been ",".\n    The original version was "," and the converted version is ",".\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(7,0,null,null,1,"button",[["class","btn btn-secondary"],["title","View changes made by both conversion and editor. Ctrl+click: View changes made by conversion only. Alt+click: View changes made by editor only."],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToOriginal(l)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n    Compare Original and Converted\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(10,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(11,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"alert",n(t,2,0,l.isDowngradedConfig)),n(t,11,0,l.errorMessage)},function(n,t){var l=t.component;n(t,5,0,l.status,l.originalConfigVersionString,l.currentConfigVersionString)})}var UC=l("e83u"),QC=l("AQUW"),JC=function(){function n(n,t,l){this.formBuilder=n,this.canopyAutocomplete=t,this.getFriendlyErrorAndLog=l,this.configUpdated=new e.n,this.isFirstExternalConfig=!0,this.tags=new Zt.f([],[]),this.validators=tl.customPropertyNameWithWildcardsValidators,this.errorMessages={customPropertyName:"The parameter name contains illegal characters.",maxLength:"The parameter name is too long."},this.lastAutocompleteItems=[],this.form=this.formBuilder.group({tags:this.tags})}return n.prototype.ngOnInit=function(){var n=this;try{this.canopyAutocomplete.create("ng2-tag-input__text-input",this.tags,function(){return n.generateAutocompleteItems()},function(n,t){return n.localeCompare(t)},!0),this.tags.valueChanges.subscribe(function(t){return n.onConfigUpdatedManually(t)})}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.applyFilter=function(){var n=this.editorInstance.getFirstVisibleInput();this.editorInstance.setCustomView(this.tags.value),this.scrollToInput(n)},n.prototype.scrollToInput=function(n){n&&(this.isElementIncludedInCurrentFilter(n)||(n=this.editorInstance.getFirstInput()),n&&n.scrollIntoView({block:"center"}))},n.prototype.clearFilter=function(){this.managedConfig=new ia(void 0,void 0,void 0,{tags:[]},!1),this.configUpdated.emit(this.managedConfig),this.tags.setValue([]),this.applyFilter()},n.prototype.collapseAll=function(){this.editorInstance.collapseAll()},n.prototype.onConfigUpdatedExternally=function(n){n?(this.managedConfig=n,this.tags.setValue(this.getManagedConfigTags(n))):(this.managedConfig=void 0,this.tags.setValue([])),(!1===this.isFirstExternalConfig||this.tags.value.length>0)&&this.applyFilter(),this.isFirstExternalConfig=!1},n.prototype.onConfigUpdatedManually=function(n){var t,l;this.managedConfig?(t=n,l=this.getManagedConfigTags(this.managedConfig),t.length===l.length&&t.every(function(n,t){return n===l[t]})||(this.managedConfig=ia.copy(this.managedConfig,function(t){t.isEdited=!0,t.config={tags:n}}),this.configUpdated.emit(this.managedConfig),this.applyFilter())):n.length&&(this.managedConfig=new ia(void 0,void 0,void 0,{tags:n},!1),this.configUpdated.emit(this.managedConfig),this.applyFilter())},Object.defineProperty(n.prototype,"currentFilter",{get:function(){return{tags:this.tags.value}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configSource",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.isElementIncludedInCurrentFilter=function(n){return!!n.getBoundingClientRect().height},n.prototype.getManagedConfigTags=function(n){if(!n)return[];var t=n.getConfigCopy();return t&&t.tags?t.tags:[]},n.prototype.generateAutocompleteItems=function(){var n=this.lastAutocompleteItems;try{var t=this.editorInstance.getValue();n=this.generateAutocompleteItemsFromConfig(t)}catch(n){}return this.lastAutocompleteItems=n,n},n.prototype.generateAutocompleteItemsFromConfig=function(n){return Un(this.generateAutocompleteItemsFromConfigInner(n,void 0))},n.prototype.generateAutocompleteItemsFromConfigInner=function(n,t){var l=[];if("object"==typeof n)if(Array.isArray(n)){if(n.length<100)for(var e=0,u=n;e<u.length;e++)l.push.apply(l,this.generateAutocompleteItemsFromConfigInner(u[e],t))}else for(var r in n.name&&l.push(n.name),n)n.hasOwnProperty(r)&&(l.push.apply(l,this.generateAutocompleteItemsFromConfigInner(n[r],r)),l.push(r));else t&&l.push(t);return l},n}(),$C=e.sb({encapsulation:0,styles:[[".custom-view-filter[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.125);background-color:#fff;border-radius:.25rem;padding:.5rem 1rem;margin-bottom:1rem}.custom-view-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .quick-config-manager-component[_ngcontent-%COMP%], .custom-view-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:.5rem}.custom-view-filter[_ngcontent-%COMP%]   .ng2-tag-input[_ngcontent-%COMP%]{border-bottom:none!important}.custom-view-filter[_ngcontent-%COMP%]   .error-messages[_ngcontent-%COMP%]{position:absolute;top:-2rem;right:0}.custom-view-filter[_ngcontent-%COMP%]   .filter-title[_ngcontent-%COMP%]{font-weight:700;margin-right:.5rem}.custom-view-filter[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{position:absolute;bottom:-10px;right:0;font-size:.75rem;color:#adb5bd}"]],data:{}});function HC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,47,"div",[["class","custom-view-filter"],["id","custom-view-filter"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,41,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,38,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n\n      "])),(n()(),e.ub(9,0,null,null,35,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,11).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,11).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.applyFilter()&&u),u},null,null)),e.tb(10,16384,null,0,Zt.y,[],null,null),e.tb(11,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(13,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(15,0,null,null,28,"div",[["class","form-group form-inline last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(17,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","collapse-all-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.collapseAll()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            Collapse\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(20,0,null,null,1,"span",[["class","help-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Use asterisk (*) for wildcard searches."])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(23,0,null,null,1,"span",[["class","filter-title"]],null,null,null,null,null)),(n()(),e.Mb(24,null,["",":"])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(26,0,null,null,1,"cs-quick-config-manager",[["class","quick-config-manager-component"]],null,[[null,"configChanged"]],function(n,t,l){var e=!0;return"configChanged"===t&&(e=!1!==n.component.onConfigUpdatedExternally(l)&&e),e},xa,ya)),e.tb(27,245760,null,0,ra,[Q,aa,fa,ha,O,On],{configType:[0,"configType"],persistLocally:[1,"persistLocally"],updateSource:[2,"updateSource"],showName:[3,"showName"]},{configChanged:"configChanged"}),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(29,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","filter-clear-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.clearFilter()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            Clear\n          "])),(n()(),e.Mb(-1,null,["\n\n\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(33,0,null,null,9,"tag-input",[["formControlName","tags"],["placeholder","+ Parameter Name"],["secondaryPlaceholder","Enter a parameter name"],["theme","minimal"]],[[1,"tabindex",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,UC.b,UC.a)),e.tb(34,4308992,null,2,QC.c,[e.H,QC.h],{separatorKeyCodes:[0,"separatorKeyCodes"],placeholder:[1,"placeholder"],secondaryPlaceholder:[2,"secondaryPlaceholder"],validators:[3,"validators"],errorMessages:[4,"errorMessages"],theme:[5,"theme"],clearOnBlur:[6,"clearOnBlur"],modelAsStrings:[7,"modelAsStrings"]},null),e.Kb(335544320,1,{dropdown:0}),e.Kb(603979776,2,{templates:1}),e.Fb(37,2),e.Jb(1024,null,Zt.o,function(n){return[n]},[QC.c]),e.tb(39,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"],model:[1,"model"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(41,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,0,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,11,0,l.form),n(t,27,0,l.configType+"CustomView",!0,l.configSource,!1),n(t,34,0,n(t,37,0,32,188),"+ Parameter Name","Enter a parameter name",l.validators,l.errorMessages,"minimal",!0,!0),n(t,39,0,"tags",l.tags.value)},function(n,t){var l=t.component;n(t,9,0,e.Eb(t,13).ngClassUntouched,e.Eb(t,13).ngClassTouched,e.Eb(t,13).ngClassPristine,e.Eb(t,13).ngClassDirty,e.Eb(t,13).ngClassValid,e.Eb(t,13).ngClassInvalid,e.Eb(t,13).ngClassPending),n(t,24,0,l.managedConfig&&l.managedConfig.name?l.managedConfig.name:"Filter"),n(t,33,0,e.Eb(t,34).tabindexAttr,e.Eb(t,41).ngClassUntouched,e.Eb(t,41).ngClassTouched,e.Eb(t,41).ngClassPristine,e.Eb(t,41).ngClassDirty,e.Eb(t,41).ngClassValid,e.Eb(t,41).ngClassInvalid,e.Eb(t,41).ngClassPending)})}var qC=function(){function n(n,t){this.worksheetDock=n,this._el=t,this.bottomPadding=15,this.additionalScrollOffset=0}return Object.defineProperty(n.prototype,"bottomString",{get:function(){return this.worksheetDock.worksheet?this.worksheetDock.height+this.bottomPadding+"px":this.bottomPadding+"px"},enumerable:!0,configurable:!0}),n.prototype.scrollToTop=function(){this._el.nativeElement.scrollIntoView()},n}(),BC=function(){function n(n,t){this.timer=n,this.identity=t,this.undockRequested=new e.n,this._height=300}return n.prototype.serviceOnInit=function(){var n=this;this.identity.userChanged.subscribe(function(){return n.setWorksheet(void 0)})},n.prototype.onIdentityChanged=function(){this.setWorksheet(void 0)},Object.defineProperty(n.prototype,"height",{get:function(){return this._worksheet?this._height:0},set:function(n){this._height=n<50?50:n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"worksheet",{get:function(){return this._worksheet},enumerable:!0,configurable:!0}),n.prototype.setWorksheet=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return this._worksheet&&n?(this._worksheet=void 0,[4,this.timer.yield()]):[3,2];case 1:t.sent(),t.label=2;case 2:return this._worksheet=n,[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n.prototype.setTransferringViewModel=function(n){this.transferringViewModel=n},n.prototype.popTransferringViewModel=function(){var n=this.transferringViewModel;return this.transferringViewModel=void 0,n},n.prototype.requestUndock=function(){this.undockRequested.emit()},n}(),zC=e.sb({encapsulation:0,styles:[["#edit-config-sticky[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]{z-index:100;position:fixed;bottom:.75rem;right:1.5rem;border:1px solid rgba(0,0,0,.125);background-color:#f5f5f5;padding:.75rem 1rem;border-radius:.25rem .25rem 0 0}#edit-config-sticky[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{margin-right:.5rem;vertical-align:middle}#edit-config-sticky[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]   #sticky-dirty-message[_ngcontent-%COMP%]{color:#d95929!important}#edit-config-sticky[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]   #sticky-success-message[_ngcontent-%COMP%]{color:#8fbf4d!important}"]],data:{}});function KC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","status-text text-muted"],["id","sticky-success-message"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.isStaged?"Staged":"Saved")})}function WC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","status-text text-muted"],["id","sticky-dirty-message"]],null,null,null,null,null)),(n()(),e.Mb(1,null,[""," Changes"]))],null,function(n,t){n(t,1,0,t.component.isStaged?"Unstaged":"Unsaved")})}function GC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null))],null,null)}function YC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null))],null,null)}function ZC(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,29,"div",[["id","edit-config-sticky"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,26,"div",[["class","sticky"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(4,{bottom:0}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(6,0,null,null,21,"p",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,KC)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,WC)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(14,0,null,null,7,"button",[["class","btn btn-smart btn-secondary"],["id","sticky-edit-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,GC)),e.tb(17,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,YC)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(21,null,["\n        ","\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(23,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.scrollToTop()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(25,0,null,null,0,"i",[["class","fa fa-long-arrow-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Scroll to Top\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,n(t,4,0,l.bottomString)),n(t,9,0,l.showSaved),n(t,12,0,l.showDirty),n(t,17,0,l.isStaged),n(t,20,0,!l.isStaged)},function(n,t){var l=t.component;n(t,14,0,l.isSubmitDisabled),n(t,21,0,l.submitButtonText)})}var XC=l("soU0"),nS=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},tS=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},lS=function(){function n(n){this.simVersionDocumentCache=n}return n.prototype.execute=function(n,t,l){return nS(this,void 0,void 0,function(){var e;return tS(this,function(u){switch(u.label){case 0:return[4,this.executeCsvLines(n,t,l)];case 1:return e=u.sent(),[2,"Path,Value,Units\n".concat.apply("Path,Value,Units\n",e.map(function(n){return'"'+n.path+'",'+(Xt(n.value)?n.value:'"'+n.value+'"')+',"'+n.units+'"\n'}))]}})})},n.prototype.executeCsvLines=function(n,t,l){return nS(this,void 0,void 0,function(){var e,u,r,i;return tS(this,function(o){switch(o.label){case 0:return[4,this.simVersionDocumentCache.get(l)];case 1:return e=o.sent(),u=e.units,(r=function(n,t,l,e){if(Object(XC.a)(n))if("object"==typeof n)if(Array.isArray(n))for(var i=0,o=0,s=n;o<s.length;o++)r(s[o],t,l+"["+i+"]",e),++i;else for(var a in n)n.hasOwnProperty(a)&&r(n[a],a,l+"."+a,e);else e.push(new eS(l,n,u[t]||""))})(n,t,t,i=[]),[2,i]}})})},n}(),eS=function(n,t,l){this.path=n,this.value=t,this.units=l},uS=function(){function n(){}return n.prototype.create=function(n,t,l){return new rS(n,t,l)},n}(),rS=function(){function n(n,t,l){this.editor=n,this.setProperties=t,this.setNotes=l}return n.prototype.canExecute=function(n){return!0},n.prototype.execute=function(n){return this.editor.setValue(n.data),this.setProperties(n.properties),this.setNotes(n.notes),Promise.resolve()},n}(),iS=e.sb({encapsulation:0,styles:[['#config-preview-container[_ngcontent-%COMP%]{margin-bottom:1rem}#edit-config-component[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-weight:700}#edit-config-component[_ngcontent-%COMP%]   #dirty-message[_ngcontent-%COMP%]{color:#d95929!important}#edit-config-component[_ngcontent-%COMP%]   #success-message[_ngcontent-%COMP%]{color:#8fbf4d!important}#edit-config-component[_ngcontent-%COMP%]   .unvalidated-input[_ngcontent-%COMP%]{min-height:20rem;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:.9rem}#edit-config-component[_ngcontent-%COMP%]   .custom-view-selector[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;display:block;z-index:99}']],data:{}});function oS(n){return e.Ob(0,[(n()(),e.ub(0,0,[[1,0],["configPreviewContainer",1]],null,1,"div",[["id","config-preview-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function sS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-car-config-validator",[],null,null,null,SC,hC)),e.tb(1,180224,null,0,oC,[dC,XM,fC,On],{tryGetEditorValue:[0,"tryGetEditorValue"],simVersion:[1,"simVersion"],isCarDirty:[2,"isCarDirty"],userId:[3,"userId"],configId:[4,"configId"],name:[5,"name"],isEdited:[6,"isEdited"],customProperties:[7,"customProperties"]},null)],function(n,t){var l=t.component;n(t,1,0,l.tryGetEditorValue,l.editorInstance.simVersion,null==l.form?null:l.form.dirty,l.userId,l.configId,l.name.value,l.isEdited,l.customProperties)},null)}function aS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,sS)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.isCar)},null)}function cS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[["class","text-muted"],["id","staged-sub-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Staged Snapshot"]))],null,null)}function dS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[["class","text-muted"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.isStaged?"Staged":"Saved")})}function bS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[["class","text-muted"],["id","dirty-message"]],null,null,null,null,null)),(n()(),e.Mb(1,null,[""," Changes"]))],null,function(n,t){n(t,1,0,t.component.isStaged?"Unstaged":"Unsaved")})}function fS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-linting-engine-dialog-launcher",[],null,null,null,Es,ks)),e.tb(1,49152,null,0,Ss,[ce,xs,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],getConfigData:[2,"getConfigData"],configType:[3,"configType"]},null)],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.userId,l.getEditorValueCallback,l.configType.singularKey)},null)}function pS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-support-session-launcher",[],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==n.component.onSupportSessionChanged(l)&&e),e},zs,Hs)),e.tb(1,114688,null,0,Ns,[Qs,$s,On],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"})],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.configId,"config",l.configType.singularKey,l.supportSession)},null)}function hS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-telemetry-help",[],null,null,null,Vw,Ew)),e.tb(1,49152,null,0,Pw,[Ad],null,null)],null,null)}function gS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","create-run-telemetry"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onSubmitTelemetry()&&e),e},null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){var l=t.component;n(t,0,0,l.isSubmitting),n(t,1,0,l.submitTelemetryButton.text)})}function yS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-list-versions-dialog-launcher",[["class","add-margin"]],null,null,null,EC,TC)),e.tb(1,49152,null,0,IC,[ce,OC,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],configId:[2,"configId"],getDocument:[3,"getDocument"],setDocument:[4,"setDocument"],configType:[5,"configType"],saveOutputConfigHandler:[6,"saveOutputConfigHandler"]},null)],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.userId,l.configId,l.getConfigDocumentCallback,l.setConfigDocumentCallback,l.configType.singularKey,l.saveOutputConfigHandler)},null)}function mS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,22,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-hover-button"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["","\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(7,0,null,null,14,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-button"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(11,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(12,null,["","\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(14,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-as-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onSaveAs()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(16,0,null,null,0,"i",[["class","fa fa-file-o"]],null,null,null,null,null)),(n()(),e.Mb(17,null,["","\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,yS)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,20,0,l.isLoaded&&!l.isDefault)},function(n,t){var l=t.component;n(t,2,0,!l.isLoaded||l.isSubmitting),n(t,5,0,l.submitSaveButton.text),n(t,9,0,!l.isLoaded||l.isSubmitting||!l.isOwner),n(t,12,0,l.submitSaveButton.text),n(t,14,0,!l.isLoaded||l.isSubmitting),n(t,17,0,l.submitSaveAsButton.text)})}function vS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,24,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-hover-button"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["","\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(7,0,null,null,16,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-button"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(11,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(12,null,["","\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(14,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-to-source-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onSave()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(16,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(17,null,["","\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(19,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","save-as-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onSaveAs()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(21,0,null,null,0,"i",[["class","fa fa-file-o"]],null,null,null,null,null)),(n()(),e.Mb(22,null,["","\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],null,function(n,t){var l=t.component;n(t,2,0,!l.isLoaded||l.isSubmitting),n(t,5,0,l.submitStageButton.text),n(t,9,0,!l.isLoaded||l.isSubmitting),n(t,12,0,l.submitStageButton.text),n(t,14,0,!l.isLoaded||l.isSubmitting||!l.isOwner),n(t,17,0,l.submitSaveButton.text),n(t,19,0,!l.isLoaded||l.isSubmitting),n(t,22,0,l.submitSaveAsButton.text)})}function wS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","stage-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onStage()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["","\n            "]))],null,function(n,t){var l=t.component;n(t,0,0,!l.isLoaded||l.isSubmitting),n(t,3,0,l.submitStageButton.text)})}function MS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","compare-to-saved-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToSaved()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare to Saved\n                "]))],null,function(n,t){var l=t.component;n(t,0,0,!l.isLoaded||l.isStaged)})}function CS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[["class","btn btn-smart btn-secondary btn-file"],["id","import-local-file-button"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Import Config"])),(n()(),e.ub(3,0,null,null,0,"input",[["accept",".json"],["id","file-load-button-input"],["type","file"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.processFileImportEvent(l)&&e),e},null,null))],null,null)}function SS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","import-local-file-hover-button"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Import\n              "])),(n()(),e.Mb(-1,null,["\n\n              "])),(n()(),e.ub(7,0,null,null,5,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,CS)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,11,0,t.component.isLoaded)},function(n,t){n(t,2,0,!t.component.isLoaded)})}function IS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","export-local-file-hover-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.export()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Export\n              "])),(n()(),e.Mb(-1,null,["\n\n              "])),(n()(),e.ub(7,0,null,null,11,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","export-local-file-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.export()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(11,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Export Config\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(14,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","export-filtered-csv-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.exportFilteredCsv()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(16,0,null,null,0,"i",[["class","fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Export CSV\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],null,function(n,t){var l=t.component;n(t,2,0,!l.isLoaded),n(t,9,0,!l.isLoaded),n(t,14,0,!l.isLoaded)})}function xS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","update-track-preview-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.updateConfigPreview()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              Preview\n            "]))],null,function(n,t){n(t,0,0,!t.component.isLoaded)})}function OS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function kS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    Name is required\n                  "]))],null,null)}function TS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    Name is too short.\n                  "]))],null,null)}function PS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    Name is too long.\n                  "]))],null,null)}function ES(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    Notes are too long.\n                  "]))],null,null)}function _S(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,14,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,1,"label",[["class","title-label"],["for","unvalidated-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["JSON"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(9,0,null,null,5,"textarea",[["class","form-control unvalidated-input"],["formControlName","unvalidatedInput"],["id","unvalidated-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,10)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,10).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,10)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,10)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(10,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(12,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(14,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,12,0,"unvalidatedInput")},function(n,t){n(t,9,0,e.Eb(t,14).ngClassUntouched,e.Eb(t,14).ngClassTouched,e.Eb(t,14).ngClassPristine,e.Eb(t,14).ngClassDirty,e.Eb(t,14).ngClassValid,e.Eb(t,14).ngClassInvalid,e.Eb(t,14).ngClassPending)})}function VS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,74,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(2,0,null,null,2,"cs-compare-config-to-original",[],[[2,"downgraded-config",null]],null,null,NC,DC)),e.tb(3,638976,null,0,LC,[Q,Fb,Bp,On],{databaseResult:[0,"databaseResult"],stagedResult:[1,"stagedResult"],originalStagedResult:[2,"originalStagedResult"],editorContent:[3,"editorContent"],saveOutputConfigHandler:[4,"saveOutputConfigHandler"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(6,0,null,null,1,"pre",[["class","raw-json debug-information"],["id","config-json"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(9,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(11,0,null,null,23,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(13,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(15,0,null,null,1,"label",[["class","title-label"],["for","name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(18,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,19)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,19).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,19)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,19)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(19,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(21,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(23,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,kS)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,TS)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,PS)),e.tb(32,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(37,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(39,0,null,null,18,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(41,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(43,0,null,null,1,"label",[["class","title-label"],["for","notes-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Notes"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(46,0,null,null,6,"textarea",[["autosize",""],["class","form-control notes-input"],["formControlName","notes"],["id","notes-input"],["rows","1"],["style","overflow: hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,47)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,47).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,47)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,47)._compositionEnd(l.target.value)&&u),"input"===t&&(u=!1!==e.Eb(n,52).resize()&&u),u},null,null)),e.tb(47,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(49,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(51,16384,null,0,Zt.q,[[4,Zt.p]],null,null),e.tb(52,4210688,null,0,Xy.b,[e.l],null,null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,ES)),e.tb(55,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(60,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(62,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(64,0,null,null,1,"label",[["class","title-label"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Custom Properties"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(67,0,null,null,1,"cs-view-edit-custom-properties",[],null,null,null,mm,pm)),e.tb(68,245760,null,0,fm,[],{tenantId:[0,"tenantId"],target:[1,"target"],initialProperties:[2,"initialProperties"],resultProperties:[3,"resultProperties"],form:[4,"form"],reset:[5,"reset"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,_S)),e.tb(73,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,3,0,l.documentResult,l.stagedConfig,l.originalStagedConfig,l.initialEditorResult,l.saveOutputConfigHandler),n(t,21,0,"name"),n(t,26,0,!l.name.pristine&&l.name.hasError("required")),n(t,29,0,l.name.hasError("minlength")),n(t,32,0,l.name.hasError("maxlength")),n(t,49,0,"notes"),n(t,55,0,l.notes.hasError("maxlength")),n(t,68,0,l.tenantId,l.configType.singularKey,l.customProperties,l.customProperties,l.form,l.resetPropertyEditor),n(t,73,0,!l.editorInstance.canValidate)},function(n,t){var l=t.component;n(t,2,0,e.Eb(t,3).isDowngradedConfig),n(t,7,0,l.configDataFormatted),n(t,18,0,e.Eb(t,23).ngClassUntouched,e.Eb(t,23).ngClassTouched,e.Eb(t,23).ngClassPristine,e.Eb(t,23).ngClassDirty,e.Eb(t,23).ngClassValid,e.Eb(t,23).ngClassInvalid,e.Eb(t,23).ngClassPending),n(t,46,0,e.Eb(t,51).ngClassUntouched,e.Eb(t,51).ngClassTouched,e.Eb(t,51).ngClassPristine,e.Eb(t,51).ngClassDirty,e.Eb(t,51).ngClassValid,e.Eb(t,51).ngClassInvalid,e.Eb(t,51).ngClassPending)})}function jS(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-custom-view-selector",[["class","custom-view-selector"]],null,null,null,HC,$C)),e.tb(1,114688,null,0,JC,[Zt.e,hc,On],{configType:[0,"configType"],editorInstance:[1,"editorInstance"]},null)],function(n,t){var l=t.component;n(t,1,0,l.configType.singularKey,l.editorInstance)},null)}function RS(n){return e.Ob(0,[e.Kb(671088640,1,{configPreviewElement:0}),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,oS)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,aS)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(8,0,null,null,114,"div",[["id","edit-config-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(10,0,null,null,111,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(12,0,null,null,108,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(14,0,null,null,19,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(15,null,["\n        Edit ","\n        "])),(n()(),e.lb(16777216,null,null,1,null,cS)),e.tb(17,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,dS)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,bS)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(25,0,null,null,7,"div",[["class","card-header-float-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,fS)),e.tb(28,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,pS)),e.tb(31,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(35,0,null,null,84,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,hS)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(40,0,null,null,78,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,42).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,42).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(41,16384,null,0,Zt.y,[],null,null),e.tb(42,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(44,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(46,0,null,null,2,"cs-edit-config-sticky",[],null,null,null,ZC,zC)),e.tb(47,49152,null,0,qC,[BC,e.l],{showSaved:[0,"showSaved"],showDirty:[1,"showDirty"],isSubmitDisabled:[2,"isSubmitDisabled"],isStaged:[3,"isStaged"],submitButtonText:[4,"submitButtonText"],additionalScrollOffset:[5,"additionalScrollOffset"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(50,0,null,null,53,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(52,0,null,null,7,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,53).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(53,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(54,1),e.Fb(55,2),e.Fb(56,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(58,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,gS)),e.tb(62,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,mS)),e.tb(65,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,vS)),e.tb(68,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,wS)),e.tb(71,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(73,0,null,null,20,"span",[["class","button-menu-hover-target"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(75,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","hover-compare-button"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(77,0,null,null,0,"i",[["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(80,0,null,null,12,"span",[["class","button-menu-hovering-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,MS)),e.tb(83,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(85,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","compare-to-staged-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToStaged()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(87,0,null,null,0,"i",[["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare to Staged\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(90,0,null,null,1,"cs-compare-to-something-button",[["class","add-margin"]],null,null,null,Jb,Ub)),e.tb(91,114688,null,0,_b,[ha,Fb,ce,Nb,On],{configType:[0,"configType"],simVersion:[1,"simVersion"],getConfigOrConfigLoader:[2,"getConfigOrConfigLoader"],saveOutputConfigHandler:[3,"saveOutputConfigHandler"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,SS)),e.tb(96,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,IS)),e.tb(99,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,xS)),e.tb(102,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(105,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(106,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,OS)),e.tb(109,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,VS)),e.tb(112,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,jS)),e.tb(115,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(117,0,null,null,0,"div",[["class","json-editor"],["id","json-editor"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.hasConfigPreview),n(t,6,0,l.isLoaded),n(t,17,0,l.isStaged),n(t,20,0,l.saveSuccessful),n(t,23,0,null==l.form?null:l.form.dirty),n(t,28,0,l.isLoaded),n(t,31,0,l.supportSession),n(t,38,0,"telemetry"==l.configType.singularKey),n(t,42,0,l.form),n(t,47,0,l.saveSuccessful,null==l.form?null:l.form.dirty,!l.isLoaded||l.isSubmitting||!l.isStaged&&!l.isOwner,l.isStaged,l.isStaged?l.submitStageButton.text:l.submitSaveButton.text,"car"==l.configType.singularKey?50:0),n(t,53,0,l.isCurrentTenant?l.isWorksheetPage?n(t,54,0,"../../../../../"):n(t,55,0,"/configs",l.configType.pluralKey):n(t,56,0,"/support-sessions")),n(t,62,0,l.showSubmitTelemetry),n(t,65,0,!l.isStaged),n(t,68,0,l.isStaged),n(t,71,0,!l.isStaged),n(t,83,0,!l.isStaged),n(t,91,0,l.configType.singularKey,l.simVersion,l.getConfigOrConfigLoaderCallback,l.saveOutputConfigHandler),n(t,96,0,l.isLoaded),n(t,99,0,l.isLoaded),n(t,102,0,l.isLoaded&&l.hasConfigPreview),n(t,106,0,l.errorMessage||l.configPreviewErrorMessage),n(t,109,0,!l.isLoaded&&!l.errorMessage),n(t,112,0,l.isLoaded),n(t,115,0,l.isLoaded&&l.editorInstance.canValidate)},function(n,t){var l=t.component;n(t,15,0,l.configType.titleName),n(t,40,0,e.Eb(t,44).ngClassUntouched,e.Eb(t,44).ngClassTouched,e.Eb(t,44).ngClassPristine,e.Eb(t,44).ngClassDirty,e.Eb(t,44).ngClassValid,e.Eb(t,44).ngClassInvalid,e.Eb(t,44).ngClassPending),n(t,52,0,e.Eb(t,53).target,e.Eb(t,53).href),n(t,75,0,!l.isLoaded),n(t,85,0,!l.isLoaded||!l.form)})}var FS="configId",AS="configName",LS="simVersion",DS=function(){function n(n,t,l){this.isWorksheetPage=n.execute(t),this.tenantId=l.getTenantId(t),this.configType=t.snapshot.data[Mt],this.isStaged=!!t.snapshot.data[Ct],this.isDefault=!!t.snapshot.data[St],this.isStaged||this.isDefault?this.isStaged||this.isDefault&&(this.configName=t.snapshot.params[AS],this.simVersion=t.snapshot.params[LS]):this.configId=t.snapshot.params[FS]}return n.prototype.routerCanDeactivate=function(){return this.editConfigComponent.routerCanDeactivate()},n}(),NS=e.sb({encapsulation:0,styles:[[""]],data:{}});function US(n){return e.Ob(0,[e.Kb(402653184,1,{editConfigComponent:0}),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(2,0,null,null,4,"div",[["id","edit-config-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,1,"cs-edit-config",[],null,null,null,RS,iS)),e.tb(5,245760,[[1,4],["editConfigComponent",4]],0,RC,[b.m,Zt.e,O,Q,H,Nb,EM,mM,Qr,Se,Ml,Cm,Fb,fa,ce,lS,jM,Ad,Sm,uS,Bh,fr,On],{configType:[0,"configType"],tenantId:[1,"tenantId"],configId:[2,"configId"],isStaged:[3,"isStaged"],isDefault:[4,"isDefault"],simVersion:[5,"simVersion"],configName:[6,"configName"],isWorksheetPage:[7,"isWorksheetPage"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,5,0,l.configType,l.tenantId,l.configId,l.isStaged,l.isDefault,l.simVersion,l.configName,l.isWorksheetPage)},null)}var QS,JS,$S,HS,qS,BS,zS,KS,WS,GS,YS,ZS,XS=e.qb("ng-component",DS,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,US,NS)),e.tb(1,49152,null,0,DS,[Cy,b.a,yl],null,null)],null,null)},{},{},[]),nI=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},tI=function(){function n(n,t,l,e){this.json=n,this.key=e,this.open=void 0===t?1:t,this.config=l||{},this.config.hoverPreviewEnabled=void 0!==this.config.hoverPreviewEnabled&&this.config.hoverPreviewEnabled,this.config.hoverPreviewArrayCount=void 0===this.config.hoverPreviewArrayCount?100:this.config.hoverPreviewArrayCount,this.config.hoverPreviewFieldCount=void 0===this.config.hoverPreviewFieldCount?5:this.config.hoverPreviewFieldCount,this.type=uI(this.json),this.hasKey=void 0!==this.key,this.isOpen=this.open>0,"string"===this.type&&("Invalid Date"!==new Date(this.json).toString()&&(this.isDate=!0),0===this.json.indexOf("http")&&(this.isUrl=!0)),this.isArray=Array.isArray(this.json),this.isObject=lI(this.json),this.keys=[],this.isObject&&(this.keys=Object.keys(this.json).map(function(n){return""===n?'""':n})),this.isEmptyObject=!this.keys.length&&this.isOpen&&!this.isArray,this.onstructorName=eI(this.json),this.isEmpty=this.isEmptyObject||this.keys&&!this.keys.length&&this.isArray,this.getValuePreview=rI}return n.prototype.toggleOpen=function(){this.isOpen=!this.isOpen,this.isOpen?this.appendChildern():this.removeChildren(),this.element&&this.element.classList.toggle("open")},n.prototype.getInlinepreview=function(){var n=this;if(this.isArray)return this.json.length>this.config.hoverPreviewArrayCount?"Array["+this.json.length+"]":"["+this.json.map(iI).join(", ")+"]";var t=this.keys,l=t.slice(0,this.config.hoverPreviewFieldCount).map(function(t){return t+":"+iI(n.json[t])}),e=t.length>=5?"\u2026":"";return"{"+l.join(", ")+e+"}"},n.prototype.template=function(){function n(n){return n?l:t}function t(){return""}function l(n){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];return n.slice(1).reduce(function(n,l,e){return n+t[e]+l},n[0])}return('\n      <a class="toggler-link">\n        '+n(this.isObject)(QS||(QS=nI(['\n          <span class="toggler"></span>\n        '],['\n          <span class="toggler"></span>\n        '])))+"\n\n        "+n(this.hasKey)(JS||(JS=nI(['\n          <span class="key">',"","</span>\n        "],['\n          <span class="key">',"","</span>\n        "])),this.key,this.isObject?"":":")+'\n\n        <span class="value">\n\n          '+n(this.isObject)(HS||(HS=nI(['\n            <span>\n              <span class="constructor-name">',"</span>\n\n              ","\n\n            </span>\n          "],['\n            <span>\n              <span class="constructor-name">',"</span>\n\n              ","\n\n            </span>\n          "])),this.onstructorName,n(this.isArray)($S||($S=nI(['\n                <span><span class="bracket">[</span><span class="number">','</span><span class="bracket">]</span></span>\n              '],['\n                <span><span class="bracket">[</span><span class="number">','</span><span class="bracket">]</span></span>\n              '])),this.json&&this.json.length))+"\n\n          "+n(!this.isObject)(KS||(KS=nI(["\n\n            <",'\n              class="'," "," ",'"\n              ',"\n            >","</",">\n\n          "],["\n\n            <",'\n              class="'," "," ",'"\n              ',"\n            >","</",">\n\n          "])),this.isUrl?"a":"span",this.type,n(this.isDate)(qS||(qS=nI(["date"],["date"]))),n(this.isUrl)(BS||(BS=nI(["url"],["url"]))),n(this.isUrl)(zS||(zS=nI(['href="','"'],['href="','"'])),this.json),this.getValuePreview(this.json,this.json),this.isUrl?"a":"span")+"\n\n        </span>\n\n        "+n(this.config.hoverPreviewEnabled&&this.isObject)(WS||(WS=nI(['\n          <span class="preview-text">',"</span>\n        "],['\n          <span class="preview-text">',"</span>\n        "])),this.getInlinepreview())+'\n      </a>\n\n      <div class="children '+n(this.isObject)(GS||(GS=nI(["object"],["object"])))+" "+n(this.isArray)(YS||(YS=nI(["array"],["array"])))+" "+n(this.isEmpty)(ZS||(ZS=nI(["empty"],["empty"])))+'"></div>\n    ').replace(/\s*\n/g,"\n")},n.prototype.render=function(){var n=this.template();return this.element=document.createElement("div"),this.element.classList.add("json-formatter-row"),this.config&&this.config.theme&&this.element.classList.add("json-formatter-"+this.config.theme),this.isOpen&&this.element.classList.add("open"),this.element.innerHTML=n,this.isObject&&this.isOpen&&this.appendChildern(),this.element.querySelector("a.toggler-link").addEventListener("click",this.toggleOpen.bind(this)),this.element},n.prototype.appendChildern=function(){var t=this,l=this.element.querySelector("div.children");l&&this.keys.forEach(function(e){var u=new n(t.json[e],t.open-1,t.config,t.isArray?parseInt(e,void 0)+1:e);l.appendChild(u.render())})},n.prototype.removeChildren=function(){this.element.querySelector("div.children")&&(this.element.querySelector("div.children").innerHTML="")},n}();function lI(n){return!!n&&"object"==typeof n}function eI(n){if(void 0===n)return"";if(null===n)return"";if("object"==typeof n&&!n.constructor)return"";var t=/function (.{1,})\(/.exec(n.constructor.toString());if(t&&t.length>1){var l=t[1];return"Object"===l?"":l}return""}function uI(n){return null===n?"null":typeof n}function rI(n,t){var l=uI(n);return"null"===l||"undefined"===l?l:("string"===l&&(t='"'+t.replace('"','"')+'"'),"function"===l?n.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{\u2026}":t)}function iI(n){var t="";return lI(n)?(t=eI(n),Array.isArray(n)&&(t+="["+n.length+"]")):t=rI(n,n),t}var oI=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},sI=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},aI=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b){var f=this;this.identity=l,this.configStub=e,this.studyStagingArea=u,this.json=r,this.timer=i,this.simVersionStub=o,this.getSimVersion=s,this.sanitizer=a,this.jsonEditor=c,this.compareConfigDialog=d,this.getFriendlyErrorAndLog=b,this.isLoaded=!1,this.isEdited=!1,this.customProperties=[],this.tryGetEditorValue=function(){return Promise.resolve(f.configData)},this.tenantId=t.getTenantId(n);var p=this.identity.get();this.isCurrentTenant=p.tenantId===this.tenantId,this.configType=n.snapshot.data[Mt],this.isStaged=n.snapshot.data[Ct],this.isDefault=n.snapshot.data[St],this.isStaged||this.isDefault||(this.configId=n.snapshot.params[FS]),this.isDefault&&(this.configName=n.snapshot.params[AS],this.simVersion=n.snapshot.params[LS])}return n.prototype.ngOnInit=function(){this.isStaged?this.loadFromStagingArea():this.isDefault?this.loadFromSimVersionDocuments():this.loadFromDatabase()},n.prototype.ngOnDestroy=function(){this.viewer&&this.viewer.dispose()},n.prototype.completeLoad=function(){return oI(this,void 0,void 0,function(){var n;return sI(this,function(t){switch(t.label){case 0:return[4,this.jsonEditor.create(void 0,"view-config-json-editor",this.configType.singularKey,this.configData,this.simVersion,this.configType.singularKey)];case 1:return(n=t.sent())?(this.isLoaded=!0,[4,this.timer.yield()]):[2];case 2:return t.sent(),this.configData=n.getValue(),n.destroy(),this.configDataFormatted=this.json.stringify({simVersion:this.simVersion,config:this.configData}),this.configDataEncoded=encodeURIComponent(this.configDataFormatted),[4,this.loadJsonViewer()];case 3:return t.sent(),[2]}})})},n.prototype.loadFromSimVersionDocuments=function(){return oI(this,void 0,void 0,function(){var n,t;return sI(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,this.simVersionStub.getDocument(this.simVersion,Gb(this.configType.singularKey,this.configName))];case 1:return n=l.sent(),this.configData=this.json.parse(n.document.content),this.customProperties=[],[4,this.completeLoad()];case 2:return l.sent(),[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},n.prototype.loadFromStagingArea=function(){return oI(this,void 0,void 0,function(){var n,t,l;return sI(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),n=this,[4,this.getSimVersion.execute()];case 1:return n.simVersion=e.sent(),[4,this.studyStagingArea.getInput(this.configType.singularKey,this.simVersion)];case 2:if(!(t=e.sent()))throw new dl("A staged "+this.configType.name+" was not found.");return this.configName=t.name,this.configNotes=t.notes,this.configData=t.data,this.userId=t.userId,this.configId=t.configId,this.isEdited=t.isEdited,this.customProperties=ve.toMutables(t.properties),[4,this.completeLoad()];case 3:return e.sent(),[3,5];case 4:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,5];case 5:return[2]}})})},n.prototype.loadFromDatabase=function(){return oI(this,void 0,void 0,function(){var n,t,l;return sI(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),n=this,[4,this.getSimVersion.execute()];case 1:return n.simVersion=e.sent(),[4,this.configStub.getConfig(this.tenantId,this.configId,void 0,this.simVersion)];case 2:return t=e.sent(),this.userId=t.config.userId,this.configName=t.config.name,this.configNotes=t.config.notes,this.configData=t.config.data,this.supportSession={session:t.config.supportSession,userInformation:t.userInformation},this.customProperties=ye.objectToList(t.config.properties),[4,this.completeLoad()];case 3:return e.sent(),[3,5];case 4:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,5];case 5:return[2]}})})},n.prototype.loadJsonViewer=function(){return oI(this,void 0,void 0,function(){var n;return sI(this,function(t){return this.input.nativeElement?(n=new tI(this.configData,this.configType.singularKey===Gn.singularKey?1/0:1,{hoverPreviewEnabled:!1,hoverPreviewArrayCount:100,hoverPreviewFieldCount:5},this.configType.name),this.input.nativeElement.appendChild(n.render()),[2]):[2]})})},n.prototype.stage=function(){try{this.studyStagingArea.stageInput(this.getAsStudyInput())}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.compareToStaged=function(){return oI(this,void 0,void 0,function(){var n,t,l;return sI(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,this.studyStagingArea.getInput(this.configType.singularKey,this.simVersion)];case 1:return n=e.sent(),t=this.getAsStudyInput(),[4,this.compareConfigDialog.compare(this.configType,[new Pb("current",t,void 0),new Pb("staged",n,void 0)],void 0)];case 2:return e.sent(),[3,4];case 3:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,4];case 4:return[2]}})})},n.prototype.bypassSecurityTrustUrl=function(n){return this.sanitizer.bypassSecurityTrustUrl(n)},n.prototype.cssSanitize=function(n){return or(n)},n.prototype.fileNameSanitize=function(n){return Dp(n)},n.prototype.onSupportSessionChanged=function(n){this.supportSession=n},n.prototype.getAsStudyInput=function(){return new me(this.configType.singularKey,this.isDefault?void 0:this.userId,this.isDefault?void 0:this.configId,this.configName,this.configData,this.customProperties,this.configNotes,this.simVersion,!1,void 0)},n}(),cI=e.sb({encapsulation:0,styles:[["#view-config-page[_ngcontent-%COMP%]   .config-notes-content[_ngcontent-%COMP%]{margin:1rem}"]],data:{}});function dI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-car-config-validator",[],null,null,null,SC,hC)),e.tb(1,180224,null,0,oC,[dC,XM,fC,On],{tryGetEditorValue:[0,"tryGetEditorValue"],simVersion:[1,"simVersion"],userId:[2,"userId"],configId:[3,"configId"],name:[4,"name"],isEdited:[5,"isEdited"],customProperties:[6,"customProperties"]},null)],function(n,t){var l=t.component;n(t,1,0,l.tryGetEditorValue,l.simVersion,l.userId,l.configId,l.configName,l.isEdited,l.customProperties)},null)}function bI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,dI)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,"car"==t.component.configType.singularKey)},null)}function fI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[["class","text-muted"],["id","staged-sub-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Staged"]))],null,null)}function pI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[["class","text-muted"],["id","default-sub-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Default Config"]))],null,null)}function hI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-support-session-launcher",[],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==n.component.onSupportSessionChanged(l)&&e),e},zs,Hs)),e.tb(1,114688,null,0,Ns,[Qs,$s,On],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"})],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.configId,"config",l.configType.singularKey,l.supportSession)},null)}function gI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","stage-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stage()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-arrow-circle-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Stage Snapshot\n          "]))],null,function(n,t){n(t,0,0,!t.component.isLoaded)})}function yI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"],["id","download-button"],["target","_blank"]],[[8,"href",4],[8,"download",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-arrow-circle-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Download\n          "]))],null,function(n,t){var l=t.component;n(t,0,0,l.bypassSecurityTrustUrl("data:application/json;charset=utf-8,"+l.configDataEncoded),e.wb(1,"",l.fileNameSanitize(l.configName),".json"))})}function mI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function vI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"h2",[["id","config-name"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(5,0,null,null,1,"pre",[["class","raw-json debug-information"],["id","config-json"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,[[1,0],["config",1]],null,0,"div",[["id","config-data"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(10,0,null,null,1,"cs-view-custom-properties",[],null,null,null,sy,ry)),e.tb(11,49152,null,0,uy,[],{customProperties:[0,"customProperties"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,11,0,t.component.customProperties)},function(n,t){var l=t.component;n(t,3,0,l.configName),n(t,6,0,l.configDataFormatted)})}function wI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n        "," Notes\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","card-body config-notes-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(7,0,null,null,1,"pre",[["class","raw-json last-item"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],null,function(n,t){var l=t.component;n(t,3,0,l.configType.titleName),n(t,8,0,l.configNotes)})}function MI(n){return e.Ob(0,[e.Kb(671088640,1,{input:0}),(n()(),e.lb(16777216,null,null,1,null,bI)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(4,0,null,null,69,"div",[["id","view-config-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(6,0,null,null,64,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,58,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(10,0,null,null,13,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(11,null,["\n        View ","\n        "])),(n()(),e.lb(16777216,null,null,1,null,fI)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,pI)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(18,0,null,null,4,"div",[["class","card-header-float-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,hI)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(25,0,null,null,40,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(27,0,null,null,28,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(29,0,null,null,6,"a",[["class","btn btn-smart btn-secondary"],["id","back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,30).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(30,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(31,2),e.Fb(32,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(34,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(37,0,null,null,6,"a",[["class","btn btn-smart btn-secondary"],["id","edit-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,38).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(38,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(39,3),e.Fb(40,5),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(42,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,gI)),e.tb(46,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(48,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","compare-to-staged-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToStaged()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(50,0,null,null,0,"i",[["class","fa fa-files-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare to Staged\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,yI)),e.tb(54,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(57,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(58,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,mI)),e.tb(61,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,vI)),e.tb(64,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,wI)),e.tb(69,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(72,0,null,null,0,"div",[["id","view-config-json-editor"],["style","display: none"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.isLoaded),n(t,13,0,l.isStaged),n(t,16,0,l.isDefault),n(t,21,0,l.supportSession),n(t,30,0,l.isCurrentTenant?n(t,31,0,"/configs",l.configType.pluralKey):n(t,32,0,"/support-sessions")),n(t,38,0,l.isStaged?n(t,39,0,"/staged",l.configType.singularKey,"edit"):n(t,40,0,"/configs",l.configType.pluralKey,l.tenantId,l.configId,"edit")),n(t,46,0,!l.isStaged),n(t,54,0,l.isLoaded),n(t,58,0,l.errorMessage),n(t,61,0,!l.isLoaded&&!l.errorMessage),n(t,64,0,l.isLoaded),n(t,69,0,l.configNotes)},function(n,t){var l=t.component;n(t,11,0,l.configType.titleName),n(t,29,0,e.Eb(t,30).target,e.Eb(t,30).href),n(t,37,0,e.Eb(t,38).target,e.Eb(t,38).href),n(t,48,0,!l.isLoaded||l.isStaged)})}var CI=e.qb("ng-component",aI,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,MI,cI)),e.tb(1,245760,null,0,aI,[b.a,yl,O,Q,Se,Qr,fr,H,Nb,pr.c,mM,Fb,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),SI=function(){function n(n){this.identity=n}return n.prototype.ngOnInit=function(){var n=this.identity.get();this.tenantId=n.tenantId},n}(),II=e.sb({encapsulation:2,styles:[],data:{}});function xI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-pool-status",[],null,null,null,Mi,oi)),e.tb(3,245760,null,0,ri,[J,fr,On],{tenantId:[0,"tenantId"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,1,"cs-pool-status",[],null,null,null,Mi,oi)),e.tb(6,245760,null,0,ri,[J,fr,On],{tenantId:[0,"tenantId"],poolType:[1,"poolType"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.tenantId),n(t,6,0,l.tenantId,"heavy")},null)}var OI=e.qb("ng-component",SI,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,xI,II)),e.tb(1,114688,null,0,SI,[O],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),kI=function(){function n(n,t,l,e){this.route=n,this.rison=t,this.getJobsFromResultSources=l,this.getFriendlyErrorAndLog=e,this.dashboardId="dashboard-"+(""+Math.random()).substring(2)}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t,l,e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:if(r.trys.push([0,3,,4]),!(n=this.route.snapshot.params.data))return[3,2];t=void 0;try{t=this.rison.decodeObject(n)}catch(l){try{t=this.rison.decodeObject(n+"'")}catch(n){throw l}}return l=bo.fromMutable(t),e=this,[4,this.getJobsFromResultSources.execute(l.sources)];case 1:e.jobs=r.sent(),r.label=2;case 2:return[3,4];case 3:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.goBack=function(){window.history.back()},n}(),TI=l("B751"),PI=function(){function n(){TI.uri_ok={"~":!0,"!":!0,"*":!0,"(":!1,")":!1,"-":!0,_:!0,".":!0,",":!0,":":!1,"@":!0,$:!0,"'":!0,"/":!0}}return n.prototype.encode=function(n){return this.customEncode(TI.encode(n))},n.prototype.encodeObject=function(n){return this.customEncode(TI.encode_object(n))},n.prototype.encodeArray=function(n){return this.customEncode(TI.encode_array(n))},n.prototype.decode=function(n){return TI.decode(this.customDecode(n))},n.prototype.decodeObject=function(n){return TI.decode_object(this.customDecode(n))},n.prototype.decodeArray=function(n){return TI.decode_array(this.customDecode(n))},n.prototype.customDecode=function(n){return n.replace(/%25/g,"%")},n.prototype.customEncode=function(n){return n.replace(/%/g,"%25")},n}(),EI=function(){function n(n,t){this.studyStub=n,this.jobViewModelSetFactory=t}return n.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e,u,r,i,o,s,a,c,d,b;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(f){switch(f.label){case 0:t=[],l={},e=0,u=n||[],f.label=1;case 1:return e<u.length?(r=u[e]).jobId?(t.push(r),[3,5]):[3,2]:[3,6];case 2:return(i=l[r.studyId])?[3,4]:[4,this.studyStub.getStudyMetadata(r.tenantId,r.studyId)];case 3:i=f.sent(),l[r.studyId]=i,f.label=4;case 4:for(o=0;o<i.study.data.jobCount;++o)t.push(new Ng(r.tenantId,r.studyId,Ji(r.studyId,o),r.studyName||i.study.name));f.label=5;case 5:return e++,[3,1];case 6:for(s=this.jobViewModelSetFactory.create(t),a=0,c=Object.keys(l);a<c.length;a++)(b=s.studyMetadataMap[d=c[a]])&&(b.studyMetadata.value=l[d]);return[2,s.jobs]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),_I=e.sb({encapsulation:0,styles:[["#view-job-results-page[_ngcontent-%COMP%]{margin:0 1rem}"]],data:{}});function VI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["id","chart-loader"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function jI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      No jobs found to display.\n    "]))],null,null)}function RI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-view-job-results",[],null,null,null,Dg,Ig)),e.tb(1,114688,null,0,yg,[vg,Bf,Mg,Bh,Sg,On],{jobs:[0,"jobs"],navigationStationPrefix:[1,"navigationStationPrefix"]},null)],function(n,t){var l=t.component;n(t,1,0,l.jobs,l.dashboardId)},null)}function FI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,"div",[["id","view-job-results-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,20,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,5,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,2,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.goBack()&&e),e},null,null)),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(11,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(12,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,VI)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,jI)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(20,0,null,null,1,"pre",[["class","raw-json debug-information"],["id","job-dashboard-id"]],null,null,null,null,null)),(n()(),e.Mb(21,null,["",""])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,RI)),e.tb(25,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,12,0,l.errorMessage),n(t,15,0,!l.jobs&&!l.errorMessage),n(t,18,0,l.jobs&&0===l.jobs.length),n(t,25,0,l.jobs)},function(n,t){n(t,21,0,t.component.dashboardId)})}var AI=e.qb("ng-component",kI,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,FI,_I)),e.tb(1,114688,null,0,kI,[b.a,PI,EI,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),LI=function(){function n(n,t){this.poolStub=n,this.getFriendlyErrorAndLog=t}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n=this,[4,this.poolStub.getPools()];case 1:return n.poolsResult=l.sent(),this.poolsResult.pools.sort(ge("poolId")),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),DI=e.sb({encapsulation:0,styles:[["#pools-component[_ngcontent-%COMP%]   .faded[_ngcontent-%COMP%]{color:#aaa}#pools-component[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{font-size:.8rem}"]],data:{}});function NI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function UI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"th",[["class","small-text"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n                ","d-","\n              "]))],null,function(n,t){n(t,1,0,0==t.context.index?"Hours ":"",t.context.index)})}function QI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,[" \u2192 ",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.targetDedicated)})}function JI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,[" \u2192 ",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.targetLowPriority)})}function $I(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"td",[["class","small-text"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{faded:0}),(n()(),e.Mb(3,null,["\n                ","\n              "])),e.Ib(4,2)],function(n,t){n(t,1,0,"small-text",n(t,2,0,!t.context.$implicit.totalCoreHours))},function(n,t){n(t,3,0,e.Nb(t,3,0,n(t,4,0,e.Eb(t.parent.parent.parent,0),t.context.$implicit.totalCoreHours,1)))})}function HI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,21,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,1,"td",[["class","small-text"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(5,0,null,null,5,"td",[["class","small-text"]],null,null,null,null,null)),e.tb(6,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(7,{faded:0}),(n()(),e.Mb(8,null,["",""])),(n()(),e.lb(16777216,null,null,1,null,QI)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(12,0,null,null,5,"td",[["class","small-text"]],null,null,null,null,null)),e.tb(13,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(14,{faded:0}),(n()(),e.Mb(15,null,["",""])),(n()(),e.lb(16777216,null,null,1,null,JI)),e.tb(17,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,$I)),e.tb(20,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,6,0,"small-text",n(t,7,0,!t.context.$implicit.currentDedicated&&!t.context.$implicit.targetDedicated)),n(t,10,0,t.context.$implicit.currentDedicated!==t.context.$implicit.targetDedicated),n(t,13,0,"small-text",n(t,14,0,!t.context.$implicit.currentLowPriority&&!t.context.$implicit.targetLowPriority)),n(t,17,0,t.context.$implicit.currentLowPriority!==t.context.$implicit.targetLowPriority),n(t,20,0,t.context.$implicit.intervals)},function(n,t){n(t,3,0,t.context.$implicit.poolId),n(t,8,0,t.context.$implicit.currentDedicated),n(t,15,0,t.context.$implicit.currentLowPriority)})}function qI(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,28,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,25,"table",[["class","table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,16,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(6,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(8,0,null,null,1,"th",[["class","small-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["ID"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(11,0,null,null,1,"th",[["class","small-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Dedicated Nodes"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(14,0,null,null,1,"th",[["class","small-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Low Priority Nodes"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,UI)),e.tb(18,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(22,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,HI)),e.tb(25,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,18,0,null==l.poolsResult.pools[0]?null:l.poolsResult.pools[0].intervals),n(t,25,0,l.poolsResult.pools)},null)}function BI(n){return e.Ob(0,[e.Gb(0,Rn,[]),(n()(),e.ub(1,0,null,null,22,"div",[["id","pools-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,19,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(7,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Pools"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(10,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(12,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(13,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,NI)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,qI)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,13,0,l.errorMessage),n(t,16,0,!l.poolsResult),n(t,19,0,l.poolsResult)},null)}var zI=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),KI=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},WI=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},GI=function(){function n(n,t,l,e,u,r,i,o,s,a){this.studyStub=n,this.getUsernameMap=t,this.getTenantNameMap=l,this.utilities=e,this.moment=u,this.canopyFileLoaderFactory=r,this.canopySiteHooksFactory=i,this.timer=o,this.zone=s,this.getFriendlyErrorAndLog=a,this.existingStatistics={},this.canLoadMore=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.ngOnDestroy=function(){this.navigationStation&&this.navigationStation.dispose()},n.prototype.load=function(){return KI(this,void 0,void 0,function(){var n,t,l,e,u,r,i;return WI(this,function(o){switch(o.label){case 0:return o.trys.push([0,7,,8]),[4,this.getTenantNameMap.execute()];case 1:for(l in n=o.sent(),this.tenantMap={},t=[],n)t.push(l);e=0,o.label=2;case 2:return e<t.length?n.hasOwnProperty(u=t[e])?[4,this.getUsernameMap.executeWithEmail(u)]:[3,4]:[3,5];case 3:r=o.sent(),this.tenantMap[u]={name:n[u],usernameMap:r},o.label=4;case 4:return e++,[3,2];case 5:return this.fileLoader=this.canopyFileLoaderFactory.create(),this.siteHooks=this.canopySiteHooksFactory.create(this.fileLoader),[4,this.loadNext()];case 6:return o.sent(),[3,8];case 7:return i=o.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(i),[3,8];case 8:return[2]}})})},n.prototype.loadNext=function(){return KI(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c;return WI(this,function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),this.canLoadMore=!1,this.statistics=void 0,this.startOfStatistics?(this.endOfStatistics=this.startOfStatistics.clone(),this.startOfStatistics=this.startOfStatistics.subtract(3,"month")):(n=this.moment.create().utc().startOf("month"),this.startOfStatistics=n.subtract(3,"month")),this.navigationStation&&this.navigationStation.dispose(),[4,this.studyStub.getAllTenantsStudyStatistics(this.startOfStatistics.format(),this.endOfStatistics?this.endOfStatistics.format():void 0)];case 1:for(t=d.sent(),l=[],e=0,u=t.tenants;e<u.length;e++)this.existingStatistics[i=(r=u[e]).tenantId]=this.utilities.mergeRawStatistics(this.existingStatistics[i],r.statistics),l.push({tenantId:i,statistics:this.existingStatistics[i]});return this.statistics=this.processStatistics(l,this.tenantMap),o=this.utilities.getStringKeys(this.statistics.monthly.tenant),s=this.utilities.getStringKeys(this.statistics.monthly.user),a=this.utilities.getStringKeys(this.statistics.monthly.studyType),[4,this.timer.yield()];case 2:return d.sent(),this.navigationStation=new _i(this.zone,new Ci.a("navigation-station",new YI(this.statistics,o,s,a,new ji(this.zone,this.fileLoader),new Vi(this.zone,this.siteHooks),[{studyId:"dummy-study",jobIndex:0}],["dummy-sim-type"]))),[4,this.navigationStation.build()];case 3:return d.sent(),[4,this.timer.delay(5e3)];case 4:return d.sent(),this.canLoadMore=!0,[3,6];case 5:return c=d.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(c),[3,6];case 6:return[2]}})})},n.prototype.processStatistics=function(n,t){for(var l=this,e=this.getDateStrings(n),u=[],r=0,i=n;r<i.length;r++){var o=i[r],s=t[o.tenantId],a=s.usernameMap,c=this.utilities.getProcessedStatistics(o.statistics,e.months,"monthly",a),d=this.utilities.getProcessedStatistics(o.statistics,e.days,"daily",a);u.push({tenantName:s.name,monthly:c,daily:d})}var b={monthly:this.createEmptyResult(e.months),daily:this.createEmptyResult(e.days)};return u.reduce(function(n,t){return{monthly:l.aggregateProcessedStatisticsForPeriodType(t.tenantName,n.monthly,t.monthly),daily:l.aggregateProcessedStatisticsForPeriodType(t.tenantName,n.daily,t.daily)}},b)},n.prototype.createEmptyResult=function(n){var t=this;return{dates:n,all:n.map(function(n){return t.utilities.createEmptyPeriodItem()}),tenant:{},user:{},studyType:{}}},n.prototype.aggregateProcessedStatisticsForPeriodType=function(n,t,l){return t.all=t.all.map(function(n,t){return Jn.reduce(function(e,u){return e[u]=n[u]+l.tenant[t][u],e},{})}),t.tenant[n]=l.tenant,this.merge(t.user,l.user,"/"+n),this.mergeValues(t.studyType,l.studyType),t},n.prototype.merge=function(n,t,l){for(var e=0,u=this.utilities.getStringKeys(t);e<u.length;e++){var r=u[e];n[r+l]=t[r]}},n.prototype.mergeValues=function(n,t){for(var l=0,e=this.utilities.getKeys(t);l<e.length;l++){var u=e[l],r=t[u],i=n[u];if(i)for(var o=0;o<r.length;++o)for(var s=0,a=Jn;s<a.length;s++){var c=a[s];i[o][c]+=r[o][c]}else n[u]=t[u].map(function(n){return Jn.reduce(function(t,l){return t[l]=n[l],t},{})})}},n.prototype.getDateStrings=function(n){for(var t=this.utilities.getDateRanges(n[0].statistics),l=this.utilities.getKeys(t),e=1;e<n.length;++e)for(var u=this.utilities.getDateRanges(n[e].statistics),r=0,i=l;r<i.length;r++){var o=i[r];t[o]=t[o]<u[o]?t[o]:u[o]}return{months:this.utilities.getDatesForRange(t.minMonth,t.maxMonth,"YYYY-MM","M"),days:this.utilities.getDatesForRange(t.minDay,t.maxDay,"YYYY-MM-DD","d")}},n}(),YI=function(n){function t(t,l,e,u,r,i,o,s){var a=n.call(this,r,i,o,s)||this;return a.statistics=t,a.tenantNames=l,a.usernames=e,a.studyTypes=u,a}return zI(t,n),t.prototype.build=function(){return KI(this,void 0,void 0,function(){var n;return WI(this,function(t){switch(t.label){case 0:return[4,this.createView(n={channelNameStyle:Ii.a.Generic,sharedStates:[],views:[]},"Monthly Failed Simulations","monthly","failedSimulations")];case 1:return t.sent(),[4,this.createView(n,"Monthly Failed Studies","monthly","failedStudyCount")];case 2:return t.sent(),[4,this.createView(n,"Monthly Successful Compute Credits","monthly","succeededComputeCredits")];case 3:return t.sent(),[4,this.createView(n,"Monthly Successful Storage Credits","monthly","succeededStorageCredits")];case 4:return t.sent(),[4,this.createView(n,"Monthly Successful Simulations","monthly","succeededSimulations")];case 5:return t.sent(),[4,this.createView(n,"Monthly Simulations","monthly","completedSimulations")];case 6:return t.sent(),[4,this.createView(n,"Monthly Studies","monthly","studyCount")];case 7:return t.sent(),[4,this.createView(n,"Daily Failed Simulations","daily","failedSimulations")];case 8:return t.sent(),[4,this.createView(n,"Daily Failed Studies","daily","failedStudyCount")];case 9:return t.sent(),[4,this.createView(n,"Daily Successful Storage Credits","daily","succeededStorageCredits")];case 10:return t.sent(),[4,this.createView(n,"Daily Successful Compute Credits","daily","succeededComputeCredits")];case 11:return t.sent(),[4,this.createView(n,"Daily Successful Simulations","daily","succeededSimulations")];case 12:return t.sent(),[4,this.createView(n,"Daily Simulations","daily","completedSimulations")];case 13:return t.sent(),[4,this.createView(n,"Daily Studies","daily","studyCount")];case 14:return t.sent(),[2,Promise.resolve(n)]}})})},t.prototype.createView=function(n,t,l,e){return KI(this,void 0,void 0,function(){var u,r,i;return WI(this,function(o){switch(o.label){case 0:return(u=new xi.e).sourceLoaderSet.add(new Ei.b(new ZI(l,e,this.statistics,this.tenantNames,this.usernames,this.studyTypes))),n.sharedStates.push(u),[4,this.resolveViewerLayout(Oi.b,new ki.c("Default-AllTenantStatistics-"+e+"-"+(r="daily"===l?"Day":"Month")),{overrideLineCurve:"curveStepBefore",columns:[{channels:[r]}],rows:[{channels:["Total"],relativeSize:1},{channels:this.tenantNames,relativeSize:3},{channels:this.usernames,relativeSize:6},{channels:this.studyTypes,relativeSize:2}]},!0)];case 1:return i=o.sent(),n.views.push({title:t,viewerType:Oi.b,layout:i,viewer:Oi.a.createLinePlotViewer(r,i.resolvedLayout.getConfigCopy(),n.channelNameStyle,u,this.siteHooks),grid:{x:0,y:0,width:12,height:16}}),[2]}})})},t}(Si.a),ZI=function(n){function t(t,l,e,u,r,i){var o=n.call(this)||this;return o.period=t,o.property=l,o.statistics=e,o.tenantNames=u,o.usernames=r,o.studyTypes=i,o}return zI(t,n),t.prototype.getSourceMetadata=function(){return Promise.resolve(new Ti.c("Tenant Statistics"))},t.prototype.getChannelData=function(n,t,l){var e,u=this,r=this.statistics[this.period];if("Day"===n||"Month"===n){var i=r.dates.length-1;e=r.dates.map(function(n,t){return t-i})}else e="Total"===n?r.all.map(function(n){return n[u.property]}):-1!==this.tenantNames.indexOf(n)?r.tenant[n].map(function(n){return n[u.property]}):-1!==this.usernames.indexOf(n)?r.user[n].map(function(n){return n[u.property]}):r.studyType[n].map(function(n){return n[u.property]});var o=new Pi.c(n,n,n,n,"","",!1,void 0,e);return Promise.resolve(o)},t.prototype.getRequestableChannels=function(n,t){return Promise.resolve([new ki.a("Day",""),new ki.a("Month",""),new ki.a("Total","")].concat(this.tenantNames.map(function(n){return new ki.a(n,"")}),this.usernames.map(function(n){return new ki.a(n,"")}),this.studyTypes.map(function(n){return new ki.a(n,"")})))},t}(Ti.b),XI=function(){function n(n){this.tenancyStub=n}return n.prototype.execute=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){switch(n.label){case 0:return[4,this.tenancyStub.getTenants()];case 1:return[2,n.sent().tenants.reduce(function(n,t){return n[t.tenantId]=t.shortName,n},{})]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),nx=e.sb({encapsulation:0,styles:[[""]],data:{}});function tx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","loader-centered"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function lx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"div",[["id","navigation-station"]],null,null,null,null,null))],null,null)}function ex(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["id","all-tenants-study-statistics"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.loadNext()&&e),e},null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(10,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(11,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,tx)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,lx)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,11,0,l.errorMessage),n(t,14,0,!l.statistics),n(t,18,0,l.statistics)},function(n,t){var l=t.component;n(t,6,0,!l.statistics||!l.canLoadMore),n(t,7,0,l.canLoadMore?"More":"Please wait...")})}var ux=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},rx=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},ix=function(){function n(n,t,l,e,u){this.formBuilder=n,this.formSubmissionHandler=t,this.simVersionStub=l,this.getTenantSimVersion=e,this.getFriendlyErrorAndLog=u,this.simVersion=new Zt.f("",[Zt.w.required]),this.submitButton=new ll("Save","Saving..."),this.saveSuccessful=!1}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return ux(this,void 0,void 0,function(){var n,t;return rx(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.errorMessage=void 0,[4,this.simVersionStub.getSimVersion()];case 1:return n=l.sent(),this.simVersion.setValue(n,{}),this.form=this.formBuilder.group({simVersion:this.simVersion}),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.onSubmit=function(){return ux(this,void 0,void 0,function(){return rx(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.submit=function(){return ux(this,void 0,void 0,function(){var n,t;return rx(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.errorMessage=void 0,n=(n=this.simVersion.value).trim(),[4,this.simVersionStub.postSimVersion({simVersion:n})];case 1:return l.sent(),[4,this.getTenantSimVersion.execute()];case 2:return l.sent(),[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},n}(),ox=e.sb({encapsulation:0,styles:[[""]],data:{}});function sx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function ax(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Name is required\n              "]))],null,null)}function cx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Saved.\n            "]))],null,null)}function dx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,30,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,27,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,6).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,6).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(5,16384,null,0,Zt.y,[],null,null),e.tb(6,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(8,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(12,0,null,null,1,"label",[["for","sim-version-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sim Version"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,5,"input",[["class","form-control"],["formControlName","simVersion"],["id","sim-version-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,16)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,16)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(16,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(18,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(20,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,ax)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,cx)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(29,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","global-sim-version-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(30,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,6,0,l.form),n(t,18,0,"simVersion"),n(t,23,0,!l.simVersion.pristine&&l.simVersion.hasError("required")),n(t,27,0,l.saveSuccessful)},function(n,t){var l=t.component;n(t,4,0,e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,15,0,e.Eb(t,20).ngClassUntouched,e.Eb(t,20).ngClassTouched,e.Eb(t,20).ngClassPristine,e.Eb(t,20).ngClassDirty,e.Eb(t,20).ngClassValid,e.Eb(t,20).ngClassInvalid,e.Eb(t,20).ngClassPending),n(t,29,0,l.submitButton.isSubmitting),n(t,30,0,l.submitButton.text)})}function bx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Set Global Sim Version"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(10,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,sx)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,dx)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,l.errorMessage),n(t,13,0,!l.form),n(t,16,0,l.form)},null)}var fx=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},px=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},hx=function(){function n(n,t,l,e,u){this.identity=n,this.tenancyStub=t,this.getTenantSimVersion=l,this.moment=e,this.getFriendlyErrorAndLog=u,this.rowType=yx,this.displayModeType=mx,this.displayMode=mx.none}return n.prototype.ngOnInit=function(){this.load()},n.prototype.ngOnDestroy=function(){this.isDisposed=!0},n.prototype.load=function(){return fx(this,void 0,void 0,function(){var n,t,l,e,u,r,i=this;return px(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.currentIdentity=this.identity.get(),[4,this.tenancyStub.getTenants()];case 1:for(n=o.sent(),(t=n.tenants).sort(ge({name:"isEnabled",reverse:!0},"name")),t.forEach(function(n){return n.creationDate=i.moment.toDate(n.creationDate)}),this.tenants=[],l=0,e=t;l<e.length;l++)this.tenants.push(new gx(yx.tenant,u=e[l])),this.tenants.push(new gx(yx.simulationSummary,u));return this.loadTenantDetails(),[3,3];case 2:return r=o.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,3];case 3:return[2]}})})},n.prototype.loadTenantDetails=function(){return fx(this,void 0,void 0,function(){var n,t,l,e,u;return px(this,function(r){switch(r.label){case 0:n=0,t=this.tenants,r.label=1;case 1:if(!(n<t.length))return[3,7];l=t[n],r.label=2;case 2:return r.trys.push([2,5,,6]),this.isDisposed?[2]:l.rowType!==yx.tenant?[3,4]:[4,this.getTenantSimVersion.executeForTenant(l.tenant.tenantId)];case 3:e=r.sent(),l.tenant.simVersion=e,r.label=4;case 4:return[3,6];case 5:return u=r.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(u),[3,6];case 6:return n++,[3,1];case 7:return[2]}})})},n.prototype.expandRow=function(n){n.expanded=!0},n.prototype.hideRow=function(n){n.expanded=!1},n.prototype.setDisplayMode=function(n){this.displayMode=n},n}(),gx=function(){return function(n,t){this.rowType=n,this.tenant=t,this.expanded=!1,n===yx.tenant&&(this.expanded=!0)}}(),yx=function(n){return n[n.tenant=0]="tenant",n[n.simulationSummary=1]="simulationSummary",n}({}),mx=function(n){return n[n.none=0]="none",n[n.tenants=1]="tenants",n[n.pools=2]="pools",n[n.studyStatistics=3]="studyStatistics",n[n.globalSimVersion=4]="globalSimVersion",n}({}),vx=e.sb({encapsulation:0,styles:[['#admin-page[_ngcontent-%COMP%]   .tenants-table[_ngcontent-%COMP%]{white-space:nowrap}#admin-page[_ngcontent-%COMP%]   .tenants-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative}#admin-page[_ngcontent-%COMP%]   .tenants-table[_ngcontent-%COMP%]   .tenant-statistics-column[_ngcontent-%COMP%]{padding:0;position:relative}#admin-page[_ngcontent-%COMP%]   .tenants-table[_ngcontent-%COMP%]   .tenant-statistics-column[_ngcontent-%COMP%]   .tenant-statistics-button[_ngcontent-%COMP%]{position:absolute;top:-2.2rem;right:0}#admin-page[_ngcontent-%COMP%]   .tenants-table[_ngcontent-%COMP%]   .tenant-database-id[_ngcontent-%COMP%], #admin-page[_ngcontent-%COMP%]   .tenants-table[_ngcontent-%COMP%]   .tenant-id[_ngcontent-%COMP%], #admin-page[_ngcontent-%COMP%]   .tenants-table[_ngcontent-%COMP%]   .tenant-region[_ngcontent-%COMP%]{font-size:.7rem;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;color:#bbb;position:absolute;bottom:0;left:.75rem}#admin-page[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:red}']],data:{}});function wx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Mx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,[" / ",""]))],null,function(n,t){n(t,1,0,t.parent.parent.context.$implicit.tenant.databaseId)})}function Cx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,2),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(7,0,null,null,3,"div",[["class","tenant-id tenant-database-id"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.lb(16777216,null,null,1,null,Mx)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){n(t,3,0,n(t,4,0,"/tenants",t.parent.context.$implicit.tenant.tenantId)),n(t,10,0,t.parent.context.$implicit.tenant.databaseId)},function(n,t){n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href),n(t,5,0,t.parent.context.$implicit.tenant.name),n(t,8,0,t.parent.context.$implicit.tenant.tenantId)})}function Sx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n                ","\n                "])),(n()(),e.ub(2,0,null,null,1,"div",[["class","tenant-region"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.tenant.shortName),n(t,3,0,t.parent.context.$implicit.tenant.region)})}function Ix(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function xx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function Ox(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,1,null,Ix)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,xx)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,2,0,t.parent.context.$implicit.tenant.isEnabled),n(t,4,0,!t.parent.context.$implicit.tenant.isEnabled)},null)}function kx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.tenant.creationDate)})}function Tx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.tenant.simVersion)})}function Px(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary btn-xsm tenant-statistics-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.expandRow(n.parent.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Stats"]))],null,null)}function Ex(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary btn-xsm tenant-statistics-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.hideRow(n.parent.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Hide"]))],null,null)}function _x(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-tenant-simulation-quota-view",[],null,null,null,Qt,Rt)),e.tb(1,114688,null,0,An,[O,q,Nn,$n,qn,Vt,On],{tenantId:[0,"tenantId"]},null)],function(n,t){n(t,1,0,t.parent.parent.context.$implicit.tenant.tenantId)},null)}function Vx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"td",[["class","tenant-statistics-column"],["colspan","5"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Px)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Ex)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,_x)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){n(t,3,0,!t.parent.context.$implicit.expanded),n(t,6,0,t.parent.context.$implicit.expanded),n(t,9,0,t.parent.context.$implicit.expanded)},null)}function jx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Cx)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Sx)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Ox)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,kx)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Tx)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,Vx)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.rowType===l.rowType.tenant),n(t,6,0,t.context.$implicit.rowType===l.rowType.tenant),n(t,9,0,t.context.$implicit.rowType===l.rowType.tenant),n(t,12,0,t.context.$implicit.rowType===l.rowType.tenant),n(t,15,0,t.context.$implicit.rowType===l.rowType.tenant),n(t,18,0,t.context.$implicit.rowType===l.rowType.simulationSummary)},null)}function Rx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,45,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            There are\n            "])),(n()(),e.ub(4,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(6,null,[" tenant",".\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,6,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,11).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(11,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(12,1),(n()(),e.Mb(-1,null,["New Tenant"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,28,"table",[["class","table tenants-table last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(18,0,null,null,19,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(20,0,null,null,16,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(22,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(25,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Short Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(28,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Enabled"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(31,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Creation Date"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(34,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sim Version"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(39,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,jx)),e.tb(42,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,11,0,n(t,12,0,"/create-tenant")),n(t,42,0,l.tenants)},function(n,t){var l=t.component;n(t,5,0,l.tenants.length),n(t,6,0,1==l.tenants.length?"":"s"),n(t,10,0,e.Eb(t,11).target,e.Eb(t,11).href)})}function Fx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Tenants"])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,wx)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Rx)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,8,0,!l.tenants),n(t,11,0,l.tenants)},null)}function Ax(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"cs-pools",[],null,null,null,BI,DI)),e.tb(3,114688,null,0,LI,[J,On],null,null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"cs-pool-status",[],null,null,null,Mi,oi)),e.tb(8,245760,null,0,ri,[J,fr,On],{tenantId:[0,"tenantId"],poolType:[1,"poolType"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0),n(t,8,0,l.currentIdentity.tenantId,"studyMonitor")},null)}function Lx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-all-tenants-study-statistics",[],null,null,null,ex,nx)),e.tb(1,245760,null,0,GI,[q,Nn,XI,$n,qn,Yi,go,fr,e.C,On],null,null)],function(n,t){n(t,1,0)},null)}function Dx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-set-global-sim-version",[],null,null,null,bx,ox)),e.tb(1,114688,null,0,ix,[Zt.e,Ml,H,Rr,On],null,null)],function(n,t){n(t,1,0)},null)}function Nx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,55,"div",[["id","admin-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(2,0,null,null,43,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Admin"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(10,0,null,null,31,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(12,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.tenants)&&e),e},null,null)),e.tb(13,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(14,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Tenants\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(17,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"],["id","view-support-sessions-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,18).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(18,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(19,1),(n()(),e.Mb(-1,null,["\n        Support Sessions\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(22,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.pools)&&e),e},null,null)),e.tb(23,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(24,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Pools\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(27,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.studyStatistics)&&e),e},null,null)),e.tb(28,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(29,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Study Statistics\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(32,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"],["id","view-sim-version-documents-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,33).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(33,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(34,1),(n()(),e.Mb(-1,null,["\n        Sim Version Documents\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(37,0,null,null,3,"button",[["class","btn btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.setDisplayMode(u.displayModeType.globalSimVersion)&&e),e},null,null)),e.tb(38,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(39,{"btn-primary":0,"btn-secondary":1}),(n()(),e.Mb(-1,null,["\n        Global Sim Version\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Fx)),e.tb(44,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Ax)),e.tb(48,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Lx)),e.tb(51,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,Dx)),e.tb(54,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,8,0,l.errorMessage),n(t,13,0,"btn btn-smart",n(t,14,0,l.displayMode===l.displayModeType.tenants,l.displayMode!==l.displayModeType.tenants)),n(t,18,0,n(t,19,0,"/support-sessions")),n(t,23,0,"btn btn-smart",n(t,24,0,l.displayMode===l.displayModeType.pools,l.displayMode!==l.displayModeType.pools)),n(t,28,0,"btn btn-smart",n(t,29,0,l.displayMode===l.displayModeType.studyStatistics,l.displayMode!==l.displayModeType.studyStatistics)),n(t,33,0,n(t,34,0,"/admin/documents")),n(t,38,0,"btn btn-smart",n(t,39,0,l.displayMode===l.displayModeType.globalSimVersion,l.displayMode!==l.displayModeType.globalSimVersion)),n(t,44,0,l.displayMode===l.displayModeType.tenants),n(t,48,0,l.displayMode===l.displayModeType.pools),n(t,51,0,l.displayMode===l.displayModeType.studyStatistics),n(t,54,0,l.displayMode==l.displayModeType.globalSimVersion)},function(n,t){n(t,17,0,e.Eb(t,18).target,e.Eb(t,18).href),n(t,32,0,e.Eb(t,33).target,e.Eb(t,33).href)})}var Ux=e.qb("ng-component",hx,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,Nx,vx)),e.tb(1,245760,null,0,hx,[O,U,Rr,qn,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Qx=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Jx=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},$x=function(){function n(n,t,l,e){this.supportSessionStub=n,this.createUserInformationMaps=t,this.createWorksheetFromStudyIfRequired=l,this.getFriendlyErrorAndLog=e}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return Qx(this,void 0,void 0,function(){var n,t,l=this;return Jx(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.documents=void 0,[4,this.supportSessionStub.getAllSupportSessions()];case 1:return n=e.sent(),this.map=this.createUserInformationMaps.execute(n.userInformation),this.documents=n.documents.map(function(t){return new Hx(t.documentId,t.tenantId,t.userId,l.map.users[t.userId].username,l.map.tenants[t.tenantId].shortName,t.name,t.type,t.subType,t.type===pn.config?kt.get(t.subType):void 0,t.type===pn.study,t.type===pn.config&&t.subType!==un.worksheet,t.type===pn.config&&t.subType===un.worksheet,{session:t.supportSession,userInformation:n.userInformation})}),[3,3];case 2:return t=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.createWorksheet=function(n,t){return Qx(this,void 0,void 0,function(){return Jx(this,function(l){switch(l.label){case 0:return n.type!==pn.study?[2]:[4,this.createWorksheetFromStudyIfRequired.execute(n.tenantId,n.documentId,n.name,!0,yy.fromEvent(t))];case 1:return l.sent(),[2]}})})},n.prototype.reload=function(){return this.load()},n}(),Hx=function(n,t,l,e,u,r,i,o,s,a,c,d,b){this.documentId=n,this.tenantId=t,this.userId=l,this.username=e,this.tenantName=u,this.name=r,this.type=i,this.subType=o,this.configType=s,this.isStudy=a,this.isConfig=c,this.isWorksheet=d,this.supportSession=b},qx=e.sb({encapsulation:0,styles:[["#view-support-sessions-page[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap}#view-support-sessions-page[_ngcontent-%COMP%]   .multi-line-container[_ngcontent-%COMP%]{position:relative}#view-support-sessions-page[_ngcontent-%COMP%]   .multi-line-container[_ngcontent-%COMP%]   .second-line[_ngcontent-%COMP%]{position:absolute;top:1.5rem;font-size:.8rem;color:gray}#view-support-sessions-page[_ngcontent-%COMP%]   .session-information[_ngcontent-%COMP%]{text-align:right}#view-support-sessions-page[_ngcontent-%COMP%]   .session-information[_ngcontent-%COMP%]   .support-session-launcher-component[_ngcontent-%COMP%]{display:inline-block;position:relative;top:0;right:0}"]],data:{}});function Bx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.reload()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Refresh"]))],null,null)}function zx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Kx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"a",[["class","select-document-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,3),(n()(),e.Mb(3,null,["\n                    ","\n                  "]))],function(n,t){n(t,1,0,n(t,2,0,"/studies",t.parent.context.$implicit.tenantId,t.parent.context.$implicit.documentId))},function(n,t){n(t,0,0,e.Eb(t,1).target,e.Eb(t,1).href),n(t,3,0,t.parent.context.$implicit.name)})}function Wx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"a",[["class","select-document-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,5),(n()(),e.Mb(3,null,["\n                    ","\n                  "]))],function(n,t){n(t,1,0,n(t,2,0,"/configs",t.parent.context.$implicit.configType.pluralKey,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.documentId,"edit"))},function(n,t){n(t,0,0,e.Eb(t,1).target,e.Eb(t,1).href),n(t,3,0,t.parent.context.$implicit.name)})}function Gx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"a",[["class","select-document-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,3),(n()(),e.Mb(3,null,["\n                    ","\n                  "]))],function(n,t){n(t,1,0,n(t,2,0,"/worksheets",t.parent.context.$implicit.tenantId,t.parent.context.$implicit.documentId))},function(n,t){n(t,0,0,e.Eb(t,1).target,e.Eb(t,1).href),n(t,3,0,t.parent.context.$implicit.name)})}function Yx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-support-session-launcher",[["class","support-session-launcher-component"]],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==(n.parent.context.$implicit.supportSession=l)&&e),e},zs,Hs)),e.tb(1,114688,null,0,Ns,[Qs,$s,On],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"})],function(n,t){n(t,1,0,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.documentId,t.parent.context.$implicit.type,t.parent.context.$implicit.subType,t.parent.context.$implicit.supportSession)},null)}function Zx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-linting-engine-dialog-launcher",[],null,null,null,Es,ks)),e.tb(1,49152,null,0,Ss,[ce,xs,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],studyId:[2,"studyId"],compactButton:[3,"compactButton"]},null)],function(n,t){n(t,1,0,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.userId,t.parent.context.$implicit.documentId,!0)},null)}function Xx(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-linting-engine-dialog-launcher",[],null,null,null,Es,ks)),e.tb(1,49152,null,0,Ss,[ce,xs,O,On],{tenantId:[0,"tenantId"],userId:[1,"userId"],configId:[2,"configId"],compactButton:[3,"compactButton"]},null)],function(n,t){n(t,1,0,t.parent.context.$implicit.tenantId,t.parent.context.$implicit.userId,t.parent.context.$implicit.documentId,!0)},null)}function nO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.createWorksheet(n.parent.context.$implicit,l)&&e),e},null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-th"]],null,null,null,null,null))],null,null)}function tO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,46,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,4,"div",[["class","multi-line-container"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["\n                  ","\n                  "])),(n()(),e.ub(6,0,null,null,1,"div",[["class","second-line"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(11,0,null,null,16,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(13,0,null,null,13,"div",[["class","multi-line-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Kx)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Wx)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,Gx)),e.tb(22,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(24,0,null,null,1,"div",[["class","second-line"]],null,null,null,null,null)),(n()(),e.Mb(25,null,["",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(29,0,null,null,4,"td",[["class","session-information"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Yx)),e.tb(32,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(35,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,Zx)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n                "])),(n()(),e.lb(16777216,null,null,1,null,Xx)),e.tb(41,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n                "])),(n()(),e.lb(16777216,null,null,1,null,nO)),e.tb(44,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,16,0,t.context.$implicit.isStudy),n(t,19,0,t.context.$implicit.isConfig),n(t,22,0,t.context.$implicit.isWorksheet),n(t,32,0,t.context.$implicit.supportSession.session),n(t,38,0,t.context.$implicit.isStudy),n(t,41,0,t.context.$implicit.isConfig),n(t,44,0,t.context.$implicit.isStudy)},function(n,t){n(t,5,0,t.context.$implicit.username),n(t,7,0,t.context.$implicit.tenantName),n(t,25,0,t.context.$implicit.isStudy?t.context.$implicit.type:t.context.$implicit.subType)})}function lO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,23,"table",[["class","table documents-table last-item"],["id","documents-table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,14,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(6,0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(8,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["User"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(11,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(14,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(16,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(20,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,tO)),e.tb(23,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,23,0,t.component.documents)},null)}function eO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,31,"div",[["class","container-fluid"],["id","view-support-sessions-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,28,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Support sessions"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,22,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(11,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,Bx)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(17,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(18,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(20,0,null,null,4,"div",[["class","loader-padding"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,zx)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,lO)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,14,0,l.documents),n(t,18,0,l.errorMessage),n(t,23,0,!l.documents),n(t,27,0,l.documents)},null)}var uO=e.qb("ng-component",$x,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,eO,qx)),e.tb(1,114688,null,0,$x,[B,$s,Sy,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),rO=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},iO=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},oO=function(){function n(n,t,l,e,u,r,i,o){this.documentCache=n,this.simVersionStub=t,this.json=l,this.identity=e,this.tenancyStub=u,this.compareConfigDialog=r,this.getSimVersion=i,this.getFriendlyErrorAndLog=o}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return rO(this,void 0,void 0,function(){var n,t,l,e,u,r;return iO(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.isAdministrator=this.identity.isAdministrator,this.isAdministrator?[4,this.tenancyStub.getTenants()]:[3,2];case 1:n=i.sent(),this.tenants=n.tenants.map(function(n){return new sO(n.tenantId,n.name)}),this.tenants.sort(ge("name")),this.selectedTenantId=this.tenants.length?this.tenants[0].tenantId:void 0,i.label=2;case 2:return[4,this.documentCache.get(this.getSimVersion.currentSimVersion)];case 3:for(t=i.sent(),this.simVersion=t.simVersion,this.documents=[],l=0,e=t.documents;l<e.length;l++)this.documents.push({name:(u=e[l]).name,content:u.content?this.json.format(u.content):void 0,id:or(u.name),loading:!1,comparing:!1});return this.documents.sort(ge("name")),[3,5];case 4:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,5];case 5:return[2]}})})},n.prototype.loadDocument=function(n){return rO(this,void 0,void 0,function(){var t,l;return iO(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.loading=!0,[4,this.simVersionStub.getDocument(this.simVersion,n.name)];case 1:return t=e.sent(),n.content=this.json.format(t.document.content),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return n.loading=!1,[2]}})})},n.prototype.compareDocument=function(n){return rO(this,void 0,void 0,function(){var t,l,e,u,r,i,o;return iO(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.errorMessage=void 0,this.selectedTenantId?(n.comparing=!0,(t=this.json.parse(n.content))?[3,2]:[4,this.simVersionStub.getDocument(this.simVersion,n.name)]):[2];case 1:l=s.sent(),t=this.json.parse(l.document.content),n.content=this.json.stringify(t),s.label=2;case 2:return[4,this.simVersionStub.getDocument(this.simVersion,n.name,this.selectedTenantId)];case 3:return e=s.sent(),u=this.json.parse(e.document.content),r=zb(void 0,n.name,t,this.simVersion),i=zb(void 0,n.name,u,this.simVersion),[4,this.compareConfigDialog.compare(void 0,[new Pb("target document",i,void 0),new Pb("selected document",r,void 0)],void 0)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(o),[3,6];case 6:return n.comparing=!1,[2]}})})},n}(),sO=function(n,t){this.tenantId=n,this.name=t},aO=e.sb({encapsulation:0,styles:[["#view-sim-version-documents-page[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:500px;font-size:.75rem}"]],data:{}});function cO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"option",[],null,null,null,null,null)),e.tb(1,147456,null,0,Zt.s,[e.l,e.H,[8,null]],{value:[0,"value"]},null),e.tb(2,147456,null,0,Zt.B,[e.l,e.H,[8,null]],{value:[0,"value"]},null),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.tenantId),n(t,2,0,t.context.$implicit.tenantId)},function(n,t){n(t,3,0,t.context.$implicit.name)})}function dO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"select",[["id","compare-tenant-select"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==(n.component.selectedTenantId=l.target.value)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,cO)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,t.component.tenants)},null)}function bO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare Target"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(5,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,dO)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,8,0,t.component.tenants)},null)}function fO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function pO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare"]))],null,null)}function hO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Comparing..."]))],null,null)}function gO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"button",[["class","btn btn-smart btn-secondary"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareDocument(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,pO)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,hO)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,!t.parent.context.$implicit.comparing),n(t,6,0,t.parent.context.$implicit.comparing)},function(n,t){n(t,0,0,e.wb(1,"compare-",t.parent.context.$implicit.id,""),t.parent.context.$implicit.comparing)})}function yO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"textarea",[["class","raw-json"],["readonly",""]],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,0,0,e.wb(1,"",t.parent.context.$implicit.id,"")),n(t,1,0,t.parent.context.$implicit.content)})}function mO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Load"]))],null,null)}function vO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Loading..."]))],null,null)}function wO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"button",[["class","btn btn-smart btn-secondary"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.loadDocument(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,mO)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,vO)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,!t.parent.context.$implicit.loading),n(t,6,0,t.parent.context.$implicit.loading)},function(n,t){n(t,0,0,e.wb(1,"load-",t.parent.context.$implicit.id,""),t.parent.context.$implicit.loading)})}function MO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(2,0,null,null,4,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n        ","\n        "])),(n()(),e.lb(16777216,null,null,1,null,gO)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(8,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,yO)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,wO)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,5,0,t.component.isAdministrator),n(t,11,0,t.context.$implicit.content),n(t,14,0,!t.context.$implicit.content)},function(n,t){n(t,3,0,t.context.$implicit.name)})}function CO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["id","view-sim-version-documents-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(5,49152,null,0,h,[],{message:[0,"message"],customClass:[1,"customClass"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,bO)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,fO)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,MO)),e.tb(14,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,5,0,l.errorMessage,"sticky-top"),n(t,8,0,l.tenants),n(t,11,0,!l.documents),n(t,14,0,l.documents)},null)}var SO=e.qb("ng-component",oO,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,CO,aO)),e.tb(1,114688,null,0,oO,[qr,H,Qr,O,U,Fb,Nb,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),IO=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},xO=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},OO=function(){function n(n,t,l,e){this.tenancyStub=t,this.formSubmissionHandler=l,this.router=e,this.name=new Zt.f("",[Zt.w.required].concat(tl.tenantNameValidators)),this.shortName=new Zt.f("",[Zt.w.required].concat(tl.tenantShortNameValidators)),this.databaseId=new Zt.f("",tl.databaseIdValidators.slice()),this.regionId=new Zt.f("",tl.regionIdValidators.slice()),this.submitButton=new ll("Create","Creating..."),this.form=n.group({name:this.name,shortName:this.shortName,databaseId:this.databaseId,regionId:this.regionId})}return n.prototype.onSubmit=function(){return IO(this,void 0,void 0,function(){return xO(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&this.router.navigate(["/admin"]),[2]}})})},n.prototype.submit=function(){return IO(this,void 0,void 0,function(){return xO(this,function(n){switch(n.label){case 0:return[4,this.tenancyStub.postTenant({name:this.name.value,shortName:this.shortName.value,databaseId:this.databaseId.value,region:this.regionId.value})];case 1:return n.sent(),[2]}})})},n}(),kO=e.sb({encapsulation:2,styles:[],data:{}});function TO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Name is required\n              "]))],null,null)}function PO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Name is too short.\n              "]))],null,null)}function EO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Name is too long.\n              "]))],null,null)}function _O(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Sign-in Name is required\n              "]))],null,null)}function VO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Sign-in Name is too short.\n              "]))],null,null)}function jO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Sign-in Name is too long.\n              "]))],null,null)}function RO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Database ID is too long.\n              "]))],null,null)}function FO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Region ID is too long.\n              "]))],null,null)}function AO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,105,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,102,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Create Tenant"])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(7,0,null,null,96,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,93,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,90,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,87,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,15).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,15).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(14,16384,null,0,Zt.y,[],null,null),e.tb(15,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(17,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(19,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(21,0,null,null,1,"label",[["for","name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(24,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,25)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,25).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,25)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,25)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(25,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(27,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(29,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,TO)),e.tb(32,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,PO)),e.tb(35,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,EO)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(41,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(43,0,null,null,1,"label",[["for","short-name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sign-in Name"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(46,0,null,null,5,"input",[["class","form-control"],["formControlName","shortName"],["id","short-name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,47)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,47).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,47)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,47)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(47,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(49,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(51,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,_O)),e.tb(54,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,VO)),e.tb(57,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,jO)),e.tb(60,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(63,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(65,0,null,null,1,"label",[["for","database-id-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Database ID (optional)"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(68,0,null,null,5,"input",[["class","form-control"],["formControlName","databaseId"],["id","database-id-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,69)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,69).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,69)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,69)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(69,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(71,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(73,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,RO)),e.tb(76,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(79,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(81,0,null,null,1,"label",[["for","region-id-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Region ID (Blank or 'east-us'. Cannot be changed later.)"])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(84,0,null,null,5,"input",[["class","form-control"],["formControlName","regionId"],["id","region-id-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,85)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,85).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,85)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,85)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(85,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(87,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(89,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,FO)),e.tb(92,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(95,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(96,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(98,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","create-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(99,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,15,0,l.form),n(t,27,0,"name"),n(t,32,0,!l.name.pristine&&l.name.hasError("required")),n(t,35,0,l.name.hasError("minlength")),n(t,38,0,l.name.hasError("maxlength")),n(t,49,0,"shortName"),n(t,54,0,!l.shortName.pristine&&l.shortName.hasError("required")),n(t,57,0,l.shortName.hasError("minlength")),n(t,60,0,l.shortName.hasError("maxlength")),n(t,71,0,"databaseId"),n(t,76,0,l.databaseId.hasError("maxlength")),n(t,87,0,"regionId"),n(t,92,0,l.regionId.hasError("maxlength")),n(t,96,0,l.errorMessage)},function(n,t){var l=t.component;n(t,13,0,e.Eb(t,17).ngClassUntouched,e.Eb(t,17).ngClassTouched,e.Eb(t,17).ngClassPristine,e.Eb(t,17).ngClassDirty,e.Eb(t,17).ngClassValid,e.Eb(t,17).ngClassInvalid,e.Eb(t,17).ngClassPending),n(t,24,0,e.Eb(t,29).ngClassUntouched,e.Eb(t,29).ngClassTouched,e.Eb(t,29).ngClassPristine,e.Eb(t,29).ngClassDirty,e.Eb(t,29).ngClassValid,e.Eb(t,29).ngClassInvalid,e.Eb(t,29).ngClassPending),n(t,46,0,e.Eb(t,51).ngClassUntouched,e.Eb(t,51).ngClassTouched,e.Eb(t,51).ngClassPristine,e.Eb(t,51).ngClassDirty,e.Eb(t,51).ngClassValid,e.Eb(t,51).ngClassInvalid,e.Eb(t,51).ngClassPending),n(t,68,0,e.Eb(t,73).ngClassUntouched,e.Eb(t,73).ngClassTouched,e.Eb(t,73).ngClassPristine,e.Eb(t,73).ngClassDirty,e.Eb(t,73).ngClassValid,e.Eb(t,73).ngClassInvalid,e.Eb(t,73).ngClassPending),n(t,84,0,e.Eb(t,89).ngClassUntouched,e.Eb(t,89).ngClassTouched,e.Eb(t,89).ngClassPristine,e.Eb(t,89).ngClassDirty,e.Eb(t,89).ngClassValid,e.Eb(t,89).ngClassInvalid,e.Eb(t,89).ngClassPending),n(t,98,0,l.submitButton.isSubmitting),n(t,99,0,l.submitButton.text)})}var LO=e.qb("ng-component",OO,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,AO,kO)),e.tb(1,49152,null,0,OO,[Zt.e,U,Ml,b.m],null,null)],null,null)},{},{},[]),DO=function(){function n(n,t,l,e,u){this.identity=n,this.membershipStub=t,this.getFriendlyErrorAndLog=l,this.document=e,this.redirectUrl=u.snapshot.queryParamMap.get("redirectUrl")}return n.prototype.ngOnInit=function(){this.performRedirect()},n.prototype.performRedirect=function(){return n=this,void 0,l=function(){var n,t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),(n=this.identity.get()).authenticated?[4,this.membershipStub.getUpvotyToken(n.tenantId,n.userId)]:[2];case 1:return t=e.sent(),this.document.location.href="https://canopysimulations.upvoty.com/front/handleSSO/"+t.token+"/?redirectUrl="+this.redirectUrl,[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),NO=e.sb({encapsulation:0,styles:[[""]],data:{}});function UO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","loader-centered"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function QO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,UO)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,6,0,!l.errorMessage)},null)}var JO=e.qb("cs-upvoty",DO,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-upvoty",[],null,null,null,QO,NO)),e.tb(1,114688,null,0,DO,[O,Y,On,f.d,b.a],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),$O=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},HO=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},qO=function(){function n(n,t,l,e,u,r,i,o,s){this.promptDialog=e,this.loadingDialog=u,this.worksheetStub=r,this.getFriendlyErrorMessageAndLog=i,this.router=o,this.identity=s,this.configType=pt,this.tenantId=t.getTenantId(l),this.userId=t.getUserId(l),this.initialFilter=n.getInitialFilter(),this.currentIdentity=this.identity.get()}return n.prototype.filterChanged=function(n){},n.prototype.configSelected=function(n){this.router.navigate(["/worksheets",n.tenantId,n.documentId])},n.prototype.createWorksheet=function(){return $O(this,void 0,void 0,function(){var n,t,l=this;return HO(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,this.promptDialog.show("Enter a name for the new worksheet","Worksheet Name")];case 1:return(n=e.sent())?[4,this.loadingDialog.show(function(t){return $O(l,void 0,void 0,function(){var l;return HO(this,function(e){switch(e.label){case 0:return t.setStatus("Creating..."),[4,this.worksheetStub.postWorksheet(this.tenantId,{name:n})];case 1:return l=e.sent(),[4,this.router.navigate(["/worksheets",l.worksheet.tenantId,l.worksheet.worksheetId])];case 2:return e.sent(),[2]}})})})]:[2];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),this.errorMessage=this.getFriendlyErrorMessageAndLog.execute(t),[3,4];case 4:return[2]}})})},n}(),BO=e.sb({encapsulation:0,styles:[[""]],data:{}});function zO(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,38,"div",[["class","container-fluid"],["id","view-worksheets-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,35,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,32,"div",[["class","list-card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,1,"h1",[["class","list-card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Worksheets\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,26,"div",[["class","list-card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(12,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(14,0,null,null,16,"div",[["class","list-card-padded"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,13,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(18,0,null,null,5,"a",[["class","btn btn-smart btn-secondary"],["id","home-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,19).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(19,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(20,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(22,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(25,0,null,null,3,"a",[["class","btn btn-smart btn-secondary"],["id","new-worksheet-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.createWorksheet()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(27,0,null,null,0,"i",[["class","fa fa-file-o"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["New Worksheet\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(32,0,null,null,2,"cs-view-configs",[],null,[[null,"filterChanged"],[null,"configSelected"]],function(n,t,l){var e=!0,u=n.component;return"filterChanged"===t&&(e=!1!==u.filterChanged(l)&&e),"configSelected"===t&&(e=!1!==u.configSelected(l)&&e),e},rw,Ev)),e.tb(33,114688,null,0,kv,[qn,O,Q,ce,Se,$s,Fd,Nb,Pv,On],{tenantId:[0,"tenantId"],configType:[1,"configType"],filter:[2,"filter"],canStage:[3,"canStage"]},{filterChanged:"filterChanged",configSelected:"configSelected"}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,12,0,l.errorMessage),n(t,19,0,n(t,20,0,"/")),n(t,33,0,l.tenantId,l.configType,l.initialFilter,!1)},function(n,t){n(t,18,0,e.Eb(t,19).target,e.Eb(t,19).href)})}var KO=e.qb("ng-component",qO,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,zO,BO)),e.tb(1,49152,null,0,qO,[Sd,yl,b.a,fC,Bp,N,On,b.m,O],null,null)],null,null)},{},{},[]),WO=function(){function n(n,t){this.dock=n,this.getFriendlyErrorAndLog=t}return n.prototype.ngOnInit=function(){},n.prototype.requestUndock=function(){try{this.dock.requestUndock()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n}(),GO=e.sb({encapsulation:0,styles:[[".docked-notice[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function YO(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,18,"div",[["class","container-fluid docked-notice"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["This worksheet is currently docked."])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(6,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"]],null,[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,9).onClick()&&u),u},null,null)),e.tb(9,16384,null,0,b.n,[b.m,b.a,[8,null],e.H,e.l],{routerLink:[0,"routerLink"]},null),e.Fb(10,1),(n()(),e.Mb(-1,null,["Back"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(13,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.requestUndock()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Undock Worksheet"])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(17,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(18,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,9,0,n(t,10,0,"/worksheets")),n(t,18,0,l.errorMessage)},null)}var ZO=e.qb("ng-component",WO,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,YO,GO)),e.tb(1,114688,null,0,WO,[BC,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),XO=function(){function n(){}return n.prototype.transform=function(n){return yd(n)},n}(),nk=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),tk=e.sb({encapsulation:0,styles:[[".worksheet-item-error-message[_ngcontent-%COMP%]{color:#d95929;font-size:.8rem;position:absolute;bottom:0;left:.65em;overflow:visible;z-index:1}.worksheet-item-error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{padding:3px}.worksheet-item-error-message[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none;position:absolute;top:1rem;background-color:#fff;border:1px solid #d95929;padding:.25rem .5rem}.worksheet-item-error-message[_ngcontent-%COMP%]:hover{right:0}.worksheet-item-error-message[_ngcontent-%COMP%]:hover   .error-message[_ngcontent-%COMP%]{display:block}"]],data:{}});function lk(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[["class","worksheet-item-error-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,3,"div",[["class","error-icon"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-exclamation-circle"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(7,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["\n    ","\n  "])),(n()(),e.Mb(-1,null,["\n"]))],null,function(n,t){n(t,8,0,t.component.errorMessage)})}function ek(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,lk)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.errorMessage)},null)}var uk=function(){function n(n){this.elementRef=n}return n.prototype.ngOnInit=function(){},n.prototype.onButtonClick=function(n){n.preventDefault(),this.elementRef.nativeElement.dispatchEvent(new CustomEvent("contextmenu",n))},n}(),rk=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{position:absolute;top:0;right:0;width:1.5rem;height:1.5rem}button[_ngcontent-%COMP%]{border:0 solid transparent;background:#fff;width:1.5rem;height:1.5rem;padding:0;display:none}button[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]:hover   button[_ngcontent-%COMP%]{display:block}"]],data:{}});function ik(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"button",[["class","context-menu-button"],["data-ignore-click-ouside","true"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onButtonClick(l)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-angle-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],null,null)}var ok=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),sk=function(n,t){this.items=n,this.wrapper=t},ak=function(n){function t(t,l,e){var u=n.call(this,l,e)||this;return u.position=t,u}return ok(t,n),t}(sk),ck=function(n){this.type=n},dk=function(n){function t(t,l,e,u,r){void 0===u&&(u=""),void 0===r&&(r=hk.none);var i=n.call(this,pk.button)||this;return i.name=t,i.cssClass=l,i.action=e,i.iconClass=u,i.keyboardAction=r,i}return ok(t,n),t}(ck),bk=function(n){function t(){return n.call(this,pk.separator)||this}return ok(t,n),t}(ck),fk=function(n){function t(t,l,e,u){void 0===u&&(u=!1);var r=n.call(this,pk.subMenu)||this;return r.name=t,r.cssClass=l,r.items=e,r.enableScroll=u,r}return ok(t,n),t}(ck),pk=function(n){return n[n.button=0]="button",n[n.separator=1]="separator",n[n.subMenu=2]="subMenu",n}({}),hk=function(n){return n[n.none=0]="none",n[n.enter=1]="enter",n[n.cut=2]="cut",n[n.copy=3]="copy",n[n.paste=4]="paste",n[n.delete=5]="delete",n}({}),gk=function(){function n(n){this.row=n}return n.prototype.pasteRowsAsync=function(n,t,l){return e=this,void 0,r=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return[4,this.row.pasteRowsAsync(n,t,l)];case 1:return e.sent(),[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n.prototype.setContextMenuBuilder=function(n){n&&(this.contextMenuBuilder=n)},n.prototype.removeContextMenuBuilder=function(n){this.contextMenuBuilder===n&&(this.contextMenuBuilder=void 0)},n.prototype.generateContextMenu=function(n){return this.contextMenuBuilder?this.contextMenuBuilder.generateWrappedContextMenu(n):new sk([],void 0)},n}(),yk=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),mk=function(n){function t(t){return n.call(this,t)||this}return yk(t,n),Object.defineProperty(t.prototype,"name",{get:function(){return this.row.name},set:function(n){this.row.name=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.row.configs.every(function(n){return n.isSelected})&&this.row.study.isSelected},enumerable:!0,configurable:!0}),t.prototype.setItemsMatching=function(){},t.prototype.clearItemsMatching=function(){},t}(gk),vk=3,wk=function(n){return n[n.none=0]="none",n[n.invalid=1]="invalid",n[n.valid=2]="valid",n}({});function Mk(n){return n.jobCount>0&&n.jobCount===n.completedJobCount}var Ck=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Sk=function(n){function t(t,l,e,u){var r=n.call(this,t)||this;return r.underlyingData=u,r.matchesSelectedConfig=!1,l&&l.reference&&(r.populated=new Ik(r,l.reference)),r.unpopulated=new xk,r.update(u),r.populated&&(e=r.populated.studyType),r.unpopulated.initialize(e),r}return Ck(t,n),Object.defineProperty(t.prototype,"isPopulated",{get:function(){return!!this.populated},enumerable:!0,configurable:!0}),t.prototype.isReadOnly=function(n){return!!(this.populated&&this.populated.resolvedReference&&this.populated.resolvedReference.data&&this.populated.resolvedReference.data.userId!==n)},t.prototype.canWrite=function(n){return!this.isReadOnly(n)},Object.defineProperty(t.prototype,"hashValidity",{get:function(){return this.isResolved?this.row.configs.some(function(n){return n.hashValidity===wk.invalid})?wk.invalid:wk.valid:wk.none},enumerable:!0,configurable:!0}),t.prototype.update=function(n){this.underlyingData=n,this.populated&&this.populated.update(this.underlyingData),this.unpopulated.update(this.underlyingData)},t.prototype.getOutline=function(){return{reference:this.reference}},t.prototype.setStudy=function(n){this.populated&&this.populated.destroy(this.underlyingData),n?(this.populated=new Ik(this,n),this.populated.update(this.underlyingData)):(this.populated=void 0,this.matchesSelectedConfig=!1),this.row.onStudyChanged()},Object.defineProperty(t.prototype,"referenceMetadata",{get:function(){return this.populated?this.underlyingData.referencesMetadata.get(this.populated.reference):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"studyType",{get:function(){return this.isResolved?this.populated.studyType:this.unpopulated.studyType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"studyTypeName",{get:function(){return this.isResolved?this.populated.studyTypeName:this.unpopulated.studyTypeName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reference",{get:function(){if(this.populated)return this.populated.reference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resolvedReference",{get:function(){if(this.populated)return this.populated.resolvedReference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputConfigTypes",{get:function(){return this.ensureCachedStudyInputs(),this.cachedStudyInputs.inputConfigTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.ensureCachedStudyInputs(),this.cachedStudyInputs.inputs},enumerable:!0,configurable:!0}),t.prototype.getStudyInputNecessity=function(n){this.ensureCachedStudyInputs();var t=this.cachedStudyInputs.inputMap[n];return t?t.isRequired?kk.required:kk.optional:kk.invalid},t.prototype.extractStudyInputs=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){switch(n.label){case 0:return[4,this.row.extractStudyInputs()];case 1:return n.sent(),[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},t.prototype.ensureCachedStudyInputs=function(){var n=this.studyType,t=this.underlyingData.simVersion;if(!this.cachedStudyInputs||this.cachedStudyInputs.studyType!==n||this.cachedStudyInputs.simVersion!==t){var l=this.underlyingData.studyTypes[n];this.cachedStudyInputs=new Ok(n,t,l?l.inputs:[])}},t.fromStudy=function(n,l,e){return new t(n,l,void 0,e)},t.fromEmpty=function(n,l,e){return new t(n,void 0,l,e)},Object.defineProperty(t.prototype,"isResolved",{get:function(){return!!(this.populated&&this.populated.resolvedReference&&this.populated.resolvedReference.data)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isErrored",{get:function(){return!!(this.populated&&this.populated.resolvedReference&&this.populated.resolvedReference.error)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this.isPopulated&&this.populated.isComplete},enumerable:!0,configurable:!0}),t.prototype.setItemsMatching=function(){this.row.worksheet.setItemsMatching(this.reference)},t.prototype.clearItemsMatching=function(){this.row.worksheet.clearItemsMatching()},t}(gk),Ik=function(){function n(n,t){this.parent=n,this.reference=t}return n.prototype.destroy=function(n){this.parent&&n.referencesMetadata.decrementStudy(this.parent)},n.prototype.update=function(n){this.parent&&n.referencesMetadata.incrementStudy(this.parent),this.resolvedReference=n.studyResolvedReferences.get(this.reference),this.resolvedLabels=n.studyResolvedLabels.get(this.reference),this.ownerName="Unknown User",this.studyTypeName="Unknown Study",this.resolvedReference&&this.resolvedReference.data&&(this.owner=n.users[this.resolvedReference.data.userId],this.owner&&(this.ownerName=this.owner.username),this.studyType=this.resolvedReference.data.studyDocument.studyType,this.studyTypeName=n.getStudyTypeName(this.studyType))},Object.defineProperty(n.prototype,"isComplete",{get:function(){return this.resolvedReference&&this.resolvedReference.data&&Mk(this.resolvedReference.data.studyDocument)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasFailedJobs",{get:function(){return this.resolvedReference&&this.resolvedReference.data&&this.resolvedReference.data.studyDocument.succeededJobCount!==this.resolvedReference.data.studyDocument.completedJobCount},enumerable:!0,configurable:!0}),n}(),xk=function(){function n(){}return n.prototype.initialize=function(n){this.studyType=n},n.prototype.update=function(n){this.underlyingData=n},Object.defineProperty(n.prototype,"studyType",{get:function(){return this._studyType},set:function(n){this._studyType=n,this._studyTypeName=this.underlyingData.getStudyTypeName(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"studyTypeName",{get:function(){return this._studyTypeName},enumerable:!0,configurable:!0}),n}(),Ok=function(n,t,l){this.studyType=n,this.simVersion=t,this.inputs=l,this.inputConfigTypes=this.inputs.map(function(n){return n.configType}),this.inputMap=this.inputs.reduce(function(n,t){return n[t.configType]=t,n},{})},kk=function(n){return n[n.invalid=0]="invalid",n[n.optional=1]="optional",n[n.required=2]="required",n}({});function Tk(n){return n.default}function Pk(n){if(!Tk(n))return n.tenant||n}function Ek(n,t){if(Object(fe.isNullOrUndefined)(n))return Object(fe.isNullOrUndefined)(t);if(Object(fe.isNullOrUndefined)(t))return!1;var l=n.default;if(l){var e=t.default;return!(!e||l.name!==e.name)}var u=n.tenant||n,r=t.tenant||t;return!(!r||u.tenantId!==r.tenantId||u.targetId!==r.targetId||!Object(fe.isUndefined)(u.jobIndex)&&!Object(fe.isUndefined)(r.jobIndex)&&u.jobIndex!==r.jobIndex)}var _k=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Vk=function(n){function t(t,l,e,u){var r=n.call(this,t)||this;return r.underlyingData=u,r.matchesSelectedConfig=!1,e&&(r.populated=new jk(r,l,e)),r.unpopulated=new Rk(l,u),r.update(u),r}return _k(t,n),Object.defineProperty(t.prototype,"referenceMetadata",{get:function(){return this.populated?this.underlyingData.referencesMetadata.get(this.populated.reference):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configType",{get:function(){return this.unpopulated.configType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPopulated",{get:function(){return!!this.populated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStudyPopulated",{get:function(){return!!this.row.study.populated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTelemetry",{get:function(){return this.configType===un.telemetry},enumerable:!0,configurable:!0}),t.prototype.isReadOnly=function(n){return!!(this.populated&&this.populated.resolvedReference&&this.populated.resolvedReference.data&&this.populated.resolvedReference.data.userId!==n)},t.prototype.canWrite=function(n){return!this.isReadOnly(n)},Object.defineProperty(t.prototype,"hashValidity",{get:function(){var n=this;if(this.row.study.isResolved&&this.row.study.populated.resolvedReference.data.inputHashes.length){if(this.studyInputNecessity===kk.invalid)return wk.none;var t=this.row.study.populated.resolvedReference.data.inputHashes.find(function(t){return t.configType===n.configType});if(t)return this.isResolved&&this.populated.configResolvedReference.data.hashes.some(function(n){return t.hashes.some(function(t){return n.hash===t.hash})})?wk.valid:wk.invalid;if(this.isResolved)return wk.invalid}return wk.none},enumerable:!0,configurable:!0}),t.prototype.update=function(n){this.underlyingData=n,this.populated&&this.populated.update(this.underlyingData),this.unpopulated.update(this.underlyingData)},t.prototype.replaceAllConfigs=function(n){if(this.populated)return this.row.worksheet.setAllConfigs(this.populated.reference,n)},t.prototype.replaceSpecificConfigs=function(n,t){return this.row.worksheet.setAllConfigs(n,t)},t.prototype.setConfig=function(n){this.populated&&this.populated.destroy(this.underlyingData),n?(this.populated=new jk(this,this.configType,{configType:this.unpopulated.configType,reference:n,inheritReference:!1}),this.populated.update(this.underlyingData)):(this.populated=void 0,this.matchesSelectedConfig=!1)},Object.defineProperty(t.prototype,"reference",{get:function(){if(this.populated)return this.populated.reference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resolvedReference",{get:function(){if(this.populated)return this.populated.resolvedReference},enumerable:!0,configurable:!0}),t.prototype.getOutline=function(){if(!this.populated)throw new Error("Cannot create outline of unpopulated config.");return{configType:this.unpopulated.configType,reference:this.populated.reference,inheritReference:this.populated.inheritReference}},Object.defineProperty(t.prototype,"isResolved",{get:function(){return!!(this.populated&&this.populated.resolvedReference&&this.populated.resolvedReference.data)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isErrored",{get:function(){return!!(this.populated&&this.populated.resolvedReference&&this.populated.resolvedReference.error)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"studyInputNecessity",{get:function(){return this.row.study.getStudyInputNecessity(this.unpopulated.configType)},enumerable:!0,configurable:!0}),t.prototype.setItemsMatching=function(){this.row.worksheet.setItemsMatching(this.reference)},t.prototype.clearItemsMatching=function(){this.row.worksheet.clearItemsMatching()},t}(gk),jk=function(){function n(n,t,l){this.parent=n,this.configType=t,this.config=l,this.resolvedLabels=[]}return n.prototype.destroy=function(n){n.referencesMetadata.decrementConfig(this.parent)},n.prototype.update=function(n){switch(n.referencesMetadata.incrementConfig(this.parent),this.resolvedLabels=[],this.configType){case un.telemetry:this.resolvedReference=n.studyResolvedReferences.get(this.config.reference),this.configResolvedReference=n.configResolvedReferences.get(this.config.reference);var t=n.studyResolvedLabels.get(this.config.reference);if(t){var l=t.simulationLabels.find(function(n){return n.simType===cn.Telemetry});l&&(this.resolvedLabels=l.resolvedLabels)}this.populatedStudy=new Ik(void 0,function(n){if(!Tk(n)){var t=Pk(n);return{tenantId:t.tenantId,targetId:t.targetId}}}(this.config.reference)),this.populatedStudy.update(n);break;default:this.resolvedReference=this.configResolvedReference=n.configResolvedReferences.get(this.config.reference);var e=n.configResolvedLabels.get(this.config.reference);e&&(this.resolvedLabels=e.resolvedLabels)}this.ownerName="Unknown User",this.resolvedReference&&this.resolvedReference.data&&(this.owner=n.users[this.resolvedReference.data.userId],this.owner&&(this.ownerName=this.owner.username))},Object.defineProperty(n.prototype,"reference",{get:function(){return this.config.reference},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inheritReference",{get:function(){return this.config.inheritReference},enumerable:!0,configurable:!0}),n}(),Rk=function(){function n(n,t){this.configType=n,this.underlyingData=t,this.configTypeName=this.underlyingData.getConfigTypeName(this.configType),this.configTypePluralKey=this.underlyingData.getConfigTypePluralKey(this.configType)}return n.prototype.update=function(n){this.underlyingData=n},n}(),Fk=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Ak=function(n){function t(t,l,e,u){var r=n.call(this,t)||this;return r.underlyingData=u,e&&(r.populated=new Lk),r.unpopulated=new Dk(l),r.update(e,u),r}return Fk(t,n),t.prototype.update=function(n,t){this.underlyingData=t,this.populated&&this.populated.update(n,this.underlyingData),this.unpopulated.update(this.underlyingData)},Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.row.study.isSelected},enumerable:!0,configurable:!0}),t.prototype.setItemsMatching=function(){this.row.worksheet.setItemsMatching(this.row.study.reference)},t.prototype.clearItemsMatching=function(){this.row.worksheet.clearItemsMatching()},Object.defineProperty(t.prototype,"isResolved",{get:function(){return!!this.populated},enumerable:!0,configurable:!0}),t}(gk),Lk=function(){function n(){}return n.prototype.update=function(n,t){n&&(this.resolvedLabels=n.resolvedLabels)},n}(),Dk=function(){function n(n){this.simType=n}return n.prototype.update=function(n){},n}(),Nk=function(n){return n[n.rowMetadata=0]="rowMetadata",n[n.config=1]="config",n[n.study=2]="study",n[n.simulation=3]="simulation",n}({}),Uk=function(){},Qk=function(n,t){this.isDocked=n,this.route=t},Jk=function(){function n(n,t){this.target=n,this.worksheetContext=t,this.selectedRows=this.worksheet.getSelectedRows(),this.isMultiRow=this.selectedRows.length>1,this.isSingleRow=1===this.selectedRows.length}return Object.defineProperty(n.prototype,"worksheet",{get:function(){return this.target.row.worksheet},enumerable:!0,configurable:!0}),n.prototype.isRowMetadata=function(){return this.target instanceof mk},n.prototype.isConfig=function(){return this.target instanceof Vk},n.prototype.isStudy=function(){return this.target instanceof Sk},n.prototype.isSimulation=function(){return this.target instanceof Ak},n.prototype.isConfigOrStudy=function(){return this.target instanceof Vk||this.target instanceof Sk},n}(),$k=function(n){return n[n.none=0]="none",n[n.update=1]="update",n[n.updateAndGenerateColumns=2]="updateAndGenerateColumns",n}({}),Hk=function(){function n(n,t){this.generateColumnsImmediately=n,this.refreshWorksheet=t}return n.NoUpdate=new n(!1,$k.none),n.UpdateOnly=new n(!1,$k.update),n.UpdateAndGenerateColumns=new n(!0,$k.updateAndGenerateColumns),n.GenerateColumnsOnly=new n(!0,$k.none),n}(),qk=function(){function n(n,t,l,e,u){this.identity=n,this.cellElementToViewModelLookup=t,this.elementRef=l,this.contextMenuBuilder=e,this.getFriendlyErrorAndLog=u}return n.prototype.ngOnInit=function(){this.currentIdentity=this.identity.get(),this.canWrite=this.viewModel.row.worksheet.canWrite(this.currentIdentity.userId),this.cellElementToViewModelLookup.register(this.elementRef.nativeElement,this.viewModel),this.viewModel.setContextMenuBuilder(this)},n.prototype.ngOnDestroy=function(){this.cellElementToViewModelLookup.unregister(this.elementRef.nativeElement),this.viewModel.removeContextMenuBuilder(this)},n.prototype.generateWrappedContextMenu=function(n){return new sk(this.contextMenuBuilder.generateContextMenu(this.viewModel,n),this)},n.prototype.executeMenuItemAction=function(n,t){return l=this,void 0,u=function(){var l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),this.resetErrorMessage(),[4,t(n)];case 1:return(l=u.sent())?(l.generateColumnsImmediately&&this.viewModel.row.worksheet.generateColumns(),l.refreshWorksheet!==$k.update&&l.refreshWorksheet!==$k.updateAndGenerateColumns?[3,3]:[4,this.viewModel.row.worksheet.requestUpdate(l.refreshWorksheet===$k.updateAndGenerateColumns)]):[3,3];case 2:u.sent(),u.label=3;case 3:return[2,l];case 4:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[2,void 0];case 5:return[2]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},n.prototype.getReferenceCountString=function(n){return n>1?""+n:""},n.prototype.getDualReferenceCountString=function(n,t){return n+t<=1?"":0===n?""+t:0===t?""+n:n+"+"+t},Object.defineProperty(n.prototype,"isTestUser",{get:function(){return this.identity.isTestUser},enumerable:!0,configurable:!0}),n.prototype.resetErrorMessage=function(){this.errorMessage=void 0},n.prototype.handleMouseEnter=function(){this.viewModel.setItemsMatching()},n.prototype.handleMouseLeave=function(){this.viewModel.clearItemsMatching()},n}(),Bk=function(n){return n[n.cancel=0]="cancel",n[n.replaceThisReference=1]="replaceThisReference",n[n.replaceAllReferences=2]="replaceAllReferences",n}({}),zk=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Kk=function(n){function t(t,l,e,u,r){return n.call(this,t,l,e,u,r)||this}return zk(t,n),t}(qk),Wk=function(){function n(){this.map=new Map}return n.prototype.register=function(n,t){this.map.set(n,t)},n.prototype.unregister=function(n){this.map.delete(n)},n.prototype.get=function(n){return this.map.get(n)},n}(),Gk=function(){function n(n,t,l,e,u,r,i,o,s,a){this.renameRowCommand=n,this.copyRowDownCommand=t,this.insertRowCommand=l,this.appendRowCommand=e,this.clearSelectedCommand=u,this.removeRowCommand=r,this.cutCommand=i,this.copyCommand=o,this.pasteCommand=s,this.pasteDuplicateCommand=a}return n.prototype.generateContextMenu=function(n,t){var l=[],e=new Jk(n,t);return e.isRowMetadata()?(this.renameRowCommand.createMenuItems(e,l),l.push(new bk),this.copyRowDownCommand.createMenuItems(e,l),l.push(new bk),this.insertRowCommand.createMenuItems(e,l),this.appendRowCommand.createMenuItems(e,l),l.push(new bk),this.clearSelectedCommand.createMenuItems(e,l),this.removeRowCommand.createMenuItems(e,l),l.push(new bk),this.cutCommand.createMenuItems(e,l),this.copyCommand.createMenuItems(e,l),this.pasteCommand.createMenuItems(e,l),this.pasteDuplicateCommand.createMenuItems(e,l),l):l},n}(),Yk=e.sb({encapsulation:0,styles:[[""]],data:{}});function Zk(n){return e.Ob(0,[e.Gb(0,XO,[]),(n()(),e.ub(1,0,null,null,1,"div",[["class","row-number"]],null,null,null,null,null)),(n()(),e.Mb(2,null,["",""])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(4,0,null,null,5,"div",[["class","cell-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(6,0,null,null,2,"span",[["class","cell-name"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["\n    ","\n  "])),e.Ib(8,1),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(11,0,null,null,1,"cs-worksheet-item-error-message",[],null,null,null,ek,tk)),e.tb(12,114688,null,0,nk,[],{errorMessage:[0,"errorMessage"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(14,0,null,null,1,"cs-worksheet-context-menu-button",[],null,null,null,ik,rk)),e.tb(15,114688,null,0,uk,[e.l],null,null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,12,0,t.component.errorMessage),n(t,15,0)},function(n,t){var l=t.component;n(t,2,0,l.rowIndex+1),n(t,7,0,e.Nb(t,7,0,n(t,8,0,e.Eb(t,0),l.viewModel.name)))})}var Xk=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),nT=e.sb({encapsulation:0,styles:[[""]],data:{}});function tT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[["class","study-progress"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"has-failed-jobs":0}),(n()(),e.Mb(3,null,["\n    ","/","\n  "]))],function(n,t){n(t,1,0,"study-progress",n(t,2,0,t.component.study.hasFailedJobs))},function(n,t){var l=t.component;n(t,3,0,l.study.resolvedReference.data.studyDocument.completedJobCount,l.study.resolvedReference.data.studyDocument.jobCount)})}function lT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","study-information"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,tT)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,1,"span",[["class","study-type"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["\n    ","\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.study.resolvedReference.data.studyDocument.jobCount)},function(n,t){n(t,6,0,t.component.study.studyTypeName)})}var eT=function(){function n(){}return n.prototype.transform=function(n,t){void 0===t&&(t=1);var l=n.split(".");return l.length<=t?n:(l.splice(0,l.length-t),l.join("."))},n}(),uT=function(){function n(){}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"hasLabels",{get:function(){return!(!this.labels||!this.labels.length)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isNumericValue",{get:function(){return!Object(fe.isNullOrUndefined)(this.labels[0].numericValue)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStringValue",{get:function(){return!Object(fe.isNullOrUndefined)(this.labels[0].stringValue)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isNumericStatistics",{get:function(){return!Object(fe.isNullOrUndefined)(this.labels[0].numericStatistics)},enumerable:!0,configurable:!0}),n}(),rT=e.sb({encapsulation:0,styles:[["table[_ngcontent-%COMP%]{color:#adb5bd;white-space:nowrap}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;border:0;padding:0 .2rem}"]],data:{}});function iT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,28,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[["class","label-name"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(7,0,null,null,1,"cs-unit",[],null,null,null,np,Yf)),e.tb(8,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],value:[2,"value"],decimalPlaces:[3,"decimalPlaces"],simpleRender:[4,"simpleRender"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"cs-unit",[],null,null,null,np,Yf)),e.tb(14,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],value:[2,"value"],decimalPlaces:[3,"decimalPlaces"],simpleRender:[4,"simpleRender"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(17,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(19,0,null,null,1,"cs-unit",[],null,null,null,np,Yf)),e.tb(20,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],value:[2,"value"],decimalPlaces:[3,"decimalPlaces"],simpleRender:[4,"simpleRender"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(23,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(25,0,null,null,1,"cs-unit",[],null,null,null,np,Yf)),e.tb(26,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],showUnits:[2,"showUnits"],simpleRender:[3,"simpleRender"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,8,0,t.context.$implicit.name,t.context.$implicit.units,t.context.$implicit.numericStatistics.minimum,2,!0),n(t,14,0,t.context.$implicit.name,t.context.$implicit.units,t.context.$implicit.numericStatistics.mean,2,!0),n(t,20,0,t.context.$implicit.name,t.context.$implicit.units,t.context.$implicit.numericStatistics.maximum,2,!0),n(t,26,0,t.context.$implicit.name,t.context.$implicit.units,!0,!0)},function(n,t){n(t,3,0,t.context.$implicit.name)})}function oT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,29,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,26,"table",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,17,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,14,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(10,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Min"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Mean"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Max"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(19,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(23,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,iT)),e.tb(26,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,26,0,t.component.labels)},null)}function sT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,2,"cs-unit",[],null,null,null,np,Yf)),e.tb(3,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],value:[2,"value"],decimalPlaces:[3,"decimalPlaces"],simpleRender:[4,"simpleRender"]},null),e.Ib(4,2),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(6,0,null,null,2,"cs-unit",[],null,null,null,np,Yf)),e.tb(7,245760,null,0,Jf,[Bf,Kf],{channelName:[0,"channelName"],units:[1,"units"],showUnits:[2,"showUnits"],simpleRender:[3,"simpleRender"]},null),e.Ib(8,2),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,e.Nb(t,3,0,n(t,4,0,e.Eb(t.parent.parent.parent.parent,0),t.parent.context.$implicit.name,1)),t.parent.context.$implicit.units,t.parent.context.$implicit.numericValue,2,!0),n(t,7,0,e.Nb(t,7,0,n(t,8,0,e.Eb(t.parent.parent.parent.parent,0),t.parent.context.$implicit.name,1)),t.parent.context.$implicit.units,!0,!0)},null)}function aT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n          ","\n        "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.stringValue)})}function cT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,2,"td",[["class","label-name"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),e.Ib(4,2),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,sT)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,aT)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,7,0,l.isNumericValue),n(t,10,0,l.isStringValue)},function(n,t){n(t,3,0,e.Nb(t,3,0,n(t,4,0,e.Eb(t.parent.parent.parent,0),t.context.$implicit.name,1)))})}function dT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,7,"table",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,cT)),e.tb(7,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,7,0,t.component.labels)},null)}function bT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,oT)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,dT)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.isNumericStatistics),n(t,6,0,!l.isNumericStatistics)},null)}function fT(n){return e.Ob(0,[e.Gb(0,eT,[]),(n()(),e.lb(16777216,null,null,1,null,bT)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,2,0,t.component.hasLabels)},null)}var pT=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),hT=function(n){function t(t,l,e,u,r,i){var o=n.call(this,t,l,e,u,i)||this;return o.getSimVersion=r,o.StudyInputNecessity=kk,o.DocumentSubType=un,o.HashValidity=wk,o}return pT(t,n),Object.defineProperty(t.prototype,"matchesSelected",{get:function(){return this.viewModel.matchesSelectedConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.viewModel.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"referenceCountString",{get:function(){var n=this.viewModel.referenceMetadata;return n?this.viewModel.configType===un.telemetry?this.getDualReferenceCountString(n.configCount,n.studyCount):this.getReferenceCountString(n.configCount):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSimVersion",{get:function(){return this.getSimVersion.currentSimVersion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"studyInputNecessity",{get:function(){return this.viewModel.studyInputNecessity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isConfigReadOnly",{get:function(){return this.viewModel.isReadOnly(this.currentIdentity.userId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasJobIndex",{get:function(){if(!this.viewModel.isTelemetry)return!1;var n=this.viewModel.reference;return!!(n&&n.tenant&&n.tenant.jobIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jobIndex",{get:function(){return this.hasJobIndex?this.viewModel.reference.tenant.jobIndex:0},enumerable:!0,configurable:!0}),t}(qk),gT=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h){this.viewConfigOrStudyCommand=n,this.takeOwnershipCommand=t,this.loadConfigCommand=l,this.importTelemetryCommand=e,this.setTelemetryJobIndexCommand=u,this.clearSelectedCommand=r,this.duplicateInPlaceCommand=i,this.cutCommand=o,this.copyCommand=s,this.pasteCommand=a,this.pasteDuplicateCommand=c,this.compareToStudyInputCommand=d,this.stageSnapshotCommand=b,this.compareToStagedCommand=f,this.compareSelectedCommand=p,this.compareToSomethingCommand=h}return n.prototype.generateContextMenu=function(n,t){var l=[],e=new Jk(n,t);return e.isConfig()?(this.viewConfigOrStudyCommand.createMenuItems(e,l),this.takeOwnershipCommand.createMenuItems(e,l),l.push(new bk),this.loadConfigCommand.createMenuItems(e,l),this.importTelemetryCommand.createMenuItems(e,l),this.setTelemetryJobIndexCommand.createMenuItems(e,l),this.clearSelectedCommand.createMenuItems(e,l),l.push(new bk),this.duplicateInPlaceCommand.createMenuItems(e,l),l.push(new bk),this.cutCommand.createMenuItems(e,l),this.copyCommand.createMenuItems(e,l),this.pasteCommand.createMenuItems(e,l),this.pasteDuplicateCommand.createMenuItems(e,l),l.push(new bk),this.compareSelectedCommand.createMenuItems(e,l),this.compareToStudyInputCommand.createMenuItems(e,l),this.stageSnapshotCommand.createMenuItems(e,l),this.compareToStagedCommand.createMenuItems(e,l),this.compareToSomethingCommand.createMenuItems(e,l),l):l},n}(),yT=e.sb({encapsulation:0,styles:[[".invalid-input[_ngcontent-%COMP%]{text-decoration:line-through}.optional-input[_ngcontent-%COMP%]{font-style:italic}.optional-input-icon[_ngcontent-%COMP%], .required-input-icon[_ngcontent-%COMP%]{color:#ced4da;font-size:.4rem;vertical-align:top}"]],data:{}});function mT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-medkit support-session-open-icon"],["title","Support Session Open"]],null,null,null,null,null))],null,null)}function vT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-user read-only-icon"],["title","You are not the owner."]],null,null,null,null,null))],null,null)}function wT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-worksheet-study-progress",[],null,null,null,lT,nT)),e.tb(1,114688,null,0,Xk,[],{study:[0,"study"]},null)],function(n,t){n(t,1,0,t.component.viewModel.populated.populatedStudy)},null)}function MT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","job-index"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n        Job Index ","\n      "]))],null,function(n,t){n(t,1,0,t.component.viewModel.reference.tenant.jobIndex)})}function CT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","cell-reference-id"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n          ","\n        "]))],null,function(n,t){var l=t.component;n(t,1,0,(null==l.viewModel.reference.tenant?null:l.viewModel.reference.tenant.targetId)||l.viewModel.reference.default.name)})}function ST(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,37,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(3,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(6,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,25,"div",[["class","cell-content"]],null,null,null,null,null)),e.tb(9,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(10,{"invalid-input":0,"optional-input":1}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(12,0,null,null,5,"span",[["class","cell-name"]],null,null,null,null,null)),(n()(),e.Mb(13,null,["\n          ",""])),e.Ib(14,1),(n()(),e.lb(16777216,null,null,1,null,mT)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,vT)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,wT)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,MT)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,CT)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(31,0,null,null,1,"cs-worksheet-labels",[],null,null,null,fT,rT)),e.tb(32,114688,null,0,uT,[],{labels:[0,"labels"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(35,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(36,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,e.Eb(t.parent.parent,13)),n(t,6,0,e.Eb(t.parent.parent,15)),n(t,9,0,"cell-content",n(t,10,0,l.studyInputNecessity===l.StudyInputNecessity.invalid,l.studyInputNecessity===l.StudyInputNecessity.optional)),n(t,16,0,l.viewModel.populated.resolvedReference.data.isSupportSessionOpen),n(t,20,0,l.isConfigReadOnly),n(t,23,0,l.viewModel.isTelemetry),n(t,26,0,l.hasJobIndex),n(t,29,0,l.isTestUser),n(t,32,0,l.viewModel.populated.resolvedLabels),n(t,36,0,e.Eb(t.parent.parent,11))},function(n,t){var l=t.component;n(t,13,0,e.Nb(t,13,0,n(t,14,0,e.Eb(t.parent.parent,0),l.viewModel.populated.resolvedReference.data.name)))})}function IT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,ST)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,null==l.viewModel.populated.resolvedReference?null:l.viewModel.populated.resolvedReference.data,e.Eb(t.parent,7))},null)}function xT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(1,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(2,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(5,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,2,0,e.Eb(t.parent,13)),n(t,5,0,e.Eb(t.parent,11))},null)}function OT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(3,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(6,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,1,"div",[["class","cell-content"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["\n      ","\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(11,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(12,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,e.Eb(t.parent.parent,13)),n(t,6,0,e.Eb(t.parent.parent,15)),n(t,12,0,e.Eb(t.parent.parent,11))},function(n,t){n(t,9,0,t.component.viewModel.populated.resolvedReference.error)})}function kT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,OT)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,null==l.viewModel.populated.resolvedReference?null:l.viewModel.populated.resolvedReference.error,e.Eb(t.parent,9))},null)}function TT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(1,0,null,null,5,"div",[["class","btn-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(3,0,null,null,2,"button",[["class","btn btn-transparent"],["type","button"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(5,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function PT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"]))],null,null)}function ET(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"i",[["class","fa fa-circle required-input-icon validity-icon"],["title","Required Input"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"valid-icon":0,"invalid-icon":1})],function(n,t){var l=t.component;n(t,1,0,"fa fa-circle required-input-icon validity-icon",n(t,2,0,l.viewModel.hashValidity===l.HashValidity.valid,l.viewModel.hashValidity===l.HashValidity.invalid))},null)}function _T(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"i",[["class","fa fa-circle-o optional-input-icon validity-icon"],["title","Optional Input"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"valid-icon":0,"invalid-icon":1})],function(n,t){var l=t.component;n(t,1,0,"fa fa-circle-o optional-input-icon validity-icon",n(t,2,0,l.viewModel.hashValidity===l.HashValidity.valid,l.viewModel.hashValidity===l.HashValidity.invalid))},null)}function VT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,ET)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,_T)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.studyInputNecessity===l.StudyInputNecessity.required),n(t,5,0,l.studyInputNecessity===l.StudyInputNecessity.optional)},null)}function jT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(1,0,null,null,1,"span",[["class","reference-count"]],null,null,null,null,null)),(n()(),e.Mb(2,null,["",""])),(n()(),e.Mb(-1,null,["\n"]))],null,function(n,t){n(t,2,0,t.component.referenceCountString)})}function RT(n){return e.Ob(0,[e.Gb(0,XO,[]),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,IT)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["unpopulated",2]],null,0,null,xT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["unresolved",2]],null,0,null,kT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["loading",2]],null,0,null,TT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["dropDownMenu",2]],null,0,null,PT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["validity",2]],null,0,null,VT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["referenceCount",2]],null,0,null,jT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(17,0,null,null,1,"cs-worksheet-item-error-message",[],null,null,null,ek,tk)),e.tb(18,114688,null,0,nk,[],{errorMessage:[0,"errorMessage"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(20,0,null,null,1,"cs-worksheet-context-menu-button",[],null,null,null,ik,rk)),e.tb(21,114688,null,0,uk,[e.l],null,null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.viewModel.populated,e.Eb(t,5)),n(t,18,0,l.errorMessage),n(t,21,0)},null)}var FT=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),AT=function(n){function t(t,l,e,u,r){var i=n.call(this,t,l,e,u,r)||this;return i.HashValidity=wk,i}return FT(t,n),Object.defineProperty(t.prototype,"matchesSelected",{get:function(){return this.viewModel.matchesSelectedConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.viewModel.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"referenceCountString",{get:function(){var n=this.viewModel.referenceMetadata;return n?this.getDualReferenceCountString(n.studyCount,n.configCount):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStudyReadOnly",{get:function(){return this.viewModel.isReadOnly(this.currentIdentity.userId)},enumerable:!0,configurable:!0}),t}(qk),LT=function(){function n(n,t,l,e,u,r,i,o,s,a,c){this.setStudyTypeCommand=n,this.viewConfigOrStudyCommand=t,this.takeOwnershipCommand=l,this.cutCommand=e,this.copyCommand=u,this.pasteCommand=r,this.loadStudyCommand=i,this.runStudyCommand=o,this.clearSelectedCommand=s,this.extractStudyInputsCommand=a,this.compareResultsCommand=c}return n.prototype.generateContextMenu=function(n,t){var l=[],e=new Jk(n,t);return e.isStudy()?(this.setStudyTypeCommand.createMenuItems(e,l),l.push(new bk),this.viewConfigOrStudyCommand.createMenuItems(e,l),this.takeOwnershipCommand.createMenuItems(e,l),l.push(new bk),this.loadStudyCommand.createMenuItems(e,l),this.runStudyCommand.createMenuItems(e,l),this.clearSelectedCommand.createMenuItems(e,l),l.push(new bk),this.extractStudyInputsCommand.createMenuItems(e,l),this.compareResultsCommand.createMenuItems(e,l),l.push(new bk),this.cutCommand.createMenuItems(e,l),this.copyCommand.createMenuItems(e,l),this.pasteCommand.createMenuItems(e,l),l.push(new bk),l):l},n}(),DT=e.sb({encapsulation:0,styles:[[""]],data:{}});function NT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-medkit support-session-open-icon"],["title","Support Session Open"]],null,null,null,null,null))],null,null)}function UT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-user read-only-icon"],["title","You are not the owner."]],null,null,null,null,null))],null,null)}function QT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,29,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(3,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(6,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,17,"div",[["class","cell-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(10,0,null,null,5,"span",[["class","cell-name"]],null,null,null,null,null)),(n()(),e.Mb(11,null,["\n            ",""])),e.Ib(12,1),(n()(),e.lb(16777216,null,null,1,null,NT)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,UT)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(20,0,null,null,1,"cs-worksheet-study-progress",[],null,null,null,lT,nT)),e.tb(21,114688,null,0,Xk,[],{study:[0,"study"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(23,0,null,null,1,"span",[["class","sim-version"]],null,null,null,null,null)),(n()(),e.Mb(24,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(27,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(28,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,e.Eb(t.parent.parent,12)),n(t,6,0,e.Eb(t.parent.parent,14)),n(t,14,0,l.viewModel.populated.resolvedReference.data.isSupportSessionOpen),n(t,18,0,l.isStudyReadOnly),n(t,21,0,l.viewModel.populated),n(t,28,0,e.Eb(t.parent.parent,10))},function(n,t){var l=t.component;n(t,11,0,e.Nb(t,11,0,n(t,12,0,e.Eb(t.parent.parent,0),l.viewModel.populated.resolvedReference.data.name))),n(t,24,0,l.viewModel.populated.resolvedReference.data.simVersion)})}function JT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,QT)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,null==l.viewModel.populated.resolvedReference?null:l.viewModel.populated.resolvedReference.data,e.Eb(t.parent,6))},null)}function $T(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "]))],null,null)}function HT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,$T)),e.tb(3,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,e.Eb(t.parent.parent,8))},null)}function qT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(3,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"span",[["class","study-type"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(11,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(12,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,e.Eb(t.parent.parent,12)),n(t,12,0,e.Eb(t.parent.parent,10))},function(n,t){n(t,8,0,t.component.viewModel.studyTypeName)})}function BT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,HT)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,qT)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.viewModel.isSubmitting),n(t,5,0,!l.viewModel.isSubmitting)},null)}function zT(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(3,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(6,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,1,"div",[["class","cell-content"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["\n      ","\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(11,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(12,540672,null,0,f.s,[e.T],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,e.Eb(t.parent.parent,12)),n(t,6,0,e.Eb(t.parent.parent,14)),n(t,12,0,e.Eb(t.parent.parent,10))},function(n,t){n(t,9,0,t.component.viewModel.populated.resolvedReference.error)})}function KT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,zT)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,null==l.viewModel.populated.resolvedReference?null:l.viewModel.populated.resolvedReference.error,e.Eb(t.parent,8))},null)}function WT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(1,0,null,null,5,"div",[["class","btn-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(3,0,null,null,2,"button",[["class","btn btn-transparent"],["type","button"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(5,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function GT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"]))],null,null)}function YT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(1,0,null,null,2,"i",[["class","fa fa-circle required-input-icon validity-icon"],["title","Study Status"]],null,null,null,null,null)),e.tb(2,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(3,{"valid-icon":0,"invalid-icon":1}),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,"fa fa-circle required-input-icon validity-icon",n(t,3,0,l.viewModel.hashValidity===l.HashValidity.valid,l.viewModel.hashValidity===l.HashValidity.invalid))},null)}function ZT(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(1,0,null,null,1,"span",[["class","reference-count"]],null,null,null,null,null)),(n()(),e.Mb(2,null,["",""])),(n()(),e.Mb(-1,null,["\n"]))],null,function(n,t){n(t,2,0,t.component.referenceCountString)})}function XT(n){return e.Ob(0,[e.Gb(0,XO,[]),(n()(),e.lb(16777216,null,null,1,null,JT)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["unpopulated",2]],null,0,null,BT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["unresolved",2]],null,0,null,KT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["loading",2]],null,0,null,WT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["dropdownMenu",2]],null,0,null,GT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["validity",2]],null,0,null,YT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["referenceCount",2]],null,0,null,ZT)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(16,0,null,null,1,"cs-worksheet-item-error-message",[],null,null,null,ek,tk)),e.tb(17,114688,null,0,nk,[],{errorMessage:[0,"errorMessage"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(19,0,null,null,1,"cs-worksheet-context-menu-button",[],null,null,null,ik,rk)),e.tb(20,114688,null,0,uk,[e.l],null,null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.viewModel.populated,e.Eb(t,4)),n(t,17,0,l.errorMessage),n(t,20,0)},null)}var nP=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),tP=function(n){function t(t,l,e,u,r){return n.call(this,t,l,e,u,r)||this}return nP(t,n),Object.defineProperty(t.prototype,"matchesSelected",{get:function(){return this.viewModel.row.study.matchesSelectedConfig},enumerable:!0,configurable:!0}),t}(qk),lP=function(){function n(){}return n.prototype.generateContextMenu=function(n,t){return new Jk(n,t).isSimulation(),[]},n}(),eP=e.sb({encapsulation:0,styles:[[""]],data:{}});function uP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-check simulation-exists-icon"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,4,"div",[["class","cell-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(6,0,null,null,1,"cs-worksheet-labels",[],null,null,null,fT,rT)),e.tb(7,114688,null,0,uT,[],{labels:[0,"labels"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,7,0,t.component.viewModel.populated.resolvedLabels)},null)}function rP(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"]))],null,null)}function iP(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,uP)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(0,[["unpopulated",2]],null,0,null,rP)),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(5,0,null,null,1,"cs-worksheet-item-error-message",[],null,null,null,ek,tk)),e.tb(6,114688,null,0,nk,[],{errorMessage:[0,"errorMessage"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.viewModel.populated,e.Eb(t,3)),n(t,6,0,l.errorMessage)},null)}var oP=function(){function n(){this.ColumnType=Nk}return n.prototype.ngOnInit=function(){},n.prototype.columnTrackById=function(n,t){return t.definition.trackingId},n}(),sP=e.sb({encapsulation:0,styles:[[""]],data:{}});function aP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"td",[["class","row-metadata-cell"],["cs-worksheet-row-metadata-item",""],["tabindex","0"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(n,t,l){var u=!0;return"mouseenter"===t&&(u=!1!==e.Eb(n,3).handleMouseEnter()&&u),"mouseleave"===t&&(u=!1!==e.Eb(n,3).handleMouseLeave()&&u),u},Zk,Yk)),e.tb(3,245760,null,0,Kk,[O,Wk,e.l,Gk,On],{isWorksheetInDock:[0,"isWorksheetInDock"],viewModel:[1,"viewModel"],rowIndex:[2,"rowIndex"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,l.isWorksheetInDock,t.parent.context.$implicit.value,l.rowIndex)},null)}function cP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"td",[["cs-worksheet-config-item",""],["tabindex","0"]],[[8,"className",0],[2,"matches-selected",null],[2,"is-selected",null]],[[null,"mouseenter"],[null,"mouseleave"]],function(n,t,l){var u=!0;return"mouseenter"===t&&(u=!1!==e.Eb(n,3).handleMouseEnter()&&u),"mouseleave"===t&&(u=!1!==e.Eb(n,3).handleMouseLeave()&&u),u},RT,yT)),e.tb(3,245760,null,0,hT,[O,Wk,e.l,gT,Nb,On],{isWorksheetInDock:[0,"isWorksheetInDock"],viewModel:[1,"viewModel"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.isWorksheetInDock,t.parent.context.$implicit.value)},function(n,t){n(t,2,0,e.wb(1,"config-cell ",t.parent.context.$implicit.definition.id,"-config-cell"),e.Eb(t,3).matchesSelected,e.Eb(t,3).isSelected)})}function dP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"td",[["class","study-cell"],["cs-worksheet-study-item",""],["tabindex","0"]],[[2,"matches-selected",null],[2,"is-selected",null]],[[null,"mouseenter"],[null,"mouseleave"]],function(n,t,l){var u=!0;return"mouseenter"===t&&(u=!1!==e.Eb(n,3).handleMouseEnter()&&u),"mouseleave"===t&&(u=!1!==e.Eb(n,3).handleMouseLeave()&&u),u},XT,DT)),e.tb(3,245760,null,0,AT,[O,Wk,e.l,LT,On],{isWorksheetInDock:[0,"isWorksheetInDock"],viewModel:[1,"viewModel"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.isWorksheetInDock,t.parent.context.$implicit.value)},function(n,t){n(t,2,0,e.Eb(t,3).matchesSelected,e.Eb(t,3).isSelected)})}function bP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"td",[["cs-worksheet-simulation-item",""],["tabindex","-1"]],[[8,"className",0],[2,"matches-selected",null]],[[null,"mouseenter"],[null,"mouseleave"]],function(n,t,l){var u=!0;return"mouseenter"===t&&(u=!1!==e.Eb(n,3).handleMouseEnter()&&u),"mouseleave"===t&&(u=!1!==e.Eb(n,3).handleMouseLeave()&&u),u},iP,eP)),e.tb(3,245760,null,0,tP,[O,Wk,e.l,lP,On],{isWorksheetInDock:[0,"isWorksheetInDock"],viewModel:[1,"viewModel"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.isWorksheetInDock,t.parent.context.$implicit.value)},function(n,t){n(t,2,0,e.wb(1,"simulation-cell ",t.parent.context.$implicit.definition.id,"-simulation-cell"),e.Eb(t,3).matchesSelected)})}function fP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,17,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,14,null,null,null,null,null,null,null)),e.tb(3,16384,null,0,f.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,aP)),e.tb(6,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,cP)),e.tb(9,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,dP)),e.tb(12,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,bP)),e.tb(15,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.definition.columnType),n(t,6,0,l.ColumnType.rowMetadata),n(t,9,0,l.ColumnType.config),n(t,12,0,l.ColumnType.study),n(t,15,0,l.ColumnType.simulation)},null)}function pP(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,fP)),e.tb(1,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.row.columns,l.columnTrackById)},null)}var hP=l("7c6v"),gP=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},yP=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},mP=function(){function n(n,t,l,e,u,r){this.canopyPusher=n,this.cellElementToViewModelLookup=t,this.contextMenu=l,this.elementRef=e,this.route=u,this.getFriendlyErrorAndLog=r,this.isWorksheetInDock=!1,this.KeyboardAction=hk,this.NavigateAction=wP,this.ignoreFocus=!1}return n.prototype.ngOnInit=function(){var n=this;this.studiesProgressSubscription=this.canopyPusher.studiesProgress.subscribe(function(t){return n.onStudiesProgress(t)}),this.studyBuildProgressSubscription=this.canopyPusher.studyBuildProgress.subscribe(function(t){return n.onStudyBuildProgress(t)})},n.prototype.ngOnDestroy=function(){this.studiesProgressSubscription.unsubscribe(),this.studyBuildProgressSubscription.unsubscribe()},n.prototype.onStudiesProgress=function(n){return gP(this,void 0,void 0,function(){var t,l,e,u,r,i,o,s,a,c,d;return yP(this,function(b){try{for(t=!1,l=0,e=n.items;l<e.length;l++)for(u=e[l],r=0,i=this.worksheet.rows;r<i.length;r++)for(o=i[r].getPopulatedStudies(),s=0,a=o;s<a.length;s++)(c=a[s]).reference.targetId===u.studyId&&c.resolvedReference&&c.resolvedReference.data&&c.resolvedReference.data.studyDocument&&((d=c.resolvedReference.data.studyDocument).executionTimeSeconds=u.executionTimeMs/1e3,d.jobCount=u.jobCount,d.completedJobCount=u.completedJobCount,d.succeededJobCount=u.succeededJobCount,d.succeededComputeCredits=u.succeededComputeCredits,d.succeededStorageCredits=u.succeededStorageCredits,t=t||!!d.jobCount&&d.jobCount===u.completedJobCount);t&&this.worksheet.requestUpdate(!0,!1)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})})},n.prototype.onStudyBuildProgress=function(n){return gP(this,void 0,void 0,function(){var t,l,e,u,r,i,o;return yP(this,function(s){try{for(t=0,l=this.worksheet.rows;t<l.length;t++)for(e=l[t].getPopulatedStudies(),u=0,r=e;u<r.length;u++)(i=r[u]).reference.targetId===n.studyId&&i.resolvedReference&&i.resolvedReference.data&&i.resolvedReference.data.studyDocument&&(o=i.resolvedReference.data.studyDocument).dispatchedJobCount<=n.dispatchedJobCount&&(o.errorMessages=n.errorMessages,o.jobCount=n.jobCount,o.dispatchedJobCount=n.dispatchedJobCount)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})})},n.prototype.columnTrackById=function(n,t){return t.trackingId},n.prototype.onTableContextMenu=function(n){if(!n.altKey){this.verifyRangeSelectionSet(n);var t=this.getMouseTargetViewModel(n);if(t){n.preventDefault(),t.viewModel.isSelected||this.performTableClick(n);var l,e=t.viewModel.generateContextMenu(new Qk(this.isWorksheetInDock,this.route));if(n.clientX||n.clientY)l=new hP.a(n.clientX,n.clientY);else{var u=(n.target||n.srcElement).getBoundingClientRect();l=new hP.a(u.left,u.top)}this.contextMenu.content=new ak(l,e.items,e.wrapper)}}},n.prototype.onTableNavigateKey=function(n,t){this.verifyRangeSelectionSet(n);var l=this.getElementViewModel(document.activeElement);if(l){var e=l.viewModel.row,u=e.columns.findIndex(function(n){return n.value===l.viewModel});if(-1!==u)if(n.preventDefault(),t===wP.down||t===wP.up){var r=this.worksheet.rows.indexOf(e);if(-1===r)return;if(t===wP.up&&0===r)return;if(t===wP.down&&r===this.worksheet.rows.length-1)return;var i=t===wP.up?this.worksheet.rows[r-1]:this.worksheet.rows[r+1];this.clearSelection(),this.findElementAndFocus(this.elementRef.nativeElement,i.columns[u].value)}else{var o=e.columns.findIndex(function(n){return n.value instanceof Sk});if(-1===o)return;if(t===wP.left&&0===u)return;if(t===wP.right&&u>=o)return;u>=o&&(u=o);var s=t===wP.left?u-1:u+1;this.clearSelection(),this.findElementAndFocus(this.elementRef.nativeElement,e.columns[s].value)}}},n.prototype.onClipboardKey=function(n){if(this.verifyRangeSelectionSet(n),n.ctrlKey||n.metaKey)switch(n.key){case"x":this.onTableKey(hk.cut);break;case"c":this.onTableKey(hk.copy);break;case"v":this.onTableKey(hk.paste)}},n.prototype.onUndoOrRedo=function(n){var t=this,l=this.getElementViewModel(document.activeElement);if(l){var e=l.viewModel;e instanceof Ak&&(e=e.row.study),e.generateContextMenu(new Qk(this.isWorksheetInDock,this.route)).wrapper.executeMenuItemAction({},function(l){return gP(t,void 0,void 0,function(){return yP(this,function(t){switch(t.label){case 0:return n?[4,this.worksheet.undo()]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,this.worksheet.redo()];case 3:t.sent(),t.label=4;case 4:return[2,Hk.NoUpdate]}})})})}},n.prototype.onTableDoubleClick=function(n){this.verifyRangeSelectionSet(n),this.onTableKey(hk.enter)},n.prototype.verifyRangeSelectionSet=function(n){n.shiftKey?this.rangeSelectionStart||this.onRangeSelectionStart():this.onRangeSelectionEnd()},n.prototype.onRangeSelectionStart=function(){this.rangeSelectionStart||(this.rangeSelectionStart=this.getElementViewModel(document.activeElement))},n.prototype.onRangeSelectionEnd=function(){this.rangeSelectionStart=void 0},n.prototype.onTableClicked=function(n){n.button||this.performTableClick(n)},n.prototype.performTableClick=function(n){this.verifyRangeSelectionSet(n);var t=this.getMouseTargetViewModel(n);if(t){n.preventDefault(),this.setFocusWithoutRaisingEvent(t.element);var l=n.ctrlKey||n.metaKey;this.onViewModelActivated(t.viewModel,l,l)}},n.prototype.onTableFocus=function(n){if(!this.ignoreFocus){var t=this.getElementViewModel(document.activeElement);t&&this.onViewModelActivated(t.viewModel,t.viewModel.isSelected,!1)}},n.prototype.onViewModelActivated=function(n,t,l){if(this.rangeSelectionStart){this.clearSelection();var e=this.rangeSelectionStart.viewModel,u=n,r=this.worksheet.rows.indexOf(e.row),i=this.worksheet.rows.indexOf(u.row);if(r>i){var o=r,s=e;r=i,e=u,i=o,u=s}var a=e.row.columns.findIndex(function(n){return n.value===e}),c=u.row.columns.findIndex(function(n){return n.value===u});a>c&&(o=a,a=c,c=o);for(var d=r;d<=i;++d)for(var b=this.worksheet.rows[d],f=a;f<=c;++f)this.setViewModelSelected(b.columns[f].value,!1)}else t||this.clearSelection(),this.setViewModelSelected(n,l)},n.prototype.setViewModelSelected=function(n,t){if(n instanceof mk){for(var l=0,e=n.row.configs;l<e.length;l++){var u=e[l];u.isSelected=this.evaluateIsSelected(u.isSelected,t)}n.row.study.isSelected=this.evaluateIsSelected(n.row.study.isSelected,t)}else n instanceof Ak?n.row.study.isSelected=this.evaluateIsSelected(n.row.study.isSelected,t):(n instanceof Vk||n instanceof Sk)&&(n.isSelected=this.evaluateIsSelected(n.isSelected,t))},n.prototype.clearSelection=function(){for(var n=0,t=this.worksheet.rows;n<t.length;n++){var l=t[n];l.study.isSelected=!1;for(var e=0,u=l.configs;e<u.length;e++)u[e].isSelected=!1}},n.prototype.onTableKey=function(n){var t=this.getElementViewModel(document.activeElement);if(t){var l=t.viewModel;l instanceof Ak&&(l=l.row.study);var e=l.generateContextMenu(new Qk(this.isWorksheetInDock,this.route)),u=e.items.filter(function(n){return n instanceof dk}).find(function(t){return t.keyboardAction===n});u&&e.wrapper.executeMenuItemAction({},function(n){return u.action(n)})}},n.prototype.setFocusWithoutRaisingEvent=function(n){this.ignoreFocus=!0;try{n.focus&&n.focus()}finally{this.ignoreFocus=!1}},n.prototype.evaluateIsSelected=function(n,t){return!t||!n},n.prototype.getMouseTargetViewModelElement=function(n){return n.target||n.srcElement},n.prototype.getMouseTargetViewModel=function(n){var t=this.getMouseTargetViewModelElement(n);return this.getElementViewModel(t)},n.prototype.getElementViewModel=function(n){for(var t;!t&&n&&(!window.event||n!==window.event.currentTarget);){if(t=this.cellElementToViewModelLookup.get(n))return new vP(t,n);n=n.parentElement}},n.prototype.findElementAndFocus=function(n,t){var l=this.findElementForViewModel(n,t);l&&l.focus()},n.prototype.findElementForViewModel=function(n,t){for(var l=n.getElementsByTagName("td"),e=0;e<l.length;++e){var u=l.item(e);if(this.cellElementToViewModelLookup.get(u)===t)return u}},n}(),vP=function(n,t){this.viewModel=n,this.element=t},wP=function(n){return n[n.up=0]="up",n[n.down=1]="down",n[n.left=2]="left",n[n.right=3]="right",n}({}),MP=function(){function n(){}return Object.defineProperty(n.prototype,"content",{get:function(){return this._content},set:function(n){this._content=n?new ak(n.position,this.filterMenuItems(n.items),n.wrapper):void 0},enumerable:!0,configurable:!0}),n.prototype.filterMenuItems=function(n){var t=[];if(!n)return t;for(var l=!0,e=0,u=n;e<u.length;e++){var r=u[e];if(r instanceof bk){if(l)continue;l=!0}else l=!1;t.push(r instanceof fk?new fk(r.name,r.cssClass,this.filterMenuItems(r.items),r.enableScroll):r)}for(;t.length&&t[t.length-1]instanceof bk;)t.pop();return t},n}(),CP=e.sb({encapsulation:0,styles:[[""]],data:{}});function SP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"th",[["class","worksheet-column-heading"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n      ","\n    "]))],null,function(n,t){n(t,1,0,t.context.$implicit.name)})}function IP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"tr",[["cs-worksheet-row",""]],[[8,"className",0]],null,null,pP,sP)),e.tb(1,114688,null,0,oP,[],{row:[0,"row"],rowIndex:[1,"rowIndex"],isWorksheetInDock:[2,"isWorksheetInDock"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,1,0,t.context.$implicit,t.context.index,t.component.isWorksheetInDock)},function(n,t){n(t,0,0,e.wb(1,"worksheet-row worksheet-row-",t.context.index,""))})}function xP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"table",[["class","table worksheet-table wrapping-worksheet-table"]],null,[[null,"mousedown"],[null,"contextmenu"],[null,"keydown.control.c"],[null,"keydown.meta.c"],[null,"keydown.control.x"],[null,"keydown.meta.x"],[null,"keydown.control.v"],[null,"keydown.meta.v"],[null,"keydown.control.z"],[null,"keydown.meta.z"],[null,"keydown.control.y"],[null,"keydown.meta.y"],[null,"keydown.enter"],[null,"keydown.delete"],[null,"keydown.arrowUp"],[null,"keydown.arrowDown"],[null,"keydown.arrowLeft"],[null,"keydown.arrowRight"],[null,"dblclick"],[null,"focusin"],[null,"keyup.shift"]],function(n,t,l){var e=!0,u=n.component;return"mousedown"===t&&(e=!1!==u.onTableClicked(l)&&e),"contextmenu"===t&&(e=!1!==u.onTableContextMenu(l)&&e),"keydown.control.c"===t&&(e=!1!==u.onClipboardKey(l)&&e),"keydown.meta.c"===t&&(e=!1!==u.onClipboardKey(l)&&e),"keydown.control.x"===t&&(e=!1!==u.onClipboardKey(l)&&e),"keydown.meta.x"===t&&(e=!1!==u.onClipboardKey(l)&&e),"keydown.control.v"===t&&(e=!1!==u.onClipboardKey(l)&&e),"keydown.meta.v"===t&&(e=!1!==u.onClipboardKey(l)&&e),"keydown.control.z"===t&&(e=!1!==u.onUndoOrRedo(!0)&&e),"keydown.meta.z"===t&&(e=!1!==u.onUndoOrRedo(!0)&&e),"keydown.control.y"===t&&(e=!1!==u.onUndoOrRedo(!1)&&e),"keydown.meta.y"===t&&(e=!1!==u.onUndoOrRedo(!1)&&e),"keydown.enter"===t&&(e=!1!==u.onTableKey(u.KeyboardAction.enter)&&e),"keydown.delete"===t&&(e=!1!==u.onTableKey(u.KeyboardAction.delete)&&e),"keydown.arrowUp"===t&&(e=!1!==u.onTableNavigateKey(l,u.NavigateAction.up)&&e),"keydown.arrowDown"===t&&(e=!1!==u.onTableNavigateKey(l,u.NavigateAction.down)&&e),"keydown.arrowLeft"===t&&(e=!1!==u.onTableNavigateKey(l,u.NavigateAction.left)&&e),"keydown.arrowRight"===t&&(e=!1!==u.onTableNavigateKey(l,u.NavigateAction.right)&&e),"dblclick"===t&&(e=!1!==u.onTableDoubleClick(l)&&e),"focusin"===t&&(e=!1!==u.onTableFocus(l)&&e),"keyup.shift"===t&&(e=!1!==u.onRangeSelectionEnd()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,7,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,SP)),e.tb(7,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(11,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,IP)),e.tb(14,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,7,0,l.worksheet.columns,l.columnTrackById),n(t,14,0,l.worksheet.rows)},null)}function OP(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,xP)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,7,0,l.worksheet)},null)}var kP=l("pugT"),TP=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},PP=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},EP=function(){function n(n,t,l){this.formBuilder=n,this.formSubmissionHandler=t,this.getFriendlyErrorAndLog=l,this.metadataChanged=new e.n,this.name=new Zt.f("",Zt.w.compose([Zt.w.required].concat(tl.configNameValidators))),this.notes=new Zt.f("",tl.configNotesValidators.slice()),this.submitButton=new ll("Save","Saving..."),this.saveSuccessful=!1,this.customProperties=[],this.form=this.formBuilder.group({name:this.name,notes:this.notes})}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return TP(this,void 0,void 0,function(){return PP(this,function(n){try{if(!this.initialDocumentMetadata)throw new cl("No document metadata provided.");this.name.setValue(this.initialDocumentMetadata.name,{}),this.notes.setValue(this.initialDocumentMetadata.notes,{}),this.customProperties=this.initialDocumentMetadata.customProperties.slice()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})})},n.prototype.onSubmit=function(){return TP(this,void 0,void 0,function(){return PP(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.submit=function(){return TP(this,void 0,void 0,function(){return PP(this,function(n){return this.metadataChanged.emit(new _P(this.name.value,this.customProperties,this.notes.value)),[2]})})},n}(),_P=function(n,t,l){this.name=n,this.customProperties=t,this.notes=l},VP=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},jP=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},RP=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p){this.worksheetStub=n,this.worksheetUnderlyingDataFactory=t,this.worksheetViewModelFactory=l,this.dock=e,this.router=u,this.loadingDialog=r,this.configUpdatedEventService=i,this.identity=o,this.worksheetLabelsEditorDialog=s,this.json=a,this.activeWorksheets=c,this.editDocumentMetadataDialog=d,this.getSimVersion=b,this.unitsManager=f,this.getFriendlyErrorAndLog=p,this.isInstanceInDock=!1,this.subscriptions=new kP.a,this.currentIdentity=this.identity.get()}return Object.defineProperty(n.prototype,"containerElementId",{get:function(){return this.worksheetViewModel?or(this.worksheetViewModel.name)+"-worksheet":or(this.worksheetId)+"-worksheet"},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.load()},n.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.worksheetViewModel&&this.activeWorksheets.remove(this.worksheetViewModel)},Object.defineProperty(n.prototype,"isLoading",{get:function(){return!this.worksheetViewModel&&!this.errorMessage||!!this.updateTask},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isOwner",{get:function(){return!!this.worksheetViewModel&&this.currentIdentity.userId===this.worksheetViewModel.user.userId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isWorksheetInDock",{get:function(){return this.dock.worksheet&&this.dock.worksheet.tenantId===this.tenantId&&this.dock.worksheet.worksheetId===this.worksheetId},enumerable:!0,configurable:!0}),n.prototype.load=function(){return VP(this,void 0,void 0,function(){var n,t,l=this;return jP(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),this.errorMessage=void 0,[4,this.unitsManager.ensureInitialized()];case 1:if(e.sent(),!this.worksheetId)throw new cl("Worksheet ID not provided.");return!this.isInstanceInDock&&this.isWorksheetInDock?(this.router.navigate(["/worksheets","docked"]),[2]):(n=this.dock.popTransferringViewModel())&&n.tenant.tenantId===this.tenantId&&n.worksheetId===this.worksheetId?(this.worksheetViewModel=n,this.worksheetViewModel.updateParent(this),[3,4]):[3,2];case 2:return[4,this.loadFromServer()];case 3:e.sent(),e.label=4;case 4:return this.subscriptions.add(this.configUpdatedEventService.documentUpdated.subscribe(function(n){return l.handleConfigChangedEvent(n)})),this.subscriptions.add(this.getSimVersion.changed.subscribe(function(){return l.handleSimVersionChangedEvent()})),this.isInstanceInDock&&this.subscriptions.add(this.dock.undockRequested.subscribe(function(){return l.undockWorksheet(!0)})),this.activeWorksheets.add(this.worksheetViewModel),[3,6];case 5:return t=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,6];case 6:return[2]}})})},n.prototype.editLabels=function(){return VP(this,void 0,void 0,function(){var n,t,l,e;return jP(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),this.errorMessage=void 0,n=this.worksheetViewModel.getOutline(),t=this.json.clone(n.labelDefinitions),[4,this.worksheetLabelsEditorDialog.show(this.isOwner,t)];case 1:return l=u.sent(),[4,this.processEditLabelsResult(l)];case 2:return u.sent(),[3,4];case 3:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,4];case 4:return[2]}})})},n.prototype.editMetadata=function(){return VP(this,void 0,void 0,function(){var n,t;return jP(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),this.errorMessage=void 0,[4,this.editDocumentMetadataDialog.show(this.tenantId,un.worksheet,new _P(this.worksheetViewModel.name,this.worksheetViewModel.properties,this.worksheetViewModel.notes),!1)];case 1:return(n=l.sent())&&n.documentMetadata?(this.worksheetViewModel.name=n.documentMetadata.name,this.worksheetViewModel.properties=n.documentMetadata.customProperties.slice(),this.worksheetViewModel.notes=n.documentMetadata.notes,[4,this.update(!1,!1)]):[3,3];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return[2]}})})},Object.defineProperty(n.prototype,"isCurrentTenant",{get:function(){return this.currentIdentity.tenantId===this.tenantId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasProperties",{get:function(){return!(!this.worksheetViewModel.properties||!this.worksheetViewModel.properties.length)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasNotes",{get:function(){return!!this.worksheetViewModel.notes},enumerable:!0,configurable:!0}),n.prototype.processEditLabelsResult=function(n){return VP(this,void 0,void 0,function(){return jP(this,function(t){switch(t.label){case 0:return n&&n.refreshRequired?(n.newWorksheetLabels&&(this.worksheetViewModel.worksheetLabelDefinitions=n.newWorksheetLabels),this.isOwner?[4,this.update(!0,!1)]:[3,2]):[3,3];case 1:return t.sent(),[3,3];case 2:this.reload(),t.label=3;case 3:return[2]}})})},n.prototype.handleSimVersionChangedEvent=function(){return VP(this,void 0,void 0,function(){return jP(this,function(n){switch(n.label){case 0:return this.isOwner?[4,this.update(!0,!1)]:[3,2];case 1:return n.sent(),[3,3];case 2:this.reload(),n.label=3;case 3:return[2]}})})},n.prototype.loadFromServer=function(){return VP(this,void 0,void 0,function(){var n;return jP(this,function(t){switch(t.label){case 0:return[4,this.worksheetStub.getWorksheet(this.tenantId,this.worksheetId)];case 1:return n=t.sent(),[4,this.loadFrom(n,!0)];case 2:return t.sent(),[2]}})})},n.prototype.waitForUpdate=function(){return this.updateTask?this.updateTask:Promise.resolve()},n.prototype.reload=function(){return VP(this,void 0,void 0,function(){var n,t,l;return jP(this,function(e){switch(e.label){case 0:if(this.isOwner)return[2];e.label=1;case 1:return e.trys.push([1,4,5,6]),this.errorMessage=void 0,n=this.worksheetStub.getWorksheet(this.tenantId,this.worksheetId),this.updateTask=n,[4,n];case 2:return t=e.sent(),this.worksheetViewModel=void 0,[4,this.loadFrom(t,!0)];case 3:return e.sent(),[3,6];case 4:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,6];case 5:return this.updateTask=void 0,[7];case 6:return[2]}})})},n.prototype.update=function(n,t){return VP(this,void 0,void 0,function(){var l;return jP(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.updateInner(n,t)];case 1:return e.sent(),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},n.prototype.undo=function(){return VP(this,void 0,void 0,function(){var n,t;return jP(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n=this.worksheetViewModel.history.undo(),[4,this.setFromHistory(n)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.redo=function(){return VP(this,void 0,void 0,function(){var n,t;return jP(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n=this.worksheetViewModel.history.redo(),[4,this.setFromHistory(n)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},Object.defineProperty(n.prototype,"undoBufferSizeString",{get:function(){return this.getBufferSizeString(this.worksheetViewModel.history.undoBufferSize)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"redoBufferSizeString",{get:function(){return this.getBufferSizeString(this.worksheetViewModel.history.redoBufferSize)},enumerable:!0,configurable:!0}),n.prototype.getBufferSizeString=function(n){return n?"("+n+")":""},n.prototype.setFromHistory=function(n){return VP(this,void 0,void 0,function(){var t;return jP(this,function(l){switch(l.label){case 0:return n?(t={rows:n.slice(),labelDefinitions:this.worksheetViewModel.worksheetLabelDefinitions},this.worksheetViewModel.applyRows(n),this.worksheetViewModel.generateColumns(),[4,this.updateInner(!0,!1,t)]):[2];case 1:return l.sent(),[2]}})})},n.prototype.updateInner=function(n,t,l){return void 0===l&&(l=void 0),VP(this,void 0,void 0,function(){return jP(this,function(e){switch(e.label){case 0:return this.errorMessage=void 0,this.isOwner?[3,2]:[4,this.reload()];case 1:return e.sent(),[2];case 2:if(this.pendingUpdate&&this.pendingUpdate.generateColumns&&(n=!0),l?t=!1:l=this.worksheetViewModel.getOutline(),t&&this.worksheetViewModel.history.add(l.rows),this.pendingUpdate=new function(n,t,l,e,u){this.generateColumns=n,this.name=t,this.outline=l,this.properties=e,this.notes=u}(n,this.worksheetViewModel.name,l,this.worksheetViewModel.properties,this.worksheetViewModel.notes),this.updateTask)return[3,6];e.label=3;case 3:return e.trys.push([3,,5,6]),this.updateTask=this.performUpdateLoop(),[4,this.updateTask];case 4:return e.sent(),[3,6];case 5:return this.updateTask=void 0,[7];case 6:return[2]}})})},n.prototype.performUpdateLoop=function(){return VP(this,void 0,void 0,function(){var n,t;return jP(this,function(l){switch(l.label){case 0:if(!this.pendingUpdate)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),n=this.pendingUpdate,this.pendingUpdate=void 0,[4,this.updateFromRequest(n)];case 2:return l.sent(),[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[3,0];case 5:return[2]}})})},n.prototype.updateFromRequest=function(n){return VP(this,void 0,void 0,function(){var t;return jP(this,function(l){switch(l.label){case 0:return[4,this.worksheetStub.putWorksheet(this.tenantId,this.worksheetId,{name:n.name,properties:n.properties,notes:n.notes,outline:n.outline})];case 1:return t=l.sent(),[4,this.loadFrom(t,n.generateColumns)];case 2:return l.sent(),[2]}})})},n.prototype.dockWorksheet=function(){return VP(this,void 0,void 0,function(){return jP(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.waitForUpdateWithSpinner()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[2];case 3:return this.dock.setTransferringViewModel(this.worksheetViewModel),[4,this.dock.setWorksheet(new function(n,t){this.tenantId=n,this.worksheetId=t}(this.tenantId,this.worksheetId))];case 4:return n.sent(),this.router.navigate(["/worksheets"]),[2]}})})},n.prototype.undockWorksheet=function(n){return VP(this,void 0,void 0,function(){return jP(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.waitForUpdateWithSpinner()];case 1:return t.sent(),[3,3];case 2:return t.sent(),[2];case 3:return this.dock.setTransferringViewModel(this.worksheetViewModel),[4,this.dock.setWorksheet(void 0)];case 4:return t.sent(),n&&this.router.navigate(["/worksheets",this.tenantId,this.worksheetId]),[2]}})})},n.prototype.handleConfigChangedEvent=function(n){return VP(this,void 0,void 0,function(){var t;return jP(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.worksheetViewModel?this.worksheetViewModel.rows.some(function(t){return t.study.populated&&t.study.populated.reference&&t.study.populated.reference.tenantId===n.tenantId&&t.study.populated.reference.targetId===n.documentId||t.configs.some(function(t){return t.populated&&t.populated.reference&&t.populated.reference.tenant&&t.populated.reference.tenant.tenantId===n.tenantId&&t.populated.reference.tenant.targetId===n.documentId})})?[4,this.update(!1,!1)]:[3,2]:[2];case 1:l.sent(),l.label=2;case 2:return[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},n.prototype.waitForUpdateWithSpinner=function(){var n=this;return this.loadingDialog.show(function(t){return t.setStatus("Waiting for worksheet sync..."),n.waitForUpdate()})},n.prototype.loadFrom=function(n,t){return VP(this,void 0,void 0,function(){var l,e;return jP(this,function(u){switch(u.label){case 0:return[4,this.worksheetUnderlyingDataFactory.create(n)];case 1:return l=u.sent(),e=l.studyTypesList[0],this.worksheetViewModel?this.worksheetViewModel.update(l):(this.worksheetViewModel=this.worksheetViewModelFactory.create(this,l,e.studyType),this.worksheetViewModel.history.add(l.worksheetResult.worksheet.outline.rows)),t&&this.worksheetViewModel.generateColumns(),[2]}})})},n}();function FP(n,t){void 0===t&&(t=!1);var l=Tk(n);if(l)return"default,"+l.name;var e=Pk(n);if(e)return t?e.tenantId+","+e.targetId+","+(e.jobIndex||0):e.tenantId+","+e.targetId;throw new Error("Unexpected reference format: "+JSON.stringify(n))}var AP=function(){function n(n){void 0===n&&(n=!1),this.includeJobIndex=n,this.cache={}}return n.prototype.add=function(n){this.cache[FP(n.reference,this.includeJobIndex)]=n},n.prototype.get=function(n){return this.cache[FP(n,this.includeJobIndex)]},n}(),LP=function(){function n(){this.map={}}return n.prototype.incrementConfig=function(n){this.getReferenceMetadata(n.reference).incrementConfig(n)},n.prototype.incrementStudy=function(n){this.getReferenceMetadata(n.reference).incrementStudy(n)},n.prototype.decrementConfig=function(n){this.getReferenceMetadata(n.reference).decrementConfig(n)},n.prototype.decrementStudy=function(n){this.getReferenceMetadata(n.reference).decrementStudy(n)},n.prototype.getReferenceMetadata=function(n){var t=FP(n),l=this.map[t];return l||(l=new DP,this.map[t]=l),l},n.prototype.get=function(n){return this.map[FP(n)]||DP.empty},n}(),DP=function(){function n(){this._configs=new Set,this._studies=new Set}return Object.defineProperty(n.prototype,"count",{get:function(){return this._configs.size+this._studies.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configCount",{get:function(){return this._configs.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"studyCount",{get:function(){return this._studies.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configs",{get:function(){return this._configs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"studies",{get:function(){return this._studies},enumerable:!0,configurable:!0}),n.prototype.incrementConfig=function(t){if(this===n.empty)throw new Error("Cannot increment the empty reference.");this._configs.add(t)},n.prototype.incrementStudy=function(t){if(this===n.empty)throw new Error("Cannot increment the empty reference.");this._studies.add(t)},n.prototype.decrementConfig=function(t){if(this===n.empty)throw new Error("Cannot increment the empty reference.");this._configs.delete(t)},n.prototype.decrementStudy=function(t){if(this===n.empty)throw new Error("Cannot increment the empty reference.");this._studies.delete(t)},n.empty=new n,n}(),NP=l("Gi3i"),UP=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},QP=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},JP=new Set([bn.pacejkaCanopyConverter]);function $P(n){return n.filter(function(n){return n.state===fn.enabled&&!JP.has(n.studyType)})}var HP=function(){function n(n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h){this.identity=n,this.formBuilder=t,this.studyStub=l,this.getSimVersion=e,this.formSubmissionHandler=u,this.studyStagingArea=r,this.timer=i,this.studyTypeLookup=o,this.router=s,this.compareStagedInputToSource=a,this.loadingDialog=c,this.submitStudy=d,this.activeWorksheets=b,this.addStudyToWorksheetAndExtractInputs=f,this.saveToStagingAreaHandlerFactory=p,this.getFriendlyErrorAndLog=h,this.StudyTypeState=fn,this.submitButton=new ll("Commit","Committing..."),this.name=new Zt.f("",[Zt.w.required].concat(tl.configNameValidators)),this.studyInputs=[],this.studyType=new Zt.f("",[Zt.w.required])}return n.prototype.ngOnInit=function(){this.loadComponent()},n.prototype.loadComponent=function(){return UP(this,void 0,void 0,function(){return QP(this,function(n){return this.reloadSimVersionAndFormAndInputs(),this.subscribeToPermanentEvents(),[2]})})},Object.defineProperty(n.prototype,"isLoaded",{get:function(){return!!this.studyTypesList},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"worksheets",{get:function(){return this.activeWorksheets.items},enumerable:!0,configurable:!0}),n.prototype.addToWorksheet=function(n){return UP(this,void 0,void 0,function(){var t;return QP(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.addStudyToWorksheetAndExtractInputs.execute(n,{tenantId:this.committedStudy.tenantId,targetId:this.committedStudy.studyId},!0)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.reloadSimVersionAndFormAndInputs=function(){return UP(this,void 0,void 0,function(){var n;return QP(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.saveToStagingAreaHandler=this.saveToStagingAreaHandlerFactory.create(),[4,this.getSimVersion.execute()];case 1:return t.sent(),[4,this.reloadFormAndInputs()];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})})},n.prototype.reloadFormAndInputs=function(){return UP(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d;return QP(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),this.unsubscribeFromTransientEvents(),n={name:this.name,studyType:this.studyType},[4,this.studyTypeLookup.getConfigTypeList()];case 1:for(t=b.sent(),l={},e=0,u=this.studyInputs;e<u.length;e++)l[(r=u[e]).configType.singularKey]=r.updatedTimestamp;for(this.studyInputs=[],i=0,o=t;i<o.length;i++)s=o[i],a=new Zt.f("",Zt.w.compose([])),n[s.singularKey]=a,(c=new qP(s,a)).updatedTimestamp=l[s.singularKey],this.studyInputs.push(c);return this.form=this.formBuilder.group(n),this.subscribeToTransientEvents(),[4,this.reloadInputs()];case 2:return b.sent(),[3,4];case 3:return d=b.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(d),[3,4];case 4:return[2]}})})},Object.defineProperty(n.prototype,"enabledStudyTypes",{get:function(){return $P(this.studyTypesList)},enumerable:!0,configurable:!0}),n.prototype.subscribeToTransientEvents=function(){var n=this;this.formChangedSubscription=this.form.valueChanges.pipe(Object(NP.a)(500)).subscribe(function(){return n.saveStudyInformation()})},n.prototype.unsubscribeFromTransientEvents=function(){this.formChangedSubscription&&(this.formChangedSubscription.unsubscribe(),this.formChangedSubscription=void 0)},n.prototype.subscribeToPermanentEvents=function(){var n=this;this.studyStagingArea.changed.subscribe(function(){return n.reloadInputs()}),this.studyType.valueChanges.subscribe(function(){return n.onStudyTypeChanged()}),this.getSimVersion.changed.subscribe(function(){return n.reloadFormAndInputs()})},n.prototype.onStudyTypeChanged=function(){return UP(this,void 0,void 0,function(){return QP(this,function(n){switch(n.label){case 0:return[4,this.saveStudyInformation()];case 1:return n.sent(),[4,this.reloadInputs()];case 2:return n.sent(),[2]}})})},n.prototype.reloadInputs=function(){return UP(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s;return QP(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.isTestUser=this.identity.isTestUser,this.errorMessage=void 0,this.state=this.studyStagingArea.get(),this.showErrors=!1,n=this,[4,this.studyTypeLookup.getStudyTypeMap(this.getSimVersion.currentSimVersion)];case 1:return n.studyTypesLookup=a.sent(),t=this,[4,this.studyTypeLookup.getStudyTypeList(this.getSimVersion.currentSimVersion)];case 2:if(t.studyTypesList=a.sent(),(l=this.studyTypesLookup[this.state.studyType])&&l.state===fn.disabled)return e=this.studyTypesList.find(function(n){return n.state===fn.enabled}),this.studyType.setValue(e.studyType),[2];if(l)for(u=function(n){var t=r.state.inputs.find(function(t){return t.configType===n.configType.singularKey});n.state=t,r.updateIfChanged(n.control,t),r.updateStudyInputIfChanged(t,n),n.isEnabled=!1,n.isRequired=!1;var e=l.inputs.find(function(t){return n.configType.singularKey===t.configType});e&&(n.isEnabled=!0,n.isRequired=e.isRequired)},r=this,i=0,o=this.studyInputs;i<o.length;i++)u(o[i]);return this.updateIfChanged(this.studyType,this.state.studyType),this.updateIfChanged(this.name,this.state.studyName),[3,4];case 3:return s=a.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(s),[3,4];case 4:return[2]}})})},n.prototype.canEditSource=function(n){var t=n.state,l=this.identity.get();return t&&l&&t.userId&&t.userId===l.userId},n.prototype.canCompareToSource=function(n){var t=n.state;return t&&t.configId},n.prototype.canViewReferencedStudyJob=function(n){var t=n.state;return t&&t.data&&t.data.source&&t.data.source.studyId},n.prototype.editSource=function(n){var t=n.state,l=this.identity.get();this.router.navigate(["/configs",t.configType,l.tenantId,t.configId,"edit"])},n.prototype.viewReferencedStudyJob=function(n){return UP(this,void 0,void 0,function(){var t,l=this;return QP(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadingDialog.show(function(t){return UP(l,void 0,void 0,function(){var l,e,u,r,i,o,s;return QP(this,function(a){switch(a.label){case 0:return t.setStatus("Please wait..."),l=n.state,e=this.identity.get(),r=(u=l.data.source).tenantId||e.tenantId,i=u.studyId,o=u.jobIndex||0,[4,this.studyStub.getStudyMetadata(r,i)];case 1:return s=a.sent(),this.router.navigate(1===s.study.data.jobCount?["/studies",r,i]:["/studies",r,i,"jobs",o]),[2]}})})})];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.compareToSource=function(n){return UP(this,void 0,void 0,function(){var t;return QP(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.compareStagedInputToSource.execute(n.state)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.updateStudyInputIfChanged=function(n,t){n?n.timestamp!==t.updatedTimestamp&&(this.setUpdated(t),t.updatedTimestamp=n.timestamp):t.updatedTimestamp=void 0},n.prototype.setUpdated=function(n){return UP(this,void 0,void 0,function(){var t;return QP(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n.isUpdated=!0,[4,this.timer.delay(1e3)];case 1:return l.sent(),n.isUpdated=!1,[3,3];case 2:return t=l.sent(),console.warn("Failed to set study input item as updated"),console.warn(t),[3,3];case 3:return[2]}})})},n.prototype.clear=function(){try{this.errorMessage=void 0;var n=this.studyStagingArea.get();this.studyStagingArea.clear(),n&&this.studyStagingArea.setStudyInformation(n.studyType,""),this.dismissCommittedStudy()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.saveStudyInformation=function(){try{this.errorMessage=void 0,this.studyType.value===this.studyStagingArea.state.studyType&&this.name.value===this.studyStagingArea.state.studyName||this.studyStagingArea.setStudyInformation(this.studyType.value,this.name.value)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.dismissCommittedStudy=function(){this.committedStudy=void 0},n.prototype.incrementStudyName=function(n){var t=n.replace(/ \d+$/,function(n){return" "+(1+parseInt(n,void 0))});return t===n?n+" 2":t},n.prototype.removeInput=function(n){this.studyStagingArea.remove(n.configType.singularKey)},n.prototype.onSubmit=function(){return UP(this,void 0,void 0,function(){return QP(this,function(n){switch(n.label){case 0:return this.showErrors=!0,this.dismissCommittedStudy(),[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent(),[2]}})})},n.prototype.submit=function(){return UP(this,void 0,void 0,function(){var n,t,l,e=this;return QP(this,function(u){switch(u.label){case 0:if(0===this.studyTypesList.length)throw new dl("You do not have any study types.");if(!(n=this.studyTypesLookup[this.studyType.value]))throw new cl("Unknown study type.","Unknown study type: "+this.studyType.value);return l=this,[4,this.submitStudy.execute(t=this.name.value,n,function(n,t){return e.studyStagingArea.getInput(n,t)})];case 1:return l.committedStudy=u.sent(),this.name.setValue(this.incrementStudyName(t),{}),[2]}})})},n.prototype.getConfigOrConfigLoader=function(n){return function(){return new Pb("staged",n.state,void 0)}},n.prototype.updateIfChanged=function(n,t){n.value!==t&&n.setValue(t,{})},n}(),qP=function(n,t){this.configType=n,this.control=t},BP=function(){function n(n,t){this.studyTypeLookup=n,this.getSimVersion=t}return n.prototype.create=function(n){return t=this,void 0,e=function(){var t,l,e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return e=$P,[4,this.studyTypeLookup.getStudyTypeList(t=this.getSimVersion.currentSimVersion)];case 1:return l=e.apply(void 0,[i.sent()]),[4,this.studyTypeLookup.getStudyTypeMap(t)];case 2:return u=i.sent(),[4,this.studyTypeLookup.getSimTypeMap()];case 3:if(r=i.sent(),0===l.length)throw new cl("No study types found.");return[2,new zP(t,n,l,u,r)]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),zP=function(){function n(n,t,l,e,u){this.simVersion=n,this.worksheetResult=t,this.studyTypesList=l,this.studyTypes=e,this.simTypes=u,this.referencesMetadata=new LP,this.tenants=t.userInformation.tenants.reduce(function(n,t){return n[t.tenantId]=t,n},{}),this.users=t.userInformation.tenants.map(function(n){return n.users}).reduce(function(n,t){return n.concat(t)},[]).reduce(function(n,t){return n[t.userId]=t,n},{}),this.configResolvedReferences=t.worksheet.resolvedReferences.configs.reduce(function(n,t){return n.add(t),n},new AP(!0)),this.studyResolvedReferences=t.worksheet.resolvedReferences.studies.reduce(function(n,t){return n.add(t),n},new AP),this.configResolvedLabels=t.worksheet.resolvedLabels.configs.reduce(function(n,t){return n.add(t),n},new AP(!0)),this.studyResolvedLabels=t.worksheet.resolvedLabels.studies.reduce(function(n,t){return n.add(t),n},new AP)}return n.prototype.getConfigTypeName=function(n){var t=kt.get(n);return t?t.titleName:n},n.prototype.getConfigTypePluralKey=function(n){var t=kt.get(n);return t?t.pluralKey:n},n.prototype.getStudyTypeName=function(n){var t=this.studyTypes[n];return t?t.name:n},n.prototype.getSimTypeName=function(n){var t=this.simTypes[n];return t?t.name:n},n}(),KP=function(n,t,l){this.columnType=n,this.id=t,this.name=l,this.trackingId=t+"-"+l},WP=function(){function n(){this._list=[],this._map={}}return Object.defineProperty(n.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),n.prototype.get=function(n){return this._map[n]},n.prototype.set=function(n){var t=this._map[n.configType];if(t)return t.setConfig(n.reference),t;var l=n.createViewModel();return this._list.push(l),this._map[n.configType]=l,l},n.prototype.replace=function(n){for(var t=new Set,l=0,e=n;l<e.length;l++){var u=e[l];t.add(u.configType);var r=this._map[u.configType];r?r.setConfig(u.reference):(r=u.createViewModel(),this._list.push(r),this._map[u.configType]=r)}for(var i=0,o=this._list;i<o.length;i++){var s=o[i];t.has(s.configType)||s.setConfig(void 0)}},n}(),GP=function(){function n(n,t,l){this.config=n,this.row=t,this.underlyingData=l}return Object.defineProperty(n.prototype,"configType",{get:function(){return this.config.configType},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reference",{get:function(){return this.config.reference},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createViewModel",{get:function(){var n=this;return function(){return new Vk(n.row,n.configType,n.config,n.underlyingData)}},enumerable:!0,configurable:!0}),n}(),YP=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ZP=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},XP=function(){function n(n,t,l,e){var u=this;this.worksheet=n,this.underlyingData=e,this._configs=new WP,this.name=t.name,this._configs.replace(t.configs.map(function(n){return new GP(n,u,e)})),t.study.reference?(this.study=Sk.fromStudy(this,t.study,e),this.updateSimulations(t.study.reference,e)):this.study=Sk.fromEmpty(this,l,e),this.rowMetadata=new mk(this),this.simulations||(this._simulations=[])}return Object.defineProperty(n.prototype,"configs",{get:function(){return this._configs.list},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"simulations",{get:function(){return this._simulations},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._configs.list.every(function(n){return!n.reference})&&!this.study.reference},enumerable:!0,configurable:!0}),n.prototype.getConfig=function(n){return this._configs.get(n)},n.prototype.getPopulatedStudies=function(){var n=[],t=this.getConfig(un.telemetry);return t&&t.populated&&t.populated.populatedStudy&&n.push(t.populated.populatedStudy),this.study.populated&&n.push(this.study.populated),n},n.prototype.getSimulation=function(n){return this._simulations.find(function(t){return t.unpopulated.simType===n})},n.prototype.setAllConfigsFromData=function(n){var t=this;n||(n=[]),this._configs.replace(n.map(function(n){return new GP(n,t,t.underlyingData)}))},n.prototype.setConfigFromData=function(n){n&&this._configs.set(new GP(n,this,this.underlyingData))},n.prototype.setStudyFromData=function(n){n&&this.study.setStudy(n.reference)},Object.defineProperty(n.prototype,"isSelected",{get:function(){return this.study.isSelected&&this.configs.every(function(n){return n.isSelected})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anySelected",{get:function(){return this.study.isSelected||this.configs.some(function(n){return n.isSelected})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anySelectedAndPopulated",{get:function(){return this.study.isSelected&&!!this.study.populated||this.configs.some(function(n){return n.isSelected&&!!n.populated})},enumerable:!0,configurable:!0}),n.prototype.getOutline=function(){return{name:this.name,configs:this.configs.filter(function(n){return!!n.populated}).map(function(n){return n.getOutline()}),study:this.study.getOutline()}},n.prototype.getRowPopulatedOutline=function(){return{name:this.name?this.name:void 0,configs:this.configs.filter(function(n){return!!n.populated}).map(function(n){return n.getOutline()}),study:this.study.populated?this.study.getOutline():void 0}},n.prototype.getRowSelectedOutline=function(){return{name:this.isSelected?this.name:void 0,configs:this.configs.filter(function(n){return!!n.populated&&n.isSelected}).map(function(n){return n.getOutline()}),study:this.study.populated&&this.study.isSelected?this.study.getOutline():void 0}},n.prototype.update=function(n){this.underlyingData=n;for(var t=0,l=this._configs.list;t<l.length;t++)l[t].update(n);this.study.update(n),this.updateSimulations(this.study.reference,n)},n.prototype.onStudyChanged=function(){this.updateSimulations(this.study.reference,this.underlyingData)},n.prototype.generateColumns=function(n){var t=this,l=this.simulations.reduce(function(n,t){return n[t.unpopulated.simType]=t,n},{});this.columns=n.map(function(n){var e;switch(n.columnType){case Nk.rowMetadata:e=t.rowMetadata;break;case Nk.config:if(e=t._configs.get(n.id),Object(fe.isUndefined)(e)){var u=new function(n,t,l){this.configType=n,this.reference=t,this.createViewModel=l}(n.id,void 0,function(){return new Vk(t,n.id,void 0,t.underlyingData)});e=t._configs.set(u)}break;case Nk.study:e=t.study;break;case Nk.simulation:e=l[n.id],Object(fe.isUndefined)(e)&&(e=new Ak(t,n.id,void 0,t.underlyingData),t._simulations.push(e))}return new function(n,t){this.definition=n,this.value=t}(n,e)})},n.prototype.copyDownRow=function(n){this.worksheet.copyDownRow(this,n)},n.prototype.removeRow=function(){1===this.worksheet.rows.length?this.worksheet.clearRow(this):this.worksheet.removeRow(this)},n.prototype.clearRow=function(){this.worksheet.clearRow(this)},n.prototype.pasteRowsAsync=function(n,t,l){return YP(this,void 0,void 0,function(){return ZP(this,function(e){switch(e.label){case 0:return[4,this.worksheet.pasteRowsAsync(this,n,t,l)];case 1:return e.sent(),[2]}})})},n.prototype.extractStudyInputs=function(){return YP(this,void 0,void 0,function(){return ZP(this,function(n){switch(n.label){case 0:return[4,this.worksheet.extractStudyInputs(this)];case 1:return n.sent(),[2]}})})},n.prototype.updateSimulations=function(n,t){var l=this;if(n){var e=t.studyResolvedReferences.get(n);if(e&&e.data){var u,r=t.studyResolvedLabels.get(n);u=r?r.simulationLabels.reduce(function(n,t){return n[t.simType]=t,n},{}):{},this._simulations=e.data.simTypes.map(function(n){return new Ak(l,n,u[n]||{simType:n,resolvedLabels:[]},t)})}else this._simulations=[]}else this._simulations=[]},n}(),nE=function(){function n(n){this.historySize=n,this.history=[],this.position=0}return Object.defineProperty(n.prototype,"canUndo",{get:function(){return this.history.length>0&&this.position>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRedo",{get:function(){return this.history.length>0&&this.position<this.history.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"undoBufferSize",{get:function(){return this.position},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"redoBufferSize",{get:function(){return this.history.length-this.position-1},enumerable:!0,configurable:!0}),n.prototype.add=function(n){this.canRedo&&this.history.splice(this.position+1),this.history.push(n),this.position=this.history.length-1,this.history.length>this.historySize&&(this.history.splice(0,1),--this.position)},n.prototype.undo=function(){if(this.canUndo)return this.history[--this.position]},n.prototype.redo=function(){if(this.canRedo)return this.history[++this.position]},n}(),tE=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},lE=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},eE=function(){function n(n,t,l,e,u){this.json=n,this.duplicateClipboardContentIfRequired=t,this.loadingDialog=l,this.createWorksheetRowFromStudy=e,this.worksheetUnderlyingDataFactory=u}return n.prototype.create=function(n,t,l){return new rE(this.json,this.duplicateClipboardContentIfRequired,this.loadingDialog,this.createWorksheetRowFromStudy,n,t,l)},n.prototype.createFromWorksheetResult=function(n,t){return tE(this,void 0,void 0,function(){var l,e;return lE(this,function(u){switch(u.label){case 0:return[4,this.worksheetUnderlyingDataFactory.create(t)];case 1:return l=u.sent(),[4,(e=this.create(n,l,l.studyTypesList[0].studyType)).generateColumns()];case 2:return u.sent(),[2,e]}})})},n}(),uE=11,rE=function(){function n(n,t,l,e,u,r,i){var o=this;this.json=n,this.duplicateClipboardContentIfRequired=t,this.loadingDialog=l,this.createWorksheetRowFromStudy=e,this.parent=u,this.underlyingData=r,this.defaultStudyType=i,this.history=new nE(uE);var s=this.underlyingData.worksheetResult;this.tenant=this.underlyingData.tenants[s.worksheet.tenantId],this.user=this.underlyingData.users[s.worksheet.userId],this.worksheetId=s.worksheet.worksheetId,this.name=s.worksheet.name,this.properties=ye.objectToList(s.worksheet.properties),this.notes=s.worksheet.notes,this.worksheetLabelDefinitions=s.worksheet.outline.labelDefinitions,this.supportSession={session:s.worksheet.supportSession,userInformation:s.userInformation};var a=s.worksheet.outline.rows.map(function(n){var t=new XP(o,n,o.defaultStudyType,o.underlyingData);return o.defaultStudyType=t.study.unpopulated.studyType||o.defaultStudyType,t});if(0===a.length||a.every(function(n){return!(!Object(fe.isUndefined)(n.study.reference)||0!==n.configs.length)}))for(;a.length<vk;)a.push(this.createEmptyRow());this._rows=a}return Object.defineProperty(n.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tenantId",{get:function(){return this.tenant.tenantId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userId",{get:function(){return this.user.userId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maximumRowsReached",{get:function(){return this._rows.length>=100},enumerable:!0,configurable:!0}),n.prototype.getCurrentUnderlyingData=function(){return this.underlyingData},n.prototype.isReadOnly=function(n){return this.userId!==n},n.prototype.canWrite=function(n){return!this.isReadOnly(n)},n.prototype.waitForUpdate=function(){return this.parent.waitForUpdate()},n.prototype.updateParent=function(n){this.parent=n},n.prototype.update=function(n){this.underlyingData=n;var t=this.underlyingData.worksheetResult;this.supportSession={session:t.worksheet.supportSession,userInformation:t.userInformation},this.worksheetLabelDefinitions=t.worksheet.outline.labelDefinitions;for(var l=0,e=this._rows;l<e.length;l++)e[l].update(n)},n.prototype.requestUpdate=function(n,t){void 0===n&&(n=!1),void 0===t&&(t=!0),this.parent.update(n,t)},n.prototype.undo=function(){return this.parent.undo()},n.prototype.redo=function(){return this.parent.redo()},n.prototype.generateColumns=function(){for(var n=this,t=new Set,l=new Set,e=0,u=this.rows;e<u.length;e++){for(var r=0,i=(h=u[e]).configs.filter(function(n){return!!n.populated});r<i.length;r++)t.add(i[r].unpopulated.configType);for(var o=0,s=h.study.inputConfigTypes;o<s.length;o++)t.add(s[o]);for(var a=0,c=h.simulations;a<c.length;a++)l.add(c[a].unpopulated.simType)}var d=Array.from(t).sort(),b=Array.from(l).sort();this.columns=[new KP(Nk.rowMetadata,void 0,"Row")].concat(d.map(function(t){return new KP(Nk.config,t,n.underlyingData.getConfigTypeName(t))}),[new KP(Nk.study,void 0,"Study")],b.map(function(t){return new KP(Nk.simulation,t,n.underlyingData.getSimTypeName(t))}));for(var f=0,p=this.rows;f<p.length;f++){var h;(h=p[f]).generateColumns(this.columns)}},n.prototype.getOutline=function(){return{labelDefinitions:this.worksheetLabelDefinitions,rows:this.rows.map(function(n){return n.getOutline()})}},n.prototype.setItemsMatching=function(n){var t=this,l=function(n,l){if(n){var e=t.underlyingData.referencesMetadata.get(n);e.configs.forEach(function(n){n.matchesSelectedConfig=l}),e.studies.forEach(function(n){n.matchesSelectedConfig=l})}};l(this.previousMatchingReference,!1),this.previousMatchingReference=n,l(this.previousMatchingReference,!0)},n.prototype.clearItemsMatching=function(){this.setItemsMatching(void 0)},n.prototype.countStudyReferences=function(n){if(!n)return 0;for(var t=0,l=0,e=this._rows;l<e.length;l++){var u=e[l];Ek(n,u.study.reference)&&++t;var r=u.getConfig(un.telemetry);r&&Ek(n,r.reference)&&++t}return t},n.prototype.setAllConfigs=function(n,t){if(n)for(var l=this.underlyingData.referencesMetadata.get(n),e=0,u=Array.from(l.configs);e<u.length;e++)u[e].setConfig(t)},n.prototype.setAllStudies=function(n,t){if(n)for(var l=this.underlyingData.referencesMetadata.get(n),e=0,u=Array.from(l.studies);e<u.length;e++)u[e].setStudy(t)},n.prototype.insertRows=function(n,t){var l=this,e=this._rows.indexOf(n);-1===e&&(e=this._rows.length),this.insertRowsAt(e,t,function(){return l.createEmptyRow(n.study.studyType)})},n.prototype.appendRows=function(n,t){var l=this,e=this._rows.indexOf(n);-1===e&&(e=this._rows.length-1),this.insertRowsAt(e+1,t,function(){return l.createEmptyRow(n.study.studyType)})},n.prototype.copyDownRow=function(n,t){var l=this,e=this._rows.indexOf(n);-1===e&&(e=this._rows.length-1),this.insertRowsAt(e+1,t,function(){return new XP(l,l.json.clone(n.getOutline()),n.study.studyType,l.underlyingData)})},n.prototype.removeRow=function(n){var t=this._rows.indexOf(n);-1!==t&&this._rows.splice(t,1)},n.prototype.clearRow=function(n){this.pasteRowsSync(n,new cy(this.tenantId,this.worksheetId,[this.createEmptyRowData()]),!0)},n.prototype.extractStudyInputs=function(n){return tE(this,void 0,void 0,function(){var t;return lE(this,function(l){switch(l.label){case 0:return n.study.reference?[4,this.createWorksheetRowFromStudy.execute(n.study.reference.tenantId,n.study.reference.targetId,this.worksheetId,yy.default())]:[2];case 1:return t=l.sent(),this.pasteRowsSync(n,t.clipboardContent,!1),[2]}})})},n.prototype.getSelectedOutline=function(){for(var n=[],t=[],l=0,e=this.rows;l<e.length;l++){var u=e[l];u.anySelectedAndPopulated?(n.push.apply(n,t),t.length=0,n.push(u.getRowSelectedOutline())):n.length&&t.push(u.getRowSelectedOutline())}return n},n.prototype.getSelectedViewModels=function(){for(var n=[],t=0,l=this.rows;t<l.length;t++){var e=l[t];e.isSelected?n.push(e.rowMetadata):(n.push.apply(n,e.configs.filter(function(n){return n.isSelected})),e.study.isSelected&&n.push(e.study))}return n},n.prototype.getSelectedRows=function(){for(var n=[],t=0,l=this.rows;t<l.length;t++){var e=l[t];e.anySelected&&n.push(e)}return n},n.prototype.clearSelected=function(){for(var n=0,t=this.rows;n<t.length;n++){var l=t[n];if(l.isSelected)this.clearRow(l);else{l.study.populated&&l.study.isSelected&&l.study.setStudy(void 0);for(var e=0,u=l.configs;e<u.length;e++){var r=u[e];r.populated&&r.isSelected&&r.setConfig(void 0)}}}},n.prototype.pasteRowsSync=function(n,t,l){if(this.verifyClipboardContentExists(t)){if(t.sourceWorksheetId!==this.worksheetId)throw new Error("Synchronous paste rows cannot be used for content not from this worksheet.");this.pasteRowsInner(n,t,l)}},n.prototype.applyRows=function(n){n&&0!==n.length&&0!==this._rows.length&&(this.applyRowsInner(this._rows[0],new cy(this.tenantId,this.worksheetId,n),!0),this._rows.length=n.length)},n.prototype.insertRowsAt=function(n,t,l){var e;if(100===this._rows.length)return!1;var u=!0;return this._rows.length+t>100&&(t=100-this._rows.length,u=!1),(e=this._rows).splice.apply(e,[n,0].concat(Array.apply(null,{length:t}).map(l))),u},n.prototype.createEmptyRow=function(n){return new XP(this,this.createEmptyRowData(),Object(fe.isUndefined)(n)?this.defaultStudyType:n,this.underlyingData)},n.prototype.pasteRowsAsync=function(n,t,l,e){return tE(this,void 0,void 0,function(){var u;return lE(this,function(r){switch(r.label){case 0:return this.verifyClipboardContentExists(t)?(u=this.duplicateClipboardContentIfRequired.execute(this.tenantId,this.worksheetId,t,l),[4,this.loadingDialog.showUntilFinished(u,"Copying...")]):[2];case 1:return t=r.sent(),this.pasteRowsInner(n,t,e),[2]}})})},n.prototype.pasteRowsInner=function(n,t,l){this.verifyClipboardContentExists(t)&&this.applyRowsInner(n,t,l)},n.prototype.applyRowsInner=function(n,t,l){var e=this,u=this._rows.indexOf(n);if(-1!==u)for(var r=0;r<t.rows.length;++r){var i=u+r;if(i===this._rows.length&&!this.insertRowsAt(i,1,function(){return e.createEmptyRow(n.study.studyType)}))break;var o=t.rows[r],s=this._rows[i];if(Object(XC.a)(o.name)&&(s.name=o.name),l)s.setAllConfigsFromData(o.configs);else if(o.configs)for(var a=0,c=o.configs;a<c.length;a++)s.setConfigFromData(c[a]);o.study?s.setStudyFromData(o.study):l&&s.study.setStudy(void 0)}},n.prototype.verifyClipboardContentExists=function(n){return!!(n&&n.rows&&n.rows.length)},n.prototype.createEmptyRowData=function(){return{name:"",configs:[],study:{reference:void 0}}},n}(),iE=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),oE=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t){return this.dialogManager.showSecondaryDialog(new sE(n,t))},n}(),sE=function(n){function t(t,l){var e=n.call(this)||this;return e.canEditWorksheetLabels=t,e.worksheetLabels=l,e.dismissData=new aE(!1,void 0),e}return iE(t,n),t}(se),aE=function(n,t){this.refreshRequired=n,this.newWorksheetLabels=t};Object(e.r)();var cE=function(){function n(){this.viewModels=[]}return Object.defineProperty(n.prototype,"items",{get:function(){return this.viewModels},enumerable:!0,configurable:!0}),n.prototype.add=function(n){this.remove(n),this.viewModels.push(n)},n.prototype.remove=function(n){for(var t=this.viewModels.length-1;t>=0;--t)this.viewModels[t].worksheetId===n.worksheetId&&this.viewModels.splice(t,1)},n}(),dE=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),bE=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l,e){return this.dialogManager.showSecondaryDialog(new fE(n,t,l,e))},n}(),fE=function(n){function t(t,l,e,u){var r=n.call(this)||this;return r.tenantId=t,r.target=l,r.initialDocumentMetadata=e,r.saveOnSubmit=u,r.dismissData=new pE(void 0),r}return dE(t,n),t}(se),pE=function(n){this.documentMetadata=n},hE=e.sb({encapsulation:0,styles:[[".worksheet-container[_ngcontent-%COMP%]   .worksheet-loading-spinner[_ngcontent-%COMP%]{width:100%;text-align:center}.worksheet-container[_ngcontent-%COMP%]   .worksheet-saving-spinner[_ngcontent-%COMP%]{font-size:.8rem;position:fixed;bottom:2rem;right:2rem;background-color:rgba(255,255,255,.9);padding:.5rem 1rem;border:2px solid #d95929;text-align:center}.worksheet-container[_ngcontent-%COMP%]   .worksheet-table[_ngcontent-%COMP%]{position:relative;margin:0 2rem}.worksheet-features-alert[_ngcontent-%COMP%]{padding:.2rem .5rem}"]],data:{}});function gE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"a",[["class","btn btn-smart btn-secondary back-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,1),e.Fb(3,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(5,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back\n          "]))],function(n,t){n(t,1,0,t.component.isCurrentTenant?n(t,2,0,"/worksheets"):n(t,3,0,"/support-sessions"))},function(n,t){n(t,0,0,e.Eb(t,1).target,e.Eb(t,1).href)})}function yE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"button",[["class","btn btn-secondary btn-smart dock-worksheet-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dockWorksheet()&&e),e},null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-window-minimize"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Dock"]))],null,function(n,t){n(t,0,0,t.component.isWorksheetInDock)})}function mE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"button",[["class","btn btn-secondary btn-smart undock-worksheet-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.undockWorksheet(!0)&&e),e},null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-window-maximize"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Undock"]))],null,null)}function vE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"button",[["class","btn btn-secondary btn-smart close-worksheet-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.undockWorksheet(!1)&&e),e},null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Close"]))],null,null)}function wE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"button",[["class","btn btn-secondary btn-smart synchronize-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.reload()&&e),e},null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-refresh"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Synchronize"]))],null,null)}function ME(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"button",[["class","btn btn-secondary btn-smart edit-worksheet-metadata-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.editMetadata()&&e),e},null,null)),(n()(),e.ub(1,0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit Metadata"]))],null,null)}function CE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"button",[["class","btn btn-secondary btn-smart undo-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.undo()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-undo"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Undo\n            "])),(n()(),e.ub(4,0,null,null,1,"small",[["class","undo-count"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n          "]))],null,function(n,t){var l=t.component;n(t,0,0,!l.worksheetViewModel.history.canUndo),n(t,5,0,l.undoBufferSizeString)})}function SE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"button",[["class","btn btn-secondary btn-smart redo-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.redo()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-repeat"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            Redo\n            "])),(n()(),e.ub(4,0,null,null,1,"small",[["class","undo-count"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n          "]))],null,function(n,t){var l=t.component;n(t,0,0,!l.worksheetViewModel.history.canRedo),n(t,5,0,l.redoBufferSizeString)})}function IE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"pre",[["class","raw-json worksheet-notes"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"last-item":0}),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,"raw-json worksheet-notes",n(t,2,0,!t.component.hasProperties))},function(n,t){n(t,3,0,t.component.worksheetViewModel.notes)})}function xE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,63,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,60,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,11,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(6,0,null,null,1,"span",[["class","worksheet-name"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,5,"div",[["class","card-header-float-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(11,0,null,null,2,"cs-support-session-launcher",[],null,[[null,"supportSessionChanged"]],function(n,t,l){var e=!0;return"supportSessionChanged"===t&&(e=!1!==(n.component.worksheetViewModel.supportSession=l)&&e),e},zs,Hs)),e.tb(12,114688,null,0,Ns,[Qs,$s,On],{tenantId:[0,"tenantId"],documentId:[1,"documentId"],documentType:[2,"documentType"],documentSubType:[3,"documentSubType"],supportSession:[4,"supportSession"]},{supportSessionChanged:"supportSessionChanged"}),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(17,0,null,null,44,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(19,0,null,null,35,"p",[],null,null,null,null,null)),e.tb(20,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{ngClass:[0,"ngClass"]},null),e.Hb(21,{"last-item":0}),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,gE)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,yE)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,mE)),e.tb(30,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,vE)),e.tb(33,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,wE)),e.tb(36,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,ME)),e.tb(39,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(41,0,null,null,2,"button",[["class","btn btn-secondary btn-smart edit-worksheet-labels-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.editLabels()&&e),e},null,null)),(n()(),e.ub(42,0,null,null,0,"i",[["class","fa fa-align-justify"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit Labels"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,CE)),e.tb(46,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,SE)),e.tb(49,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(51,0,null,null,2,"a",[["class","btn btn-secondary btn-smart"],["href","/wiki/Worksheets"],["target","_blank"]],null,null,null,null,null)),(n()(),e.ub(52,0,null,null,0,"i",[["class","fa fa-book"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Help"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,IE)),e.tb(57,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(59,0,null,null,1,"cs-view-custom-properties",[],null,null,null,sy,ry)),e.tb(60,49152,null,0,uy,[],{customProperties:[0,"customProperties"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n  "]))],function(n,t){var l=t.component;n(t,12,0,l.tenantId,l.worksheetId,"config","worksheet",l.worksheetViewModel.supportSession),n(t,20,0,n(t,21,0,!l.hasProperties&&!l.hasNotes)),n(t,24,0,!l.isInstanceInDock),n(t,27,0,!l.isInstanceInDock),n(t,30,0,l.isInstanceInDock),n(t,33,0,l.isInstanceInDock),n(t,36,0,!l.isOwner),n(t,39,0,l.isOwner),n(t,46,0,l.isOwner),n(t,49,0,l.isOwner),n(t,57,0,l.worksheetViewModel.notes),n(t,60,0,l.worksheetViewModel.properties)},function(n,t){n(t,7,0,t.component.worksheetViewModel.name)})}function OE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[["class","worksheet-loading-spinner"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function kE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-worksheet-table",[],null,null,null,OP,CP)),e.tb(1,245760,null,0,mP,[xd,Wk,MP,e.l,b.a,On],{worksheet:[0,"worksheet"],isWorksheetInDock:[1,"isWorksheetInDock"]},null)],function(n,t){var l=t.component;n(t,1,0,l.worksheetViewModel,l.isWorksheetInDock)},null)}function TE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Maximum rows reached."]))],null,null)}function PE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"cs-loader",[["class","worksheet-saving-spinner"]],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,0,["Syncing Worksheet..."]))],null,null)}function EE(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(4,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(7,0,null,null,19,"div",[["class","worksheet-container"]],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,xE)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(12,0,null,null,13,"div",[["class","worksheet-table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,OE)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,kE)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,TE)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,PE)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,l.errorMessage),n(t,10,0,l.worksheetViewModel),n(t,15,0,l.isLoading&&!l.worksheetViewModel),n(t,18,0,l.worksheetViewModel),n(t,21,0,null==l.worksheetViewModel?null:l.worksheetViewModel.maximumRowsReached),n(t,24,0,l.isLoading&&l.worksheetViewModel)},function(n,t){n(t,7,0,e.wb(1,"",t.component.containerElementId,""))})}var _E=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},VE=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},jE="worksheetId",RE=function(){function n(n,t,l,e){var u=this;this.router=n,this.route=t,this.timer=e,this.hideRoute=!1,this.hasChildRoute=!1,this.tenantId=l.getTenantId(t),this.worksheetId=t.snapshot.params[jE],this.worksheetUrl=this.route.snapshot.url.map(function(n){return n.path}),this.router.events.subscribe(function(n){return _E(u,void 0,void 0,function(){return VE(this,function(l){switch(l.label){case 0:return n instanceof b.d?(this.hideRoute=!0,[4,this.timer.yield()]):[3,2];case 1:l.sent(),this.hideRoute=!1,this.hasChildRoute=t.children.length>0,l.label=2;case 2:return[2]}})})})}return n.prototype.ngOnInit=function(){return _E(this,void 0,void 0,function(){return VE(this,function(n){switch(n.label){case 0:return this.hideRoute=!0,[4,this.timer.yield()];case 1:return n.sent(),this.hideRoute=!1,[2]}})})},n.prototype.dismissChildRoute=function(){this.router.navigate(this.worksheetUrl.slice())},n}(),FE=e.sb({encapsulation:0,styles:[[".worksheet-container[_ngcontent-%COMP%]   .worksheet-loader[_ngcontent-%COMP%]{position:absolute;top:.6rem;background-color:#fff;width:100%;text-align:center}.worksheet-container[_ngcontent-%COMP%]   .worksheet-table[_ngcontent-%COMP%]{position:relative;margin:0 2rem}.worksheet-child-route-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0}.worksheet-child-route-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{height:30px;border-bottom:1px solid #e9ecef}.worksheet-child-route-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{display:inline-block;position:absolute;right:0;top:0;bottom:0;font-size:.8rem;border:0;border-radius:0}.worksheet-child-route-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{top:31px}"]],data:{}});function AE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.tb(3,212992,null,0,b.q,[b.b,e.T,e.k,[8,null],e.i],null,null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0)},null)}function LE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,24,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,21,"div",[["class","dialog-container dialog-inner-scroll dialog-full-width dialog-no-footer worksheet-child-route-dialog"],["id","worksheet-child-route-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,18,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,15,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,6,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(10,0,null,null,3,"button",[["aria-label","Close"],["class","btn btn-primary close-button"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismissChildRoute()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(12,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Return to Worksheet\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(16,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,AE)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,19,0,!t.component.hideRoute)},null)}function DE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"cs-edit-worksheet",[],null,null,null,EE,hE)),e.tb(1,245760,null,0,RP,[N,BP,eE,BC,b.m,Bp,Sm,O,oE,Qr,cE,bE,Nb,Bf,On],{tenantId:[0,"tenantId"],worksheetId:[1,"worksheetId"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,LE)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.tenantId,l.worksheetId),n(t,5,0,l.hasChildRoute)},null)}var NE=e.qb("ng-component",RE,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,DE,FE)),e.tb(1,114688,null,0,RE,[b.m,b.a,yl,fr],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),UE=function(){function n(n,t,l){this.getSimVersion=n,this.simVersionStub=t,this.getFriendlyErrorAndLog=l}return n.prototype.ngOnInit=function(){var n=this;this.load(),this.subscription=this.getSimVersion.changed.subscribe(function(){return n.load()})},n.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.downloads=void 0,[4,this.simVersionStub.getDownloads(this.getSimVersion.currentSimVersion||"current",this.tenantId)];case 1:return n=l.sent(),this.downloads=n.downloads,[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),QE=e.sb({encapsulation:0,styles:[[""]],data:{}});function JE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function $E(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        No downloads found for this sim version.\n      "]))],null,null)}function HE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa-li fa fa-download"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n        "]))],null,function(n,t){n(t,4,0,e.wb(1,"",t.context.$implicit.url,"")),n(t,5,0,t.context.$implicit.name)})}function qE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,$E)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.ub(5,0,null,null,4,"ul",[["class","last-item fa-ul"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,HE)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,0===l.downloads.length),n(t,8,0,l.downloads)},null)}function BE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    Downloads\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,JE)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,qE)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,8,0,l.errorMessage),n(t,11,0,!l.downloads),n(t,14,0,l.downloads)},null)}var zE=function(){function n(n,t){this.getUserSimVersion=n,this.localUserSettingsManager=t}return Object.defineProperty(n.prototype,"currentSimVersion",{get:function(){return this.getUserSimVersion.currentSimVersion},enumerable:!0,configurable:!0}),n.prototype.onSimVersionSelected=function(n){n.promise=this.setSimVersion(n.simVersion)},n.prototype.setSimVersion=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return this.localUserSettingsManager.state.userSimVersion=n,this.localUserSettingsManager.save(),[4,this.getUserSimVersion.execute()];case 1:return t.sent(),[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),KE=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),WE=function(n){function t(t,l,e){var u=n.call(this,t,l)||this;return u.localUserSettingsManager=e,u}return KE(t,n),t.prototype.loadSimVersion=function(){return Promise.resolve(this.localUserSettingsManager.state.userSimVersion)},t}(Vr),GE=e.sb({encapsulation:0,styles:[[""]],data:{}});function YE(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Select User Sim Version"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,1,"cs-select-sim-version",[],null,[[null,"simVersionSelected"]],function(n,t,l){var e=!0;return"simVersionSelected"===t&&(e=!1!==n.component.onSimVersionSelected(l)&&e),e},Tr,Sr)),e.tb(10,114688,null,0,vr,[z,H,On],{tenantId:[0,"tenantId"],isTenantSimVersion:[1,"isTenantSimVersion"],currentSimVersion:[2,"currentSimVersion"]},{simVersionSelected:"simVersionSelected"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,10,0,l.tenantId,!1,l.currentSimVersion)},null)}var ZE=function(){function n(n,t,l){this.route=n,this.inferableRouteParams=t,this.getFriendlyErrorAndLog=l}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){try{this.tenantId=this.inferableRouteParams.getTenantId(this.route)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n}(),XE=e.sb({encapsulation:0,styles:[["@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-downloads[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}}"]],data:{}});function n_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","container-fluid sticky-downloads"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,1,"cs-tenant-downloads",[],null,null,null,BE,QE)),e.tb(6,245760,null,0,UE,[Nb,H,On],{tenantId:[0,"tenantId"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(9,0,null,null,1,"cs-user-settings-sim-version",[],null,null,null,YE,GE)),e.tb(10,49152,null,0,zE,[WE,Fd],{tenantId:[0,"tenantId"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,6,0,l.tenantId),n(t,10,0,l.tenantId)},null)}var t_=e.qb("cs-tenant-downloads-page",ZE,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-tenant-downloads-page",[],null,null,null,n_,XE)),e.tb(1,114688,null,0,ZE,[b.a,yl,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),l_=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},e_=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},u_=function(){function n(n,t,l,e,u){this.identity=t,this.tenantSettingsStub=l,this.formSubmissionHandler=e,this.getFriendlyErrorAndLog=u,this.ENCRYPTION_DOCUMENTATION_URL=Sn,this.channels=new Zt.f("",[tl.channelList]),this.saveSuccessful=!1,this.submitButton=new ll("Save","Saving..."),this.form=n.group({channels:this.channels})}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return l_(this,void 0,void 0,function(){var n,t,l;return e_(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.isTenantAdministrator=this.identity.isTenantAdministrator,n=this,[4,this.tenantSettingsStub.getTenantChannelWhitelists(this.tenantId)];case 1:return n.settingsResult=e.sent(),t=this.settingsResult.settings.additiveChannelWhitelist.join("\n"),this.channels.setValue(t,{}),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},n.prototype.onSubmit=function(){return l_(this,void 0,void 0,function(){return e_(this,function(n){switch(n.label){case 0:return this.saveSuccessful=!1,[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent()&&(this.saveSuccessful=!0),[2]}})})},n.prototype.createSettings=function(){return{additiveChannelWhitelist:this.channels.value.split(/[\s,]+/).map(function(n){return n.trim()}).filter(function(n){return!!n})}},n.prototype.submit=function(){return l_(this,void 0,void 0,function(){var n;return e_(this,function(t){switch(t.label){case 0:return n=this.createSettings(),[4,this.tenantSettingsStub.putTenantChannelWhitelists(this.tenantId,n)];case 1:return t.sent(),[2]}})})},n}(),r_=e.sb({encapsulation:0,styles:[["#tenant-settings-channel-whitelists-component[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:400px;font-size:.8rem}"]],data:{}});function i_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function o_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Invalid characters in channel list. Only alphanumeric characters, commas, whitespace, % and asterisks are allowed.\n            "]))],null,null)}function s_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Saved.\n            "]))],null,null)}function a_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Only tenant administrators can modify this list.\n            "]))],null,null)}function c_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,44,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,2).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,2).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(1,16384,null,0,Zt.y,[],null,null),e.tb(2,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(4,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(6,0,null,null,25,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(8,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                A list of channels which are always whitelisted when any of your encrypted components are used,\n                including those you have distributed to other Canopy tenants.\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(11,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Channels in this whitelist will be output from the simulation even if the encrypted components\n                would normally cause them to be hidden.\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(14,0,null,null,6,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                See the "])),(n()(),e.ub(16,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,17).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(17,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(18,1),(n()(),e.Mb(-1,null,["encryption documentation"])),(n()(),e.Mb(-1,null,[" for more information.\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(22,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                This list can be either comma or newline separated. Wildcards are allowed.\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(25,0,null,null,5,"textarea",[["class","form-control monospace-text-area"],["formControlName","channels"],["id","channels-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,26)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,26).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,26)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,26)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(26,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(28,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(30,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,o_)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,s_)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(39,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","create-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(40,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,a_)),e.tb(43,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,2,0,l.form),n(t,17,0,n(t,18,0,l.ENCRYPTION_DOCUMENTATION_URL)),n(t,28,0,"channels"),n(t,34,0,!l.channels.pristine&&l.channels.hasError("channelList")),n(t,37,0,l.saveSuccessful),n(t,43,0,!l.isTenantAdministrator)},function(n,t){var l=t.component;n(t,0,0,e.Eb(t,4).ngClassUntouched,e.Eb(t,4).ngClassTouched,e.Eb(t,4).ngClassPristine,e.Eb(t,4).ngClassDirty,e.Eb(t,4).ngClassValid,e.Eb(t,4).ngClassInvalid,e.Eb(t,4).ngClassPending),n(t,16,0,e.Eb(t,17).target,e.Eb(t,17).href),n(t,25,0,e.Eb(t,30).ngClassUntouched,e.Eb(t,30).ngClassTouched,e.Eb(t,30).ngClassPristine,e.Eb(t,30).ngClassDirty,e.Eb(t,30).ngClassValid,e.Eb(t,30).ngClassInvalid,e.Eb(t,30).ngClassPending),n(t,39,0,l.submitButton.isSubmitting||!l.isTenantAdministrator),n(t,40,0,l.submitButton.text)})}function d_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,25,"div",[["class","container-fluid"],["id","tenant-settings-channel-whitelists-component"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,22,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Tenant Channel Whitelist"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,16,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(9,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,i_)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(17,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,c_)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,14,0,!l.settingsResult&&!l.errorMessage),n(t,17,0,l.errorMessage),n(t,20,0,l.settingsResult)},null)}var b_=function(){function n(n,t,l){this.route=n,this.inferableRouteParams=t,this.getFriendlyErrorAndLog=l}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){try{this.tenantId=this.inferableRouteParams.getTenantId(this.route)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n}(),f_=e.sb({encapsulation:0,styles:[[""]],data:{}});function p_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,1,"cs-tenant-settings-channel-whitelists",[],null,null,null,d_,r_)),e.tb(6,114688,null,0,u_,[Zt.e,O,z,Ml,On],{tenantId:[0,"tenantId"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,6,0,l.tenantId)},null)}var h_=e.qb("cs-tenant-settings-channel-whitelists-page",b_,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-tenant-settings-channel-whitelists-page",[],null,null,null,p_,f_)),e.tb(1,114688,null,0,b_,[b.a,yl,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),g_=function(){function n(n,t,l){this.simVersionStub=n,this.route=t,this.getFriendlyErrorAndLog=l,this.title="",this.content=""}return n.prototype.ngOnInit=function(){this.load(this.route.snapshot.url,this.route.snapshot.params.location)},n.prototype.load=function(n,t){return l=this,void 0,u=function(){var l,e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.errorMessage=void 0,this.url=n.map(function(n){return n.path}).join("/").replace(/-/g," "),[4,this.simVersionStub.getWikiDocument("current",(this.url||"Home")+".md")];case 1:return l=r.sent(),this.content=l.document.content||"","Home"===(e=l.document.name||"")&&(e="Documentation"),this.title=e,this.anchorName=t,[3,3];case 2:return u=r.sent(),this.errorMessage=u.response&&404===u.response.status?"Page not found.":this.getFriendlyErrorAndLog.execute(u),[3,3];case 3:return[2]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},n.prototype.goBack=function(){window.history.back()},n.prototype.cssSanitize=function(n){return or(n)},n}(),y_=e.sb({encapsulation:0,styles:[[""]],data:{}});function m_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,2,"button",[["class","btn btn-secondary"],["id","wiki-back-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.goBack()&&e),e},null,null)),(n()(),e.ub(3,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Back"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,4,"a",[["class","btn btn-secondary"],["id","wiki-contents-button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,7).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(7,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(8,1),(n()(),e.ub(9,0,null,null,0,"i",[["class","fa fa-book"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Contents"])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,7,0,n(t,8,0,"/wiki"))},function(n,t){n(t,6,0,e.Eb(t,7).target,e.Eb(t,7).href)})}function v_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function w_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"h1",[],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(1,"wiki-title-",l.cssSanitize(l.title),"")),n(t,1,0,l.title)})}function M_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["id","wiki-page"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,m_)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,v_)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,w_)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(16,0,null,null,1,"cs-markdown",[],null,null,null,gr,hr)),e.tb(17,573440,null,0,dr,[fr,e.l,b.m,pr.c,On],{data:[0,"data"],anchorName:[1,"anchorName"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,5,0,l.url),n(t,8,0,l.errorMessage),n(t,11,0,!l.content),n(t,14,0,l.title),n(t,17,0,l.content,l.anchorName)},null)}var C_=e.qb("ng-component",g_,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,M_,y_)),e.tb(1,114688,null,0,g_,[H,b.a,On],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),S_=function(){},I_=e.sb({encapsulation:2,styles:[],data:{}});function x_(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(1,0,null,null,7,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(3,0,null,null,4,"div",[["class","card card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Not authorized."])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],null,null)}var O_=e.qb("ng-component",S_,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ng-component",[],null,null,null,x_,I_)),e.tb(1,49152,null,0,S_,[],null,null)],null,null)},{},{},[]),k_=function(){function n(n,t){this.dialogManager=t,this.body=n.nativeElement.ownerDocument.body}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.primaryChanged.subscribe(function(){return n.dialogManagerChanged()}),this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.dialogManagerChanged=function(){this.dialogManager.getPrimary()||this.dialogManager.getSecondary()?-1===this.body.className.indexOf(" dialog-is-open")&&-1===this.body.className.indexOf("dialog-is-open ")&&(this.body.className+=" dialog-is-open"):(this.body.className=this.body.className.replace(" dialog-is-open",""),this.body.className=this.body.className.replace("dialog-is-open ",""))},n}(),T_=function(){function n(n,t,l){var e=this;this.elementRef=n,this.cache=t,this.timer=l,this.subscription=new kP.a;var u=this.elementRef.nativeElement.id;u?(this.repeatEvent=this.timer.repeat(2500),this.subscription.add(this.repeatEvent.subscribe(function(){e.cache.set(u,e.elementRef.nativeElement.clientHeight)}))):console.warn("No ID found in element height cacher.")}return n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),P_=function(){function n(){this.cache={}}return n.prototype.get=function(n){return this.cache[n]},n.prototype.set=function(n,t){this.cache[n]=t},n}(),E_=function(){},__=e.sb({encapsulation:0,styles:[[""]],data:{}});function V_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"div",[["class","logo"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,0,"div",[["class","logo-icon"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(4,0,null,null,1,"div",[["class","logo-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Canopy Simulations"])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],null,null)}var j_=function(){function n(n,t,l){this.identity=n,this.fetchUserState=t,this.getFriendlyErrorAndLog=l}return n.prototype.isAdministrator=function(){return this.currentUser&&this.currentUser.isInRole(M)},n.prototype.ngOnInit=function(){var n=this;this.updateCurrentUser(),this.identity.changed.subscribe(function(){return n.updateCurrentUser()}),this.fetchUserState.changed.subscribe(function(){return n.updateCurrentUser()})},n.prototype.updateCurrentUser=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.errorMessage=void 0,this.currentUser=this.identity.get(),n=this,[4,this.fetchUserState.get()];case 1:return n.currentUserState=l.sent(),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),R_=e.sb({encapsulation:0,styles:[[".canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus, .canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover{color:#063559}.canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#495057}.canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus   .fa[_ngcontent-%COMP%], .canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .canopy-nav[_ngcontent-%COMP%]   .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:#212529}.canopy-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-size:12px}.canopy-nav[_ngcontent-%COMP%]   .loader-container[_ngcontent-%COMP%]{font-size:.3rem}.canopy-nav[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{background-color:#fff;padding-left:0;padding-right:0;border-bottom:1px solid #e9ecef}.canopy-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .canopy-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{float:none}.canopy-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:.33rem;color:#6c757d}.canopy-nav[_ngcontent-%COMP%]   .navbar-divider[_ngcontent-%COMP%], .canopy-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] + .nav-item[_ngcontent-%COMP%]{margin-left:0}@media (min-width:576px){.canopy-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .loader-container[_ngcontent-%COMP%]{margin:8px 16px}.canopy-nav[_ngcontent-%COMP%]   .navbar-divider[_ngcontent-%COMP%], .canopy-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] + .nav-item[_ngcontent-%COMP%]{margin-left:1.5rem}.canopy-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.canopy-nav[_ngcontent-%COMP%]   .navbar-right[_ngcontent-%COMP%]{font-size:.95rem;margin:4px 0}}@media (min-width:768px){.canopy-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-size:16px}.canopy-nav[_ngcontent-%COMP%]   .navbar-right[_ngcontent-%COMP%]{font-size:1rem;margin:9px 0}.canopy-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .loader-container[_ngcontent-%COMP%]{font-size:.5rem}}"]],data:{}});function F_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"ul",[["class","navbar-nav navbar-right ml-auto"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,3,"a",[["class","nav-link"],["id","nav-sign-in-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,5).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(5,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(6,1),(n()(),e.Mb(-1,null,["Sign In"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,5,0,n(t,6,0,"/sign-in"))},function(n,t){n(t,4,0,e.Eb(t,5).target,e.Eb(t,5).href)})}function A_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n          "]))],null,null)}function L_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,3,"a",[["class","nav-link"],["id","nav-admin-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,1),(n()(),e.Mb(-1,null,["Admin"])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,n(t,4,0,"/admin"))},function(n,t){n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href)})}function D_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,4,"a",[["class","nav-link"],["id","nav-account-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,1),(n()(),e.ub(5,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,n(t,4,0,"/account-settings"))},function(n,t){var l=t.component;n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href),n(t,6,0,null==l.currentUserState?null:l.currentUserState.username)})}function N_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,4,"a",[["class","nav-link"],["id","nav-tenant-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,1),(n()(),e.ub(5,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,n(t,4,0,"/tenants"))},function(n,t){var l=t.component;n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href),n(t,6,0,null==l.currentUserState?null:l.currentUserState.tenant.shortName)})}function U_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,47,"ul",[["class","navbar-nav navbar-right ml-auto"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,A_)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,L_)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,6,"li",[["class","nav-item"],["title","Documentation"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(10,0,null,null,3,"a",[["class","nav-link"],["id","nav-wiki-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,11).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(11,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(12,1),(n()(),e.ub(13,0,null,null,0,"i",[["class","fa fa-book"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,6,"li",[["class","nav-item"],["title","Worksheets"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(18,0,null,null,3,"a",[["class","nav-link"],["id","nav-worksheets-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,19).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(19,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(20,1),(n()(),e.ub(21,0,null,null,0,"i",[["class","fa fa-th"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(24,0,null,null,7,"li",[["class","nav-item"],["title","Home"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(26,0,null,null,4,"a",[["class","nav-link"],["id","nav-home-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,27).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(27,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(28,1),(n()(),e.ub(29,0,null,null,0,"i",[["class","fa fa-home"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Home"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,D_)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,N_)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(39,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(41,0,null,null,4,"a",[["class","nav-link"],["id","nav-sign-out-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,42).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(42,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(43,1),(n()(),e.ub(44,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Sign Out"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,!l.currentUserState),n(t,6,0,l.isAdministrator()),n(t,11,0,n(t,12,0,"/wiki")),n(t,19,0,n(t,20,0,"/worksheets")),n(t,27,0,n(t,28,0,"/")),n(t,34,0,l.currentUserState),n(t,37,0,l.currentUserState),n(t,42,0,n(t,43,0,"/sign-out"))},function(n,t){n(t,10,0,e.Eb(t,11).target,e.Eb(t,11).href),n(t,18,0,e.Eb(t,19).target,e.Eb(t,19).href),n(t,26,0,e.Eb(t,27).target,e.Eb(t,27).href),n(t,41,0,e.Eb(t,42).target,e.Eb(t,42).href)})}function Q_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,35,"div",[["class","canopy-nav"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,29,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,26,"nav",[["class","navbar navbar-expand-sm navbar-light bg-faded"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,3,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarSupportedContent"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(11,0,null,null,18,"div",[["class","collapse navbar-collapse justify-content-start"],["id","navbarSupportedContent"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(13,0,null,null,9,"div",[["class","navbar-nav"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(15,0,null,null,6,"a",[["class","navbar-brand"],["id","nav-logo-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,16).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(16,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(17,1),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(19,0,null,null,1,"cs-logo",[],null,null,null,V_,__)),e.tb(20,49152,null,0,E_,[],null,null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,F_)),e.tb(25,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,U_)),e.tb(28,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(33,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(34,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,16,0,n(t,17,0,"/")),n(t,25,0,!(null!=l.currentUser&&l.currentUser.authenticated)),n(t,28,0,null==l.currentUser?null:l.currentUser.authenticated),n(t,34,0,l.errorMessage)},function(n,t){n(t,15,0,e.Eb(t,16).target,e.Eb(t,16).href)})}var J_=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},$_=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},H_=function(){function n(n,t,l){this.timer=n,this.http=t,this.getHttpError=l,this.showUpdateMessage=!1}return n.prototype.ngOnInit=function(){var n=this,t=this.timer.repeat(36e4);this.subscription=t.subscribe(function(){return n.onTimerTick()}),this.load()},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.onTimerTick=function(){this.load()},n.prototype.load=function(){return J_(this,void 0,void 0,function(){var n;return $_(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.errorMessage=void 0,[4,this.getCurrentVersion()];case 1:return n=t.sent(),this.lastVersion?this.lastVersion!==n&&(this.showUpdateMessage=!0):this.lastVersion=n,[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})})},n.prototype.getCurrentVersion=function(){return J_(this,void 0,void 0,function(){var n;return $_(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.http.get("/version.txt",{responseType:"text"}).toPromise()];case 1:return[2,t.sent()];case 2:throw n=t.sent(),this.getHttpError.execute(n);case 3:return[2]}})})},n}(),q_=function(){function n(){}return n.prototype.execute=function(n){if(0===n.status)return new al(n,n);if(401===n.status)return new fl("Not authenticated.",n);if(403===n.status)return new pl("Not authorized.",n);if(404===n.status)return new hl("Not found.",n);var t=void 0,l=n.error||n.body;return l&&(t=l.message||l.Message||l.error_description),412===n.status?new gl(t||"Another user modified this data. Please try again."):new bl(t||"An error has occurred.",n)},n}(),B_=e.sb({encapsulation:0,styles:[["#update-checker[_ngcontent-%COMP%]{text-align:center}#update-checker[_ngcontent-%COMP%]   .update-message[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:100;border-top:1px solid #b8860b;border-bottom:1px solid #b8860b;background-color:#ff0;padding:.2rem;margin-bottom:1rem;font-size:.9rem}#update-checker[_ngcontent-%COMP%]   .update-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;margin-left:.5rem}#update-checker[_ngcontent-%COMP%]   .update-error-message[_ngcontent-%COMP%]{display:none}"]],data:{}});function z_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","update-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    User Interface Update Available "])),(n()(),e.ub(2,0,null,null,1,"a",[["href","javascript:window.location.reload(true)"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Refresh"])),(n()(),e.Mb(-1,null,["\n  "]))],null,null)}function K_(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["id","update-checker"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,z_)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,1,"cs-error-message",[["class","update-error-message"]],null,null,null,v,g)),e.tb(6,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.showUpdateMessage),n(t,6,0,l.errorMessage)},null)}var W_=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},G_=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},Y_=function(){function n(n,t,l,e,u,r,i,o){this.identity=n,this.getUserSimVersion=t,this.getTenantSimVersion=l,this.tenantSettingsStub=e,this.selectSimVersionDialog=u,this.localUserSettingsManager=r,this.confirmationDialog=i,this.getFriendlyErrorAndLog=o,this._isUpdatingTenantSimVersion=!1}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"userSimVersion",{get:function(){return this.getUserSimVersion.currentSimVersion},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tenantSimVersion",{get:function(){return this.getTenantSimVersion.currentSimVersion},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isUpdatingTenantSimVersion",{get:function(){return this._isUpdatingTenantSimVersion||this.getTenantSimVersion.isUpdating},enumerable:!0,configurable:!0}),n.prototype.selectUserSimVersion=function(){return W_(this,void 0,void 0,function(){var n,t,l;return G_(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=this.identity.get(),[4,this.selectSimVersionDialog.show(n.tenantId,!1,this.userSimVersion,"Use Tenant Sim Version")];case 1:return(t=e.sent())?(this.localUserSettingsManager.state.userSimVersion=t.simVersion,this.localUserSettingsManager.save(),[4,this.getUserSimVersion.execute()]):[2];case 2:return e.sent(),[3,4];case 3:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,4];case 4:return[2]}})})},n.prototype.selectTenantSimVersion=function(){return W_(this,void 0,void 0,function(){var n,t,l;return G_(this,function(e){switch(e.label){case 0:return e.trys.push([0,6,,7]),n=this.identity.get(),[4,this.selectSimVersionDialog.show(n.tenantId,!0)];case 1:return(t=e.sent())?[3,3]:[4,this.getTenantSimVersion.execute()];case 2:return e.sent(),[2];case 3:return[4,this.confirmationDialog.show("Are you sure you want to set the sim version for all users?","Set Tenant Sim Version?","Set For All Users")];case 4:return e.sent()?(this._isUpdatingTenantSimVersion=!0,[4,this.setTenantSimVersion(n.tenantId,t.simVersion)]):[2];case 5:return e.sent(),[3,7];case 6:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,7];case 7:return this._isUpdatingTenantSimVersion=!1,[2]}})})},n.prototype.setTenantSimVersion=function(n,t){return W_(this,void 0,void 0,function(){return G_(this,function(l){switch(l.label){case 0:return[4,this.tenantSettingsStub.putTenantSettingsSimVersion(n,{simVersion:t})];case 1:return l.sent(),[4,this.getTenantSimVersion.execute()];case 2:return l.sent(),[2]}})})},n}(),Z_=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),X_=function(){function n(n){this.dialogManager=n}return n.prototype.show=function(n,t,l,e,u){return r=this,void 0,o=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,this.dialogManager.showSecondaryDialog(new nV(n,t,l,e,u))];case 1:return[2,r.sent()]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},n}(),nV=function(n){function t(t,l,e,u,r){var i=n.call(this)||this;return i.tenantId=t,i.isTenantSimVersion=l,i.currentSimVersion=e,i.selectDefaultMessage=u,i.selectReleaseMessage=r,i}return Z_(t,n),t}(se),tV=e.sb({encapsulation:0,styles:[["#sim-version-status[_ngcontent-%COMP%]{position:relative;margin-top:.5rem;margin-bottom:.5rem}#sim-version-status[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-wrap:nowrap;font-size:.8rem}#sim-version-status[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .version-item[_ngcontent-%COMP%]{cursor:pointer}#sim-version-status[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .version-item[_ngcontent-%COMP%]   .version-item-left[_ngcontent-%COMP%]{display:inline-block;margin-left:.9375rem;border:1px solid #aaa;border-top-left-radius:3px;border-bottom-left-radius:3px;padding:.15rem .5rem;background:#f5f5f5}#sim-version-status[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .version-item[_ngcontent-%COMP%]   .version-item-right[_ngcontent-%COMP%]{display:inline-block;border:1px solid #aaa;border-top-right-radius:3px;border-bottom-right-radius:3px;border-left:0;padding:.15rem .5rem;color:gray}#sim-version-status[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .version-item.active-version[_ngcontent-%COMP%]   .version-item-right[_ngcontent-%COMP%]{font-weight:700;color:#095189}#sim-version-status[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .updating-sim-version-message[_ngcontent-%COMP%]{position:absolute;font-size:.8rem}"]],data:{}});function lV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","updating-sim-version-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(3,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n        "]))],null,null)}function eV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,35,"div",[["class","container-fluid"],["id","sim-version-status"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(5,0,null,null,29,"div",[["class","right-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,8,"div",[["class","version-item"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.selectUserSimVersion()&&e),e},null,null)),e.tb(8,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(9,{"active-version":0}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(11,0,null,null,1,"div",[["class","version-item-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        User Sim Version\n      "])),(n()(),e.ub(13,0,null,null,1,"div",[["class","version-item-right"]],null,null,null,null,null)),(n()(),e.Mb(14,null,["\n        ","\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(17,0,null,null,16,"div",[["class","version-item"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.selectTenantSimVersion()&&e),e},null,null)),e.tb(18,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(19,{"active-version":0}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(21,0,null,null,1,"div",[["class","version-item-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Tenant Sim Version\n      "])),(n()(),e.ub(23,0,null,null,9,"div",[["class","version-item-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,lV)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(28,0,null,null,3,"span",[],null,null,null,null,null)),e.tb(29,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(30,{visibility:0}),(n()(),e.Mb(31,null,["\n          ","\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,8,0,"version-item",n(t,9,0,!!l.userSimVersion)),n(t,18,0,"version-item",n(t,19,0,!l.userSimVersion)),n(t,26,0,l.isUpdatingTenantSimVersion),n(t,29,0,n(t,30,0,l.isUpdatingTenantSimVersion?"hidden":"visible"))},function(n,t){var l=t.component;n(t,14,0,l.userSimVersion?l.userSimVersion:"From Tenant"),n(t,31,0,l.tenantSimVersion)})}function uV(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,eV)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.tenantSimVersion)},null)}var rV=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},iV=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},oV=function(){function n(n,t,l,e,u,r,i,o,s){this.identity=n,this.configStub=t,this.simVersionStub=l,this.studyStagingArea=e,this.compareConfigDialog=u,this.confirmationDialog=r,this.loadingDialog=i,this.json=o,this.getSimVersion=s}return n.prototype.execute=function(n){return rV(this,void 0,void 0,function(){var t,l=this;return iV(this,function(e){switch(e.label){case 0:return[4,this.loadingDialog.show(function(t){return l.loadDataToCompare(t,n)})];case 1:return(t=e.sent())?[4,this.compareConfigDialog.compare(n.configType,[new Pb("staged",t.staged,void 0),new Pb("source config",t.source,void 0)],void 0)]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,this.confirmationDialog.show("The source config no longer exists.","Source Not Found","OK","OK")];case 4:e.sent(),e.label=5;case 5:return[2]}})})},n.prototype.loadDataToCompare=function(n,t){return rV(this,void 0,void 0,function(){var l;return iV(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadDataToCompareInner(n,t)];case 1:return[2,e.sent()];case 2:if((l=e.sent()).isFromApi&&404===l.response.status)return[2,void 0];throw l;case 3:return[2]}})})},n.prototype.loadDataToCompareInner=function(n,t){return rV(this,void 0,void 0,function(){var l,e;return iV(this,function(u){switch(u.label){case 0:return n.setStatus("Loading source data..."),l=this.identity.get(),[4,this.getExistingConfig(l.tenantId,t)];case 1:return(e=u.sent())?(n.setStatus("Upgrading staged data..."),[4,this.studyStagingArea.getInput(t.configType,e.simVersion)]):[2,void 0];case 2:return[2,{staged:u.sent(),source:e}]}})})},n.prototype.getExistingConfig=function(n,t){return t.userId?this.getExistingUserConfig(n,t):this.getExistingDefaultConfig(n,t)},n.prototype.getExistingUserConfig=function(n,t){return rV(this,void 0,void 0,function(){return iV(this,function(l){switch(l.label){case 0:return[4,this.configStub.getConfig(n,t.configId,void 0,this.getSimVersion.currentSimVersion)];case 1:return[2,Bb(l.sent())]}})})},n.prototype.getExistingDefaultConfig=function(n,t){return rV(this,void 0,void 0,function(){var l,e;return iV(this,function(u){switch(u.label){case 0:return[4,this.simVersionStub.getDocument(t.simVersion,t.configId,n)];case 1:return(l=u.sent())?(e=this.json.parse(l.document.content),[2,zb(t.configType,t.name,e,t.simVersion)]):[2,void 0]}})})},n}(),sV=function(){function n(n,t,l,e,u){this.identity=n,this.getSimVersion=t,this.studyStub=l,this.studySubmittedEvents=e,this.studyMetadataCache=u}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r,i,o,s,a,c,d,b,f,p,h;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(g){switch(g.label){case 0:return e=this.identity.get(),[4,this.getSimVersion.execute()];case 1:u=g.sent(),r={simTypes:t.simTypes,simConfig:{constraints:{}},exploration:void 0},i=[],o=[],s="",a=0,c=t.inputs,g.label=2;case 2:if(!(a<c.length))return[3,5];if(!(b=kt.get((d=c[a]).configType)))throw new cl("Unknown config type: "+d.configType);return[4,l(d.configType,u)];case 3:if(f=g.sent())d.configType===Gn.singularKey?r.exploration=f.data:r.simConfig[d.configType]=f.data,i.push({configType:f.configType,userId:f.userId,configId:f.configId,name:f.name,isEdited:f.isEdited}),this.addProperties(o,f.configType,f),f.notes&&(s&&(s+="\n\n"),s+=b.titleName+":\n"+f.notes.trim());else if(d.isRequired)throw new dl(b.titleName+" is required.");g.label=4;case 4:return a++,[3,2];case 5:return[4,this.studyStub.postStudy(e.tenantId,{name:n,studyType:t.studyType,simVersion:u,sources:i,properties:o,notes:s,study:r,isTransient:!1})];case 6:return p=g.sent(),h=new aV(n,e.tenantId,e.userId,p.studyId),this.studySubmittedEvents.studySubmitted.emit(p),this.studyMetadataCache.set(e.tenantId,p.studyId,n),[2,h]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n.prototype.addProperties=function(n,t,l){for(var e=0,u=l.properties;e<u.length;e++){var r=u[e];n.push({name:t+"."+r.name,value:r.value})}},n}(),aV=function(n,t,l,e){this.name=n,this.tenantId=t,this.userId=l,this.studyId=e},cV=function(){function n(n,t){this.createWorksheetRowFromStudy=n,this.deduplicateWorksheetRow=t}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:for(e=n.rows.length-1;e>=0&&n.rows[e].isEmpty;)--e;if(!n.insertRowsAt(e+=1,1,function(){return n.createEmptyRow(n.getCurrentUnderlyingData().studyTypesList[0].studyType)}))throw new cl("Maximum rows reached.");return u=n.rows[e],[4,this.createWorksheetRowFromStudy.execute(t.tenantId,t.targetId,n.worksheetId,yy.default())];case 1:return r=i.sent(),[4,n.waitForUpdate()];case 2:return i.sent(),n.pasteRowsSync(u,r.clipboardContent,!1),l&&this.deduplicateWorksheetRow.execute(n,e),n.generateColumns(),n.requestUpdate(!0),[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),dV=function(){function n(n){this.studyStagingArea=n}return n.prototype.create=function(){return new bV(this.studyStagingArea)},n}(),bV=function(){function n(n){this.studyStagingArea=n}return n.prototype.canExecute=function(n){return!0},n.prototype.execute=function(n){return this.studyStagingArea.stageInput(n),Promise.resolve()},n}(),fV=e.sb({encapsulation:0,styles:[["#study-staging-area[_ngcontent-%COMP%]{background:#f5f5f5;margin-top:0;max-height:0;transition:max-height 1s linear}#study-staging-area.area-visible[_ngcontent-%COMP%]{max-height:500px;margin-top:1.875rem}#study-staging-area[_ngcontent-%COMP%]   .study-container-top-line[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.125)}#study-staging-area[_ngcontent-%COMP%]   .study-container-top[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}#study-staging-area[_ngcontent-%COMP%]   .study-container-bottom[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.125);border-bottom:1px solid rgba(0,0,0,.125);padding-bottom:.75rem;background-color:#fff;text-align:center}#study-staging-area[_ngcontent-%COMP%]   .study-container-bottom[_ngcontent-%COMP%]   .study-container-bottom-inner[_ngcontent-%COMP%]{max-width:950px;margin-left:auto;margin-right:auto;text-align:left}@media (min-width:992px){#study-staging-area[_ngcontent-%COMP%]   .study-container-bottom[_ngcontent-%COMP%]   .study-container-bottom-inner[_ngcontent-%COMP%]{max-width:inherit;min-width:950px;display:inline-block}}#study-staging-area[_ngcontent-%COMP%]   .study-container-bottom[_ngcontent-%COMP%]   .study-container-bottom-message[_ngcontent-%COMP%]{text-align:left}#study-staging-area[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;text-align:left;font-size:1.25rem;margin:0 .5rem 0 0}#study-staging-area[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none}#study-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:1.75rem;background:#fff}#study-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .study-type-select[_ngcontent-%COMP%]{padding-top:.1rem;padding-bottom:.1rem;display:inline-block}#study-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .study-name-area[_ngcontent-%COMP%]{margin-top:1rem}#study-staging-area[_ngcontent-%COMP%]   .button-area[_ngcontent-%COMP%]{margin:1rem 0 0}@media (min-width:768px){#study-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}#study-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .study-type-select[_ngcontent-%COMP%]{width:200px}#study-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .study-name-area[_ngcontent-%COMP%]{margin-top:0;margin-left:.5rem;margin-right:.5rem}#study-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .study-name-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;width:250px;height:1.75rem}#study-staging-area[_ngcontent-%COMP%]   .button-area[_ngcontent-%COMP%]{margin:0}}@media (min-width:576px){#study-staging-area[_ngcontent-%COMP%]   .button-area[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.09375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;margin-top:0}}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .list-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;padding:0;margin:0}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .config-type-icon[_ngcontent-%COMP%]{margin-right:.2rem}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .edited-icon[_ngcontent-%COMP%]{margin-left:.2rem;color:red}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input-container[_ngcontent-%COMP%]{display:inline-block}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input[_ngcontent-%COMP%]{background:#fff;display:inline-block;margin:.75rem .9375rem 0}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input.hidden-study-input[_ngcontent-%COMP%]{display:none}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input.updated[_ngcontent-%COMP%]{display:inline-block}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input[_ngcontent-%COMP%]   .button-menu-hovering-area[_ngcontent-%COMP%]{top:2rem;left:0}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input[_ngcontent-%COMP%]   .study-input-left[_ngcontent-%COMP%]{background:#f5f5f5;display:inline-block;padding:.2rem .75rem;margin:0;border:1px solid #aaa;border-top-left-radius:4px;border-bottom-left-radius:4px}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input[_ngcontent-%COMP%]   .study-input-center[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .75rem;margin:0;border:1px solid #aaa;border-left-width:0}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input[_ngcontent-%COMP%]   .study-input-right[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .75rem;margin:0;border:1px solid #aaa;border-left-width:0;border-top-right-radius:4px;border-bottom-right-radius:4px}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input.optional-study-input[_ngcontent-%COMP%]   .study-input-center[_ngcontent-%COMP%], #study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input.optional-study-input[_ngcontent-%COMP%]   .study-input-left[_ngcontent-%COMP%], #study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input.optional-study-input[_ngcontent-%COMP%]   .study-input-right[_ngcontent-%COMP%]{border-style:dashed;border-color:#ccc}@-webkit-keyframes updated{from{color:transparent}to{color:#0c6eb9}}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input[_ngcontent-%COMP%]   .study-input-content[_ngcontent-%COMP%]   .updated[_ngcontent-%COMP%]{color:#0c6eb9;-webkit-animation-name:updated;-webkit-animation-duration:.75s;-webkit-animation-iteration-count:1}#study-staging-area[_ngcontent-%COMP%]   .study-inputs[_ngcontent-%COMP%]   .study-input[_ngcontent-%COMP%]   .study-input-close[_ngcontent-%COMP%]{cursor:pointer}#study-staging-area[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:0}#study-staging-area[_ngcontent-%COMP%]   .error-message-component[_ngcontent-%COMP%]{display:block;margin-top:1rem}#study-staging-area[_ngcontent-%COMP%]   .committed-study[_ngcontent-%COMP%]{margin-top:0;max-height:0;overflow:hidden;opacity:0;border-width:0;margin-bottom:0;padding:0 .9375rem;transition:.3s linear}#study-staging-area[_ngcontent-%COMP%]   .committed-study.show-committed-study[_ngcontent-%COMP%]{margin-top:1rem;max-height:130px;padding:.25rem .9375rem;opacity:1;border-width:1px}#study-staging-area[_ngcontent-%COMP%]   .committed-study[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{text-align:center}@media (min-width:576px){#study-staging-area[_ngcontent-%COMP%]   .committed-study[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{text-align:left;display:inline;margin-left:1rem}#study-staging-area[_ngcontent-%COMP%]   .committed-study[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:first-child{margin-left:0}}#study-staging-area[_ngcontent-%COMP%]   .committed-study[_ngcontent-%COMP%]   .worksheet-item[_ngcontent-%COMP%]{margin-top:.25rem}#study-staging-area[_ngcontent-%COMP%]   .committed-study[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function pV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(1,49152,null,0,h,[],{message:[0,"message"]},null)],function(n,t){n(t,1,0,t.component.errorMessage)},null)}function hV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,6,"input",[["formControlName","studyType"],["name","studyType"],["type","radio"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,3)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,3).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,3)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,3)._compositionEnd(l.target.value)&&u),"change"===t&&(u=!1!==e.Eb(n,4).onChange()&&u),"blur"===t&&(u=!1!==e.Eb(n,4).onTouched()&&u),u},null,null)),e.tb(3,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.tb(4,212992,null,0,Zt.t,[e.H,e.l,Zt.z,e.t],{name:[0,"name"],formControlName:[1,"formControlName"],value:[2,"value"]},null),e.Jb(1024,null,Zt.o,function(n,t){return[n,t]},[Zt.d,Zt.t]),e.tb(6,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(8,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(9,null,["","\n              "]))],function(n,t){n(t,4,0,"studyType","studyType",t.context.$implicit.studyType),n(t,6,0,"studyType")},function(n,t){n(t,2,0,e.wb(1,"study-type-radio-",t.context.index,""),e.Eb(t,8).ngClassUntouched,e.Eb(t,8).ngClassTouched,e.Eb(t,8).ngClassPristine,e.Eb(t,8).ngClassDirty,e.Eb(t,8).ngClassValid,e.Eb(t,8).ngClassInvalid,e.Eb(t,8).ngClassPending),n(t,9,0,t.context.$implicit.name)})}function gV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,hV)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.component.enabledStudyTypes)},null)}function yV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"option",[],null,null,null,null,null)),e.tb(1,147456,null,0,Zt.s,[e.l,e.H,[2,Zt.v]],{value:[0,"value"]},null),e.tb(2,147456,null,0,Zt.B,[e.l,e.H,[8,null]],{value:[0,"value"]},null),(n()(),e.Mb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.studyType),n(t,2,0,t.context.$implicit.studyType)},function(n,t){n(t,3,0,t.context.$implicit.name)})}function mV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"select",[["class","form-control study-type-select"],["formControlName","studyType"],["id","study-type-input"],["name","select"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,t,l){var u=!0;return"change"===t&&(u=!1!==e.Eb(n,1).onChange(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,1).onTouched()&&u),u},null,null)),e.tb(1,16384,null,0,Zt.v,[e.H,e.l],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.v]),e.tb(3,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(5,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,yV)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,3,0,"studyType"),n(t,8,0,l.enabledStudyTypes)},function(n,t){n(t,0,0,e.Eb(t,5).ngClassUntouched,e.Eb(t,5).ngClassTouched,e.Eb(t,5).ngClassPristine,e.Eb(t,5).ngClassDirty,e.Eb(t,5).ngClassValid,e.Eb(t,5).ngClassInvalid,e.Eb(t,5).ngClassPending)})}function vV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"a",[["class","staged-input-link"]],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{updated:0}),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,3),(n()(),e.Mb(5,null,["",""]))],function(n,t){n(t,1,0,"staged-input-link",n(t,2,0,t.parent.context.$implicit.isUpdated)),n(t,3,0,n(t,4,0,"/staged",t.parent.context.$implicit.configType.singularKey,"edit"))},function(n,t){n(t,0,0,e.wb(1,"staged-",t.parent.context.$implicit.configType.singularKey,"-link"),e.Eb(t,3).target,e.Eb(t,3).href),n(t,5,0,t.parent.context.$implicit.state.name)})}function wV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"i",[["class","fa fa-pencil edited-icon"]],[[8,"id",0]],null,null,null,null))],null,function(n,t){n(t,0,0,e.wb(1,"edited-",t.parent.context.$implicit.configType.singularKey,"-icon"))})}function MV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"i",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["none"]))],null,null)}function CV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","study-input-right study-input-close"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeInput(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "]))],null,null)}function SV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary btn-smart"],["type","button"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.viewReferencedStudyJob(n.parent.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    View Referenced Study Job\n                  "]))],null,function(n,t){n(t,0,0,e.wb(1,"staged-",t.parent.parent.context.$implicit.configType.singularKey,"-view-referenced-study-job-link"))})}function IV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["class","button-menu-hovering-area full-width-buttons"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(2,0,null,null,3,"a",[["class","btn btn-secondary btn-smart"]],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,3),(n()(),e.Mb(-1,null,["Edit Snapshot"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,SV)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(10,0,null,null,1,"button",[["class","btn btn-secondary btn-smart"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.editSource(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    Edit Source Config\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(13,0,null,null,1,"button",[["class","btn btn-secondary btn-smart"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.compareToSource(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    Compare to Source Config\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(16,0,null,null,2,"cs-compare-to-something-button",[["class","add-margin"]],null,null,null,Jb,Ub)),e.tb(17,114688,null,0,_b,[ha,Fb,ce,Nb,On],{configType:[0,"configType"],getConfigOrConfigLoader:[1,"getConfigOrConfigLoader"],saveOutputConfigHandler:[2,"saveOutputConfigHandler"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "]))],function(n,t){var l=t.component;n(t,3,0,n(t,4,0,"/staged",t.parent.context.$implicit.configType.singularKey,"edit")),n(t,8,0,l.canViewReferencedStudyJob(t.parent.context.$implicit)),n(t,17,0,t.parent.context.$implicit.configType.singularKey,l.getConfigOrConfigLoader(t.parent.context.$implicit),l.saveToStagingAreaHandler)},function(n,t){var l=t.component;n(t,2,0,e.wb(1,"staged-",t.parent.context.$implicit.configType.singularKey,"-edit-link"),e.Eb(t,3).target,e.Eb(t,3).href),n(t,10,0,e.wb(1,"staged-",t.parent.context.$implicit.configType.singularKey,"-edit-source-link"),!l.canEditSource(t.parent.context.$implicit)),n(t,13,0,e.wb(1,"staged-",t.parent.context.$implicit.configType.singularKey,"-compare-to-source-link"),!l.canCompareToSource(t.parent.context.$implicit))})}function xV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,33,"div",[["class","study-input-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,30,"div",[["class","study-input button-menu-hover-target"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"optional-study-input":0,"hidden-study-input":1,updated:2}),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(6,0,null,null,7,"a",[["class","list-link"]],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,7).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(7,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(8,2),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(10,0,null,null,3,"div",[["class","study-input-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(12,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(13,null,["\n                    ","\n                  "])),(n()(),e.ub(14,0,null,null,12,"div",[["class","study-input-content"]],null,null,null,null,null)),e.tb(15,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(16,{"study-input-right":0,"study-input-center":1}),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,vV)),e.tb(19,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,wV)),e.tb(22,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,MV)),e.tb(25,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,CV)),e.tb(28,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,IV)),e.tb(31,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,"study-input button-menu-hover-target",n(t,4,0,!t.context.$implicit.isRequired,!t.context.$implicit.isEnabled,t.context.$implicit.isUpdated)),n(t,7,0,n(t,8,0,"/configs",t.context.$implicit.configType.pluralKey)),n(t,15,0,"study-input-content",n(t,16,0,t.context.$implicit.isRequired||!t.context.$implicit.state,!(t.context.$implicit.isRequired||!t.context.$implicit.state))),n(t,19,0,t.context.$implicit.state),n(t,22,0,null==t.context.$implicit.state?null:t.context.$implicit.state.isEdited),n(t,25,0,!t.context.$implicit.state),n(t,28,0,!(t.context.$implicit.isRequired||!t.context.$implicit.state)),n(t,31,0,t.context.$implicit.state)},function(n,t){n(t,6,0,e.wb(1,"staged-view-all-",t.context.$implicit.configType.singularKey,"-link"),e.Eb(t,7).target,e.Eb(t,7).href),n(t,12,0,e.wb(1,"fa ",t.context.$implicit.configType.icon," config-type-icon")),n(t,13,0,t.context.$implicit.configType.titleName)})}function OV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Study name is required.\n            "]))],null,null)}function kV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Study name is too short.\n            "]))],null,null)}function TV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Study name is too long.\n            "]))],null,null)}function PV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","errors-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,OV)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,kV)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,TV)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,3,0,l.name.hasError("required")),n(t,6,0,l.name.hasError("minlength")),n(t,9,0,l.name.hasError("maxlength"))},null)}function EV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"div",[["class","worksheet-item"]],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,3,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.addToWorksheet(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-th"]],null,null,null,null,null)),(n()(),e.Mb(5,null,[" Add to ","\n                "])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,0,0,e.wb(1,"study-committed-add-to-worksheet-",t.context.index,"")),n(t,5,0,t.context.$implicit.name)})}function _V(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,32,"div",[["id","study-committed-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,[" committed\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(8,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(10,0,null,null,3,"a",[["id","study-committed-view-study"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,11).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(11,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(12,3),(n()(),e.Mb(-1,null,["\n                  View Study\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(16,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(18,0,null,null,3,"a",[["id","study-committed-view-studies"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,19).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(19,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(20,1),(n()(),e.Mb(-1,null,["\n                  View All Studies\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(24,0,null,null,4,"div",[["class","item"],["id","study-committed-dismiss"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(26,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismissCommittedStudy()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  Dismiss\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,EV)),e.tb(31,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,11,0,n(t,12,0,"/studies",null==l.committedStudy?null:l.committedStudy.tenantId,null==l.committedStudy?null:l.committedStudy.studyId)),n(t,19,0,n(t,20,0,"/studies")),n(t,31,0,l.worksheets)},function(n,t){var l=t.component;n(t,5,0,null==l.committedStudy?null:l.committedStudy.name),n(t,10,0,e.Eb(t,11).target,e.Eb(t,11).href),n(t,18,0,e.Eb(t,19).target,e.Eb(t,19).href)})}function VV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,81,"div",[["class","study-container-top-line"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,78,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,4).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,4).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(3,16384,null,0,Zt.y,[],null,null),e.tb(4,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(6,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(8,0,null,null,42,"div",[["class","container-fluid study-container-top"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(10,0,null,null,39,"div",[["class","row header-row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(12,0,null,null,36,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(14,0,null,null,4,"h1",[],null,null,null,null,null)),(n()(),e.ub(15,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,16).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(16,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(17,1),(n()(),e.Mb(-1,null,["Study"])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,gV)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,mV)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(26,0,null,null,8,"div",[["class","study-name-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(28,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","study-name-input"],["placeholder","Study Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,29)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,29).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,29)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,29)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(29,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(31,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(33,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(36,0,null,null,11,"div",[["class","button-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(38,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","commit-study-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(40,0,null,null,0,"i",[["class","fa fa-cloud-upload"]],null,null,null,null,null)),(n()(),e.Mb(41,null,["","\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(43,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","clear-study-staging-area-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.clear()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(45,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Clear\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(52,0,null,null,27,"div",[["class","study-container-bottom"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(54,0,null,null,7,"div",[["class","study-container-bottom-inner"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(56,0,null,null,4,"div",[["class","study-inputs"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,xV)),e.tb(59,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(63,0,null,null,15,"div",[["class","container-fluid study-container-bottom-messages"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(65,0,null,null,1,"cs-error-message",[["class","error-message-component"]],null,null,null,v,g)),e.tb(66,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,PV)),e.tb(69,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(71,0,null,null,6,"div",[["class","alert alert-info committed-study"]],null,null,null,null,null)),e.tb(72,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(73,{"show-committed-study":0}),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,_V)),e.tb(76,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,4,0,l.form),n(t,16,0,n(t,17,0,"/studies")),n(t,21,0,l.isTestUser),n(t,24,0,!l.isTestUser),n(t,31,0,"name"),n(t,59,0,l.studyInputs),n(t,66,0,l.errorMessage),n(t,69,0,l.showErrors),n(t,72,0,"alert alert-info committed-study",n(t,73,0,!!l.committedStudy)),n(t,76,0,l.committedStudy)},function(n,t){var l=t.component;n(t,2,0,e.Eb(t,6).ngClassUntouched,e.Eb(t,6).ngClassTouched,e.Eb(t,6).ngClassPristine,e.Eb(t,6).ngClassDirty,e.Eb(t,6).ngClassValid,e.Eb(t,6).ngClassInvalid,e.Eb(t,6).ngClassPending),n(t,15,0,e.Eb(t,16).target,e.Eb(t,16).href),n(t,28,0,e.Eb(t,33).ngClassUntouched,e.Eb(t,33).ngClassTouched,e.Eb(t,33).ngClassPristine,e.Eb(t,33).ngClassDirty,e.Eb(t,33).ngClassValid,e.Eb(t,33).ngClassInvalid,e.Eb(t,33).ngClassPending),n(t,38,0,l.submitButton.isSubmitting),n(t,41,0,l.submitButton.text)})}function jV(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,pV)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(3,0,null,null,6,"div",[["id","study-staging-area"]],null,null,null,null,null)),e.tb(4,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{ngClass:[0,"ngClass"]},null),e.Hb(5,{"area-visible":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,VV)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,1,0,!(null!=l.state&&l.state.isInitialized)),n(t,4,0,n(t,5,0,null==l.state?null:l.state.isInitialized)),n(t,8,0,(null==l.state?null:l.state.isInitialized)&&l.isLoaded)},null)}var RV=function(){function n(n,t,l,e,u){this.resultsStagingArea=n,this.rison=t,this.router=l,this.identity=e,this.getFriendlyErrorAndLog=u}return n.prototype.ngOnInit=function(){var n=this;this.load(),this.resultsStagingArea.changed.subscribe(function(){return n.load()})},n.prototype.load=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){try{this.errorMessage=void 0,n=this.identity.get(),this.tenantId=n.tenantId,this.state=this.resultsStagingArea.get()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.clear=function(){try{this.errorMessage=void 0,this.resultsStagingArea.clear()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.showJobOverlayChart=function(){this.showChart("/view/overlay")},n.prototype.moveSourceLeft=function(n){this.resultsStagingArea.moveSourceLeft(n.studyId,n.jobId)},n.prototype.moveSourceRight=function(n){this.resultsStagingArea.moveSourceRight(n.studyId,n.jobId)},n.prototype.removeSource=function(n){this.resultsStagingArea.removeSource(n.studyId,n.jobId)},n.prototype.showChart=function(n){try{var t=this.rison.encodeObject(bo.toMutable(this.state));this.router.navigate([n,{data:t}])}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n}(),FV=e.sb({encapsulation:0,styles:[["#results-staging-area[_ngcontent-%COMP%]{background:#f5f5f5;margin-top:0;max-height:0;overflow:hidden;transition:max-height 1s linear}#results-staging-area.area-visible[_ngcontent-%COMP%]{max-height:500px;margin-top:1.875rem}#results-staging-area[_ngcontent-%COMP%]   .results-container-top-line[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.125)}#results-staging-area[_ngcontent-%COMP%]   .results-container-top[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}#results-staging-area[_ngcontent-%COMP%]   .results-container-bottom[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.125);border-bottom:1px solid rgba(0,0,0,.125);padding-bottom:.75rem;background-color:#fff;text-align:center}#results-staging-area[_ngcontent-%COMP%]   .results-container-bottom[_ngcontent-%COMP%]   .results-container-bottom-inner[_ngcontent-%COMP%]{max-width:950px;margin-left:auto;margin-right:auto;text-align:left}@media (min-width:992px){#results-staging-area[_ngcontent-%COMP%]   .results-container-bottom[_ngcontent-%COMP%]   .results-container-bottom-inner[_ngcontent-%COMP%]{max-width:inherit;min-width:950px;display:inline-block}}#results-staging-area[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;text-align:left;font-size:1.25rem;margin:0 .5rem 0 0}#results-staging-area[_ngcontent-%COMP%]   .button-area[_ngcontent-%COMP%]{margin:1rem 0 0}@media (min-width:768px){#results-staging-area[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}#results-staging-area[_ngcontent-%COMP%]   .button-area[_ngcontent-%COMP%]{margin:0}}@media (min-width:576px){#results-staging-area[_ngcontent-%COMP%]   .button-area[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.09375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;margin-top:0}}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]{background:#fff;display:inline-block;margin:.75rem .9375rem 0}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]   .result-source-left[_ngcontent-%COMP%]{background:#f5f5f5;display:inline-block;padding:.2rem .75rem;margin:0;border:1px solid #ccc;border-top-left-radius:4px;border-bottom-left-radius:4px}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]   .result-source-center[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .75rem;margin:0;border:1px solid #ccc;border-left-width:0}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]   .move-source[_ngcontent-%COMP%]{cursor:pointer;padding:.2rem .25rem}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]   .move-source.move-source-left[_ngcontent-%COMP%]{padding-right:.3rem}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]   .move-source.move-source-right[_ngcontent-%COMP%]{padding-left:.3rem}#results-staging-area[_ngcontent-%COMP%]   .result-sources[_ngcontent-%COMP%]   .result-source[_ngcontent-%COMP%]   .result-source-right[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .5rem;margin:0;border:1px solid #ccc;border-left-width:0;border-top-right-radius:4px;border-bottom-right-radius:4px;cursor:pointer}#results-staging-area[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:0}"]],data:{}});function AV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"a",[],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,4),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-cubes"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["\n              ","\n            "]))],function(n,t){n(t,1,0,n(t,2,0,"/studies",t.component.tenantId,t.parent.context.$implicit.studyId,"jobs"))},function(n,t){n(t,0,0,e.wb(1,"results-staging-area-jobs-link-",t.parent.context.$implicit.studyId,""),e.Eb(t,1).target,e.Eb(t,1).href),n(t,5,0,t.parent.context.$implicit.jobName)})}function LV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"a",[],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,5),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,0,"i",[["class","fa fa-cube"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["\n              ","\n            "]))],function(n,t){n(t,1,0,n(t,2,0,"/studies",t.component.tenantId,t.parent.context.$implicit.studyId,"jobs",t.parent.context.$implicit.jobIndex))},function(n,t){n(t,0,0,e.wb(1,"results-staging-area-job-link-",t.parent.context.$implicit.studyId,""),e.Eb(t,1).target,e.Eb(t,1).href),n(t,5,0,t.parent.context.$implicit.jobName)})}function DV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","result-source-center move-source move-source-left"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.moveSourceLeft(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-caret-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "]))],null,null)}function NV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","result-source-center move-source move-source-right"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.moveSourceRight(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,0,"i",[["class","fa fa-caret-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "]))],null,null)}function UV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,27,"div",[["class","result-source"]],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,8,"div",[["class","result-source-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,5,"a",[],[[8,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,5).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(5,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(6,3),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(8,0,null,null,0,"i",[["class","fa fa-cubes"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["\n                ","\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(11,0,null,null,7,"div",[["class","result-source-center"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,AV)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,LV)),e.tb(17,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,DV)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,NV)),e.tb(22,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(23,0,null,null,3,"div",[["class","result-source-right"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.removeSource(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(25,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,5,0,n(t,6,0,"/studies",l.tenantId,t.context.$implicit.studyId)),n(t,14,0,!t.context.$implicit.jobId),n(t,17,0,t.context.$implicit.jobId),n(t,20,0,0!==t.context.index),n(t,22,0,t.context.index!==l.state.sources.length-1)},function(n,t){n(t,0,0,e.wb(1,"staged-result-",t.context.index,"")),n(t,4,0,e.wb(1,"results-staging-area-study-link-",t.context.$implicit.studyId,""),e.Eb(t,5).target,e.Eb(t,5).href),n(t,9,0,t.context.$implicit.studyName)})}function QV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,38,"div",[["class","results-container-top-line"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,23,"div",[["class","container-fluid results-container-top"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,20,"div",[["class","row header-row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(6,0,null,null,17,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare Results"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(11,0,null,null,11,"div",[["class","button-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(13,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","standard-overlay-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.showJobOverlayChart()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,0,"i",[["class","fa fa-area-chart"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Overlay\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(18,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","clear-results-staging-area-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.clear()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(20,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Clear\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(27,0,null,null,10,"div",[["class","results-container-bottom"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(29,0,null,null,7,"div",[["class","results-container-bottom-inner"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(31,0,null,null,4,"div",[["class","result-sources"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,UV)),e.tb(34,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,34,0,t.component.state.sources)},null)}function JV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[["id","results-staging-area"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{ngClass:[0,"ngClass"]},null),e.Hb(2,{"area-visible":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,QV)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,null==l.state?null:null==l.state.sources?null:l.state.sources.length)),n(t,5,0,null==l.state?null:null==l.state.sources?null:l.state.sources.length),n(t,8,0,l.errorMessage)},null)}var $V=function(){function n(n){this.notifications=n}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"shouldDisplayEnableNotificationsButton",{get:function(){return Notification&&!this.areNotificationsEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"areNotificationsEnabled",{get:function(){return this.notifications.areNotificationsEnabled},enumerable:!0,configurable:!0}),n.prototype.enableNotifications=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){switch(n.label){case 0:return this.areNotificationsEnabled?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),HV=function(){function n(){}return Object.defineProperty(n.prototype,"areNotificationsEnabled",{get:function(){return!!Notification&&"granted"===Notification.permission},enumerable:!0,configurable:!0}),n.prototype.notify=function(n,t,l){var e=new Notification(n,{icon:"/favicon-96x96.png",body:t});l&&(e.onclick=function(){l()})},n.ngInjectableDef=e.X({factory:function(){return new n},token:n,providedIn:"root"}),n}(),qV=e.sb({encapsulation:0,styles:[[""]],data:{}});function BV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.enableNotifications()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Enable Notifications"])),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function zV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  Notifications Enabled\n"]))],null,null)}function KV(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,BV)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,zV)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.shouldDisplayEnableNotificationsButton),n(t,4,0,l.areNotificationsEnabled)},null)}var WV=function(){function n(n,t,l){var e=this;this.identity=n,this.getUserSimVersion=t,this.getTenantSimVersion=l,this.RELEASE_NOTES_URL=Cn,this.apiBaseUrl=k.value,this.isTestUser=!1,this.identity.changed.subscribe(function(){return e.load()})}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){var n=this.identity.get();this.isTestUser=n.isInRole(S)},Object.defineProperty(n.prototype,"lastRequestedUserSimVersion",{get:function(){return this.getUserSimVersion.currentSimVersion},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastRequestedTenantSimVersion",{get:function(){return this.getTenantSimVersion.currentSimVersion},enumerable:!0,configurable:!0}),n}(),GV=e.sb({encapsulation:0,styles:[[".canopy-footer[_ngcontent-%COMP%]{margin-bottom:30rem;text-align:center;padding-top:.9375rem}.canopy-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:2rem;border-color:#f5f5f5}.canopy-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:#ccc}.canopy-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ccc;text-decoration:underline}.canopy-footer[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]{margin-right:1rem;margin-left:1rem}"]],data:{}});function YV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"span",[["class","footer-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        User Sim Version "])),(n()(),e.ub(2,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,1),(n()(),e.ub(5,0,null,null,1,"span",[["id","last-user-sim-version"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,3,0,n(t,4,0,t.component.RELEASE_NOTES_URL))},function(n,t){var l=t.component;n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href),n(t,6,0,l.lastRequestedUserSimVersion)})}function ZV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"span",[["class","footer-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Tenant Sim Version "])),(n()(),e.ub(2,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(3,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(4,1),(n()(),e.ub(5,0,null,null,1,"span",[["id","last-tenant-sim-version"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,3,0,n(t,4,0,t.component.RELEASE_NOTES_URL))},function(n,t){var l=t.component;n(t,2,0,e.Eb(t,3).target,e.Eb(t,3).href),n(t,6,0,l.lastRequestedTenantSimVersion)})}function XV(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","footer-item"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,3,"a",[["id","view-sim-version-documents-footer-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,2).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&u),u},null,null)),e.tb(2,671744,null,0,b.o,[b.m,b.a,f.i],{routerLink:[0,"routerLink"]},null),e.Fb(3,1),(n()(),e.Mb(-1,null,["Sim Version Documents"]))],function(n,t){n(t,2,0,n(t,3,0,"/admin/documents"))},function(n,t){n(t,1,0,e.Eb(t,2).target,e.Eb(t,2).href)})}function nj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,"div",[["class","canopy-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,23,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(6,0,null,null,18,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,YV)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,ZV)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(14,0,null,null,3,"span",[["class","footer-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Connected to "])),(n()(),e.ub(16,0,null,null,1,"span",[["id","api-base-url"]],null,null,null,null,null)),(n()(),e.Mb(17,null,["",""])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,XV)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(22,0,null,null,1,"cs-notification-enabler",[["class","footer-item"]],null,null,null,KV,qV)),e.tb(23,114688,null,0,$V,[HV],null,null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,9,0,l.lastRequestedUserSimVersion),n(t,12,0,l.lastRequestedTenantSimVersion),n(t,20,0,l.isTestUser),n(t,23,0)},function(n,t){n(t,17,0,t.component.apiBaseUrl)})}var tj=l("lf6A"),lj=function(){function n(n){this.dock=n}return n.prototype.ngOnInit=function(){},n.prototype.handleResize=function(n){this.dock.height=n.rectangle.height},n.prototype.handleResizeEnd=function(n){this.dock.height=n.rectangle.height},n}(),ej=e.sb({encapsulation:0,styles:[[".worksheet-dock[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding-top:1rem;border-top:3px dashed #adb5bd;background-color:#fff;height:30rem;max-height:85%;overflow:auto}"]],data:{}});function uj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[["class","worksheet-dock"],["mwlResizable",""]],null,[[null,"resizing"],[null,"resizeEnd"]],function(n,t,l){var e=!0,u=n.component;return"resizing"===t&&(e=!1!==u.handleResize(l)&&e),"resizeEnd"===t&&(e=!1!==u.handleResizeEnd(l)&&e),e},null,null)),e.tb(1,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(2,{height:0}),e.tb(3,212992,null,0,tj.a,[e.H,e.l,e.C],{resizeEdges:[0,"resizeEdges"],resizeCursorPrecision:[1,"resizeCursorPrecision"]},{resizing:"resizing",resizeEnd:"resizeEnd"}),e.Hb(4,{top:0}),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(6,0,null,null,2,"cs-edit-worksheet",[],null,null,null,EE,hE)),e.tb(7,245760,null,0,RP,[N,BP,eE,BC,b.m,Bp,Sm,O,oE,Qr,cE,bE,Nb,Bf,On],{tenantId:[0,"tenantId"],worksheetId:[1,"worksheetId"],isInstanceInDock:[2,"isInstanceInDock"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,l.dock.height+"px")),n(t,3,0,n(t,4,0,!0),5),n(t,7,0,l.dock.worksheet.tenantId,l.dock.worksheet.worksheetId,!0)},null)}function rj(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,uj)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.dock.worksheet)},null)}var ij=function(n,t){this.name=n,this.config=t},oj=function(n,t){this.from=n,this.to=t},sj=function(n,t,l,e){this.name=n,this.units=t,this.description=l,this.data=e},aj=function(){function n(n,t){this.timer=n,this.getFriendlyErrorAndLog=t}return n.prototype.ngOnInit=function(){this.performRun()},n.prototype.performRun=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.timer.yield()];case 1:return t.sent(),[4,this.run()];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),cj=/^([0-9]+):([0-9]+):([0-9]+\.[0-9]+)$/;function dj(n){if("number"==typeof n)return n;if(""===(n=n.toLowerCase()))return NaN;if("nan"===n)return NaN;if("inf"===n||"infinity"===n)return NaN;if("-inf"===n||"-infinity"===n)return NaN;var t=cj.exec(n);return t?3600*parseFloat(t[1])+60*parseFloat(t[2])+parseFloat(t[3]):Xt(n)?parseFloat(n):void 0}function bj(n){var t=dj(n);return Object(fe.isUndefined)(t)?NaN:t}var fj=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),pj=['"',"'","`"],hj=[",","\t",";","|",":"],gj=function(n){function t(t,l){var u=n.call(this,t,l)||this;return u.telemetryConfigCreated=new e.n,u.infoMessages=[],u.errorMessages=[],u}return fj(t,n),t.prototype.run=function(){return n=this,void 0,l=function(){var n,t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){try{n=this.getRowsFromDelimitedText(this.csvFile.content)}catch(n){return this.errorMessage=n.message,[2]}try{t=this.convertRowsToTelemetryConfig(n),this.telemetryConfigCreated.emit(new ij(this.csvFile.name,t))}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},t.prototype.getRowsFromDelimitedText=function(n){var t=function(n,t){void 0===t&&(t=hj);var l=t.filter(function(t){var l=-1;return n.split("\n").every(function(n,e){if(!n||0===e)return!0;var u=n.split(t).length;return l<0&&(l=u),l===u&&u>1})});if(0!==l.length)return l[0]}(n);if(!t)throw new cl("Unable to determine data delimiter. Ensure every row has the same number of columns.");this.infoMessages.push("Detected file delimiter: "+("\t"===t?"TAB":t));var l=Fn.dsvFormat(t).parseRows(n);this.infoMessages.push("Found "+l.length+" rows.");for(var e=0,u=l;e<u.length;e++)for(var r=u[e],i=0;i<r.length;++i)r[i]=this.sanitizeRowValue(r[i]);return l},t.prototype.sanitizeRowValue=function(n){n=n.trim();for(var t=0,l=pj;t<l.length;t++){var e=l[t];if(n.startsWith(e)&&n.endsWith(e)){n=n.substr(1,n.length-2);break}}return n},t.prototype.convertRowsToTelemetryConfig=function(n){var t,l,e=this,u=this.findIndexOfFirstRowOfNumbers(n);switch(u){case-1:throw new cl("Data row not found.");case 0:throw new cl("Header row not found.");case 1:l=(t=n[0]).map(function(n){return""});break;case 2:t=n[0],l=n[1];break;case 3:t=n[1],l=n[2];break;default:throw new cl("Too many header rows: "+u)}if(l=l.map(function(n){return n||"()"}),t.length!==l.length)throw new cl("Units row length ("+l.length+") does not match channel name row length ("+t.length+").");for(var r=new Array(n.length-u),i=u,o=0;i<n.length;++i,++o){var s=n[i].map(function(n){return e.parseAsNumberOrDefaultToNaN(n)});s.length!==t.length&&this.errorMessages.push("Row index "+i+" length ("+s.length+") does not match channel name row length ("+t.length+")."),r[o]=s}if(!this.errorMessages.length)return{channels:t.map(function(n,t){return new sj(n,l[t],"",r.map(function(n){return n[t]}))})}},t.prototype.parseAsNumberOrDefaultToNaN=function(n){var t=this.tryParseAsNumber(n);return void 0===t?NaN:t},t.prototype.canParseAsNumber=function(n){return void 0!==this.tryParseAsNumber(n)},t.prototype.tryParseAsNumber=function(n){return dj(n)},t.prototype.findIndexOfFirstRowOfNumbers=function(n){for(var t=this,l=0;l<n.length;++l)if(n[l].every(function(n){return t.canParseAsNumber(n)}))return l;return-1},t}(aj),yj=e.sb({encapsulation:0,styles:[[""]],data:{}});function mj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function vj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(1,49152,null,0,h,[],{message:[0,"message"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function wj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Mj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,mj)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,vj)),e.tb(11,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,wj)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n\n"]))],function(n,t){var l=t.component;n(t,5,0,l.infoMessages),n(t,8,0,l.errorMessage),n(t,11,0,l.errorMessages),n(t,14,0,!l.errorMessage&&!l.errorMessages.length)},null)}var Cj=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Sj=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Ij=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},xj=function(n){function t(t,l,u,r,i){var o=n.call(this,r,i)||this;return o.configStub=t,o.getSimVersion=l,o.identity=u,o.telemetryConfigValidated=new e.n,o.errorMessages=[],o}return Cj(t,n),t.prototype.run=function(){return Sj(this,void 0,void 0,function(){var n,t;return Ij(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.getValidatedConfig(this.telemetryConfig)];case 1:return n=l.sent(),this.errorMessage||this.errorMessages&&this.errorMessages.length||this.telemetryConfigValidated.emit(n),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},Object.defineProperty(t.prototype,"hasErrors",{get:function(){return!!this.errorMessage||!!this.errorMessages.length},enumerable:!0,configurable:!0}),t.prototype.getValidatedConfig=function(n){return Sj(this,void 0,void 0,function(){var t,l,e,u,r,i;return Ij(this,function(o){switch(o.label){case 0:if(!n)throw new cl("No telemetry file provided.");if(t=n.name?n.name:"New Telemetry",!n.config)throw new cl("No telemetry config provided.");if("object"!=typeof n.config)throw new cl("Telemetry root not found.");return e=n.config,(u=n.config).simVersion&&(l=u.simVersion,e=u.config),r=this.identity.get(),l?[4,this.configStub.upgradeConfig(r.tenantId,this.getSimVersion.currentSimVersion,{configType:un.telemetry,config:e,simVersion:l})]:[3,2];case 1:i=o.sent(),e=i.config,o.label=2;case 2:return this.validateChannels(e.channels),[2,new function(n,t){this.name=n,this.config=t,this.channelNameMappings=[]}(t,e)]}})})},t.prototype.validateChannels=function(n){if(!n||!n.length)throw new cl("No channels provided.");for(var t=0,l=0;l<n.length;++l){var e=n[l];if(e)if(e.name?"string"!=typeof e.name&&this.errorMessages.push("Channel name at index "+l+" was not a string."):this.errorMessages.push("No channel name at index "+l),e.description&&"string"!=typeof e.description&&this.errorMessages.push("Channel description for "+e.name+" was not a string."),e.units&&"string"!=typeof e.units&&this.errorMessages.push("Channel unit for "+e.name+" was not a string."),e.data&&e.data.length){0===l?t=e.data.length:e.data.length!==t&&this.errorMessages.push("Channel data for "+e.name+" was of length "+e.data.length+", which does not match first channel length of "+t+".");for(var u=0;u<e.data.length;++u)if("number"!=typeof e.data[u]){this.errorMessages.push("Channel at for "+e.name+" has non-numeric data at index "+u+" ("+e.data[u]+").");break}}else this.errorMessages.push("No channel data for "+e.name+".");else this.errorMessages.push("No channel at index "+l)}},t}(aj),Oj=e.sb({encapsulation:0,styles:[[""]],data:{}});function kj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(1,49152,null,0,h,[],{message:[0,"message"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function Tj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Pj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(5,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,kj)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,Tj)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n\n"]))],function(n,t){var l=t.component;n(t,5,0,l.errorMessage),n(t,8,0,l.errorMessages),n(t,11,0,!l.errorMessage&&!l.errorMessages.length)},null)}var Ej=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),_j=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},Vj=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},jj=function(n){function t(t,l,u,r,i,o,s,a){var c=n.call(this,s,a)||this;return c.json=t,c.tenantSettingsStub=l,c.identity=u,c.canopyAutocomplete=r,c.formBuilder=i,c.formSubmissionHandler=o,c.telemetryConfigRemapped=new e.n,c.submitButton=new ll("Apply","Applying..."),c.itemId=0,c}return Ej(t,n),t.prototype.run=function(){return _j(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o;return Vj(this,function(s){switch(s.label){case 0:return this.currentIdentity=this.identity.get(),[4,this.tenantSettingsStub.getTenantChannelImportMappings(this.currentIdentity.tenantId)];case 1:for(n=s.sent(),this.mappings=n.channelImportMappings||[],this.form=this.formBuilder.group({}),this.mappingControls=[],t=0,l=this.mappings;t<l.length;t++)e=l[t],u=this.getNextIds(),this.mappingControls.push({initialFrom:e.from,from:new Zt.f(e.from,tl.channelNameValidators),to:new Zt.f(e.to,tl.channelNameValidators),fromId:u.from,toId:u.to,fromAutocomplete:void 0});for(this.mappingControls.sort(ge("initialFrom")),r=0,i=this.mappingControls;r<i.length;r++)this.form.addControl((o=i[r]).fromId,o.from),this.form.addControl(o.toId,o.to);return[4,this.createAutocompleteOnInputs()];case 2:return s.sent(),[2]}})})},t.prototype.add=function(){return _j(this,void 0,void 0,function(){var n,t,l;return Vj(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n=this.getNextIds(),t={initialFrom:"",from:new Zt.f("",tl.channelNameValidators),to:new Zt.f("",tl.channelNameValidators),fromId:n.from,toId:n.to,fromAutocomplete:void 0},this.mappingControls.push(t),this.form.addControl(t.fromId,t.from),this.form.addControl(t.toId,t.to),[4,this.createAutocompleteOnInputs()];case 1:return e.sent(),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},t.prototype.remove=function(n){try{var t=this.mappingControls[n];this.mappingControls.splice(n,1),this.form.removeControl(t.fromId),this.form.removeControl(t.toId),nm(this.form,!1)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},t.prototype.createAutocompleteOnInputs=function(){return _j(this,void 0,void 0,function(){var n,t,l,e;return Vj(this,function(u){switch(u.label){case 0:return[4,this.timer.yield()];case 1:for(u.sent(),n=this.telemetryConfig.config.channels.map(function(n){return n.name}),t=0,l=this.mappingControls;t<l.length;t++)(e=l[t]).fromAutocomplete||(e.fromAutocomplete=this.canopyAutocomplete.create(e.fromId+"-input",e.from,n));return[2]}})})},t.prototype.updateMappings=function(){var n=this;if(!this.form.valid)throw new cl("Please correct invalid mappings before proceeding.");var t=function(){n.mappings.sort(ge("from","to"))};t();var l=this.json.stringify(this.mappings);this.mappings.splice(0);for(var e=0,u=this.mappingControls;e<u.length;e++){var r=u[e];r.from.value&&r.to.value&&this.mappings.push({from:r.from.value.trim(),to:r.to.value.trim()})}return t(),l!==this.json.stringify(this.mappings)},t.prototype.saveMappings=function(){return _j(this,void 0,void 0,function(){return Vj(this,function(n){switch(n.label){case 0:return n.trys.push([0,,2,3]),this.isSaving=!0,[4,this.tenantSettingsStub.putTenantChannelImportMappings(this.currentIdentity.tenantId,{channelImportMappings:this.mappings||[]})];case 1:return n.sent(),[3,3];case 2:return this.isSaving=!1,[7];case 3:return[2]}})})},t.prototype.applyMappings=function(){for(var n=0,t=this.telemetryConfig.config.channels;n<t.length;n++)for(var l=t[n],e=0,u=this.mappings;e<u.length;e++){var r=u[e];l.name===r.from&&(this.telemetryConfig.channelNameMappings.push(new oj(r.from,r.to)),l.name=r.to)}},t.prototype.emitConfig=function(){this.telemetryConfigRemapped.emit(this.telemetryConfig)},t.prototype.saveAndContinue=function(){return _j(this,void 0,void 0,function(){var n;return Vj(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.updateMappings()?[4,this.saveMappings()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.applyMappings(),this.emitConfig(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})})},t.prototype.skip=function(){try{this.emitConfig()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},t.prototype.onSubmit=function(){return _j(this,void 0,void 0,function(){return Vj(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent(),[2]}})})},t.prototype.submit=function(){return _j(this,void 0,void 0,function(){return Vj(this,function(n){switch(n.label){case 0:return[4,this.saveAndContinue()];case 1:return n.sent(),[2]}})})},t.prototype.getNextIds=function(){var n=this.getNextId();return{from:n+"-from",to:n+"-to"}},t.prototype.getNextId=function(){return"mapping-"+this.itemId++},t}(aj),Rj=e.sb({encapsulation:0,styles:[[""]],data:{}});function Fj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function Aj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        Channel mapping preferences are saved for all users.\n      "]))],null,null)}function Lj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-primary"],["id","channel-mappings-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){var l=t.component;n(t,0,0,l.submitButton.isSubmitting),n(t,1,0,l.submitButton.text)})}function Dj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Lj)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","channel-mappings-skip"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.skip()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Skip"])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,l.mappings.length||l.mappingControls.length)},function(n,t){n(t,5,0,t.component.submitButton.isSubmitting)})}function Nj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        No mappings specified.\n      "]))],null,null)}function Uj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          From is too short.\n        "]))],null,null)}function Qj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          From is too long.\n        "]))],null,null)}function Jj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          To is too short.\n        "]))],null,null)}function $j(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          To is too long.\n        "]))],null,null)}function Hj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,30,"div",[["class","form-inline form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,5,"input",[["class","form-control"],["placeholder","From"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,3)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,3).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,3)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,3)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(3,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(5,540672,null,0,Zt.g,[[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{form:[0,"form"]},null),e.Jb(2048,null,Zt.p,null,[Zt.g]),e.tb(7,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,5,"input",[["class","form-control"],["placeholder","To"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,10)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,10).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,10)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,10)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(10,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(12,540672,null,0,Zt.g,[[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{form:[0,"form"]},null),e.Jb(2048,null,Zt.p,null,[Zt.g]),e.tb(14,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,1,"button",[["class","btn btn-smart btn-secondary remove-channel-name-mapping-button"],["type","button"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.remove(n.context.index)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Remove"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Uj)),e.tb(20,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Qj)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,Jj)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,$j)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,5,0,t.context.$implicit.from),n(t,12,0,t.context.$implicit.to),n(t,20,0,t.context.$implicit.from.hasError("minlength")),n(t,23,0,t.context.$implicit.from.hasError("maxlength")),n(t,26,0,t.context.$implicit.to.hasError("minlength")),n(t,29,0,t.context.$implicit.to.hasError("maxlength"))},function(n,t){n(t,2,0,e.wb(1,"",t.context.$implicit.fromId,"-input"),e.Eb(t,7).ngClassUntouched,e.Eb(t,7).ngClassTouched,e.Eb(t,7).ngClassPristine,e.Eb(t,7).ngClassDirty,e.Eb(t,7).ngClassValid,e.Eb(t,7).ngClassInvalid,e.Eb(t,7).ngClassPending),n(t,9,0,e.wb(1,"",t.context.$implicit.toId,"-input"),e.Eb(t,14).ngClassUntouched,e.Eb(t,14).ngClassTouched,e.Eb(t,14).ngClassPristine,e.Eb(t,14).ngClassDirty,e.Eb(t,14).ngClassValid,e.Eb(t,14).ngClassInvalid,e.Eb(t,14).ngClassPending),n(t,16,0,e.wb(1,"remove-channel-name-mapping-button-",t.context.index,""))})}function qj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-secondary add-button"],["id","add-channel-name-mapping-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.add()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          Add Channel Name Mapping\n        "]))],null,null)}function Bj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,23,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,2).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,2).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(1,16384,null,0,Zt.y,[],null,null),e.tb(2,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(4,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Aj)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Dj)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Nj)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,Hj)),e.tb(16,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,qj)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,2,0,l.form),n(t,7,0,l.mappings.length||l.mappingControls.length),n(t,10,0,!l.errorMessage),n(t,13,0,!l.mappingControls.length),n(t,16,0,l.mappingControls),n(t,21,0,l.mappingControls)},function(n,t){n(t,0,0,e.Eb(t,4).ngClassUntouched,e.Eb(t,4).ngClassTouched,e.Eb(t,4).ngClassPristine,e.Eb(t,4).ngClassDirty,e.Eb(t,4).ngClassValid,e.Eb(t,4).ngClassInvalid,e.Eb(t,4).ngClassPending)})}function zj(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Map Channel Names"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Fj)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,Bj)),e.tb(14,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,8,0,l.errorMessage),n(t,11,0,!l.errorMessage&&(!l.mappings||l.isSaving||!l.mappingControls)),n(t,14,0,l.form)},null)}var Kj=function(){function n(n,t,l){this.canopyJsonDiffPatch=n,this.timer=t,this.getFriendlyErrorAndLog=l,this.elementId||(this.elementId="diff")}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.timer.yield()];case 1:return t.sent(),this.canopyJsonDiffPatch.diff(this.first,this.second,this.elementId),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}();var Wj="";function Gj(n,t){return n>>>t|n<<32-t}function Yj(n,t){return n>>>t}function Zj(n,t,l){return n&t^~n&l}function Xj(n,t,l){return n&t^n&l^t&l}function nR(n){return Gj(n,2)^Gj(n,13)^Gj(n,22)}function tR(n){return Gj(n,6)^Gj(n,11)^Gj(n,25)}function lR(n){return Gj(n,7)^Gj(n,18)^Yj(n,3)}var eR=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);function uR(n,t){var l=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(l>>16)<<16|65535&l}var rR=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},iR=l("tNgD"),oR=l("8znY"),sR=function(){function n(n,t){this.zone=n,this.json=t}return n.prototype.diff=function(n,t,l){var e=this.getDiff(n,t);return l&&(e.data?this.zone.runOutsideAngular(function(){document.getElementById(l).innerHTML=oR.html.format(e.data,n),oR.html.hideUnchanged()}):document.getElementById(l).innerHTML='<p class="last-item no-changes-detected">No changes detected.</p>'),e},n.prototype.getDiff=function(n,t,l){var e={},u=function(n,t){if(t&&Array.isArray(t)&&t.length>=100){var l=(u=JSON.stringify(t),function(n){for(var t="",l=n.length,e=0;e<l;e+=3)for(var u=n.charCodeAt(e)<<16|(e+1<l?n.charCodeAt(e+1)<<8:0)|(e+2<l?n.charCodeAt(e+2):0),r=0;r<4;r++)t+=8*e+6*r>8*n.length?Wj:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(u>>>6*(3-r)&63);return t}(function(n){for(var t="",l=0;l<32*n.length;l+=8)t+=String.fromCharCode(n[l>>5]>>>24-l%32&255);return t}(function(n,t){var l,e,u,r,i,o,s,a,c,d,b,f,p,h=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),g=new Array(64);for(n[t>>5]|=128<<24-t%32,n[15+(t+64>>9<<4)]=t,c=0;c<n.length;c+=16){for(l=h[0],e=h[1],u=h[2],r=h[3],i=h[4],o=h[5],s=h[6],a=h[7],d=0;d<64;d++)g[d]=d<16?n[d+c]:uR(uR(uR(Gj(p=g[d-2],17)^Gj(p,19)^Yj(p,10),g[d-7]),lR(g[d-15])),g[d-16]),b=uR(uR(uR(uR(a,tR(i)),Zj(i,o,s)),eR[d]),g[d]),f=uR(nR(l),Xj(l,e,u)),a=s,s=o,o=i,i=uR(r,b),r=u,u=e,e=l,l=uR(b,f);h[0]=uR(l,h[0]),h[1]=uR(e,h[1]),h[2]=uR(u,h[2]),h[3]=uR(r,h[3]),h[4]=uR(i,h[4]),h[5]=uR(o,h[5]),h[6]=uR(s,h[6]),h[7]=uR(a,h[7])}return h}(function(n){for(var t=Array(n.length>>2),l=0;l<t.length;l++)t[l]=0;for(l=0;l<8*n.length;l+=8)t[l>>5]|=(255&n.charCodeAt(l/8))<<24-l%32;return t}(r=function(n){for(var t,l,e="",u=-1;++u<n.length;)t=n.charCodeAt(u),l=u+1<n.length?n.charCodeAt(u+1):0,55296<=t&&t<=56319&&56320<=l&&l<=57343&&(t=65536+((1023&t)<<10)+(1023&l),u++),t<=127?e+=String.fromCharCode(t):t<=2047?e+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?e+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(e+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return e}(u)),8*r.length))));return e[l]=t,"large-array-hash-"+l}var u,r;return t};n=this.json.clone(n,u),t=this.json.clone(t,u);var r=this.create(l).diff(n,t);return new aR(r,e,n,t)},n.prototype.restoreLargeArrays=function(n,t){return this.json.clone(n,function(n,l){return l&&"string"==typeof l&&l.startsWith("large-array-hash-")?t[l.substr("large-array-hash-".length)]:l})},n.prototype.create=function(n){return iR.create(rR({arrays:{detectMove:!1},textDiff:{minLength:100}},n||{}))},n}(),aR=function(n,t,l,e){this.data=n,this.hashMap=t,this.left=l,this.right=e},cR=e.sb({encapsulation:0,styles:[[".compare-first-title[_ngcontent-%COMP%]{background-color:#fbb}.compare-second-title[_ngcontent-%COMP%]{background-color:#bfb}"]],data:{}});function dR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  Comparing "])),(n()(),e.ub(2,0,null,null,1,"span",[["class","compare-first-title"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,[" to "])),(n()(),e.ub(5,0,null,null,1,"span",[["class","compare-second-title"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,[".\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(9,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(10,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(12,0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,10,0,t.component.errorMessage)},function(n,t){var l=t.component;n(t,3,0,l.firstTitle),n(t,6,0,l.secondTitle),n(t,12,0,e.wb(1,"",l.elementId,""))})}var bR=l("HLL/"),fR=l("Cjpe"),pR=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),hR=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},gR=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},yR=[bR.s,bR.t,bR.e],mR=[bR.z,bR.A,bR.y,bR.B,"TimeIntoExport","timeBase"],vR=function(n){function t(t,l,u,r,i,o){var s=n.call(this,i,o)||this;return s.getSimVersion=t,s.json=l,s.documentCache=u,s.visualizationFactory=r,s.telemetryConfigProcessed=new e.n,s.infoMessages=[],s.warnMessages=[],s.errorMessages=[],s.channel=[],s.unitConversions=[],s.removedChannels=[],s.addedChannels=[],s.renamedChannels=[],s}return pR(t,n),t.prototype.run=function(){return hR(this,void 0,void 0,function(){var n,t;return gR(this,function(l){switch(l.label){case 0:return t=this,[4,this.documentCache.get(this.getSimVersion.currentSimVersion)];case 1:return t.documentsResult=l.sent(),this.showDifferences&&(this.inputTelemetry=this.getConfigSummary(this.telemetryConfig.config)),(n=this.renamedChannels).push.apply(n,this.telemetryConfig.channelNameMappings),this.processDomainChannels(),this.processChannelUnits(),this.renamedChannels.sort(ge({name:"from",primer:function(n){return n.toLowerCase()}})),this.showDifferences&&(this.outputTelemetry=this.getConfigSummary(this.telemetryConfig.config)),[4,this.loadTelemetryPreview()];case 2:return l.sent(),[2]}})})},t.prototype.loadTelemetryPreview=function(){return hR(this,void 0,void 0,function(){var n,t;return gR(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.configPreviewErrorMessage=void 0,[4,this.timer.yield()];case 1:return l.sent(),this.configPreviewElement&&this.configPreviewElement.nativeElement?(this.configPreviewElement.nativeElement.innerHTML='<div id="view-config-preview"></div>',[4,this.timer.yield()]):[2];case 2:return l.sent(),n=this,[4,this.visualizationFactory.createTelemetryPreview("view-config-preview",[new qh("Telemetry",this.telemetryConfig.config)])];case 3:return n.navigationStation=l.sent(),[4,this.navigationStation.build()];case 4:return l.sent(),[3,6];case 5:return t=l.sent(),this.configPreviewErrorMessage=this.getFriendlyErrorAndLog.execute(t),[3,6];case 6:return[2]}})})},t.prototype.processDomainChannels=function(){if(this.timeChannel=this.telemetryConfig.config.channels.find(function(n){return-1!==mR.indexOf(n.name)}),!this.timeChannel)throw new cl("Time domain not found ("+mR.join(", ")+").");this.timeChannelOriginalName=this.timeChannel.name,this.timeChannel.name!==bR.A&&(this.timeChannel.name=bR.A,this.renamedChannels.push(new oj(this.timeChannelOriginalName,this.timeChannel.name)));var n=this.telemetryConfig.config.channels.filter(function(n){return-1!==yR.indexOf(n.name)});0===n.length?this.warnMessages.push("Distance domain not found ("+yR.join(", ")+")."):1===n.length?this.distanceChannel=n[0]:(this.distanceChannel=n.find(function(n){return n.name===bR.t}),this.distanceChannel||(this.distanceChannel=n[0])),this.inputDataLength=this.timeChannel.data.length;var t=new fR.a;this.addDuplicateValueIndices(this.timeChannel.data,t),this.ensureMonotonic(this.timeChannel.data,"Time"),this.distanceChannel&&this.addDuplicateValueIndices(this.distanceChannel.data,t),this.removePointsFromChannels(t,"repeating domain values"),this.distanceChannel&&(this.distanceChannelOriginalName=this.distanceChannel.name,this.isMonotonic(this.distanceChannel.data)?this.distanceChannel.name!==bR.t&&(this.distanceChannel.name=bR.t,this.renamedChannels.push(new oj(this.distanceChannelOriginalName,this.distanceChannel.name))):this.generateMonotonicDistanceDomain()),this.generateLapNumberChannelIfRequired(),this.removeSuspiciouslyShortInitialLap()},t.prototype.generateLapNumberChannelIfRequired=function(){var n=this.telemetryConfig.config.channels.find(function(n){return n.name===bR.s}),t=this.telemetryConfig.config.channels.find(function(n){return n.name===bR.l});if(n&&!t&&!this.isMonotonic(n.data)){t=new sj(bR.l,"()","Lap number.",[]),this.addedChannels.push(new MR(t.name,"Created lap number channel.")),this.telemetryConfig.config.channels.push(t);var l=1;t.data.push(l);for(var e=1;e<n.data.length;++e)t.data.push(n.data[e]<n.data[e-1]?++l:l)}},t.prototype.generateMonotonicDistanceDomain=function(){this.distanceChannel.name!==bR.s&&(this.distanceChannel.name=bR.s,this.renamedChannels.push(new oj(this.distanceChannelOriginalName,this.distanceChannel.name)));var n=new sj(bR.t,this.distanceChannel.units,"Monotonic distance.",[]);this.addedChannels.push(new MR(n.name,"Created monotonic distance channel.")),this.telemetryConfig.config.channels.push(n),n.data.push(0);for(var t=1;t<this.distanceChannel.data.length;++t){var l=this.distanceChannel.data[t],e=this.distanceChannel.data[t-1],u=n.data[t-1];if(l<e){var r=l;t>1&&(r=u-n.data[t-2]),r<=0&&(r=1),n.data.push(u+r)}else n.data.push(u+(l-e))}},t.prototype.removeSuspiciouslyShortInitialLap=function(){var n=this.telemetryConfig.config.channels.find(function(n){return n.name===bR.l});if(n){for(var t=new fR.a,l=1;l<Math.min(5,n.data.length);++l)if(n.data[l]!==n.data[l-1]){for(var e=0;e<l;++e)t.add(e);n.data=n.data.map(function(n){return n-1});break}this.removePointsFromChannels(t,"suspiciously short initial lap")}},t.prototype.removePointsFromChannels=function(n,t){var l=n.get().length;l&&(this.warnMessages.push("Removing "+l+" data point"+(1===l?"":"s")+" from each channel due to "+t+"."),Ap.b.strip.apply(Ap.b,[n].concat(this.telemetryConfig.config.channels.map(function(n){return n.data}))),this.outputDataLength=this.timeChannel.data.length)},t.prototype.addDuplicateValueIndices=function(n,t){for(var l=n.length-1;l>0;--l)n[l]===n[l-1]&&t.add(l)},t.prototype.ensureMonotonic=function(n,t){var l=this.getNonMonotonicIndex(n);if(l>0)throw new cl(t+" domain should be monotonically increasing at index "+l+".")},t.prototype.isMonotonic=function(n){return 0===this.getNonMonotonicIndex(n)},t.prototype.getNonMonotonicIndex=function(n){for(var t=n.length-1;t>0;--t)if(n[t]<n[t-1])return t;return 0},t.prototype.processChannelUnits=function(){for(var n=$f.a.getKnownUnits().reduce(function(n,t){return n[t]=t,n},{}),t=this.getSupportedSiUnits().reduce(function(n,t){return n[t]=t,n},{}),l=new fR.a,e=0,u=function(u){var i=r.sanitizeUnits(u.units);if(n[i]){var o=$f.a.getSiUnit(i);if(t[o]){if(o!==i){$f.a.replaceValuesWithSi(u.data,i);var s=r.unitConversions.find(function(n){return n.from===i});s||(s=new wR(i,o),r.unitConversions.push(s)),s.channels.push(u.name),u.units=o}}else r.removedChannels.push(new MR(u.name,"Unrecognised SI units: "+u.units)),l.add(e)}else r.removedChannels.push(new MR(u.name,"Unrecognised units: "+u.units)),l.add(e);++e},r=this,i=0,o=this.telemetryConfig.config.channels;i<o.length;i++)u(o[i]);Ap.b.strip(l,this.telemetryConfig.config.channels)},t.prototype.submit=function(){this.errorMessage||this.errorMessages.length||this.telemetryConfigProcessed.emit(this.telemetryConfig)},Object.defineProperty(t.prototype,"channelsUnitConverted",{get:function(){return this.unitConversions.reduce(function(n,t){return n+t.channels.length},0)},enumerable:!0,configurable:!0}),t.prototype.getSupportedSiUnits=function(){var n=this.documentsResult.documents.find(function(n){return"si-units.schema.json"===n.name});if(n)return this.json.parse(n.content).enum.slice();var t=this.documentsResult.documents.find(function(n){return"telemetry.schema.json"===n.name});if(!t)throw new cl("Telemetry importing is not supported for this sim version. Please use a later sim version.");return this.json.parse(t.content).properties.channels.items.properties.units.enum.slice()},t.prototype.getConfigSummary=function(n){return this.json.clone(this.telemetryConfig.config,function(n,t){return"channels"===n?t.reduce(function(n,t){return n[t.name]={units:t.units,exampleData:t.data},n},{}):"exampleData"===n&&Array.isArray(t)&&t.length>2?[t[0],t[1]]:t})},t.prototype.sanitizeUnits=function(n){return n.replace("seconds","s").replace("second","s").replace("secs","s").replace("sec","s").replace("\ufffd","\xb0")},t}(aj),wR=function(n,t){this.from=n,this.to=t,this.channels=[]},MR=function(n,t){this.name=n,this.reason=t},CR=e.sb({encapsulation:0,styles:[[""]],data:{}});function SR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function IR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function xR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(1,49152,null,0,h,[],{message:[0,"message"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function OR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function kR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(4,0,null,null,1,"button",[["class","btn btn-primary btn-smart"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.submit()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          Submit Telemetry\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(8,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "]))],null,null)}function TR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Time Domain"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.timeChannelOriginalName)})}function PR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Distance Domain"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.distanceChannelOriginalName)})}function ER(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Input Channel Length"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.inputDataLength)})}function _R(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Output Channel Length"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.outputDataLength)})}function VR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channels Generated"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.addedChannels.length)})}function jR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channels Removed"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.removedChannels.length)})}function RR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channel Units Converted"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){n(t,7,0,t.component.channelsUnitConverted)})}function FR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Preview"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(8,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(10,0,[[1,0],["configPreviewContainer",1]],null,1,"div",[["id","import-telemetry-preview-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,8,0,t.component.configPreviewErrorMessage)},null)}function AR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n        "]))],null,function(n,t){n(t,3,0,t.context.$implicit.name),n(t,6,0,t.context.$implicit.reason)})}function LR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,27,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Generated Channels"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,19,"table",[["class","table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,10,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channel"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Reason"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(21,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,AR)),e.tb(24,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,24,0,t.component.addedChannels)},null)}function DR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n        "]))],null,function(n,t){n(t,3,0,t.context.$implicit.from),n(t,6,0,t.context.$implicit.to)})}function NR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,27,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Renamed Channels"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,19,"table",[["class","table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,10,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Old Name"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["New Name"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(21,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,DR)),e.tb(24,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,24,0,t.component.renamedChannels)},null)}function UR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n        "]))],null,function(n,t){n(t,3,0,t.context.$implicit.name),n(t,6,0,t.context.$implicit.reason)})}function QR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,27,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Removed Channels"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,19,"table",[["class","table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,10,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channel"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Reason"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(21,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,UR)),e.tb(24,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,24,0,t.component.removedChannels)},null)}function JR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(9,null,["",""])),(n()(),e.Mb(-1,null,["\n        "]))],null,function(n,t){n(t,3,0,t.context.$implicit.from),n(t,6,0,t.context.$implicit.to),n(t,9,0,t.context.$implicit.channels.join(", "))})}function $R(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,30,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Unit Conversions"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,22,"table",[["class","table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(9,0,null,null,13,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,10,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["From"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["To"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(19,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channels"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(24,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,JR)),e.tb(27,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,27,0,t.component.unitConversions)},null)}function HR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Modifications During Import"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"cs-compare-config-deprecated",[],null,null,null,dR,cR)),e.tb(8,114688,null,0,Kj,[sR,fr,On],{firstTitle:[0,"firstTitle"],first:[1,"first"],secondTitle:[2,"secondTitle"],second:[3,"second"],elementId:[4,"elementId"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,8,0,"input",l.inputTelemetry,"output",l.outputTelemetry,"telemetry-import-diff")},null)}function qR(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,75,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,72,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,kR)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.ub(7,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Summary"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(10,0,null,null,45,"table",[["class","table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(12,0,null,null,42,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(14,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channels Accepted"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(19,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(20,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(21,null,["",""])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,TR)),e.tb(25,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,PR)),e.tb(28,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,ER)),e.tb(31,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,_R)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,VR)),e.tb(37,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(39,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(41,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channels Renamed"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(44,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.ub(45,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(46,null,["",""])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,jR)),e.tb(50,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,RR)),e.tb(53,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,FR)),e.tb(58,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,LR)),e.tb(61,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,NR)),e.tb(64,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,QR)),e.tb(67,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,$R)),e.tb(70,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n    "])),(n()(),e.lb(16777216,null,null,1,null,HR)),e.tb(73,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,5,0,!l.errorMessage&&!l.errorMessages.length),n(t,25,0,l.timeChannel),n(t,28,0,l.distanceChannel),n(t,31,0,l.inputDataLength),n(t,34,0,l.outputDataLength&&l.outputDataLength!==l.inputDataLength),n(t,37,0,l.addedChannels.length),n(t,50,0,l.removedChannels.length),n(t,53,0,l.channelsUnitConverted),n(t,58,0,!l.errorMessage&&l.telemetryConfig.config.channels.length),n(t,61,0,l.addedChannels.length),n(t,64,0,l.renamedChannels.length),n(t,67,0,l.removedChannels.length),n(t,70,0,l.unitConversions.length),n(t,73,0,l.outputTelemetry)},function(n,t){var l=t.component;n(t,21,0,l.telemetryConfig.config.channels.length),n(t,46,0,l.renamedChannels.length)})}function BR(n){return e.Ob(0,[e.Kb(671088640,1,{configPreviewElement:0}),(n()(),e.ub(1,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(3,0,null,null,16,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,SR)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,IR)),e.tb(9,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(11,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(12,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,xR)),e.tb(15,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,OR)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,qR)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,6,0,l.infoMessages),n(t,9,0,l.warnMessages),n(t,12,0,l.errorMessage),n(t,15,0,l.errorMessages),n(t,18,0,!l.documentsResult&&!l.errorMessage),n(t,23,0,l.documentsResult)},null)}var zR=function(){function n(n,t,l,e){this.sessionFactory=n,this.dialogManager=t,this.dialogLevel=l,this.getFriendlyErrorAndLog=e,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogLevel.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.getCurrentDialog();if(n){this.isVisible=!0,this.dialog=n;var t=new KR(this);this.session=this.sessionFactory.create(t,n),t.attachToSession(),this.loadSessionInBackground()}else this.isVisible=!1,this.session=void 0,this.dialog=void 0},n.prototype.accept=function(n){this.dialog&&this.dialog.resolve(n)},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.loadSessionInBackground=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){try{this.session.load()}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),KR=function(){function n(n){this.target=n}return n.prototype.attachToSession=function(){this.expectedSession=this.target.session},n.prototype.accept=function(n){this.target.session===this.expectedSession&&this.target.accept(n)},n.prototype.dismiss=function(){this.target.session===this.expectedSession&&this.target.dismiss()},n}(),WR=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),GR=function(n){function t(t,l,e){var u=n.call(this,t,l,l.primaryChanged,e)||this;return u.isVisible=!1,u}return WR(t,n),t.prototype.getCurrentDialog=function(){var n=this.dialogManager.getPrimary();if(n&&n instanceof bv)return n},t}(zR),YR=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},ZR=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},XR=function(){function n(n,t,l,e,u,r){this.getSimVersion=n,this.loadingDialog=t,this.textFileReader=l,this.convertTelemetryConfigToStudy=e,this.json=u,this.getFriendlyErrorAndLog=r}return n.prototype.create=function(n,t){return new nF(n,t,this.getSimVersion,this.loadingDialog,this.textFileReader,this.convertTelemetryConfigToStudy,this.json,this.getFriendlyErrorAndLog)},n}(),nF=function(){function n(n,t,l,e,u,r,i,o){this.dialogActions=n,this.dialog=t,this.getSimVersion=l,this.loadingDialog=e,this.textFileReader=u,this.convertTelemetryConfigToStudy=r,this.json=i,this.getFriendlyErrorAndLog=o,this.stage=tF.selectFile,this.ImportTelemetryStage=tF}return n.prototype.load=function(){return YR(this,void 0,void 0,function(){return ZR(this,function(n){try{this.errorMessage=void 0}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})})},n.prototype.processTelemetryFileEvent=function(n){return YR(this,void 0,void 0,function(){var t,l=this;return ZR(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadingDialog.show(function(t){return YR(l,void 0,void 0,function(){var l;return ZR(this,function(e){switch(e.label){case 0:return t.setStatus("Reading file..."),[4,this.textFileReader.readSingleFileAndReset(n)];case 1:return(l=e.sent()).content.startsWith("{")?[4,this.processJson(l)]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,this.processCsv(l)];case 4:e.sent(),e.label=5;case 5:return[2]}})})})];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n.prototype.onTelemetryConfigCreated=function(n){this.telemetryConfig=n,this.stage=tF.validateTelemetry},n.prototype.onTelemetryConfigValidated=function(n){this.telemetryConfig=n,this.stage=tF.remapTelemetry},n.prototype.onTelemetryConfigRemapped=function(n){this.telemetryConfig=n,this.stage=tF.refineTelemetry},n.prototype.onTelemetryConfigProcessed=function(n){this.telemetryConfig=n,this.stage=tF.submit,this.submit()},n.prototype.processCsv=function(n){this.csvFile=n,this.stage=tF.convertCsvToJson},n.prototype.processJson=function(n){return YR(this,void 0,void 0,function(){var t;return ZR(this,function(l){return t=this.json.parse(n.content),this.onTelemetryConfigCreated(new ij(n.name,t)),[2]})})},n.prototype.submit=function(){return YR(this,void 0,void 0,function(){var n,t;return ZR(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.convertTelemetryConfigToStudy.execute(this.telemetryConfig.config,this.getSimVersion.currentSimVersion,this.telemetryConfig.name,!1,[],void 0)];case 1:return n=l.sent(),this.dialogActions.accept(new function(n,t){this.telemetrySubmitted=n,this.studyId=t}(!0,n.studyId)),[3,3];case 2:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,3];case 3:return[2]}})})},n}(),tF=function(n){return n[n.selectFile=0]="selectFile",n[n.convertCsvToJson=1]="convertCsvToJson",n[n.validateTelemetry=2]="validateTelemetry",n[n.remapTelemetry=3]="remapTelemetry",n[n.refineTelemetry=4]="refineTelemetry",n[n.submit=5]="submit",n}({}),lF=e.sb({encapsulation:0,styles:[[""]],data:{}});function eF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function uF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,18,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,12,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    You can import from JSON, CSV or TSV files.\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(9,0,null,null,6,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(11,0,null,null,3,"span",[["class","btn btn-smart btn-secondary btn-file"],["id","import-telemetry-file-button"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Select Telemetry File"])),(n()(),e.ub(14,0,null,null,0,"input",[["accept",".json,.csv,.tsv,.txt"],["id","telemetry-file-load-button-input"],["type","file"]],null,[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=!1!==n.component.session.processTelemetryFileEvent(l)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],null,null)}function rF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"cs-convert-telemetry-csv-to-json",[],null,[[null,"telemetryConfigCreated"]],function(n,t,l){var e=!0;return"telemetryConfigCreated"===t&&(e=!1!==n.component.session.onTelemetryConfigCreated(l)&&e),e},Mj,yj)),e.tb(1,114688,null,0,gj,[fr,On],{csvFile:[0,"csvFile"]},{telemetryConfigCreated:"telemetryConfigCreated"}),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,1,0,t.component.session.csvFile)},null)}function iF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-validate-telemetry-json",[],null,[[null,"telemetryConfigValidated"]],function(n,t,l){var e=!0;return"telemetryConfigValidated"===t&&(e=!1!==n.component.session.onTelemetryConfigValidated(l)&&e),e},Pj,Oj)),e.tb(1,114688,null,0,xj,[Q,Nb,O,fr,On],{telemetryConfig:[0,"telemetryConfig"]},{telemetryConfigValidated:"telemetryConfigValidated"})],function(n,t){n(t,1,0,t.component.session.telemetryConfig)},null)}function oF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-remap-telemetry-json-stage",[],null,[[null,"telemetryConfigRemapped"]],function(n,t,l){var e=!0;return"telemetryConfigRemapped"===t&&(e=!1!==n.component.session.onTelemetryConfigRemapped(l)&&e),e},zj,Rj)),e.tb(1,114688,null,0,jj,[Qr,z,O,hc,Zt.e,Ml,fr,On],{telemetryConfig:[0,"telemetryConfig"]},{telemetryConfigRemapped:"telemetryConfigRemapped"})],function(n,t){n(t,1,0,t.component.session.telemetryConfig)},null)}function sF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-refine-telemetry-json",[],null,[[null,"telemetryConfigProcessed"]],function(n,t,l){var e=!0;return"telemetryConfigProcessed"===t&&(e=!1!==n.component.session.onTelemetryConfigProcessed(l)&&e),e},BR,CR)),e.tb(1,114688,null,0,vR,[Nb,Qr,qr,Bh,fr,On],{showDifferences:[0,"showDifferences"],telemetryConfig:[1,"telemetryConfig"]},{telemetryConfigProcessed:"telemetryConfigProcessed"})],function(n,t){var l=t.component;n(t,1,0,l.session.dialog.showDifferences,l.session.telemetryConfig)},null)}function aF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function cF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Submitting..."])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,aF)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,10,0,!l.errorMessage&&!l.session.errorMessage)},null)}function dF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,23,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,20,null,null,null,null,null,null,null)),e.tb(3,16384,null,0,f.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,uF)),e.tb(6,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,rF)),e.tb(9,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,iF)),e.tb(12,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,oF)),e.tb(15,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,sF)),e.tb(18,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,cF)),e.tb(21,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,l.session.stage),n(t,6,0,l.session.ImportTelemetryStage.selectFile),n(t,9,0,l.session.ImportTelemetryStage.convertCsvToJson),n(t,12,0,l.session.ImportTelemetryStage.validateTelemetry),n(t,15,0,l.session.ImportTelemetryStage.remapTelemetry),n(t,18,0,l.session.ImportTelemetryStage.refineTelemetry),n(t,21,0,l.session.ImportTelemetryStage.submit)},null)}function bF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,37,"div",[["class","dialog-container"],["id","import-telemetry-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,34,"div",[["class","modal-dialog modal-dialog-wide"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,31,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Import Telemetry\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,eF)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,dF)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(30,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(32,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,l.errorMessage||l.session.errorMessage),n(t,24,0,!l.session),n(t,27,0,l.session)},null)}function fF(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,bF)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var pF=function(){function n(){this.datePipe=new f.e("en-US")}return n.prototype.transform=function(n){return this.datePipe.transform(n,"d MMMM y, HH:mm:ss z")},n}(),hF=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),gF=function(n){function t(t,l,e){return n.call(this,t,l,l.primaryChanged,e)||this}return hF(t,n),t.prototype.getCurrentDialog=function(){var n=this.dialogManager.getPrimary();if(n&&n instanceof kC)return n},t}(zR),yF=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},mF=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},vF=function(){function n(n,t,l,e,u,r){this.configStub=n,this.compareConfigDialog=t,this.getSimVersion=l,this.stripNonVersionedDataFromDocument=e,this.loadingDialog=u,this.getFriendlyErrorAndLog=r}return n.prototype.create=function(n,t){return new wF(n,t,this.configStub,this.compareConfigDialog,this.getSimVersion,this.stripNonVersionedDataFromDocument,this.loadingDialog,this.getFriendlyErrorAndLog)},n}(),wF=function(){function n(n,t,l,e,u,r,i,o){this.dialogActions=n,this.dialog=t,this.configStub=l,this.compareConfigDialog=e,this.getSimVersion=u,this.stripNonVersionedDataFromDocument=r,this.loadingDialog=i,this.getFriendlyErrorAndLog=o}return n.prototype.load=function(){return yF(this,void 0,void 0,function(){var n,t,l;return mF(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.errorMessage=void 0,this.configType=kt.get(this.dialog.configType),this.simVersion=this.getSimVersion.currentSimVersion,[4,this.configStub.getConfigVersions(this.dialog.tenantId,this.dialog.configId)];case 1:return n=e.sent(),(t=n.versions.slice()).sort(ge({name:"timestamp",reverse:!0})),this.versions=t.map(function(t){var l=n.userInformation.tenants.find(function(n){return n.tenantId===t.tenantId}),e=l?l.shortName:t.tenantId,u=t.userId;if(l){var r=l.users.find(function(n){return n.userId===t.userId});r&&(u=r.username)}return new CF(t.tenantId,t.userId,e,u,t.timestamp)}),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},n.prototype.compareToCurrent=function(n){return yF(this,void 0,void 0,function(){var t,l,e,u,r,i;return mF(this,function(o){switch(o.label){case 0:if(o.trys.push([0,3,,4]),!n)throw new cl("No item passed to compare.");if(!this.compareTarget&&!this.dialog.configData)throw new cl("No compare target.");return[4,this.loadSourceAndTarget(n)];case 1:return t=o.sent(),l=new me(this.configType.singularKey,t.targetUserId,this.dialog.configId,t.target.name,t.target.data,ye.objectToList(t.target.properties),t.target.notes,this.simVersion,!0,void 0),e=new Eb(t.target.deleteRequested,t.target.parentWorksheetId),u=new me(this.configType.singularKey,n.userId,this.dialog.configId,t.source.name,t.source.data,ye.objectToList(t.source.properties),t.source.notes,this.simVersion,!0,void 0),r=new Eb(t.source.deleteRequested,t.source.parentWorksheetId),[4,this.compareConfigDialog.compare(this.configType.singularKey,[new Pb(t.targetName,l,void 0,e),new Pb("selected version",u,void 0,r)],this.compareTarget?void 0:this.dialog.saveOutputConfigHandler)];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(i),[3,4];case 4:return[2]}})})},n.prototype.setCompareTarget=function(n){this.compareTarget=n},n.prototype.loadVersion=function(n){return yF(this,void 0,void 0,function(){var t,l;return mF(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.getStrippedConfigVersion(n)];case 1:return t=e.sent(),this.dialogActions.accept(new function(n){this.loadedDocument=n}(t)),[3,3];case 2:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,3];case 3:return[2]}})})},n.prototype.getStrippedConfigVersion=function(n){var t=this;return this.loadingDialog.show(function(){return t.getStrippedConfigVersionInner(n)})},n.prototype.getStrippedConfigVersionInner=function(n){return yF(this,void 0,void 0,function(){var t;return mF(this,function(l){switch(l.label){case 0:return[4,this.getConfigVersion(n.timestamp)];case 1:return t=l.sent(),[2,this.stripNonVersionedDataFromDocument.execute(t)]}})})},n.prototype.getConfigVersion=function(n){return yF(this,void 0,void 0,function(){return mF(this,function(t){switch(t.label){case 0:return[4,this.configStub.getConfig(this.dialog.tenantId,this.dialog.configId,void 0,this.simVersion,n)];case 1:return[2,t.sent().config]}})})},n.prototype.loadSourceAndTarget=function(n){var t=this;return this.loadingDialog.show(function(){return t.loadSourceAndTargetInner(n)})},n.prototype.loadSourceAndTargetInner=function(n){return yF(this,void 0,void 0,function(){var t,l,e,u;return mF(this,function(r){switch(r.label){case 0:return[4,this.getConfigVersion(n.timestamp)];case 1:return t=r.sent(),this.compareTarget?[4,this.getConfigVersion(this.compareTarget.timestamp)]:[3,3];case 2:return l=r.sent(),e="compare target",u=this.compareTarget.userId,[3,4];case 3:l=this.dialog.configData,e="editor",u=this.dialog.userId,r.label=4;case 4:return t=this.stripNonVersionedDataFromDocument.execute(t),l=this.stripNonVersionedDataFromDocument.execute(l),[2,new MF(t,l,e,u)]}})})},n}(),MF=function(n,t,l,e){this.source=n,this.target=t,this.targetName=l,this.targetUserId=e},CF=function(n,t,l,e,u){this.tenantId=n,this.userId=t,this.tenantName=l,this.username=e,this.timestamp=u},SF=e.sb({encapsulation:0,styles:[["#list-versions-dialog[_ngcontent-%COMP%]   .absolute-timestamp[_ngcontent-%COMP%]{display:block;color:#d3d3d3}#list-versions-dialog[_ngcontent-%COMP%]   .compare-target-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}#list-versions-dialog[_ngcontent-%COMP%]   .compare-target-info[_ngcontent-%COMP%]   .reset-compare-target[_ngcontent-%COMP%]{position:absolute;right:-.4rem;top:-.5rem}"]],data:{}});function IF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function xF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              No versions available.\n            "]))],null,null)}function OF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Editor"]))],null,null)}function kF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""])),e.Ib(2,1)],null,function(n,t){var l=t.component;n(t,1,0,e.Nb(t,1,0,n(t,2,0,e.Eb(t.parent.parent.parent.parent,0),l.session.compareTarget.timestamp)))})}function TF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare Target"])),(n()(),e.Mb(-1,null,["\n                    "]))],null,null)}function PF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.setCompareTarget(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                        Set as Compare Target\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(5,0,null,null,4,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.compareToCurrent(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(7,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare"])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                    "]))],null,null)}function EF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,"tr",[],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{ngClass:[0,"ngClass"]},null),e.Hb(2,{"selected-timestamp":0}),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(4,0,null,null,6,"td",[],[[8,"title",0]],null,null,null,null)),(n()(),e.Mb(5,null,["\n                    "," / ","\n                    "])),e.Ib(6,2),(n()(),e.ub(7,0,null,null,2,"small",[["class","absolute-timestamp"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),e.Ib(9,1),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(12,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,TF)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,PF)),e.tb(18,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(21,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(23,0,null,null,1,"button",[],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.loadVersion(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                      Load\n                    "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "]))],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,l.session.compareTarget===t.context.$implicit)),n(t,15,0,l.session.compareTarget===t.context.$implicit),n(t,18,0,l.session.compareTarget!==t.context.$implicit)},function(n,t){n(t,4,0,e.wb(2,"",t.context.$implicit.username," / ",t.context.$implicit.tenantName,"")),n(t,5,0,e.Nb(t,5,0,n(t,6,0,e.Eb(t.parent.parent.parent.parent,1),t.context.$implicit.timestamp,3)),t.context.$implicit.username),n(t,8,0,e.Nb(t,8,0,n(t,9,0,e.Eb(t.parent.parent.parent.parent,0),t.context.$implicit.timestamp))),n(t,23,0,e.wb(1,"btn btn-primary load-version-button load-version-button-",t.context.index,""))})}function _F(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,40,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,13,"div",[["class","alert alert-info compare-target-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  Compare Target:\n                  "])),(n()(),e.lb(16777216,null,null,1,null,OF)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.lb(16777216,null,null,1,null,kF)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(12,0,null,null,1,"button",[["class","btn btn-secondary reset-compare-target"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.setCompareTarget(void 0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                    Reset\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(17,0,null,null,22,"table",[["class","table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(19,0,null,null,13,"thead",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(21,0,null,null,10,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(23,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    Timestamp\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(26,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(29,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(34,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,EF)),e.tb(37,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,7,0,!l.session.compareTarget),n(t,10,0,l.session.compareTarget),n(t,37,0,l.session.versions)},null)}function VF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,xF)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,_F)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,5,0,!l.session.versions.length),n(t,8,0,l.session.versions.length)},null)}function jF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,37,"div",[["class","dialog-container"],["id","list-versions-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,34,"div",[["class","modal-dialog modal-dialog-wide"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,31,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Recent Versions\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,IF)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,VF)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(30,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(32,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Close"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,l.errorMessage||l.session.errorMessage),n(t,24,0,!(null!=l.session&&l.session.versions)),n(t,27,0,null==l.session?null:l.session.versions)},null)}function RF(n){return e.Ob(0,[e.Gb(0,pF,[]),e.Gb(0,Ds,[qn]),(n()(),e.lb(16777216,null,null,1,null,jF)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.isVisible)},null)}var FF=function(){function n(n,t,l){this.sessionFactory=n,this.dialogManager=t,this.getFriendlyErrorAndLog=l,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.primaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.load=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.session.load()];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.cssSanitize=function(n){return or(n)},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.dialogManager.getPrimary();n&&n instanceof Qm?(this.errorMessage=void 0,this.isVisible=!0,this.dialog=n,this.session=this.sessionFactory.create(this.dialog),this.load()):(this.isVisible=!1,this.dialog=void 0)},n}(),AF=function(){function n(){}return n.prototype.create=function(n){return new LF(n)},n}(),LF=function(){function n(n){this.dialog=n}return n.prototype.load=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){return[2]})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),DF=e.sb({encapsulation:0,styles:[[""]],data:{}});function NF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-view-job",[],null,null,null,ey,Jg)),e.tb(1,245760,null,0,pf,[q,Qr,co,fr,xd,Ug,kd,Ad,Ed,Nb,On],{tenantId:[0,"tenantId"],studyId:[1,"studyId"],jobId:[2,"jobId"],hideBackButton:[3,"hideBackButton"],lazyLoadCharts:[4,"lazyLoadCharts"]},null)],function(n,t){var l=t.component;n(t,1,0,l.session.dialog.tenantId,l.session.dialog.studyId,l.session.dialog.jobId,!0,!0)},null)}function UF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,28,"div",[["class","dialog-container dialog-inner-scroll dialog-full-width dialog-no-footer"],["id","view-job-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,25,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,22,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["View Job"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,4,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,NF)),e.tb(23,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,23,0,t.component.session)},null)}function QF(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,UF)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var JF=function(){function n(n,t){this.sessionFactory=n,this.dialogManager=t,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(){this.dialog&&this.dialog.resolve(this.session.buildResult())},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.dialogManager.getSecondary();n&&n instanceof uo?(this.isVisible=!0,this.dialog=n,this.session=this.sessionFactory.create(n),this.session.load()):(this.isVisible=!1,this.session=void 0,this.dialog=void 0)},n}(),$F=function(){function n(n,t){this.json=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n){return new HF(n,this.json,this.getFriendlyErrorAndLog)},n}(),HF=function(){function n(n,t,l){this.dialog=n,this.json=t,this.getFriendlyErrorAndLog=l}return n.prototype.load=function(){return n=this,void 0,l=function(){var n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(M){switch(M.label){case 0:switch(M.trys.push([0,12,,13]),this.errorMessage=void 0,this.flattenView=this.dialog.flattenView,n=[],this.dialog.channelSource){case ro.ScalarResults:return[3,1];case ro.VectorResults:return[3,6]}return[3,11];case 1:t=0,l=this.dialog.simTypes,M.label=2;case 2:return t<l.length?(o=l[t],[4,this.dialog.fileLoader.loadScalarResultsForSim(this.dialog.studyId,this.dialog.jobIndex||0,o)]):[3,5];case 3:if(s=M.sent())for(e=0,u=s;e<u.length;e++)this.addChannelFromMetadata(o,n,u[e]);M.label=4;case 4:return t++,[3,2];case 5:return[3,11];case 6:r=0,i=this.dialog.simTypes,M.label=7;case 7:return r<i.length?(o=i[r],[4,this.dialog.fileLoader.loadVectorMetadata(this.dialog.studyId,this.dialog.jobIndex||0,o)]):[3,10];case 8:if(s=M.sent())for(a=s.filter(function(n){return w.filterChannel(w.dialog.data,n)}),c=0,d=a;c<d.length;c++)this.addChannelFromMetadata(o,n,d[c]);M.label=9;case 9:return r++,[3,7];case 10:return[3,11];case 11:for(this.channelMetadata=n,this.channelMetadata.sort(function(n,t){return n.name!==t.name?n.name.toLowerCase().localeCompare(t.name.toLowerCase()):n.simType?w.dialog.simTypes.indexOf(n.simType)<=w.dialog.simTypes.indexOf(t.simType)?-1:1:-1}),b=this.json.clone(this.dialog.data),f=0,p=b.panes;f<p.length;f++)for(h=p[f],g=function(n){var t=h.channels[n],l=y.channelMetadata.find(function(n){return n.name===t});l||(l={name:t,genericName:t,fullName:t,units:"",description:"",simType:null}),h.channels[n]=l},y=this,m=0;m<h.channels.length;++m)g(m);return this.data=b,[3,13];case 12:return v=M.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(v),[3,13];case 13:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.addChannelFromMetadata=function(n,t,l){if(this.dialog.channelNameStyle===Ii.a.FullyQualified){var e={name:l.name,genericName:l.name,fullName:l.name,units:l.units,description:l.name+" for any available simulation.",simType:null};t.find(function(n){return n.name===e.name})||t.push(e)}var u=l.name+":"+n,r={name:this.dialog.channelNameStyle===Ii.a.FullyQualified?u:l.name,genericName:l.name,fullName:u,units:l.units,description:l.description,simType:n};t.find(function(n){return n.name===r.name})||t.push(r)},n.prototype.filterChannel=function(n,t){return!t.xDomainName||-1!==n.xDomains.indexOf(t.xDomainName)},n.prototype.buildResult=function(){for(var n=this.json.clone(this.data),t=0,l=n.panes;t<l.length;t++)for(var e=l[t],u=0;u<e.channels.length;++u)e.channels[u]=e.channels[u].name;return n.panes=n.panes.filter(function(n){return n.channels.length>0}),n},n.prototype.moveChannelUp=function(n,t){0!==t&&this.swap(n.channels,t,t-1)},n.prototype.moveChannelDown=function(n,t){t!==n.channels.length-1&&this.swap(n.channels,t,t+1)},n.prototype.movePaneUp=function(n){0!==n&&this.swap(this.data.panes,n,n-1)},n.prototype.movePaneDown=function(n){n!==this.data.panes.length-1&&this.swap(this.data.panes,n,n+1)},n.prototype.addPane=function(n){var t={relativeSize:this.data.panes[n].relativeSize,channels:[]};return this.data.panes.splice(n+1,0,t),t},n.prototype.removePane=function(n){this.data.panes.splice(n,1),0===this.data.panes.length&&this.data.panes.push({relativeSize:1,channels:[]})},n.prototype.addChannel=function(n){this.addChannelPaneIndex=n,this.showChannelSelection=!0},n.prototype.cancelAddChannel=function(){this.addChannelPaneIndex=void 0,this.showChannelSelection=!1},n.prototype.selectChannel=function(n){var t=this.channelMetadata[n];(this.flattenView?this.addPane(this.addChannelPaneIndex):this.data.panes[this.addChannelPaneIndex]).channels.push(t),this.cancelAddChannel()},n.prototype.removeChannel=function(n,t){n.channels.splice(t,1)},n.prototype.swap=function(n,t,l){var e=n[t];n[t]=n[l],n[l]=e},n}(),qF=e.sb({encapsulation:0,styles:[["#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:inherit;margin:0 auto;position:absolute;left:10px;right:10px;top:10px;bottom:10px;max-width:950px}#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;height:100%}#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:56px}#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{position:absolute;top:56px;bottom:60px;left:0;right:0}@media (min-width:576px){#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{height:60px}#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{top:60px;bottom:66px}}#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;height:60px}#chart-editor-dialog[_ngcontent-%COMP%]   .scroll-area[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;position:absolute;overflow-y:scroll;background-color:#fff;padding:.9375rem}#chart-editor-dialog[_ngcontent-%COMP%]   .no-button[_ngcontent-%COMP%]{opacity:.5}#chart-editor-dialog[_ngcontent-%COMP%]   .button-container-left[_ngcontent-%COMP%]{float:left;margin-right:.75rem}#chart-editor-dialog[_ngcontent-%COMP%]   .button-container-right[_ngcontent-%COMP%]{float:right;margin-left:.75rem}#chart-editor-dialog[_ngcontent-%COMP%]   .pane-container[_ngcontent-%COMP%]   .pane-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:0;line-height:2.3rem}#chart-editor-dialog[_ngcontent-%COMP%]   .pane-container[_ngcontent-%COMP%]   .pane-add-button[_ngcontent-%COMP%]{margin-bottom:1rem;margin-left:1rem;margin-right:1rem;border:1px solid #fff}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]{margin:.5rem 0}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]:first-child{margin-top:0}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{float:left;width:100%;margin-top:.5rem}@media (min-width:576px){#chart-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{height:66px}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{width:60%;margin-top:0}}@media (min-width:768px){#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{width:70%}}@media (min-width:992px){#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{width:80%}}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;margin-left:.5rem}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]   .change-units-button[_ngcontent-%COMP%]{margin-left:.5rem;height:1.5rem;padding-top:0;padding-bottom:0;font-size:.9rem}#chart-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-description[_ngcontent-%COMP%]{font-size:.8rem;color:#888;margin-top:.2rem}#chart-editor-dialog[_ngcontent-%COMP%]   .flattened-pane-container[_ngcontent-%COMP%]{margin-bottom:1rem}#chart-editor-dialog[_ngcontent-%COMP%]   .flattened-pane-container[_ngcontent-%COMP%]   .add-channel-button[_ngcontent-%COMP%]{margin-top:.25rem}"]],data:{}});function BF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function zF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,29,"div",[["class","channel-container clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(2,0,null,null,11,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(4,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.moveChannelUp(n.parent.context.$implicit,n.context.index)&&e),e},null,null)),e.tb(5,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(6,{"no-button":0}),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.moveChannelDown(n.parent.context.$implicit,n.context.index)&&e),e},null,null)),e.tb(10,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(11,{"no-button":0}),(n()(),e.ub(12,0,null,null,0,"i",[["class","fa fa-arrow-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(15,0,null,null,4,"div",[["class","button-container-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(17,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.removeChannel(n.parent.context.$implicit,n.context.index)&&e),e},null,null)),(n()(),e.ub(18,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(21,0,null,null,7,"div",[["class","channel-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(23,0,null,null,1,"h1",[["class","channel-title"]],null,null,null,null,null)),(n()(),e.Mb(24,null,["",""])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(26,0,null,null,1,"div",[["class","channel-description"]],null,null,null,null,null)),(n()(),e.Mb(27,null,["",""])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                    "]))],function(n,t){n(t,5,0,"btn btn-secondary btn-icon",n(t,6,0,0===t.context.index)),n(t,10,0,"btn btn-secondary btn-icon",n(t,11,0,t.context.index===t.parent.context.$implicit.channels.length-1))},function(n,t){n(t,4,0,e.wb(2,"pane-",t.parent.context.index,"-channel-",t.context.index,"-up"),0===t.context.index),n(t,9,0,e.wb(2,"pane-",t.parent.context.index,"-channel-",t.context.index,"-down"),t.context.index===t.parent.context.$implicit.channels.length-1),n(t,17,0,e.wb(2,"pane-",t.parent.context.index,"-channel-",t.context.index,"-remove")),n(t,24,0,t.context.$implicit.name),n(t,27,0,t.context.$implicit.description)})}function KF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,47,"div",[["class","pane-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,38,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(4,0,null,null,26,"div",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(6,0,null,null,23,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(8,0,null,null,11,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(10,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneUp(n.context.index)&&e),e},null,null)),e.tb(11,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(12,{"no-button":0}),(n()(),e.ub(13,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(15,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneDown(n.context.index)&&e),e},null,null)),e.tb(16,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(17,{"no-button":0}),(n()(),e.ub(18,0,null,null,0,"i",[["class","fa fa-arrow-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(21,0,null,null,4,"div",[["class","button-container-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(23,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.removePane(n.context.index)&&e),e},null,null)),(n()(),e.ub(24,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(27,0,null,null,1,"h1",[["class","pane-title"]],null,null,null,null,null)),(n()(),e.Mb(28,null,["Pane ",""])),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n\n                  "])),(n()(),e.ub(32,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,zF)),e.tb(35,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n                    "])),(n()(),e.ub(37,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.addChannel(n.context.index)&&e),e},null,null)),(n()(),e.ub(38,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(42,0,null,null,4,"div",[["class","pane-add-button"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(44,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.addPane(n.context.index)&&e),e},null,null)),(n()(),e.ub(45,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){var l=t.component;n(t,11,0,"btn btn-secondary btn-icon",n(t,12,0,0===t.context.index)),n(t,16,0,"btn btn-secondary btn-icon",n(t,17,0,t.context.index===l.session.data.panes.length-1)),n(t,35,0,t.context.$implicit.channels)},function(n,t){var l=t.component;n(t,10,0,e.wb(1,"pane-",t.context.index,"-up"),0===t.context.index),n(t,15,0,e.wb(1,"pane-",t.context.index,"-down"),t.context.index===l.session.data.panes.length-1),n(t,23,0,e.wb(1,"pane-",t.context.index,"-remove")),n(t,28,0,t.context.index+1),n(t,37,0,e.wb(1,"pane-",t.context.index,"-channel-add")),n(t,44,0,e.wb(1,"pane-",t.context.index,"-add"))})}function WF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,KF)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.component.session.data.panes)},null)}function GF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,29,"div",[["class","channel-container clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(2,0,null,null,11,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(4,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneUp(n.parent.context.index)&&e),e},null,null)),e.tb(5,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(6,{"no-button":0}),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneDown(n.parent.context.index)&&e),e},null,null)),e.tb(10,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(11,{"no-button":0}),(n()(),e.ub(12,0,null,null,0,"i",[["class","fa fa-arrow-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(15,0,null,null,4,"div",[["class","button-container-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(17,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.removePane(n.parent.context.index)&&e),e},null,null)),(n()(),e.ub(18,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(21,0,null,null,7,"div",[["class","channel-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(23,0,null,null,1,"h1",[["class","channel-title"]],null,null,null,null,null)),(n()(),e.Mb(24,null,["",""])),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(26,0,null,null,1,"div",[["class","channel-description"]],null,null,null,null,null)),(n()(),e.Mb(27,null,["",""])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.Mb(-1,null,["\n                      "]))],function(n,t){var l=t.component;n(t,5,0,"btn btn-secondary btn-icon",n(t,6,0,0===t.parent.context.index)),n(t,10,0,"btn btn-secondary btn-icon",n(t,11,0,t.parent.context.index===l.session.data.panes.length-1))},function(n,t){var l=t.component;n(t,4,0,e.wb(1,"channel-",t.parent.context.index,"-up"),0===t.parent.context.index),n(t,9,0,e.wb(1,"channel-",t.parent.context.index,"-down"),t.parent.context.index===l.session.data.panes.length-1),n(t,17,0,e.wb(1,"channel-",t.parent.context.index,"-remove")),n(t,24,0,t.context.$implicit.name),n(t,27,0,t.context.$implicit.description)})}function YF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","flattened-pane-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.lb(16777216,null,null,1,null,GF)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n                      "])),(n()(),e.ub(5,0,null,null,1,"button",[["class","btn btn-secondary btn-icon add-channel-button"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.addChannel(n.context.index)&&e),e},null,null)),(n()(),e.ub(6,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "]))],function(n,t){n(t,3,0,t.context.$implicit.channels)},function(n,t){n(t,5,0,e.wb(1,"channel-",t.context.index,"-add"))})}function ZF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","pane-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","pane-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Outputs"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(12,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,YF)),e.tb(15,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,15,0,t.component.session.data.panes)},null)}function XF(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"div",[["class","channel-container clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(4,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.selectChannel(n.parent.context.index)&&e),e},null,null)),(n()(),e.ub(5,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(8,0,null,null,7,"div",[["class","channel-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(10,0,null,null,1,"h1",[["class","channel-title"]],null,null,null,null,null)),(n()(),e.Mb(11,null,["",""])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(13,0,null,null,1,"div",[["class","channel-description"]],null,null,null,null,null)),(n()(),e.Mb(14,null,["",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,4,0,e.wb(1,"channel-",t.parent.context.index,"-select")),n(t,11,0,t.parent.context.$implicit.name),n(t,14,0,t.parent.context.$implicit.description)})}function nA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,XF)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,!e.Eb(t.parent,15).value||-1!==t.context.$implicit.name.toLowerCase().indexOf(e.Eb(t.parent,15).value.toLowerCase()))},null)}function tA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,21,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,WF)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,ZF)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(11,0,null,null,9,"div",[["class","scroll-area"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(13,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,[["filter",1]],null,0,"input",[["class","form-control"],["placeholder","Filter"],["type","text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,nA)),e.tb(19,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,5,0,!l.session.flattenView),n(t,8,0,l.session.flattenView),n(t,19,0,l.session.channelMetadata)},function(n,t){n(t,11,0,!t.component.session.showChannelSelection)})}function lA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"],["id","cancel-add-channel-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.cancelAddChannel()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function eA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,1,"button",[["class","btn btn-primary"],["id","dialog-accept-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.accept()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Apply"])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function uA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,37,"div",[["class","dialog-container"],["id","chart-editor-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,34,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,31,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit Chart"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,BF)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,tA)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,lA)),e.tb(31,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,eA)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,l.session.errorMessage),n(t,24,0,!(null!=l.session&&l.session.data)),n(t,27,0,null==l.session?null:l.session.data),n(t,31,0,l.session.showChannelSelection),n(t,34,0,!l.session.showChannelSelection)},null)}function rA(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,uA)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var iA=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),oA=function(){function n(n){this.dialogManager=n}return n.prototype.editChart=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return[4,this.dialogManager.showSecondaryDialog(new sA(n))];case 1:return[2,t.sent()]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),sA=function(n){function t(t){var l=n.call(this)||this;return l._options=t,l}return iA(t,n),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t}(se),aA=function(){function n(n,t,l){this.timer=n,this.sessionFactory=t,this.dialogManager=l,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(){this.dialog&&this.dialog.resolve(this.session.buildResult())},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return this.dismiss(),(n=this.dialogManager.getSecondary())&&n instanceof sA?(this.isVisible=!0,this.dialog=n,this.session=this.sessionFactory.create(n),this.session.load(),[4,this.timer.yield()]):[3,2];case 1:return t.sent(),this.session.filterElement=this.filterElement,[3,3];case 2:this.isVisible=!1,this.session=void 0,this.dialog=void 0,t.label=3;case 3:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n}(),cA=function(){function n(n,t){this.timer=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n){return new dA(n,this.timer,this.getFriendlyErrorAndLog)},n}(),dA=function(){function n(n,t,l){this.dialog=n,this.timer=t,this.getFriendlyErrorAndLog=l}return Object.defineProperty(n.prototype,"showChannelSelection",{get:function(){return this._showChannelSelection},set:function(n){this._showChannelSelection=n,n&&this.filterElement&&this.focusFilterInput()},enumerable:!0,configurable:!0}),n.prototype.focusFilterInput=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){switch(n.label){case 0:return[4,this.timer.yield()];case 1:return n.sent(),this.filterElement.nativeElement.focus(),this.filterElement.nativeElement.select(),[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.load=function(){try{this.errorMessage=void 0,this.flattenView=this.dialog.options.oneChannelPerPane,this.channelMetadata=this.dialog.options.channels.slice(),this.channelMetadata.sort(ge({name:"name",primer:function(n){return n.toLowerCase()}})),this.filteredChannelMetadata=this.channelMetadata.slice();for(var n=[],t=0,l=this.dialog.options.panes;t<l.length;t++){for(var e=l[t],u={channels:[],relativeSize:e.relativeSize},r=function(n){var t=i.channelMetadata.find(function(t){return t.name===n.name}),l="";t&&(l=t.description);var e=new bA(n.name,i.getValueOrDefault(n.isVisible,!0),i.getValueOrDefault(n.isDelta,!1),l);u.channels.push(e)},i=this,o=0,s=e.channels;o<s.length;o++)r(s[o]);n.push(u)}this.flattenView&&0===n.length&&n.push({channels:[],relativeSize:1}),this.panes=n}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.onFilterChanged=function(n){var t,l=n.target,e=l.value;if(e)if(cM(e)){var u=aM(e,!0,!0);t=function(n){return u.test(n.name)}}else t=function(n){return-1!==n.name.toLowerCase().indexOf(l.value.toLowerCase())};else t=function(){return!0};this.filteredChannelMetadata=this.channelMetadata.filter(function(n){return t(n)})},n.prototype.buildResult=function(){for(var n=[],t=0,l=this.panes;t<l.length;t++){var e=l[t];n.push({channels:e.channels.map(function(n){return{name:n.name,isVisible:n.isVisible,isDelta:n.isDelta}}),relativeSize:e.relativeSize})}return n.filter(function(n){return n.channels.length>0})},n.prototype.moveChannelUp=function(n,t){0!==t&&this.swap(n.channels,t,t-1)},n.prototype.moveChannelDown=function(n,t){t!==n.channels.length-1&&this.swap(n.channels,t,t+1)},n.prototype.movePaneUp=function(n){0!==n&&this.swap(this.panes,n,n-1)},n.prototype.movePaneDown=function(n){n!==this.panes.length-1&&this.swap(this.panes,n,n+1)},n.prototype.addPane=function(n){var t={relativeSize:this.panes[n].relativeSize,channels:[]};return this.panes.splice(n+1,0,t),t},n.prototype.removePane=function(n){this.panes.splice(n,1),0===this.panes.length&&this.panes.push({relativeSize:1,channels:[]})},n.prototype.addChannel=function(n){this.addChannelPaneIndex=n,this.showChannelSelection=!0},n.prototype.cancelAddChannel=function(){this.addChannelPaneIndex=void 0,this.showChannelSelection=!1},n.prototype.selectChannel=function(n,t){var l=this.filteredChannelMetadata[n];(this.flattenView?this.addPane(this.addChannelPaneIndex):this.panes[this.addChannelPaneIndex]).channels.push(new bA(l.name,!0,!1,l.description)),t||this.cancelAddChannel()},n.prototype.removeChannel=function(n,t){n.channels.splice(t,1)},n.prototype.swap=function(n,t,l){var e=n[t];n[t]=n[l],n[l]=e},n.prototype.getValueOrDefault=function(n,t){return void 0===n?t:n},n}(),bA=function(n,t,l,e){this.name=n,this.isVisible=t,this.isDelta=l,this.description=e},fA=e.sb({encapsulation:0,styles:[["#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:inherit;margin:0 auto;position:absolute;left:10px;right:10px;top:10px;bottom:10px;max-width:950px}#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;height:100%}#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:56px}#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{position:absolute;top:56px;bottom:60px;left:0;right:0}@media (min-width:576px){#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{height:60px}#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{top:60px;bottom:66px}}#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;height:60px}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-selection-area[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;position:absolute;background-color:#fff}#channel-editor-dialog[_ngcontent-%COMP%]   .scroll-area[_ngcontent-%COMP%]{overflow-y:scroll;background-color:#fff;padding:.9375rem;top:0;bottom:0;left:0;right:0;position:absolute}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-selection-scroll-area[_ngcontent-%COMP%]{top:4rem}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-selection-filter-area[_ngcontent-%COMP%]{padding:.9375rem}#channel-editor-dialog[_ngcontent-%COMP%]   .no-button[_ngcontent-%COMP%]{opacity:.5}#channel-editor-dialog[_ngcontent-%COMP%]   .button-container-left[_ngcontent-%COMP%]{float:left;margin-right:.75rem}#channel-editor-dialog[_ngcontent-%COMP%]   .button-container-right[_ngcontent-%COMP%]{float:right;margin-left:.75rem}#channel-editor-dialog[_ngcontent-%COMP%]   .pane-container[_ngcontent-%COMP%]   .pane-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:0;line-height:2.3rem}#channel-editor-dialog[_ngcontent-%COMP%]   .pane-container[_ngcontent-%COMP%]   .pane-add-button[_ngcontent-%COMP%]{margin-bottom:1rem;margin-left:1rem;margin-right:1rem;border:1px solid #fff}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]{margin:.5rem 0}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]:first-child{margin-top:0}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{float:left;width:100%;margin-top:.5rem}@media (min-width:576px){#channel-editor-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{height:66px}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{width:60%;margin-top:0}}@media (min-width:768px){#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{width:70%}}@media (min-width:992px){#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]{width:80%}}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 .5rem 0 0;display:inline-block}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;margin-left:.5rem}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]   .change-units-button[_ngcontent-%COMP%]{margin-left:.5rem;height:1.5rem;padding-top:0;padding-bottom:0;font-size:.9rem}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-title-and-options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}#channel-editor-dialog[_ngcontent-%COMP%]   .channel-container[_ngcontent-%COMP%]   .channel-content[_ngcontent-%COMP%]   .channel-description[_ngcontent-%COMP%]{font-size:.8rem;color:#888;margin-top:.2rem}#channel-editor-dialog[_ngcontent-%COMP%]   .flattened-pane-container[_ngcontent-%COMP%]{margin-bottom:1rem}#channel-editor-dialog[_ngcontent-%COMP%]   .flattened-pane-container[_ngcontent-%COMP%]   .add-channel-button[_ngcontent-%COMP%]{margin-top:.25rem}#channel-editor-dialog[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{font-size:.75rem;position:absolute;top:1rem;right:1.25rem;color:#adb5bd}"]],data:{}});function pA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function hA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,38,"div",[["class","channel-container clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(2,0,null,null,11,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(4,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.moveChannelUp(n.parent.context.$implicit,n.context.index)&&e),e},null,null)),e.tb(5,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(6,{"no-button":0}),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.moveChannelDown(n.parent.context.$implicit,n.context.index)&&e),e},null,null)),e.tb(10,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(11,{"no-button":0}),(n()(),e.ub(12,0,null,null,0,"i",[["class","fa fa-arrow-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(15,0,null,null,4,"div",[["class","button-container-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(17,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.removeChannel(n.parent.context.$implicit,n.context.index)&&e),e},null,null)),(n()(),e.ub(18,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(21,0,null,null,16,"div",[["class","channel-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(23,0,null,null,10,"div",[["class","channel-title-and-options"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(25,0,null,null,1,"h1",[["class","channel-title"]],null,null,null,null,null)),(n()(),e.Mb(26,null,["",""])),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(29,0,null,null,0,"input",[["type","checkbox"]],[[8,"id",0],[8,"checked",0]],[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=0!=(n.context.$implicit.isDelta=!n.context.$implicit.isDelta)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(31,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["Delta"])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(35,0,null,null,1,"div",[["class","channel-description"]],null,null,null,null,null)),(n()(),e.Mb(36,null,["",""])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                    "]))],function(n,t){n(t,5,0,"btn btn-secondary btn-icon",n(t,6,0,0===t.context.index)),n(t,10,0,"btn btn-secondary btn-icon",n(t,11,0,t.context.index===t.parent.context.$implicit.channels.length-1))},function(n,t){n(t,4,0,e.wb(2,"pane-",t.parent.context.index,"-channel-",t.context.index,"-up"),0===t.context.index),n(t,9,0,e.wb(2,"pane-",t.parent.context.index,"-channel-",t.context.index,"-down"),t.context.index===t.parent.context.$implicit.channels.length-1),n(t,17,0,e.wb(2,"pane-",t.parent.context.index,"-channel-",t.context.index,"-remove")),n(t,26,0,t.context.$implicit.name),n(t,29,0,e.wb(2,"is-delta-",t.parent.context.index,"-",t.context.index,""),t.context.$implicit.isDelta),n(t,31,0,e.wb(2,"is-delta-",t.parent.context.index,"-",t.context.index,"")),n(t,36,0,t.context.$implicit.description)})}function gA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,47,"div",[["class","pane-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,38,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(4,0,null,null,26,"div",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(6,0,null,null,23,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(8,0,null,null,11,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(10,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneUp(n.context.index)&&e),e},null,null)),e.tb(11,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(12,{"no-button":0}),(n()(),e.ub(13,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(15,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneDown(n.context.index)&&e),e},null,null)),e.tb(16,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(17,{"no-button":0}),(n()(),e.ub(18,0,null,null,0,"i",[["class","fa fa-arrow-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(21,0,null,null,4,"div",[["class","button-container-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(23,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.removePane(n.context.index)&&e),e},null,null)),(n()(),e.ub(24,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.ub(27,0,null,null,1,"h1",[["class","pane-title"]],null,null,null,null,null)),(n()(),e.Mb(28,null,["Pane ",""])),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n\n                  "])),(n()(),e.ub(32,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,hA)),e.tb(35,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n                    "])),(n()(),e.ub(37,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.addChannel(n.context.index)&&e),e},null,null)),(n()(),e.ub(38,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(42,0,null,null,4,"div",[["class","pane-add-button"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(44,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.addPane(n.context.index)&&e),e},null,null)),(n()(),e.ub(45,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "]))],function(n,t){var l=t.component;n(t,11,0,"btn btn-secondary btn-icon",n(t,12,0,0===t.context.index)),n(t,16,0,"btn btn-secondary btn-icon",n(t,17,0,t.context.index===l.session.panes.length-1)),n(t,35,0,t.context.$implicit.channels)},function(n,t){var l=t.component;n(t,10,0,e.wb(1,"pane-",t.context.index,"-up"),0===t.context.index),n(t,15,0,e.wb(1,"pane-",t.context.index,"-down"),t.context.index===l.session.panes.length-1),n(t,23,0,e.wb(1,"pane-",t.context.index,"-remove")),n(t,28,0,t.context.index+1),n(t,37,0,e.wb(1,"pane-",t.context.index,"-channel-add")),n(t,44,0,e.wb(1,"pane-",t.context.index,"-add"))})}function yA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,gA)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,3,0,t.component.session.panes)},null)}function mA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,38,"div",[["class","channel-container clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(2,0,null,null,11,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(4,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneUp(n.parent.context.index)&&e),e},null,null)),e.tb(5,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(6,{"no-button":0}),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(9,0,null,null,3,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.movePaneDown(n.parent.context.index)&&e),e},null,null)),e.tb(10,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(11,{"no-button":0}),(n()(),e.ub(12,0,null,null,0,"i",[["class","fa fa-arrow-down"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(15,0,null,null,4,"div",[["class","button-container-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(17,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.removePane(n.parent.context.index)&&e),e},null,null)),(n()(),e.ub(18,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.ub(21,0,null,null,16,"div",[["class","channel-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(23,0,null,null,10,"div",[["class","channel-title-and-options"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                            "])),(n()(),e.ub(25,0,null,null,1,"h1",[["class","channel-title"]],null,null,null,null,null)),(n()(),e.Mb(26,null,["",""])),(n()(),e.Mb(-1,null,["\n                            "])),(n()(),e.Mb(-1,null,["\n                            "])),(n()(),e.ub(29,0,null,null,0,"input",[["type","checkbox"]],[[8,"id",0],[8,"checked",0]],[[null,"change"]],function(n,t,l){var e=!0;return"change"===t&&(e=0!=(n.context.$implicit.isDelta=!n.context.$implicit.isDelta)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                            "])),(n()(),e.ub(31,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["Delta"])),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.Mb(-1,null,["\n                          "])),(n()(),e.ub(35,0,null,null,1,"div",[["class","channel-description"]],null,null,null,null,null)),(n()(),e.Mb(36,null,["",""])),(n()(),e.Mb(-1,null,["\n                        "])),(n()(),e.Mb(-1,null,["\n                      "]))],function(n,t){var l=t.component;n(t,5,0,"btn btn-secondary btn-icon",n(t,6,0,0===t.parent.context.index)),n(t,10,0,"btn btn-secondary btn-icon",n(t,11,0,t.parent.context.index===l.session.panes.length-1))},function(n,t){var l=t.component;n(t,4,0,e.wb(1,"channel-",t.parent.context.index,"-up"),0===t.parent.context.index),n(t,9,0,e.wb(1,"channel-",t.parent.context.index,"-down"),t.parent.context.index===l.session.panes.length-1),n(t,17,0,e.wb(1,"channel-",t.parent.context.index,"-remove")),n(t,26,0,t.context.$implicit.name),n(t,29,0,e.wb(2,"is-delta-",t.parent.context.index,"-",t.context.index,""),t.context.$implicit.isDelta),n(t,31,0,e.wb(2,"is-delta-",t.parent.context.index,"-",t.context.index,"")),n(t,36,0,t.context.$implicit.description)})}function vA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","flattened-pane-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                      "])),(n()(),e.lb(16777216,null,null,1,null,mA)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n                      "])),(n()(),e.ub(5,0,null,null,1,"button",[["class","btn btn-secondary btn-icon add-channel-button"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.addChannel(n.context.index)&&e),e},null,null)),(n()(),e.ub(6,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "]))],function(n,t){n(t,3,0,t.context.$implicit.channels)},function(n,t){n(t,5,0,e.wb(1,"channel-",t.context.index,"-add"))})}function wA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","pane-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","pane-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Channels"])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(12,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.lb(16777216,null,null,1,null,vA)),e.tb(15,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,15,0,t.component.session.panes)},null)}function MA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","channel-container clearfix"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(4,0,null,null,4,"div",[["class","button-container-left"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(6,0,null,null,1,"button",[["class","btn btn-secondary btn-icon"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.selectChannel(n.context.index,!!(l.ctrlKey||l.metaKey||l.shiftKey))&&e),e},null,null)),(n()(),e.ub(7,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(10,0,null,null,7,"div",[["class","channel-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(12,0,null,null,1,"h1",[["class","channel-title"]],null,null,null,null,null)),(n()(),e.Mb(13,null,["",""])),(n()(),e.Mb(-1,null,["\n                    "])),(n()(),e.ub(15,0,null,null,1,"div",[["class","channel-description"]],null,null,null,null,null)),(n()(),e.Mb(16,null,["",""])),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "]))],null,function(n,t){n(t,6,0,e.wb(1,"channel-",t.context.index,"-select")),n(t,13,0,t.context.$implicit.name),n(t,16,0,t.context.$implicit.description)})}function CA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,30,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,yA)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,wA)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(11,0,null,null,18,"div",[["class","channel-selection-area"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(13,0,null,null,9,"div",[["class","channel-selection-filter-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,3,"p",[["class","filter-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(17,0,[[1,0],["filter",1]],null,0,"input",[["class","form-control"],["placeholder","Filter"],["type","text"]],null,[[null,"keyup"]],function(n,t,l){var e=!0;return"keyup"===t&&(e=!1!==n.component.session.onFilterChanged(l)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(20,0,null,null,1,"small",[["class","help-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Use asterisk (*) for wildcard searches. Use Control+Click to add multiple channels.\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(24,0,null,null,4,"div",[["class","scroll-area channel-selection-scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,MA)),e.tb(27,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,5,0,!l.session.flattenView),n(t,8,0,l.session.flattenView),n(t,27,0,l.session.filteredChannelMetadata)},function(n,t){n(t,11,0,!t.component.session.showChannelSelection)})}function SA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"],["id","cancel-add-channel-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.cancelAddChannel()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Close"])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function IA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(5,0,null,null,1,"button",[["class","btn btn-primary"],["id","dialog-accept-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.accept()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Apply"])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function xA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,37,"div",[["class","dialog-container"],["id","channel-editor-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,34,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,31,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit Channels"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,pA)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,CA)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,SA)),e.tb(31,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,IA)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,l.session.errorMessage),n(t,24,0,!(null!=l.session&&l.session.panes)),n(t,27,0,null==l.session?null:l.session.panes),n(t,31,0,l.session.showChannelSelection),n(t,34,0,!l.session.showChannelSelection)},null)}function OA(n){return e.Ob(0,[e.Kb(671088640,1,{filterElement:0}),(n()(),e.lb(16777216,null,null,1,null,xA)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,2,0,t.component.isVisible)},null)}var kA=function(){function n(n,t){this.sessionFactory=n,this.dialogManager=t,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(n){this.dialog&&this.dialog.resolve(n)},n.prototype.acceptWithNothing=function(){this.dialog&&this.dialog.resolve({userId:void 0,configId:void 0,config:void 0})},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){var n=this;this.dismiss();var t=this.dialogManager.getSecondary();this.sessionSubscription&&(this.sessionSubscription.unsubscribe(),this.sessionSubscription=void 0),t&&t instanceof ga?(this.isVisible=!0,this.dialog=t,this.session=this.sessionFactory.create(t),this.sessionSubscription=this.session.configSelected.subscribe(function(t){return n.accept(t)}),this.session.load()):(this.isVisible=!1,this.session=void 0,this.dialog=void 0)},n}(),TA=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},PA=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},EA=function(){function n(n,t,l,e){this.configLoaderUtilities=n,this.filterUtilities=t,this.timer=l,this.getFriendlyErrorAndLog=e}return n.prototype.create=function(n){return new _A(n,this.configLoaderUtilities,this.filterUtilities,this.timer,this.getFriendlyErrorAndLog)},n}(),_A=function(){function n(n,t,l,u,r){this.dialog=n,this.configLoaderUtilities=t,this.filterUtilities=l,this.timer=u,this.getFriendlyErrorAndLog=r,this.configSelected=new e.n}return n.prototype.load=function(){return TA(this,void 0,void 0,function(){var n;return PA(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.errorMessage=void 0,this.initialFilter=this.dialog.initialFilter?this.dialog.initialFilter:this.filterUtilities.getInitialFilter(),[4,this.timer.yield()];case 1:return t.sent(),this.configType=kt.get(this.dialog.configType),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.onConfigSelected=function(n){return TA(this,void 0,void 0,function(){var t,l,e;return PA(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),this.isLoading=!0,t=void 0,this.dialog.returnReferenceOnly?(t={userId:n.userId,configId:n.documentId,config:void 0},[3,3]):[3,1];case 1:return[4,this.configLoaderUtilities.loadUserConfig(n.tenantId,n.userId,n.documentId,this.dialog.simVersion,this.dialog.subTreePath)];case 2:l=u.sent(),t={userId:l.userId,configId:l.configId,config:l},u.label=3;case 3:return this.configSelected.emit(t),[3,5];case 4:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,5];case 5:return this.isLoading=!1,[2]}})})},n.prototype.onDefaultConfigSelected=function(n){return TA(this,void 0,void 0,function(){var t,l,e;return PA(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),this.isLoading=!0,t=void 0,this.dialog.returnReferenceOnly?(t={userId:void 0,configId:n.name,config:void 0},[3,3]):[3,1];case 1:return[4,this.configLoaderUtilities.loadSimVersionConfig(this.configType,n.simVersion,n.name)];case 2:l=u.sent(),t={userId:l.userId,configId:l.configId,config:l},u.label=3;case 3:return this.configSelected.emit(t),[3,5];case 4:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,5];case 5:return this.isLoading=!1,[2]}})})},n}(),VA=e.sb({encapsulation:0,styles:[["#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:inherit;margin:0 auto;position:absolute;left:10px;right:10px;top:10px;bottom:10px;max-width:950px}#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;height:100%}#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:56px}#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:grey;margin-left:.5rem}#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{position:absolute;top:56px;bottom:60px;left:0;right:0}@media (min-width:576px){#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{height:60px}#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{top:60px;bottom:66px}}#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;height:60px}@media (min-width:576px){#config-loader-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{height:66px}}#config-loader-dialog[_ngcontent-%COMP%]   .scroll-area[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;position:absolute;overflow-y:scroll;background-color:#fff;padding:.9375rem}#config-loader-dialog[_ngcontent-%COMP%]   .view-configs-component[_ngcontent-%COMP%]{display:block;margin-bottom:.9375rem}"]],data:{}});function jA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function RA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"cs-view-default-configs",[],null,[[null,"configSelected"]],function(n,t,l){var e=!0;return"configSelected"===t&&(e=!1!==n.component.session.onDefaultConfigSelected(l)&&e),e},ww,dw)),e.tb(1,114688,null,0,aw,[H,qr,Se,Qr,Nb,On],{configType:[0,"configType"],canStage:[1,"canStage"]},{configSelected:"configSelected"}),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,1,0,t.component.session.configType,!1)},null)}function FA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,14,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,11,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              User Configs\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(7,0,null,null,2,"cs-view-configs",[["class","view-configs-component"]],null,[[null,"configSelected"]],function(n,t,l){var e=!0;return"configSelected"===t&&(e=!1!==n.component.session.onConfigSelected(l)&&e),e},rw,Ev)),e.tb(8,114688,null,0,kv,[qn,O,Q,ce,Se,$s,Fd,Nb,Pv,On],{canNavigate:[0,"canNavigate"],configType:[1,"configType"],filter:[2,"filter"],canStage:[3,"canStage"],subTreePath:[4,"subTreePath"]},{configSelected:"configSelected"}),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,RA)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,8,0,!1,l.session.configType,l.session.initialFilter,!1,l.dialog.subTreePath),n(t,12,0,!l.dialog.subTreePath)},null)}function AA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-nothing-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.acceptWithNothing()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Nothing"]))],null,null)}function LA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,45,"div",[["class","dialog-container"],["id","config-loader-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,42,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,39,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,12,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,3,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["Load ",""])),(n()(),e.ub(10,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(11,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(13,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(15,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(20,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(22,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(23,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,jA)),e.tb(26,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,FA)),e.tb(29,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(32,0,null,null,10,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(34,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(35,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,AA)),e.tb(38,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(40,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,23,0,null==l.session?null:l.session.errorMessage),n(t,26,0,null==l.session?null:l.session.isLoading),n(t,29,0,!(null!=l.session&&l.session.isLoading)&&(null==l.session?null:l.session.configType)),n(t,35,0,null==l.session?null:l.session.errorMessage),n(t,38,0,l.dialog.allowExplicitNothing)},function(n,t){var l=t.component;n(t,9,0,null==l.session?null:null==l.session.configType?null:l.session.configType.titleName),n(t,11,0,null==l.dialog?null:l.dialog.subTreePath)})}function DA(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,LA)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var NA=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),UA=function(){function n(n){this.dialogManager=n}return n.prototype.loadStudy=function(n,t,l){return e=this,void 0,r=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return[4,this.dialogManager.showSecondaryDialog(new QA(n,t,l))];case 1:return[2,e.sent()]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),QA=function(n){function t(t,l,e){var u=n.call(this)||this;return u.tenantId=t,u.userId=l,u.initialQuery=e,u}return NA(t,n),t}(se),JA=function(){function n(n,t){this.sessionFactory=n,this.dialogManager=t,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(n){this.dialog&&this.dialog.resolve(n)},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){var n=this;this.dismiss();var t=this.dialogManager.getSecondary();this.sessionSubscription&&(this.sessionSubscription.unsubscribe(),this.sessionSubscription=void 0),t&&t instanceof QA?(this.isVisible=!0,this.dialog=t,this.session=this.sessionFactory.create(t),this.sessionSubscription=this.session.studySelected.subscribe(function(t){return n.accept(t)}),this.session.load()):(this.isVisible=!1,this.session=void 0,this.dialog=void 0)},n}(),$A=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},HA=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},qA=function(){function n(n,t,l){this.filterUtilities=n,this.timer=t,this.getFriendlyErrorAndLog=l}return n.prototype.create=function(n){return new BA(n,this.filterUtilities,this.timer,this.getFriendlyErrorAndLog)},n}(),BA=function(){function n(n,t,l,u){this.dialog=n,this.filterUtilities=t,this.timer=l,this.getFriendlyErrorAndLog=u,this.studySelected=new e.n}return n.prototype.load=function(){return $A(this,void 0,void 0,function(){var n;return HA(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.errorMessage=void 0,this.initialQuery=this.dialog.initialQuery?this.dialog.initialQuery:this.filterUtilities.getInitialFilter().query,[4,this.timer.yield()];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.onStudySelected=function(n){return $A(this,void 0,void 0,function(){return HA(this,function(t){try{this.isLoading=!0,this.studySelected.emit({userId:n.userId,studyId:n.studyId,name:n.name})}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return this.isLoading=!1,[2]})})},n}(),zA=e.sb({encapsulation:0,styles:[["#study-loader-dialog[_ngcontent-%COMP%]   .view-studies-component[_ngcontent-%COMP%]{display:block;margin-bottom:.9375rem}"]],data:{}});function KA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function WA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,8,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              User Studies\n            "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(7,0,null,null,2,"cs-view-studies",[["class","view-studies-component"]],null,[[null,"studySelected"]],function(n,t,l){var e=!0;return"studySelected"===t&&(e=!1!==n.component.session.onStudySelected(l)&&e),e},Ib,Dd)),e.tb(8,245760,null,0,Cd,[Sd,O,qn,xd,q,ce,jt,$s,pr.c,kd,Ed,jd,Fd,Ad,Ld,On],{canNavigate:[0,"canNavigate"],initialQuery:[1,"initialQuery"]},{studySelected:"studySelected"}),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,8,0,!1,t.component.session.initialQuery)},null)}function GA(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,40,"div",[["class","dialog-container dialog-inner-scroll"],["id","study-loader-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,37,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,34,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Load Study"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,KA)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,WA)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(30,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(32,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(33,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(35,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,null==l.session?null:l.session.errorMessage),n(t,24,0,null==l.session?null:l.session.isLoading),n(t,27,0,!(null!=l.session&&l.session.isLoading)),n(t,33,0,null==l.session?null:l.session.errorMessage)},null)}function YA(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,GA)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var ZA=function(){function n(n,t,l){this.promptDialog=n,this.getStudyAutocompleteOptions=t,this.getFriendlyErrorAndLog=l}return n.prototype.ngOnInit=function(){try{this.labels.list.length&&(this.activeSet=this.labels.list[0])}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.setActiveSet=function(n){this.activeSet=n},n.prototype.deleteLabel=function(n,t){try{var l=n.labels.findIndex(function(n){return n.name===t.name&&n.source===t.source});-1!==l&&n.labels.splice(l,1)}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.toggleLocation=function(n,t){try{n[t]=!n[t]}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}},n.prototype.addLabel=function(n){return t=this,void 0,e=function(){var t,l,e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return i.trys.push([0,7,,8]),t=void 0,n.labelSetType!==eL.config?[3,4]:(l=n.key,[4,this.getStudyAutocompleteOptions.initialize()]);case 1:return i.sent(),[4,this.getStudyAutocompleteOptions.executeSynchronous(!1,!1,l)];case 2:return e=i.sent(),[4,this.promptDialog.show("Enter a config path (stage a config to enable auto-complete):","Add New Label",void 0,void 0,void 0,void 0,e.options)];case 3:return(u=i.sent())&&(u=u.trim(),t=new lL("config",u,!1,!0,!1)),[3,6];case 4:return[4,this.promptDialog.show("Enter a scalar result name:","Add New Label")];case 5:(u=i.sent())&&(u=u.trim(),t=new lL("scalarResults",u,!1,!0,!1)),i.label=6;case 6:return t&&!n.labels.some(function(n){return n.name===t.name&&n.source===t.source})&&n.labels.push(t),[3,8];case 7:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,8];case 8:return[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n.prototype.cssSanitize=function(n){return or(n)},n}(),XA=function(n,t){this.name=n,this.items=t},nL=function(){return function(n,t){this.configLabelDefinitions=n,this.simulationLabelDefinitions=t,this.list=[new XA("Configs",this.configLabelDefinitions),new XA("Simulations",this.simulationLabelDefinitions)]}}(),tL=function(n,t,l,e){this.key=n,this.displayName=t,this.labelSetType=l,this.labels=e},lL=function(n,t,l,e,u){void 0===l&&(l=!1),void 0===e&&(e=!1),void 0===u&&(u=!1),this.source=n,this.name=t,this.inWorksheetLabels=l,this.inUserLabels=e,this.inTenantLabels=u},eL=function(n){return n[n.config=0]="config",n[n.simulation=1]="simulation",n}({}),uL=e.sb({encapsulation:0,styles:[[".no-labels-message[_ngcontent-%COMP%]{font-style:italic;color:#6c757d}button[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#adb5bd}.fa.key-enabled-icon[_ngcontent-%COMP%], button.enabled-icon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#1e90ff}.labels-key[_ngcontent-%COMP%]{text-align:center}.labels-key[_ngcontent-%COMP%]   .label-key[_ngcontent-%COMP%]{margin:0 1rem;white-space:nowrap}.no-labels[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#adb5bd}.set-content[_ngcontent-%COMP%]{padding:.9375rem}.set-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.set-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.set-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem;vertical-align:middle}.set-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.button-column[_ngcontent-%COMP%]{width:3rem}"]],data:{}});function rL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function iL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,3,"a",[["class","nav-link"],["href","javascript:void(0)"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setActiveSet(n.context.$implicit)&&e),e},null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{active:0}),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,"nav-link",n(t,4,0,t.component.activeSet===t.context.$implicit))},function(n,t){n(t,2,0,e.wb(1,"",t.component.cssSanitize(t.context.$implicit.name),"-tab")),n(t,5,0,t.context.$implicit.name)})}function oL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","no-labels-message last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["No labels."]))],null,null)}function sL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,42,"tr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n                ","\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(5,0,null,null,8,"td",[["class","button-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(7,0,null,null,5,"button",[["class","btn btn-icon btn-secondary"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleLocation(n.context.$implicit,"inWorksheetLabels")&&e),e},null,null)),e.tb(8,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(9,{"enabled-icon":0,"enabled-worksheet-icon":1}),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(11,0,null,null,0,"i",[["class","fa fa-th"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(15,0,null,null,8,"td",[["class","button-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(17,0,null,null,5,"button",[["class","btn btn-icon btn-secondary"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleLocation(n.context.$implicit,"inUserLabels")&&e),e},null,null)),e.tb(18,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(19,{"enabled-icon":0,"enabled-user-icon":1}),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(21,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(25,0,null,null,8,"td",[["class","button-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(27,0,null,null,5,"button",[["class","btn btn-icon btn-secondary"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleLocation(n.context.$implicit,"inTenantLabels")&&e),e},null,null)),e.tb(28,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(29,{"enabled-icon":0,"enabled-tenant-icon":1}),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(31,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(35,0,null,null,6,"td",[["class","button-column"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(37,0,null,null,3,"button",[["class","btn btn-icon btn-secondary"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.deleteLabel(n.parent.context.$implicit,n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(39,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){n(t,8,0,"btn btn-icon btn-secondary",n(t,9,0,t.context.$implicit.inWorksheetLabels,t.context.$implicit.inWorksheetLabels)),n(t,18,0,"btn btn-icon btn-secondary",n(t,19,0,t.context.$implicit.inUserLabels,t.context.$implicit.inUserLabels)),n(t,28,0,"btn btn-icon btn-secondary",n(t,29,0,t.context.$implicit.inTenantLabels,t.context.$implicit.inTenantLabels))},function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.name),n(t,7,0,e.wb(3,"",l.cssSanitize(t.parent.parent.parent.context.$implicit.name),"-",l.cssSanitize(t.parent.context.$implicit.key),"-",l.cssSanitize(t.context.$implicit.name),"-worksheet-button"),!l.canEditWorksheetLabels),n(t,17,0,e.wb(3,"",l.cssSanitize(t.parent.parent.parent.context.$implicit.name),"-",l.cssSanitize(t.parent.context.$implicit.key),"-",l.cssSanitize(t.context.$implicit.name),"-user-button")),n(t,27,0,e.wb(3,"",l.cssSanitize(t.parent.parent.parent.context.$implicit.name),"-",l.cssSanitize(t.parent.context.$implicit.key),"-",l.cssSanitize(t.context.$implicit.name),"-tenant-button"))})}function aL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,27,"div",[["class","card"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"no-labels":0}),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(4,0,null,null,1,"h3",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.ub(7,0,null,null,19,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,oL)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(12,0,null,null,7,"table",[["class","table"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(14,0,null,null,4,"tbody",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,sL)),e.tb(17,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(21,0,null,null,4,"p",[["class","last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(23,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.addLabel(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              Add Label\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){n(t,1,0,"card",n(t,2,0,0===t.context.$implicit.labels.length)),n(t,10,0,0===t.context.$implicit.labels.length),n(t,17,0,t.context.$implicit.labels)},function(n,t){var l=t.component;n(t,5,0,t.context.$implicit.displayName),n(t,23,0,e.wb(2,"",l.cssSanitize(t.parent.parent.context.$implicit.name),"-",l.cssSanitize(t.context.$implicit.key),"-add-button"))})}function cL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","set-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,aL)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.parent.context.$implicit.items)},null)}function dL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,cL)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,3,0,t.component.activeSet===t.context.$implicit)},null)}function bL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,28,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","alert alert-info labels-key"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Key"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,2,"span",[["class","label-key"]],null,null,null,null,null)),(n()(),e.ub(8,0,null,null,0,"i",[["class","fa fa-th key-enabled-icon"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,[" Saved for worksheet."])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(11,0,null,null,2,"span",[["class","label-key"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,0,"i",[["class","fa fa-user key-enabled-icon"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,[" Saved for user."])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(15,0,null,null,2,"span",[["class","label-key"]],null,null,null,null,null)),(n()(),e.ub(16,0,null,null,0,"i",[["class","fa fa-users key-enabled-icon"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,[" Saved for tenant."])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(20,0,null,null,4,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,iL)),e.tb(23,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,dL)),e.tb(27,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,23,0,l.labels.list),n(t,27,0,l.labels.list)},null)}function fL(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(2,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,rL)),e.tb(5,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,bL)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.errorMessage),n(t,5,0,!l.labels),n(t,8,0,l.labels)},null)}var pL=function(){function n(n,t){this.sessionFactory=n,this.dialogManager=t,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(n){this.dialog&&this.dialog.resolve(n)},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){var n=this;this.dismiss();var t=this.dialogManager.getSecondary();this.sessionSubscription&&(this.sessionSubscription.unsubscribe(),this.sessionSubscription=void 0),t&&t instanceof sE?(this.isVisible=!0,this.dialog=t,this.session=this.sessionFactory.create(t),this.sessionSubscription=this.session.accepted.subscribe(function(t){return n.accept(t)}),this.session.load()):(this.isVisible=!1,this.session=void 0,this.dialog=void 0)},n}(),hL=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},gL=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},yL=function(){function n(n,t,l,e,u,r,i){this.identity=n,this.tenantSettingsStub=t,this.userSettings=l,this.studyTypeLookup=e,this.loadingDialog=u,this.json=r,this.getFriendlyErrorAndLog=i}return n.prototype.create=function(n){return new mL(n,this.identity,this.tenantSettingsStub,this.userSettings,this.studyTypeLookup,this.loadingDialog,this.json,this.getFriendlyErrorAndLog)},n}(),mL=function(){function n(n,t,l,u,r,i,o,s){this.dialog=n,this.identity=t,this.tenantSettingsStub=l,this.userSettings=u,this.studyTypeLookup=r,this.loadingDialog=i,this.json=o,this.getFriendlyErrorAndLog=s,this.accepted=new e.n}return n.prototype.load=function(){return hL(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w,M,C,S,I,x;return gL(this,function(O){switch(O.label){case 0:return O.trys.push([0,6,,7]),this.errorMessage=void 0,[4,this.studyTypeLookup.getSimTypeMap()];case 1:return n=O.sent(),t=this.identity.get(),this.worksheetLabels=this.dialog.worksheetLabels||this.getDefaultLabels(),this.sortLabelDefinitions(this.worksheetLabels),[4,this.userSettings.get(t.tenantId,t.userId)];case 2:return l=O.sent(),this.userLabels=l.settings.labelDefinitions||this.getDefaultLabels(),this.sortLabelDefinitions(this.userLabels),[4,this.tenantSettingsStub.getTenantWorksheetLabelDefinitions(t.tenantId)];case 3:for(e=O.sent(),this.tenantLabels=e.labelDefinitions||this.getDefaultLabels(),this.sortLabelDefinitions(this.tenantLabels),u=[],r=[],i=0,o=[this.worksheetLabels,this.userLabels,this.tenantLabels];i<o.length;i++){for(a=0,c=(s=o[i]).configLabelDefinitions;a<c.length;a++)b=kt.get((d=c[a]).configType),this.addSourceLabelDefinitionsToSet(u,d.configType,b?b.titleName:void 0,eL.config,d.labels,s);for(f=0,p=s.simulationLabelDefinitions;f<p.length;f++)this.addSourceLabelDefinitionsToSet(r,(h=p[f]).simType,(g=n[h.simType])?g.name:void 0,eL.simulation,h.labels,s)}return[4,this.studyTypeLookup.getConfigTypeList()];case 4:for(y=O.sent(),m=function(n){u.some(function(t){return t.key===n.singularKey})||u.push(new tL(n.singularKey,n.titleName,eL.config,[]))},v=0,w=y;v<w.length;v++)m(w[v]);return[4,this.studyTypeLookup.getSimTypeList()];case 5:for(M=O.sent(),C=function(n){r.some(function(t){return t.key===n.simType})||r.push(new tL(n.simType,n.name,eL.simulation,[]))},S=0,I=M;S<I.length;S++)C(I[S]);return u.sort(ge({name:"labels",primer:function(n){return 0===n.length?1:0}},"displayName")),r.sort(ge({name:"labels",primer:function(n){return 0===n.length?1:0}},"displayName")),this.combined=new nL(u,r),[3,7];case 6:return x=O.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(x),[3,7];case 7:return[2]}})})},n.prototype.addSourceLabelDefinitionsToSet=function(n,t,l,e,u,r){var i=n.find(function(n){return n.key===t});i||(i=new tL(t,l||t,e,[]),n.push(i)),this.addSourceLabelDefinitionsToSetInner(u,i,r)},n.prototype.addSourceLabelDefinitionsToSetInner=function(n,t,l){for(var e=function(n){var e=t.labels.find(function(t){return t.name===n.name&&t.source===n.source});e||(e=new lL(n.source,n.name),t.labels.push(e)),e.inWorksheetLabels=e.inWorksheetLabels||l===u.worksheetLabels,e.inUserLabels=e.inUserLabels||l===u.userLabels,e.inTenantLabels=e.inTenantLabels||l===u.tenantLabels},u=this,r=0,i=n;r<i.length;r++)e(i[r])},n.prototype.getDefaultLabels=function(){return{configLabelDefinitions:[],simulationLabelDefinitions:[]}},n.prototype.save=function(){return hL(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o;return gL(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),n=this.identity.get(),t=this.createTargetedLabelDefinitionsFromCombined("inWorksheetLabels"),this.sortLabelDefinitions(t),l=this.haveChanged(t,this.worksheetLabels),e=this.createTargetedLabelDefinitionsFromCombined("inUserLabels"),this.sortLabelDefinitions(e),u=this.haveChanged(e,this.userLabels),r=this.createTargetedLabelDefinitionsFromCombined("inTenantLabels"),this.sortLabelDefinitions(r),i=this.haveChanged(r,this.tenantLabels),u?[4,this.loadingDialog.showUntilFinished(this.userSettings.update(n.tenantId,n.userId,function(n){return n.settings.labelDefinitions=e}),"Saving user settings...")]:[3,2];case 1:s.sent(),s.label=2;case 2:return i?[4,this.loadingDialog.showUntilFinished(this.tenantSettingsStub.putTenantWorksheetLabelDefinitions(n.tenantId,{labelDefinitions:r}),"Saving tenant settings...")]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.accepted.emit(new aE(l||u||i,l?t:void 0)),[3,6];case 5:return o=s.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(o),[3,6];case 6:return[2]}})})},n.prototype.createTargetedLabelDefinitionsFromCombined=function(n){return{configLabelDefinitions:this.combined.configLabelDefinitions.map(function(t){return{configType:t.key,labels:t.labels.filter(function(t){return t[n]}).map(function(n){return{source:n.source,name:n.name}})}}).filter(function(n){return n.labels.length}),simulationLabelDefinitions:this.combined.simulationLabelDefinitions.map(function(t){return{simType:t.key,labels:t.labels.filter(function(t){return t[n]}).map(function(n){return{source:n.source,name:n.name}})}}).filter(function(n){return n.labels.length})}},n.prototype.sortLabelDefinitions=function(n){n.configLabelDefinitions.sort(ge("configType"));for(var t=0,l=n.configLabelDefinitions;t<l.length;t++)(r=l[t]).labels&&r.labels.sort(ge("source","name"));n.simulationLabelDefinitions.sort(ge("simType"));for(var e=0,u=n.configLabelDefinitions;e<u.length;e++){var r;(r=u[e]).labels&&r.labels.sort(ge("source","name"))}},n.prototype.haveChanged=function(n,t){return!this.json.equals(n,t)},n}(),vL=e.sb({encapsulation:0,styles:[[""]],data:{}});function wL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function ML(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,1,"cs-worksheet-labels-editor",[],null,null,null,fL,uL)),e.tb(5,114688,null,0,ZA,[fC,zw,On],{canEditWorksheetLabels:[0,"canEditWorksheetLabels"],labels:[1,"labels"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,5,0,l.session.dialog.canEditWorksheetLabels,l.session.combined)},null)}function CL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,43,"div",[["class","dialog-container dialog-inner-scroll dialog-full-width"],["id","worksheet-labels-editor-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,40,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,37,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit Labels"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,wL)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,ML)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(30,0,null,null,10,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(32,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(33,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(35,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(38,0,null,null,1,"button",[["class","btn btn-primary"],["id","dialog-save-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.save()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Save"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,null==l.session?null:l.session.errorMessage),n(t,24,0,!l.session.combined),n(t,27,0,null==l.session?null:l.session.combined),n(t,33,0,null==l.session?null:l.session.errorMessage)},function(n,t){var l=t.component;n(t,38,0,!(null!=l.session&&l.session.combined))})}function SL(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,CL)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var IL=e.sb({encapsulation:0,styles:[[""]],data:{}});function xL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Name is required\n        "]))],null,null)}function OL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Name is too short.\n        "]))],null,null)}function kL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Name is too long.\n        "]))],null,null)}function TL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Notes are too long.\n        "]))],null,null)}function PL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"],["id","success-message"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      Saved.\n    "]))],null,null)}function EL(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,82,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,3).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,3).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(2,16384,null,0,Zt.y,[],null,null),e.tb(3,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(5,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(7,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(9,0,null,null,23,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(11,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(13,0,null,null,1,"label",[["class","title-label"],["for","name-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(16,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,17)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,17).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,17)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,17)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(17,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(19,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(21,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,xL)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,OL)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,kL)),e.tb(30,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(35,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(37,0,null,null,18,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(39,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(41,0,null,null,1,"label",[["class","title-label"],["for","notes-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Notes"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(44,0,null,null,6,"textarea",[["autosize",""],["class","form-control notes-input"],["formControlName","notes"],["id","notes-input"],["rows","1"],["style","overflow: hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,45)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,45).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,45)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,45)._compositionEnd(l.target.value)&&u),"input"===t&&(u=!1!==e.Eb(n,50).resize()&&u),u},null,null)),e.tb(45,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(47,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(49,16384,null,0,Zt.q,[[4,Zt.p]],null,null),e.tb(50,4210688,null,0,Xy.b,[e.l],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,TL)),e.tb(53,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(58,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(60,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(62,0,null,null,1,"label",[["class","title-label"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Custom Properties"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(65,0,null,null,1,"cs-view-edit-custom-properties",[],null,null,null,mm,pm)),e.tb(66,245760,null,0,fm,[],{tenantId:[0,"tenantId"],target:[1,"target"],initialProperties:[2,"initialProperties"],resultProperties:[3,"resultProperties"],form:[4,"form"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(70,0,null,null,12,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(72,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(73,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,PL)),e.tb(76,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(78,0,null,null,3,"button",[["class","btn btn-smart btn-secondary"],["id","edit-submit"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(80,0,null,null,0,"i",[["class","fa fa-cloud"]],null,null,null,null,null)),(n()(),e.Mb(81,null,["\n      ","\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.form),n(t,19,0,"name"),n(t,24,0,!l.name.pristine&&l.name.hasError("required")),n(t,27,0,l.name.hasError("minlength")),n(t,30,0,l.name.hasError("maxlength")),n(t,47,0,"notes"),n(t,53,0,l.notes.hasError("maxlength")),n(t,66,0,l.tenantId,l.target,l.customProperties,l.customProperties,l.form),n(t,73,0,l.errorMessage),n(t,76,0,l.saveSuccessful)},function(n,t){var l=t.component;n(t,1,0,e.Eb(t,5).ngClassUntouched,e.Eb(t,5).ngClassTouched,e.Eb(t,5).ngClassPristine,e.Eb(t,5).ngClassDirty,e.Eb(t,5).ngClassValid,e.Eb(t,5).ngClassInvalid,e.Eb(t,5).ngClassPending),n(t,16,0,e.Eb(t,21).ngClassUntouched,e.Eb(t,21).ngClassTouched,e.Eb(t,21).ngClassPristine,e.Eb(t,21).ngClassDirty,e.Eb(t,21).ngClassValid,e.Eb(t,21).ngClassInvalid,e.Eb(t,21).ngClassPending),n(t,44,0,e.Eb(t,49).ngClassUntouched,e.Eb(t,49).ngClassTouched,e.Eb(t,49).ngClassPristine,e.Eb(t,49).ngClassDirty,e.Eb(t,49).ngClassValid,e.Eb(t,49).ngClassInvalid,e.Eb(t,49).ngClassPending),n(t,78,0,l.submitButton.isSubmitting),n(t,81,0,l.submitButton.text)})}var _L=function(){function n(n,t){this.sessionFactory=n,this.dialogManager=t,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(n){this.dialog&&this.dialog.resolve(n)},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){var n=this;this.dismiss();var t=this.dialogManager.getSecondary();this.sessionSubscription&&(this.sessionSubscription.unsubscribe(),this.sessionSubscription=void 0),t&&t instanceof fE?(this.isVisible=!0,this.dialog=t,this.session=this.sessionFactory.create(t),this.sessionSubscription=this.session.accepted.subscribe(function(t){return n.accept(t)})):(this.isVisible=!1,this.session=void 0,this.dialog=void 0)},n}(),VL=function(){function n(n){this.getFriendlyErrorAndLog=n}return n.prototype.create=function(n){return new jL(n,this.getFriendlyErrorAndLog)},n}(),jL=function(){function n(n,t){this.dialog=n,this.getFriendlyErrorAndLog=t,this.accepted=new e.n}return n.prototype.onMetadataChanged=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){try{this.accepted.emit(new pE(n))}catch(n){this.errorMessage=this.getFriendlyErrorAndLog.execute(n)}return[2]})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),RL=e.sb({encapsulation:0,styles:[[""]],data:{}});function FL(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,29,"div",[["class","dialog-container"],["id","edit-document-metadata-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,26,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,23,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Edit Metadata"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(23,0,null,null,1,"cs-edit-document-metadata",[],null,[[null,"metadataChanged"]],function(n,t,l){var e=!0;return"metadataChanged"===t&&(e=!1!==n.component.session.onMetadataChanged(l)&&e),e},EL,IL)),e.tb(24,114688,null,0,EP,[Zt.e,Ml,On],{tenantId:[0,"tenantId"],target:[1,"target"],initialDocumentMetadata:[2,"initialDocumentMetadata"]},{metadataChanged:"metadataChanged"}),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,null==l.session?null:l.session.errorMessage),n(t,24,0,l.session.dialog.tenantId,l.session.dialog.target,l.session.dialog.initialDocumentMetadata)},null)}function AL(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,FL)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var LL,DL=function(){function n(){}return n.prototype.execute=function(n){return this.inner(n.data,n.hashMap,n.left,n.right)},n.prototype.inner=function(n,t,l,e){if("object"!=typeof n)throw new cl("Unexpected diff result format.");if(Array.isArray(n)){if(1===n.length)return new NL(n[0]);if(2===n.length)return new UL(n[0],n[1]);if(3===n.length&&0===n[1]&&0===n[2])return new QL(n[0]);if(3===n.length&&0===n[1]&&2===n[2])return new $L(n[0]);if(3===n.length&&3===n[2])return new JL(n[0],n[1]);throw new cl("Unexpected diff result array format.")}if("a"===n._t){var u=[];for(var r in n)if(n.hasOwnProperty(r)&&"_t"!==r){var i;i=r.startsWith("_")?+r.substr(1):+r,u.push(new qL(i,this.inner(n[r],t,l[i],e[i])))}for(var o=u.length-1;o>=0;--o)for(var s=u[o],a=o-1;a>=0;--a){var c=u[a];c.index===s.index&&(s.delta instanceof NL&&c.delta instanceof QL?(u.splice(o,1),u[a]=new qL(s.index,new UL(c.delta.oldValue,s.delta.newValue))):s.delta instanceof QL&&c.delta instanceof NL&&(u.splice(o,1),u[a]=new qL(s.index,new UL(s.delta.oldValue,c.delta.newValue))))}return new zL(l,e,u)}var d=[];for(var r in n)n.hasOwnProperty(r)&&d.push(new HL(r,this.inner(n[r],t,l[r],e[r])));return new BL(l,e,d)},n}(),NL=function(){return function(n){this.newValue=n,this.deltaType=LL.added,this.isComplexValue="object"==typeof n}}(),UL=function(){return function(n,t){this.oldValue=n,this.newValue=t,this.deltaType=LL.modified,this.isComplexValue="object"==typeof n||"object"==typeof t}}(),QL=function(){return function(n){this.oldValue=n,this.deltaType=LL.deleted,this.isComplexValue="object"==typeof n}}(),JL=function(){return function(n,t){this.movedValue=n,this.destinationindex=t,this.deltaType=LL.moved,this.isComplexValue=!1}}(),$L=function(){return function(n){this.value=n,this.deltaType=LL.unidiff,this.isComplexValue=!0}}(),HL=function(n,t){this.name=n,this.delta=t},qL=function(n,t){this.index=n,this.delta=t},BL=function(){return function(n,t,l){this.left=n,this.right=t,this.properties=l,this.deltaType=LL.object,this.isComplexValue=!0}}(),zL=function(){return function(n,t,l){this.left=n,this.right=t,this.items=l,this.deltaType=LL.array,this.isComplexValue=!0}}();!function(n){n.object="object",n.array="array",n.added="added",n.modified="modified",n.deleted="deleted",n.moved="moved",n.unidiff="unidiff"}(LL||(LL={}));var KL=function(){function n(){this.DeltaType=LL,this.isHidden=!1}return Object.defineProperty(n.prototype,"isComplexValue",{get:function(){return this.delta.isComplexValue},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(n){return this.delta.deltaType===LL.added?this.outputChangeSet.set(this.parentPath,this.added.newValue):this.delta.deltaType===LL.modified&&this.outputChangeSet.set(this.parentPath,this.added.newValue),[2]})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},Object.defineProperty(n.prototype,"objectDelta",{get:function(){return this.delta},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"arrayDelta",{get:function(){return this.delta},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"added",{get:function(){return this.delta},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modified",{get:function(){return this.delta},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"deleted",{get:function(){return this.delta},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"moved",{get:function(){return this.delta},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unidiff",{get:function(){return this.delta},enumerable:!0,configurable:!0}),n.prototype.getNextPath=function(n){return WL.getNextPath(this.parentPath,n)},n.prototype.toggleChildren=function(){WL.toggleChildren(this.outputChangeSet,this.delta,this.parentPath)},n.prototype.cssSanitize=function(n){return or(n)},n}(),WL=function(){function n(){}return n.getNextPath=function(n,t){return n?n+"."+t:t},n.toggleChildren=function(t,l,e){switch(l.deltaType){case LL.object:for(var u=0,r=l.properties;u<r.length;u++){var i=r[u];n.toggleChildren(t,i.delta,n.getNextPath(e,i.name))}break;case LL.array:for(var o=0,s=l.items;o<s.length;o++){var a=s[o];n.toggleChildren(t,a.delta,n.getNextPath(e,""+a.index))}break;case LL.added:t.toggle(e,l.newValue);break;case LL.modified:t.toggle(e,l.oldValue,l.newValue);break;case LL.deleted:t.toggle(e,l.oldValue)}},n}(),GL=function(){function n(){this.changes={}}return n.prototype.set=function(n,t){this.changes[n]=t},n.prototype.toggle=function(n,t,l){void 0===l&&(l=void 0),this.changes[n]=this.changes[n]===t?l:t},n.prototype.contains=function(n,t){return this.changes[n]===t},n.prototype.getChanges=function(){var n=this;return Object.keys(this.changes).map(function(t){return new th(t.split("."),n.changes[t])})},n}(),YL=function(){function n(){this.ValueType=ZL,this.valueType=ZL.unknown,this.isComplexValue=!1}return n.prototype.ngOnInit=function(){this.unitsInformation=this.getUnits.getUnits(this.parentName);var n=typeof this.value;"object"===n?(this.isComplexValue=!0,this.valueType=Array.isArray(this.value)?ZL.array:ZL.object):this.valueType="string"===n&&this.value.startsWith("large-array-hash-")?ZL.arrayHash:ZL.primitive},Object.defineProperty(n.prototype,"keys",{get:function(){return Object.keys(this.value)},enumerable:!0,configurable:!0}),n.prototype.getNextPath=function(n){return this.parentPath?this.parentPath+"."+n:n},n}(),ZL=function(n){return n[n.unknown=0]="unknown",n[n.object=1]="object",n[n.array=2]="array",n[n.arrayHash=3]="arrayHash",n[n.primitive=4]="primitive",n}({}),XL=new Rn,nD=function(){function n(){}return n.prototype.transform=function(n,t,l,e,u){if(void 0===u&&(u=0),"number"!=typeof n)return n;var r=$f.a.convertValueBetweenUnits(n,l,t);return XL.transform(r,e,u)+(t&&"()"!==t?" "+t:"")},n}(),tD=e.sb({encapsulation:0,styles:[[""]],data:{}});function lD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.Mb(1,null,["\n    ","\n  "])),e.Ib(2,4)],null,function(n,t){var l=t.component;n(t,1,0,e.Nb(t,1,0,n(t,2,0,e.Eb(t.parent,0),l.value,l.unitsInformation.targetUnits,l.unitsInformation.sourceUnits,-1)))})}function eD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    Large Array\n  "]))],null,null)}function uD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[["class","object-value-property"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,3,"span",[["class","property-name"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"span",[["class","parameter-path"]],null,null,null,null,null)),(n()(),e.Mb(4,null,["",""])),(n()(),e.Mb(5,null,["",":"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(7,0,null,null,1,"span",[["cs-compare-config-structures-value-renderer",""]],[[2,"value-container",null],[2,"complex-value-container",null]],null,null,sD,tD)),e.tb(8,114688,[["child",4]],0,YL,[],{value:[0,"value"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,8,0,l.value[t.context.$implicit],t.context.$implicit,l.getNextPath(t.context.$implicit),l.getUnits)},function(n,t){n(t,4,0,e.Eb(t,8).parentPath),n(t,5,0,t.context.$implicit),n(t,7,0,!0,e.Eb(t,8).isComplexValue)})}function rD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","complex-value object-value"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,uD)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,5,0,t.component.keys)},null)}function iD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"div",[["class","array-value-property"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,3,"span",[["class","array-index"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"span",[["class","parameter-path"]],null,null,null,null,null)),(n()(),e.Mb(4,null,["",""])),(n()(),e.Mb(5,null,["",":"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(7,0,null,null,1,"span",[["cs-compare-config-structures-value-renderer",""]],[[2,"value-container",null],[2,"complex-value-container",null]],null,null,sD,tD)),e.tb(8,114688,[["child",4]],0,YL,[],{value:[0,"value"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,8,0,l.value[t.context.$implicit],l.parentName,l.getNextPath(t.context.$implicit),l.getUnits)},function(n,t){n(t,4,0,e.Eb(t,8).parentPath),n(t,5,0,t.context.$implicit),n(t,7,0,!0,e.Eb(t,8).isComplexValue)})}function oD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","complex-value array-value"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,iD)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,5,0,t.component.keys)},null)}function sD(n){return e.Ob(0,[e.Gb(0,nD,[]),(n()(),e.ub(1,0,null,null,14,null,null,null,null,null,null,null)),e.tb(2,16384,null,0,f.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,lD)),e.tb(5,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,eD)),e.tb(8,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,rD)),e.tb(11,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,oD)),e.tb(14,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.valueType),n(t,5,0,l.ValueType.primitive),n(t,8,0,l.ValueType.arrayHash),n(t,11,0,l.ValueType.object),n(t,14,0,l.ValueType.array)},null)}var aD=function(){function n(){}return n.prototype.ngOnInit=function(){this.parsed=this.parseTextDiff(this.text)},n.prototype.parseTextDiff=function(n){var t=[];if(!n)return t;for(var l=n.split("\n@@ "),e=0,u=l.length;e<u;e++){for(var r=l[e],i=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(r).slice(1),o={pieces:[],location:{line:i[0],chr:i[1]}},s=r.split("\n").slice(1),a=0,c=s.length;a<c;a++){var d=s[a];if(d.length){var b={type:"context",text:d.slice(1)};"+"===d.substr(0,1)?b.type="added":"-"===d.substr(0,1)&&(b.type="deleted"),o.pieces.push(b)}}t.push(o)}return t},n.prototype.unescape=function(n){return unescape(n)},n.prototype.htmlEscape=function(n){for(var t=n,l=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],e=0;e<l.length;e++)t=t.replace(l[e][0],l[e][1]);return t},n}(),cD=e.sb({encapsulation:0,styles:[[""]],data:{}});function dD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(1,null,["\n        ","\n      "]))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(1,"textdiff-",t.context.$implicit.type,"")),n(t,1,0,l.unescape(t.context.$implicit.text))})}function bD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,"li",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","textdiff-location"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"span",[["class","textdiff-line-number"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["\n        ","\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"span",[["class","textdiff-char"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["\n        ","\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(11,0,null,null,4,"div",[["class","textdiff-line"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,dD)),e.tb(14,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,14,0,t.context.$implicit.pieces)},function(n,t){n(t,5,0,t.context.$implicit.location.line),n(t,8,0,t.context.$implicit.location.chr)})}function fD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"ul",[["class","textdiff"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,bD)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.parsed)},null)}var pD=e.sb({encapsulation:0,styles:[[""]],data:{}});function hD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"i",[["class","fa fa-fw collapse-button"]],null,[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=0!=(e.Eb(n.parent,12).isHidden=!e.Eb(n.parent,12).isHidden)&&u),u},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"fa-caret-right":0,"fa-caret-down":1}),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,1,0,"fa fa-fw collapse-button",n(t,2,0,e.Eb(t.parent,12).isHidden,!e.Eb(t.parent,12).isHidden))},null)}function gD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","object-delta-property"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,hD)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(4,0,null,null,3,"span",[["class","property-name"]],null,[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,12).toggleChildren()&&u),u},null,null)),(n()(),e.ub(5,0,null,null,1,"span",[["class","parameter-path"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(7,null,["",":"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(9,0,null,null,3,"cs-compare-config-structures-renderer",[],[[8,"className",0]],null,null,kD,pD)),e.tb(10,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(11,{display:0}),e.tb(12,114688,[["child",4]],0,KL,[],{delta:[0,"delta"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"],outputChangeSet:[4,"outputChangeSet"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.delta.isComplexValue),n(t,10,0,n(t,11,0,e.Eb(t,12).isHidden?"none":void 0)),n(t,12,0,t.context.$implicit.delta,t.context.$implicit.name,l.getNextPath(t.context.$implicit.name),l.getUnits,l.outputChangeSet)},function(n,t){n(t,6,0,e.Eb(t,12).parentPath),n(t,7,0,t.context.$implicit.name),n(t,9,0,e.wb(1,"property-",t.context.$implicit.name,""))})}function yD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,gD)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,5,0,t.component.objectDelta.properties)},function(n,t){var l=t.component;n(t,2,0,e.wb(1,"object-delta object-",l.cssSanitize(l.parentPath),""))})}function mD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"i",[["class","fa fa-fw collapse-button"]],null,[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=0!=(e.Eb(n.parent,12).isHidden=!e.Eb(n.parent,12).isHidden)&&u),u},null,null)),e.tb(1,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(2,{"fa-caret-right":0,"fa-caret-down":1}),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,1,0,"fa fa-fw collapse-button",n(t,2,0,e.Eb(t.parent,12).isHidden,!e.Eb(t.parent,12).isHidden))},null)}function vD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","array-delta-index"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,mD)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(4,0,null,null,3,"span",[["class","array-index"]],null,[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,12).toggleChildren()&&u),u},null,null)),(n()(),e.ub(5,0,null,null,1,"span",[["class","parameter-path"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(7,null,["",":"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(9,0,null,null,3,"cs-compare-config-structures-renderer",[],[[8,"className",0]],null,null,kD,pD)),e.tb(10,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(11,{display:0}),e.tb(12,114688,[["child",4]],0,KL,[],{delta:[0,"delta"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"],outputChangeSet:[4,"outputChangeSet"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.delta.isComplexValue),n(t,10,0,n(t,11,0,e.Eb(t,12).isHidden?"none":void 0)),n(t,12,0,t.context.$implicit.delta,l.parentName,l.getNextPath(""+t.context.$implicit.index),l.getUnits,l.outputChangeSet)},function(n,t){n(t,6,0,e.Eb(t,12).parentPath),n(t,7,0,t.context.$implicit.index),n(t,9,0,e.wb(1,"index-",t.context.$implicit.index,""))})}function wD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,vD)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,5,0,t.component.arrayDelta.items)},function(n,t){var l=t.component;n(t,2,0,e.wb(1,"array-delta array-",l.cssSanitize(l.parentPath),""))})}function MD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,4,"span",[["class","added"],["cs-compare-config-structures-value-renderer",""]],[[2,"value-container",null],[2,"complex-value-container",null]],[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.outputChangeSet.toggle(u.parentPath,u.added.newValue)&&e),e},sD,tD)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"output-value":0}),e.tb(5,114688,null,0,YL,[],{value:[0,"value"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,"added",n(t,4,0,l.outputChangeSet.contains(l.parentPath,l.added.newValue))),n(t,5,0,l.added.newValue,l.parentName,l.parentPath,l.getUnits)},function(n,t){n(t,2,0,!0,e.Eb(t,5).isComplexValue)})}function CD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,4,"span",[["class","deleted"],["cs-compare-config-structures-value-renderer",""]],[[2,"value-container",null],[2,"complex-value-container",null]],[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.outputChangeSet.toggle(u.parentPath,u.modified.oldValue,u.modified.newValue)&&e),e},sD,tD)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"output-value":0}),e.tb(5,114688,null,0,YL,[],{value:[0,"value"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(8,0,null,null,4,"span",[["class","added"],["cs-compare-config-structures-value-renderer",""]],[[2,"value-container",null],[2,"complex-value-container",null]],[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.outputChangeSet.toggle(u.parentPath,u.modified.oldValue,u.modified.newValue)&&e),e},sD,tD)),e.tb(9,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(10,{"output-value":0}),e.tb(11,114688,null,0,YL,[],{value:[0,"value"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,"deleted",n(t,4,0,l.outputChangeSet.contains(l.parentPath,l.modified.oldValue))),n(t,5,0,l.modified.oldValue,l.parentName,l.parentPath,l.getUnits),n(t,9,0,"added",n(t,10,0,l.outputChangeSet.contains(l.parentPath,l.modified.newValue))),n(t,11,0,l.modified.newValue,l.parentName,l.parentPath,l.getUnits)},function(n,t){n(t,2,0,!0,e.Eb(t,5).isComplexValue),n(t,8,0,!0,e.Eb(t,11).isComplexValue)})}function SD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,4,"span",[["class","deleted"],["cs-compare-config-structures-value-renderer",""]],[[2,"value-container",null],[2,"complex-value-container",null]],[[null,"click"]],function(n,t,l){var e=!0,u=n.component;return"click"===t&&(e=!1!==u.outputChangeSet.toggle(u.parentPath,u.deleted.oldValue)&&e),e},sD,tD)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"output-value":0}),e.tb(5,114688,null,0,YL,[],{value:[0,"value"],parentName:[1,"parentName"],parentPath:[2,"parentPath"],getUnits:[3,"getUnits"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,3,0,"deleted",n(t,4,0,l.outputChangeSet.contains(l.parentPath,l.deleted.oldValue))),n(t,5,0,l.deleted.oldValue,l.parentName,l.parentPath,l.getUnits)},function(n,t){n(t,2,0,!0,e.Eb(t,5).isComplexValue)})}function ID(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"span",[["class","moved"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n        property \u2192 ","\n      "])),(n()(),e.Mb(-1,null,["\n    "]))],null,function(n,t){n(t,3,0,t.component.moved.destinationindex)})}function xD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"cs-compare-config-structures-unidiff-renderer",[],null,null,null,fD,cD)),e.tb(3,114688,null,0,aD,[],{text:[0,"text"]},null),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.unidiff.value)},null)}function OD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,23,null,null,null,null,null,null,null)),e.tb(3,16384,null,0,f.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,yD)),e.tb(6,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,wD)),e.tb(9,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,MD)),e.tb(12,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,CD)),e.tb(15,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,SD)),e.tb(18,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,ID)),e.tb(21,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,xD)),e.tb(24,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.delta.deltaType),n(t,6,0,l.DeltaType.object),n(t,9,0,l.DeltaType.array),n(t,12,0,l.DeltaType.added),n(t,15,0,l.DeltaType.modified),n(t,18,0,l.DeltaType.deleted),n(t,21,0,l.DeltaType.moved),n(t,24,0,l.DeltaType.unidiff)},null)}function kD(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,OD)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.delta)},null)}var TD=function(){function n(n,t,l,e,u,r,i,o){this.canopyJsonDiffPatch=n,this.convertDiffToViewModel=t,this.unitsManager=l,this.getSimVersion=e,this.simVersionDocumentCache=u,this.json=r,this.applyChangesToConfig=i,this.getFriendlyErrorAndLog=o,this.outputChangeSet=new GL}return Object.defineProperty(n.prototype,"leftName",{get:function(){return this.left.shortName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightName",{get:function(){return this.right.shortName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftFullName",{get:function(){return this.left.materialized.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightFullName",{get:function(){return this.right.materialized.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftDeleteRequested",{get:function(){return!!this.left.additionalData&&!!this.left.additionalData.deleteRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightDeleteRequested",{get:function(){return!!this.right.additionalData&&!!this.right.additionalData.deleteRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftParentWorksheetId",{get:function(){return this.left.additionalData?this.left.additionalData.parentWorksheetId:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightParentWorksheetId",{get:function(){return this.right.additionalData?this.right.additionalData.parentWorksheetId:void 0},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return n=this,void 0,l=function(){var n,t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:if(u.trys.push([0,3,,4]),this.isLoaded=!1,this.configs.length>2)throw new cl("Only comparison between two configs is currently supported ("+this.configs.length+" config attempted).");return[4,this.unitsManager.refresh()];case 1:return u.sent(),[4,this.simVersionDocumentCache.get(this.getSimVersion.currentSimVersion)];case 2:return n=u.sent(),this.defaultUnits=n.units,this.left=2===this.configs.length?this.configs[1]:new Pb("nothing",zb(this.configType,"nothing",{},this.simVersion),void 0),this.right=this.configs[0],t=this.studyInputToCompareData(this.right.materialized),l=this.studyInputToCompareData(this.left.materialized),this.diff=this.canopyJsonDiffPatch.getDiff(l,t,{textDiff:{minLength:9999999},cloneDiffValues:!0}),this.diff.data&&(this.delta=this.convertDiffToViewModel.execute(this.diff)),this.isLoaded=!0,[3,4];case 3:return e=u.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(e),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},n.prototype.studyInputToCompareData=function(n){return{notes:n.notes||"",properties:ye.listToObject(n.properties),data:n.data}},n.prototype.compareDataToStudyInput=function(n,t){return new me(n.configType,n.userId,n.configId,n.name,t.data,ye.objectToList(t.properties),t.notes,n.simVersion,!0,void 0)},n.prototype.getOutputConfig=function(){var n=this.json.clone(this.studyInputToCompareData(this.configs[0].materialized)),t=this.outputChangeSet.getChanges();return this.applyChangesToConfig.execute(n,t),n=this.canopyJsonDiffPatch.restoreLargeArrays(n,this.diff.hashMap),this.compareDataToStudyInput(this.configs[0].materialized,n)},n.prototype.getUnits=function(n){var t=this.defaultUnits[n];return new function(n,t){this.targetUnits=n,this.sourceUnits=t}(this.unitsManager.getUnitsSynchronous(n,t),t)},n}(),PD=e.sb({encapsulation:0,styles:[[".comparing[_ngcontent-%COMP%]{padding:0 1rem}"]],data:{}});function ED(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function _D(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"span",[["class","key"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,0,"span",[["class","output-value-key output-value"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,[" Output Value\n    "]))],null,null)}function VD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Delete Requested:"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(5,0,null,null,1,"span",[["class","deleted"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,1,"span",[["class","added"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["",""])),(n()(),e.Mb(-1,null,["\n  "]))],null,function(n,t){var l=t.component;n(t,6,0,l.leftDeleteRequested),n(t,9,0,l.rightDeleteRequested)})}function jD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","deleted"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.leftParentWorksheetId)})}function RD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","added"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.rightParentWorksheetId)})}function FD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Worksheet ID:"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,jD)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,RD)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,6,0,l.leftParentWorksheetId),n(t,9,0,l.rightParentWorksheetId)},null)}function AD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","object-delta-property"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(4,0,null,null,1,"span",[["class","property-name"]],null,[[null,"click"]],function(n,t,l){var u=!0;return"click"===t&&(u=!1!==e.Eb(n,9).toggleChildren()&&u),u},null,null)),(n()(),e.Mb(5,null,["",":"])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,1,"cs-compare-config-structures-renderer",[["class","renderer"]],null,null,null,kD,pD)),e.tb(9,114688,[["child",4]],0,KL,[],{delta:[0,"delta"],getUnits:[1,"getUnits"],outputChangeSet:[2,"outputChangeSet"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,9,0,l.delta,l,l.outputChangeSet)},function(n,t){n(t,5,0,t.component.configType||"root")})}function LD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","last-item no-changes-detected"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["No config changes detected."]))],null,null)}function DD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,34,"div",[["class","comparing"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,19,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    Comparing\n    "])),(n()(),e.ub(4,0,null,null,3,"span",[["class","deleted"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.ub(6,0,null,null,1,"span",[["class","full-name"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n    to\n    "])),(n()(),e.ub(9,0,null,null,3,"span",[["class","added"]],null,null,null,null,null)),(n()(),e.Mb(10,null,["",""])),(n()(),e.ub(11,0,null,null,1,"span",[["class","full-name"]],null,null,null,null,null)),(n()(),e.Mb(12,null,["",""])),(n()(),e.Mb(-1,null,[".\n    "])),(n()(),e.lb(16777216,null,null,1,null,_D)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(17,0,null,null,3,"span",[["class","help-text"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(19,0,null,null,0,"i",[["class","fa fa-info-circle"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Click on nodes to toggle children.\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,VD)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,FD)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,AD)),e.tb(30,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,LD)),e.tb(33,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,15,0,l.configType),n(t,24,0,l.leftDeleteRequested!==l.rightDeleteRequested),n(t,27,0,l.leftParentWorksheetId!==l.rightParentWorksheetId),n(t,30,0,l.delta),n(t,33,0,!l.delta)},function(n,t){var l=t.component;n(t,5,0,l.leftName),n(t,7,0,l.leftFullName),n(t,10,0,l.rightName),n(t,12,0,l.rightFullName)})}function ND(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(1,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,ED)),e.tb(4,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.lb(16777216,null,null,1,null,DD)),e.tb(7,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.errorMessage),n(t,4,0,!l.isLoaded&&!l.errorMessage),n(t,7,0,l.isLoaded)},null)}var UD=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),QD=function(n){function t(t,l,e){return n.call(this,t,l,e)||this}return UD(t,n),t.prototype.ngOnInit=function(){this.load()},t.prototype.load=function(){return n=this,void 0,l=function(){var n;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.errorMessage=void 0,this.configPreviewErrorMessage=void 0,[4,this.timer.yield()];case 1:return t.sent(),[4,this.loadConfigPreviewsIfRequired(this.configs.map(function(n){return n.materialized}),this.units)];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})},new((t=void 0)||(t=Promise))(function(e,u){function r(n){try{o(l.next(n))}catch(n){u(n)}}function i(n){try{o(l.throw(n))}catch(n){u(n)}}function o(n){n.done?e(n.value):new t(function(t){t(n.value)}).then(r,i)}o((l=l.apply(n,[])).next())});var n,t,l},t}(Aw),JD=e.sb({encapsulation:0,styles:[[""]],data:{}});function $D(n){return e.Ob(0,[(n()(),e.ub(0,0,[[1,0],["configPreviewContainer",1]],null,1,"div",[["id","config-preview-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n"]))],null,null)}function HD(n){return e.Ob(0,[e.Kb(671088640,1,{configPreviewElement:0}),(n()(),e.ub(1,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(2,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(4,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(5,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,$D)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,l.errorMessage),n(t,5,0,l.configPreviewErrorMessage),n(t,8,0,l.hasConfigPreview)},null)}var qD=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},BD=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},zD=function(){function n(n,t,l,e,u){this.simVersionDocumentCache=n,this.getSimVersion=t,this.saveAsDialog=l,this.studyStagingArea=e,this.getFriendlyErrorAndLog=u,this.CompareTabType=WD,this.compareStructure=new KD(WD.structure,"Compare Structure"),this.compareVisualizations=new KD(WD.visualizations,"Compare Charts"),this.compareLegacy=new KD(WD.legacy,"Legacy Compare"),this.tabs=[]}return n.prototype.ngOnInit=function(){this.load()},Object.defineProperty(n.prototype,"isSafeToSaveOutput",{get:function(){return this.isLoaded&&this.configs.length>1},enumerable:!0,configurable:!0}),n.prototype.load=function(){return qD(this,void 0,void 0,function(){var n,t,l,u,r;return BD(this,function(i){switch(i.label){case 0:i.trys.push([0,7,,8]),this.errorMessage=void 0,this.isLoaded=!1,this.tabs.push(this.compareStructure),this.hasConfigPreview&&this.tabs.push(this.compareVisualizations),Object(e.cb)()&&this.tabs.push(this.compareLegacy),this.simVersion||(this.simVersion=this.getSimVersion.currentSimVersion),this.configTypeDefinition=kt.get(this.configType),n=this.configs.length-1,i.label=1;case 1:return n>=0?(t=this.configs[n]).materialized?[3,4]:t.loader?(l=t,[4,t.loader.execute()]):[3,3]:[3,5];case 2:return l.materialized=i.sent(),[3,4];case 3:this.configs.splice(n,1),i.label=4;case 4:return--n,[3,1];case 5:return u=this,[4,this.simVersionDocumentCache.get(this.simVersion)];case 6:return u.simVersionDocumentsResult=i.sent(),this.isLoaded=!0,this.tabs[0].isVisible=!0,[3,8];case 7:return r=i.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(r),[3,8];case 8:return[2]}})})},n.prototype.saveAs=function(){return qD(this,void 0,void 0,function(){var n;return BD(this,function(t){switch(t.label){case 0:return this.compareConfigStructuresComponent?(n=this.compareConfigStructuresComponent.getOutputConfig(),[4,this.saveAsDialog.showForContent(n.name,this.configType,this.simVersion,void 0,n.data,n.properties,n.notes)]):[2];case 1:return t.sent(),[2]}})})},n.prototype.stage=function(){return qD(this,void 0,void 0,function(){var n;return BD(this,function(t){return this.compareConfigStructuresComponent?(n=this.compareConfigStructuresComponent.getOutputConfig(),this.studyStagingArea.stage(this.configType,n.userId,n.configId,n.name,n.data,n.properties.slice(),n.notes,this.simVersion,!0),[2]):[2]})})},Object.defineProperty(n.prototype,"canSave",{get:function(){return this.isLoaded&&this.saveOutputConfigHandler&&this.configs.length&&this.saveOutputConfigHandler.canExecute(this.configs[0].materialized)},enumerable:!0,configurable:!0}),n.prototype.save=function(){return qD(this,void 0,void 0,function(){var n;return BD(this,function(t){switch(t.label){case 0:return this.compareConfigStructuresComponent?(n=this.compareConfigStructuresComponent.getOutputConfig(),[4,this.saveOutputConfigHandler.execute(n)]):[2];case 1:return t.sent(),[2]}})})},Object.defineProperty(n.prototype,"hasConfigPreview",{get:function(){return Fw.hasConfigPreview(this.configType)},enumerable:!0,configurable:!0}),n.prototype.setActiveTab=function(n){for(var t=0,l=this.tabs;t<l.length;t++){var e=l[t];e.isVisible=n===e}},n}(),KD=function(){function n(n,t){this.type=n,this.name=t,this._isRendered=!1,this._isVisible=!1}return Object.defineProperty(n.prototype,"isRendered",{get:function(){return this._isRendered},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this._isVisible},set:function(n){this._isVisible=n,n&&(this._isRendered=!0)},enumerable:!0,configurable:!0}),n}(),WD=function(n){return n[n.structure=0]="structure",n[n.visualizations=1]="visualizations",n[n.legacy=2]="legacy",n}({}),GD=e.sb({encapsulation:0,styles:[[".nav-tabs[_ngcontent-%COMP%]{margin-bottom:1rem}"]],data:{}});function YD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function ZD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,3,"a",[["class","nav-link"],["href","javascript:void(0)"],["id","{{tab.type-tab"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.setActiveTab(n.context.$implicit)&&e),e},null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{active:0}),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n    "]))],function(n,t){n(t,3,0,"nav-link",n(t,4,0,t.context.$implicit.isVisible))},function(n,t){n(t,5,0,t.context.$implicit.name)})}function XD(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"cs-compare-config-structures",[],null,null,null,ND,PD)),e.tb(1,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(2,{display:0}),e.tb(3,114688,[[1,4],["compareConfigStructuresComponent",4]],0,TD,[sR,DL,Bf,Nb,qr,Qr,nh,On],{configs:[0,"configs"],simVersion:[1,"simVersion"],configType:[2,"configType"]},null)],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,l.compareStructure.isVisible?"block":"none")),n(t,3,0,l.configs,l.simVersion,l.configType)},null)}function nN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"cs-compare-config-visualizations",[],null,null,null,HD,JD)),e.tb(1,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(2,{display:0}),e.tb(3,245760,null,0,QD,[Bh,fr,On],{configType:[0,"configType"],configs:[1,"configs"],simVersion:[2,"simVersion"],units:[3,"units"]},null)],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,l.compareVisualizations.isVisible?"block":"none")),n(t,3,0,l.configTypeDefinition,l.configs,l.simVersion,l.simVersionDocumentsResult.units)},null)}function tN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,"cs-compare-config-deprecated",[],null,null,null,dR,cR)),e.tb(1,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(2,{display:0}),e.tb(3,114688,null,0,Kj,[sR,fr,On],{firstTitle:[0,"firstTitle"],first:[1,"first"],secondTitle:[2,"secondTitle"],second:[3,"second"],elementId:[4,"elementId"]},null)],function(n,t){var l=t.component;n(t,1,0,n(t,2,0,l.compareLegacy.isVisible?"block":"none")),n(t,3,0,(null==l.configs[1]?null:l.configs[1].shortName)||"first",null==l.configs[1]?null:l.configs[1].materialized.data,(null==l.configs[0]?null:l.configs[0].shortName)||"second",null==l.configs[0]?null:l.configs[0].materialized.data,"dialog-diff")},null)}function lN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,16,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n\n  "])),(n()(),e.ub(2,0,null,null,4,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,ZD)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,XD)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,nN)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,tN)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,5,0,l.tabs),n(t,9,0,l.compareStructure.isRendered),n(t,12,0,l.compareVisualizations.isRendered),n(t,15,0,l.compareLegacy.isRendered)},null)}function eN(n){return e.Ob(0,[e.Kb(671088640,1,{compareConfigStructuresComponent:0}),(n()(),e.lb(16777216,null,null,1,null,YD)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(4,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(5,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.lb(16777216,null,null,1,null,lN)),e.tb(8,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,!l.isLoaded&&!l.errorMessage),n(t,5,0,l.errorMessage),n(t,8,0,l.isLoaded)},null)}var uN=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},rN=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},iN=function(){function n(n,t){this.dialogManager=n,this.getFriendlyErrorAndLog=t}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},Object.defineProperty(n.prototype,"canSave",{get:function(){return!!this.compareConfigsComponent&&this.compareConfigsComponent.canSave},enumerable:!0,configurable:!0}),n.prototype.save=function(){return uN(this,void 0,void 0,function(){var n;return rN(this,function(t){switch(t.label){case 0:if(!this.compareConfigsComponent)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.compareConfigsComponent.save()];case 2:return t.sent(),this.dismiss(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})})},n.prototype.saveAs=function(){return uN(this,void 0,void 0,function(){var n;return rN(this,function(t){switch(t.label){case 0:if(!this.compareConfigsComponent)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.compareConfigsComponent.saveAs()];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})})},n.prototype.stage=function(){return uN(this,void 0,void 0,function(){var n;return rN(this,function(t){switch(t.label){case 0:if(!this.compareConfigsComponent)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.compareConfigsComponent.stage()];case 2:return t.sent(),this.dismiss(),[3,4];case 3:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,4];case 4:return[2]}})})},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.dialogManager.getSecondary();n&&n instanceof Lb?(this.dialog=n,this.configs=[new Pb(n.secondTitle,this.createBasicStudyInput(n.secondTitle,n.second),void 0),new Pb(n.firstTitle,this.createBasicStudyInput(n.firstTitle,n.first),void 0)]):n&&n instanceof Ab?(this.dialog=n,this.saveOutputConfigHandler=n.saveOutputConfigHandler,this.configs=n.configs):this.dialog=void 0},n.prototype.createBasicStudyInput=function(n,t){return new me(void 0,void 0,void 0,n,t,[],void 0,void 0,!1,void 0)},n}(),oN=e.sb({encapsulation:0,styles:[[""]],data:{}});function sN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","save-output-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.save()&&e),e},null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.dialog.saveOutputButtonText)})}function aN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,sN)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(5,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","save-output-as-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.saveAs()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Save Output As"])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,1,"button",[["class","btn btn-smart btn-secondary"],["id","stage-output-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stage()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Stage Output"])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,t.component.canSave)},null)}function cN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,41,"div",[["class","dialog-container dialog-inner-scroll dialog-almost-full-width"],["id","compare-config-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,38,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,35,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Compare"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,11,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,8,"div",[["class","scroll-area"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(22,0,null,null,1,"cs-compare-configs",[],null,null,null,eN,GD)),e.tb(23,114688,[[1,4],["compareConfigsComponent",4]],0,zD,[qr,Nb,fa,Se,On],{configs:[0,"configs"],configType:[1,"configType"],saveOutputConfigHandler:[2,"saveOutputConfigHandler"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(26,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(27,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(31,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,aN)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(36,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Close"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,23,0,l.configs,l.dialog.configType,l.saveOutputConfigHandler),n(t,27,0,l.errorMessage),n(t,34,0,l.dialog.configType&&e.Eb(t,23).isSafeToSaveOutput)},null)}function dN(n){return e.Ob(0,[e.Kb(671088640,1,{compareConfigsComponent:0}),(n()(),e.lb(16777216,null,null,1,null,cN)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,2,0,t.component.dialog)},null)}var bN=function(){function n(n,t){this.sessionFactory=n,this.dialogManager=t,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.secondaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(n){this.dialog&&this.dialog.resolve(n)},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){var n=this;this.dismiss();var t=this.dialogManager.getSecondary();this.sessionSubscription&&(this.sessionSubscription.unsubscribe(),this.sessionSubscription=void 0),t&&t instanceof nV?(this.isVisible=!0,this.dialog=t,this.session=this.sessionFactory.create(t),this.sessionSubscription=this.session.simVersionSelected.subscribe(function(t){return n.accept(t)})):(this.isVisible=!1,this.session=void 0,this.dialog=void 0)},n}(),fN=function(){function n(){}return n.prototype.create=function(n){return new pN(n)},n}(),pN=function(){function n(n){this.dialog=n,this.simVersionSelected=new e.n}return n.prototype.onSimVersionSelected=function(n){n.promise=this.setSimVersion(n.simVersion)},n.prototype.setSimVersion=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){return this.simVersionSelected.emit(new function(n){this.simVersion=n}(n)),[2]})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),hN=e.sb({encapsulation:0,styles:[["#select-sim-version-dialog[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:inherit;margin:0 auto;position:absolute;left:10px;right:10px;top:10px;bottom:10px;max-width:950px}"]],data:{}});function gN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-select-sim-version",[],null,[[null,"simVersionSelected"]],function(n,t,l){var e=!0;return"simVersionSelected"===t&&(e=!1!==n.component.session.onSimVersionSelected(l)&&e),e},Tr,Sr)),e.tb(1,114688,null,0,vr,[z,H,On],{tenantId:[0,"tenantId"],isTenantSimVersion:[1,"isTenantSimVersion"],currentSimVersion:[2,"currentSimVersion"],selectReleaseMessage:[3,"selectReleaseMessage"],selectDefaultMessage:[4,"selectDefaultMessage"]},{simVersionSelected:"simVersionSelected"})],function(n,t){var l=t.component;n(t,1,0,l.session.dialog.tenantId,l.session.dialog.isTenantSimVersion,l.session.dialog.currentSimVersion,l.session.dialog.selectReleaseMessage,l.session.dialog.selectDefaultMessage)},null)}function yN(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,31,"div",[["class","dialog-container"],["id","select-sim-version-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,28,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,25,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Select Sim Version"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,gN)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(24,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(26,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,21,0,t.component.session)},null)}function mN(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,yN)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var vN,wN,MN=function(){function n(n,t,l){this.name=n,this.simType=t,this.values=l}return Object.defineProperty(n.prototype,"fullName",{get:function(){return this.name+":"+this.simType},enumerable:!0,configurable:!0}),n.prototype.isMonotonic=function(){for(var n=1;n<this.values.length;++n)if(this.values[n-1]>=this.values[n])return!1;return!0},n.prototype.isDecreasingMonotonic=function(){for(var n=1;n<this.values.length;++n)if(this.values[n-1]<=this.values[n])return!1;return!0},n}(),CN=function(){function n(n,t){this.type=n,this.data=t,this.channels={}}return n.prototype.is=function(n){return this.type.toLowerCase()===n.toLowerCase()},n.prototype.setChannel=function(n,t,l){this.channels[this.getFullName(n,t)]=l},n.prototype.getChannel=function(n,t){var l=this.getFullName(n,t),e=this.channels[l];if(!e)throw new Error("Channel not found: "+l);return new MN(n,t,e.slice())},n.prototype.tryGetChannel=function(n,t){var l=this.channels[this.getFullName(n,t)];if(l)return new MN(n,t,l.slice())},n.prototype.getFullName=function(n,t){return n+":"+t},n}(),SN=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),IN=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return SN(t,n),Object.defineProperty(t.prototype,"configType",{get:function(){return this.type},enumerable:!0,configurable:!0}),t.prototype.forEachValue=function(n,t){for(var l=0,e=ON.forPath(this.data,n,!0);l<e.length;l++)t(e[l])},t.prototype.getValues=function(n){return ON.forPath(this.data,n,!0)},t.prototype.getValue=function(n){var t=ON.forPath(this.data,n,!0);if(0!==t.length){if(t.length>1)throw new Error("Multiple results found for path: "+n);return t[0]}},t.prototype.recurseNodes=function(n){xN.execute(this.data,n)},t.prototype.recurseNodesAtPath=function(n,t){for(var l=0,e=ON.forPath(this.data,n,!0);l<e.length;l++)xN.execute(e[l],t)},t}(CN),xN=function(){function n(){}return n.execute=function(n,t){this.inner(n,"",t)},n.inner=function(n,t,l){if(n){var e=function(n,t){return n+(n.length?".":"")+t};if(l(new kN(t,n)),Array.isArray(n))for(var u=0,r=n;u<r.length;u++)this.inner(r[u],t,l);else if("object"==typeof n)for(var i=0,o=Object.keys(n);i<o.length;i++){var s=o[i];this.inner(n[s],e(t,s),l)}}},n}(),ON=function(){function n(){}return n.forPath=function(t,l,e){var u=[],r=l.split(".");return n.inner(t,"",r,u,e),u},n.inner=function(n,t,l,e,u){if(n){var r=function(n,t){return n+(n.length?".":"")+t};if(Array.isArray(n))if(0===l.length&&u)e.push(new kN(t,n));else for(var i=0,o=0,s=n;o<s.length;o++)this.inner(s[o],r(t,""+i),l,e,u),++i;else if("object"==typeof n)if(0===l.length)e.push(new kN(t,n));else for(var a=0,c=l[0].split("|");a<c.length;a++){var d=c[a],b=l.slice(1);this.inner(n[d],r(t,d),b,e,u)}else 0===l.length&&e.push(new kN(t,n))}},n}(),kN=function(n,t){this.path=n,this.value=t},TN=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),PN=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return TN(t,n),Object.defineProperty(t.prototype,"simType",{get:function(){return this.type},enumerable:!0,configurable:!0}),t.prototype.getConfigContext=function(n){if(this.data&&this.data.simConfig){var t=this.data.simConfig[n];if(t)return new IN(n,t)}},t.prototype.getConfigTypes=function(){return this.data&&this.data.simConfig?Object.keys(this.data.simConfig):[]},t}(CN),EN=function(n){return n[n.info=0]="info",n[n.warning=1]="warning",n[n.error=2]="error",n}({}),_N=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},VN=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},jN=function(){function n(n,t,l,e,u,r,i){this.configStub=n,this.studyStub=t,this.getSimVersion=l,this.lintingEngineFactory=e,this.timer=u,this.logError=r,this.getFriendlyErrorAndLog=i,this.ResultStatus=vN,this.RuleLogLevel=EN,this.tasks=[],this.status=vN.pending}return n.prototype.ngOnInit=function(){this.load()},n.prototype.load=function(){return _N(this,void 0,void 0,function(){var n;return VN(this,function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),!this.tenantId)throw new sl("TenantId is required.");if(!this.configData&&!this.configId&&!this.studyId)throw new sl("Either a ConfigId, StudyId or config data is required.");if(this.configData&&!this.configType)throw new sl("A config type must be supplied for a config.");return this.studyId&&!this.jobId&&(this.jobId=Ji(this.studyId,0)),this.loaded=!0,[4,this.timer.yield()];case 1:return t.sent(),this.run(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.run=function(){return _N(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s;return VN(this,function(a){switch(a.label){case 0:return a.trys.push([0,13,,14]),this.tasks=[],this.errorMessage=void 0,this.status=vN.running,this.configId?[4,this.populateConfigTasks()]:[3,2];case 1:return a.sent(),[3,6];case 2:return this.studyId?[4,this.populateStudyTasks()]:[3,4];case 3:return a.sent(),[3,6];case 4:return this.configData?[4,this.populateConfigDataTasks()]:[3,6];case 5:a.sent(),a.label=6;case 6:n=this.lintingEngineFactory.create(this),t=0,l=this.tasks,a.label=7;case 7:if(!(t<l.length))return[3,12];e=l[t],a.label=8;case 8:return a.trys.push([8,10,,11]),e.status=vN.running,u=e,[4,n.execute(e.context)];case 9:for(u.result=a.sent(),r=0,i=e.result.ruleErrors||[];r<i.length;r++)this.logError.execute(i[r]);return e.status=vN.completed,[3,11];case 10:return o=a.sent(),e.status=vN.failed,e.errorMessage=this.getFriendlyErrorAndLog.execute(o),[3,11];case 11:return t++,[3,7];case 12:return this.status=vN.completed,[3,14];case 13:return s=a.sent(),this.status=vN.failed,this.errorMessage=this.getFriendlyErrorAndLog.execute(s),[3,14];case 14:return[2]}})})},n.prototype.toggleDetails=function(n){n.showDetails=!n.showDetails},n.prototype.getConfigTypeName=function(n){var t=kt.get(n);return t?t.titleName:n},n.prototype.populateConfigDataTasks=function(){return _N(this,void 0,void 0,function(){var n;return VN(this,function(t){return n=new IN(this.configType,this.configData),this.tasks.push(new RN(wN.config,this.getConfigTypeName(n.configType),n)),[2]})})},n.prototype.populateConfigTasks=function(){return _N(this,void 0,void 0,function(){var n,t;return VN(this,function(l){switch(l.label){case 0:return[4,this.configStub.getConfig(this.tenantId,this.configId,void 0,this.getSimVersion.currentSimVersion)];case 1:return n=l.sent(),t=new IN(n.config.subType,n.config.data),this.tasks.push(new RN(wN.config,this.getConfigTypeName(t.configType),t)),[2]}})})},n.prototype.populateStudyTasks=function(){return _N(this,void 0,void 0,function(){var n,t,l,e,u,r,i,o,s,a,c;return VN(this,function(d){switch(d.label){case 0:return n=this.getSimVersion.currentSimVersion,[4,this.studyStub.getStudyMetadata(this.tenantId,this.studyId)];case 1:return t=d.sent(),[4,this.studyStub.getStudyJob(this.tenantId,this.studyId,this.jobId,n)];case 2:for(l=d.sent(),this.fileLoader=new Zi(this.studyStub),this.fileLoader.addStudy(this.tenantId,this.studyId,t.accessInformation,n),e=new PN("job",l.studyJobInput),u=0,r=e.getConfigTypes();u<r.length;u++)(c=e.getConfigContext(i=r[u]))&&c.data.constructor===Object&&Object.keys(c.data).length>0&&this.tasks.push(new RN(wN.config,this.getConfigTypeName(i),c));for(o=0,s=l.simTypes;o<s.length;o++)c=new PN(a=s[o],e.data),this.tasks.push(new RN(wN.simulation,a,c));return[2]}})})},n.prototype.loadChannel=function(n,t){return _N(this,void 0,void 0,function(){return VN(this,function(l){switch(l.label){case 0:return this.fileLoader?[4,this.fileLoader.loadChannelDataAndBinaryFormat(this.studyId,so(this.jobId),t,n)]:[2,void 0];case 1:return[2,l.sent()]}})})},n}(),RN=function(){return function(n,t,l){this.executionType=n,this.name=t,this.context=l,this.showDetails=!1,this.status=vN.pending}}();!function(n){n.pending="Pending",n.running="Running",n.completed="Completed",n.failed="Failed"}(vN||(vN={})),function(n){n.config="Config",n.simulation="Simulation"}(wN||(wN={}));var FN=function(){function n(n,t){this.contextDataLoader=n,this.orchestrator=t}return n.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:t=this.orchestrator.getChannels(n),l=0,e=t.channels,i.label=1;case 1:return l<e.length?[4,this.contextDataLoader.loadChannel((u=e[l]).name,u.simType)]:[3,4];case 2:r=i.sent(),n.setChannel(u.name,u.simType,r),i.label=3;case 3:return l++,[3,1];case 4:return[2,this.orchestrator.execute(n)]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),AN=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),LN=function(n){function t(t,l){var e=n.call(this,"Failed to execute "+t+": "+l.message)||this;return e.ruleName=t,e.inner=l,e.stack=(new Error).stack,e}return AN(t,n),t}(Error),DN=function(){function n(n,t,l,e){this.completedRules=n,this.ruleResults=t,this.ruleErrors=l,this.skippedRules=e}return n.prototype.getOrderedRuleResults=function(){return this.ruleResults.slice().sort(n.sort)},n.sort=function(n,t){return n.level>t.level?1:n.level<t.level?-1:n.priority>t.priority?1:n.priority<t.priority?-1:0},n}(),NN=function(n,t,l,e){void 0===e&&(e=0),this.level=n,this.message=t,this.location=l,this.priority=e},UN=function(){function n(){this._logged=[]}return n.prototype.info=function(n,t,l){void 0===l&&(l=0),this._logged.push(new NN(EN.info,n,t,l))},n.prototype.warn=function(n,t,l){void 0===l&&(l=0),this._logged.push(new NN(EN.warning,n,t,l))},n.prototype.error=function(n,t,l){void 0===l&&(l=0),this._logged.push(new NN(EN.error,n,t,l))},n.prototype.assert=function(n,t,l,e){void 0===e&&(e=0),n||this._logged.push(new NN(EN.error,t,l,e))},Object.defineProperty(n.prototype,"logged",{get:function(){return this._logged},enumerable:!0,configurable:!0}),n}(),QN=function(){function n(n){this.registry=n}return n.prototype.execute=function(n){for(var t=[],l=[],e=[],u=[],r=function(r){var i=r.name;try{var o=new r;if(i=o.name,o.canExecute(n)){var s=new UN;o.execute(n,s),t.push.apply(t,s.logged.map(function(n){return new function(n,t,l,e,u){void 0===u&&(u=0),this.ruleName=n,this.level=t,this.message=l,this.location=e,this.priority=u}(i,n.level,n.message,n.location,n.priority)})),e.push(i)}else u.push(i)}catch(n){l.push(new LN(i,n))}},i=0,o=this.registry.rules;i<o.length;i++)r(o[i]);return new DN(e,t,l,u)},n.prototype.getChannels=function(n){for(var t=new Set,l=[],e=[],u=0,r=this.registry.rules;u<r.length;u++){var i=r[u],o=i.name;try{var s=new i;if(o=s.name,s.canExecute(n))for(var a=0,c=s.getChannels(n)||[];a<c.length;a++)t.add(c[a]);else e.push(o)}catch(n){l.push(new LN(o,n))}}return new function(n,t,l){this.channels=n,this.ruleErrors=t,this.skippedRules=l}(Array.from(t),l,e)},n}(),JN="ANY_TARGET",$N=function(){function n(){}return n.prototype.getTargets=function(){return new function(n,t){this.configTypes=n,this.simTypes=t}(this.toArray(this.configTypes),this.toArray(this.simTypes))},n.prototype.evaluateConfig=function(n,t){},n.prototype.getSimChannels=function(n){return[]},n.prototype.evaluateSim=function(n,t){},n.prototype.canExecute=function(n){var t=this.getTargets();return n instanceof IN?t.configTypes.some(function(t){return n.is(t)})||-1!==t.configTypes.indexOf(JN):n instanceof PN&&(t.simTypes.some(function(t){return n.is(t)})||-1!==t.simTypes.indexOf(JN))},n.prototype.execute=function(n,t){if(n instanceof IN&&this.evaluateConfig(n,t),n instanceof PN)return this.evaluateSim(n,t)},n.prototype.getChannels=function(n){return n instanceof PN?this.getSimChannels(n):[]},n.prototype.toArray=function(n){return n?Array.isArray(n)?n:[n]:[]},n}(),HN=function(){function n(){this._rules=[]}return n.prototype.addRule=function(n){if(!$N.isPrototypeOf(n))throw new Error("You can only register classes derived from Rule ("+n.name+")");this._rules.push(n)},Object.defineProperty(n.prototype,"rules",{get:function(){return this._rules},enumerable:!0,configurable:!0}),n}(),qN=function(n,t){this.name=n,this.simType=t},BN=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),zN=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Monotonic Channels",t.configTypes="Telemetry",t.simTypes=JN,t}return BN(t,n),t.prototype.getSimChannels=function(n){return[new qN("vCar",n.simType),new qN("tRun",n.simType),new qN("sRun",n.simType)]},t.prototype.evaluateSim=function(n,t){if((n.is("StraightSim")||n.is("ApexSim"))&&t.assert(n.getChannel("vCar",n.simType).isMonotonic(),"vCar is not monotonic."),n.simType.endsWith("Lap")&&(t.assert(n.getChannel("tRun",n.simType).isMonotonic(),"tRun is not monotonic."),t.assert(n.getChannel("sRun",n.simType).isMonotonic(),"sRun is not monotonic.")),n.is("Telemetry")){var l=n.tryGetChannel("tRun",n.simType);l&&t.assert(l.isMonotonic(),"tRun is not monotonic.");var e=n.tryGetChannel("sRun",n.simType);e&&t.assert(e.isMonotonic(),"sRun is not monotonic.")}},t.prototype.evaluateConfig=function(n,t){if(n.is("telemetry")){var l=[bR.A,bR.t,"timeBase"],e=n.getValue("channels");if(e)for(var u=0,r=e.value;u<r.length;u++){var i=r[u];if(-1!==l.indexOf(i.name)&&i.data&&i.data.length){var o=new MN(i.name,"Telemetry",i.data);t.assert(o.isMonotonic(),i.name+" is not monotonic.")}}}},t}($N),KN=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),WN=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Min/Max",t.configTypes=JN,t.simTypes=null,t}return KN(t,n),t.prototype.evaluateConfig=function(n,t){n.recurseNodes(function(n){for(var l=n.value,e=0,u=Object.keys(l);e<u.length;e++){var r=u[e];if(r.endsWith("Max")){var i=r.substring(0,r.length-3)+"Min",o=l[r],s=l[i];"number"==typeof o&&"number"==typeof s&&o<s&&t.error("Value of "+r+" was less than "+i+" ("+o+" < "+s+").",n.path)}}})},t}($N),GN=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),YN=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Channel NaNs",t.configTypes=null,t.simTypes=JN,t.channels=["gLat","gLong"],t}return GN(t,n),t.prototype.getSimChannels=function(n){return this.channels.map(function(t){return new qN(t,n.simType)})},t.prototype.evaluateSim=function(n,t){for(var l=0,e=this.channels;l<e.length;l++)this.evaluateChannel(n.tryGetChannel(e[l],n.simType),t)},t.prototype.evaluateChannel=function(n,t){n&&n.values.some(function(n){return isNaN(n)})&&t.error("Channel "+n.fullName+" contains NaNs.")},t}($N),ZN=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),XN=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Air Temperature",t.configTypes="weather",t.simTypes=null,t}return ZN(t,n),t.prototype.evaluateConfig=function(n,t){var l=n.getValue("TAir");l&&(l.value>60?t.warn("Air temperature is unusually hot: "+l.value+" \u2103",l.path):l.value<-60&&t.warn("Air temperature is unusually cold: "+l.value+" \u2103",l.path))},t}($N),nU=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),tU=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Map Verification",t.configTypes="car",t.simTypes=null,t}return nU(t,n),t.prototype.evaluateConfig=function(n,t){for(var l=0,e=n.getValues("powertrain.electric.electricMotors.harvestIndependence");l<e.length;l++){var u=(s=e[l]).value.MHarvestOutputs||s.value.PHarvestOutputs;if(u&&Array.isArray(u))for(var r=1;r<u.length-1;++r)u[r]>2*u[r-1]&&u[r]>2*u[r+1]&&t.error("Harvest map outputs are lumpy.",s.path)}for(var i=0,o=n.getValues("powertrain.electric.electricMotors.deployment");i<o.length;i++){var s,a=(s=o[i]).value.MMotorMapData;if(a&&Array.isArray(a)&&a.length){var c=a[a.length-1];c&&Array.isArray(c)&&c.length&&0===c[c.length-1]&&t.error("Deployment motor map ends with zero MMotor.",s.path)}}},t}($N),lU=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),eU=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Prefer Tables To RBFs",t.configTypes="car",t.simTypes=null,t}return lU(t,n),t.prototype.evaluateConfig=function(n,t){var l=n.getValue("powertrain.engine.MEngineMapData");l&&Array.isArray(l.value)&&t.warn('RBF engine map detected. Using "Table of MEngine values" is more robust.',l.path)},t}($N),uU=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),rU=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Track Start Finish Offset",t.configTypes="track",t.simTypes=null,t}return uU(t,n),t.prototype.evaluateConfig=function(n,t){var l=n.getValue("startFinishOffset"),e=n.getValue("centreLine.sLapCentreLine"),u=n.getValue("racingLine.sLap");this.evaluateConfigForPath(e,"centre line",l,t),this.evaluateConfigForPath(u,"racing line",l,t)},t.prototype.evaluateConfigForPath=function(n,t,l,e){if(l&&n&&n.value.length){var u=l.value,r=n.value[n.value.length-1];u>r?e.warn("Start/finish offset "+u+" is greater than "+t+" distance "+r+".",l.path):u<-r&&e.warn("Start/finish offset "+u+" is less than than negative "+t+" distance "+r+".",l.path)}},t}($N),iU=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),oU=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Track Repeated Values",t.configTypes="track",t.simTypes=null,t}return iU(t,n),t.prototype.evaluateConfig=function(n,t){n.recurseNodes(function(n){var l=n.value;if(Array.isArray(l)&&l.every(function(n){return Xt(n)})){var e=l,u=e[0];if(!e.every(function(n){return n===u})){var r,i=12.5;do{i*=2,r=e.slice(0,Math.min(i,e.length))}while(r.every(function(n){return n===r[0]}));for(var o=i;o<=e.length-i;++o){for(var s=!0,a=0;a<i;++a)if(r[a]!==e[o+a]){s=!1;break}if(s){t.warn("Array may be repeating at index "+o+" (total length "+e.length+".",n.path);break}}}}})},t}($N),sU=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),aU=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="Track Swapped Left/Right",t.configTypes="track",t.simTypes=null,t}return sU(t,n),t.prototype.evaluateConfig=function(n,t){var l=n.getValue("trackOutline.xTrackEdgeLeft"),e=n.getValue("trackOutline.yTrackEdgeLeft"),u=n.getValue("trackOutline.xTrackEdgeRight"),r=n.getValue("trackOutline.yTrackEdgeRight");if(l&&e&&u&&r){var i=l.value,o=e.value,s=u.value,a=r.value;if(!(i.length<2||o.length<2||s.length<2||a.length<2)){var c=s[0],d=a[0];(i[0]-c)*(a[1]-d)-(o[0]-d)*(s[1]-c)>0&&t.warn("Track outline left and right edges may need to be swapped.")}}},t}($N),cU=function(){function n(){}return n.prototype.create=function(){var n=new HN;return n.addRule(XN),n.addRule(YN),n.addRule(tU),n.addRule(WN),n.addRule(zN),n.addRule(eU),n.addRule(rU),n.addRule(oU),n.addRule(aU),n},n}(),dU=function(){function n(){}return n.prototype.create=function(n){var t=(new cU).create();return new FN(n,new QN(t))},n}(),bU=function(){function n(n){this.ravenWrapper=n}return n.prototype.execute=function(n){try{n.isFromApi||n.isInputValidationError||n.isDisplayable?console.log(n.message):(console.error(n),n&&n.message&&0===n.message.status||this.ravenWrapper.error(n))}catch(n){console.log("Failed to log error")}},n}(),fU=e.sb({encapsulation:0,styles:[['.linting-engine-runner[_ngcontent-%COMP%]   .task-status[_ngcontent-%COMP%], .linting-engine-runner[_ngcontent-%COMP%]   .task-type[_ngcontent-%COMP%]{color:gray;margin-left:.5rem}.linting-engine-runner[_ngcontent-%COMP%]   .rule-alert[_ngcontent-%COMP%]{position:relative}.linting-engine-runner[_ngcontent-%COMP%]   .rule-alert[_ngcontent-%COMP%]   .result-name[_ngcontent-%COMP%]{position:absolute;top:.2rem;right:.4rem;font-size:.8rem;opacity:.75}.linting-engine-runner[_ngcontent-%COMP%]   .rule-alert[_ngcontent-%COMP%]   .result-name[_ngcontent-%COMP%]:before{content:"Rule Name: ";opacity:.5}.linting-engine-runner[_ngcontent-%COMP%]   .rule-alert[_ngcontent-%COMP%]   .result-location[_ngcontent-%COMP%]{position:absolute;bottom:.2rem;right:.4rem;font-size:.8rem;opacity:.75}.linting-engine-runner[_ngcontent-%COMP%]   .rule-alert[_ngcontent-%COMP%]   .result-location[_ngcontent-%COMP%]:before{content:"Location: ";opacity:.5}.linting-engine-runner[_ngcontent-%COMP%]   .rules-section[_ngcontent-%COMP%]{margin-top:1rem}.linting-engine-runner[_ngcontent-%COMP%]   .rule-box[_ngcontent-%COMP%]{display:inline-block;margin-right:.5rem;margin-bottom:.5rem;background-color:#eee;border-radius:3px;padding:.2rem .5rem}']],data:{}});function pU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function hU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(2,null,["",""])),(n()(),e.Mb(-1,null,[" rule(s) failed to run."]))],null,function(n,t){n(t,2,0,t.parent.parent.parent.context.$implicit.result.ruleErrors.length)})}function gU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          Nothing to report.\n        "]))],null,null)}function yU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","result-location"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.location)})}function mU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,15,"div",[["class","rules-section"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,12,"div",[["class","alert rule-alert"]],null,null,null,null,null)),e.tb(3,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(4,{"alert-info":0,"alert-warning":1,"alert-danger":2}),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(6,0,null,null,1,"span",[["class","result-name"]],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(9,0,null,null,1,"span",[["class","result-message"]],null,null,null,null,null)),(n()(),e.Mb(10,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,yU)),e.tb(13,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,"alert rule-alert",n(t,4,0,t.context.$implicit.level===l.RuleLogLevel.info,t.context.$implicit.level===l.RuleLogLevel.warning,t.context.$implicit.level==l.RuleLogLevel.error)),n(t,13,0,t.context.$implicit.location)},function(n,t){n(t,7,0,t.context.$implicit.ruleName),n(t,10,0,t.context.$implicit.message)})}function vU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary btn-sm"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleDetails(n.parent.parent.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(-1,null,["Show more..."]))],null,null)}function wU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","alert alert-danger rule-alert"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,1,"span",[["class","result-name"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(5,0,null,null,1,"span",[["class","result-message"]],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],null,function(n,t){n(t,3,0,t.context.$implicit.ruleName),n(t,6,0,t.context.$implicit.message)})}function MU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","rules-section"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Failed to Run"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,wU)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,6,0,t.parent.parent.parent.parent.context.$implicit.result.ruleErrors)},null)}function CU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","rule-box"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function SU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","rules-section"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Completed"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,CU)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,6,0,t.parent.parent.parent.parent.context.$implicit.result.completedRules)},null)}function IU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","rule-box"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function xU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","rules-section"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Skipped"])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,IU)),e.tb(6,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,6,0,t.parent.parent.parent.parent.context.$implicit.result.skippedRules)},null)}function OU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,MU)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,SU)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,xU)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,3,0,t.parent.parent.parent.context.$implicit.result.ruleErrors.length),n(t,6,0,t.parent.parent.parent.context.$implicit.result.completedRules.length),n(t,9,0,t.parent.parent.parent.context.$implicit.result.skippedRules.length)},null)}function kU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,25,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,10,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,[" rule(s) completed,\n          "])),(n()(),e.ub(7,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.Mb(-1,null,[" skipped.\n          "])),(n()(),e.lb(16777216,null,null,1,null,hU)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,gU)),e.tb(15,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,mU)),e.tb(18,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,vU)),e.tb(21,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,OU)),e.tb(24,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){n(t,11,0,t.parent.parent.context.$implicit.result.ruleErrors.length),n(t,15,0,!t.parent.parent.context.$implicit.result.ruleResults.length),n(t,18,0,t.parent.parent.context.$implicit.result.getOrderedRuleResults()),n(t,21,0,!t.parent.parent.context.$implicit.showDetails),n(t,24,0,t.parent.parent.context.$implicit.showDetails)},function(n,t){n(t,5,0,t.parent.parent.context.$implicit.result.completedRules.length),n(t,8,0,t.parent.parent.context.$implicit.result.skippedRules.length)})}function TU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,pU)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n      "])),(n()(),e.lb(16777216,null,null,1,null,kU)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,3,0,t.parent.context.$implicit.errorMessage),n(t,6,0,t.parent.context.$implicit.status===l.ResultStatus.running),n(t,9,0,t.parent.context.$implicit.result)},null)}function PU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","task-container card"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,7,"h1",[["class","card-header"]],null,null,null,null,null)),(n()(),e.Mb(3,null,["\n      ","\n      "])),(n()(),e.ub(4,0,null,null,1,"span",[["class","task-type"]],null,null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(7,0,null,null,1,"span",[["class","task-status"]],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.lb(16777216,null,null,1,null,TU)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){n(t,12,0,t.context.$implicit.status!==t.component.ResultStatus.pending)},function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.name),n(t,5,0,t.context.$implicit.executionType),n(t,8,0,t.context.$implicit.status===l.ResultStatus.completed?"":t.context.$implicit.status)})}function EU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function _U(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"div",[["class","linting-engine-runner"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(3,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,PU)),e.tb(7,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.lb(16777216,null,null,1,null,EU)),e.tb(10,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.errorMessage),n(t,7,0,l.tasks),n(t,10,0,l.status===l.ResultStatus.running)},null)}var VU=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),jU=function(n){function t(t,l,e){return n.call(this,t,l,l.secondaryChanged,e)||this}return VU(t,n),t.prototype.getCurrentDialog=function(){var n=this.dialogManager.getSecondary();if(n&&n instanceof Os)return n},t}(zR),RU=function(){function n(){}return n.prototype.create=function(n,t){return new FU(t)},n}(),FU=function(){function n(n){this.dialog=n,this.jobIndex=0,this.dialog.jobId&&(this.jobIndex=so(this.dialog.jobId))}return n.prototype.load=function(){return Promise.resolve()},n}(),AU=e.sb({encapsulation:0,styles:[[""]],data:{}});function LU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n            Job Index ","\n          "]))],null,function(n,t){n(t,1,0,t.component.session.jobIndex)})}function DU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function NU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(4,0,null,null,1,"cs-linting-engine-runner",[],null,null,null,_U,fU)),e.tb(5,114688,null,0,jN,[Q,q,Nb,dU,fr,bU,On],{tenantId:[0,"tenantId"],configId:[1,"configId"],configData:[2,"configData"],configType:[3,"configType"],studyId:[4,"studyId"],jobId:[5,"jobId"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,5,0,l.session.dialog.tenantId,l.session.dialog.documentId,l.session.dialog.configData,l.session.dialog.configType,l.session.dialog.studyId,l.session.dialog.jobId)},null)}function UU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,40,"div",[["class","dialog-container"],["id","linting-engine-runner-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,37,"div",[["class","modal-dialog modal-dialog-wide"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,34,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,13,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,4,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["\n          ","Analysis\n          "])),(n()(),e.lb(16777216,null,null,1,null,LU)),e.tb(11,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(14,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(21,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(23,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(24,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,DU)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,NU)),e.tb(30,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(33,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(35,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Close"])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,11,0,l.session.dialog.studyId),n(t,24,0,l.errorMessage),n(t,27,0,!l.session),n(t,30,0,l.session)},function(n,t){var l=t.component;n(t,9,0,l.session&&l.session.dialog.studyId?"Job ":"Config ")})}function QU(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,UU)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var JU=function(){function n(n,t){this.sessionFactory=n,this.dialogManager=t}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.tertiaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.dialogManager.getTertiary();n&&n instanceof Js?(this.dialog=n,this.session=this.sessionFactory.create(n),this.session.load()):(this.session=void 0,this.dialog=void 0)},n}(),$U=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},HU=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},qU=function(){function n(n,t,l,e,u,r,i,o){this.formBuilder=n,this.supportSessionStub=t,this.studyStub=l,this.studyUtilities=e,this.formSubmissionHandler=u,this.createUserInformationMaps=r,this.documentUpdatedEventService=i,this.getFriendlyErrorAndLog=o}return n.prototype.create=function(n){return new BU(n,this.formBuilder,this.supportSessionStub,this.studyStub,this.studyUtilities,this.formSubmissionHandler,this.createUserInformationMaps,this.documentUpdatedEventService,this.getFriendlyErrorAndLog)},n}(),BU=function(){function n(n,t,l,e,u,r,i,o,s){this.dialog=n,this.formBuilder=t,this.supportSessionStub=l,this.studyStub=e,this.studyUtilities=u,this.formSubmissionHandler=r,this.createUserInformationMaps=i,this.documentUpdatedEventService=o,this.getFriendlyErrorAndLog=s,this.openSupportSessionButton=new ll("Open Support Session","Opening..."),this.updateSupportSessionButton=new ll("Update Support Session","Updating..."),this.reopenSupportSessionButton=new ll("Reopen Support Session","Opening..."),this.closeSupportSessionButton=new ll("Close Support Session","Closing..."),this.message=new Zt.f("",[Zt.w.required]),this.areWarningsUnrelated=new Zt.f(!0,[Zt.w.requiredTrue]),this.hasFormSubmissionBeenAttempted=!1,this.tenantId=n.tenantId,this.documentId=n.documentId}return n.prototype.load=function(){return $U(this,void 0,void 0,function(){var n,t;return HU(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),this.form=this.formBuilder.group({message:this.message,areWarningsUnrelated:this.areWarningsUnrelated}),this.errorMessage=void 0,this.dialog.loadedSession?(this.data=this.dialog.loadedSession,[3,3]):[3,1];case 1:return n=this,[4,this.supportSessionStub.getSupportSession(this.dialog.tenantId,this.dialog.documentId)];case 2:n.data=l.sent(),l.label=3;case 3:return this.dialog.dismissData=this.data,this.processSupportSession(),[3,5];case 4:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,5];case 5:return[2]}})})},Object.defineProperty(n.prototype,"isLoaded",{get:function(){return!!this.data&&!!this.submitButton},enumerable:!0,configurable:!0}),n.prototype.updateAndOpen=function(){return this.updateAndSetStatus(!1)},n.prototype.updateAndClose=function(){return this.updateAndSetStatus(!0)},n.prototype.updateAndKeepStatus=function(){return this.updateAndSetStatus(void 0)},n.prototype.updateAndSetStatus=function(n){return $U(this,void 0,void 0,function(){var t;return HU(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),this.errorMessage=void 0,[4,this.supportSessionStub.putSupportSession(this.tenantId,this.documentId,{message:this.message.value,isClosed:n})];case 1:return l.sent(),this.documentUpdatedEventService.emit(this.dialog.tenantId,this.dialog.documentId),this.message.setValue("",{}),this.form.markAsPristine(),[4,this.refreshSupportSession()];case 2:return l.sent(),[3,4];case 3:return t=l.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(t),[3,4];case 4:return[2]}})})},n.prototype.refreshSupportSession=function(){return $U(this,void 0,void 0,function(){var n;return HU(this,function(t){switch(t.label){case 0:return this.data=void 0,n=this,[4,this.supportSessionStub.getSupportSession(this.dialog.tenantId,this.dialog.documentId)];case 1:return n.data=t.sent(),this.dialog.dismissData=this.data,this.processSupportSession(),[2]}})})},n.prototype.processSupportSession=function(){return $U(this,void 0,void 0,function(){return HU(this,function(n){switch(n.label){case 0:return this.map=this.createUserInformationMaps.execute(this.data.userInformation),this.data.session?[3,2]:[4,this.loadNewSupportSessionData()];case 1:return n.sent(),this.submitButton=this.openSupportSessionButton,[3,3];case 2:this.submitButton=this.data.session.isOpen?this.updateSupportSessionButton:this.reopenSupportSessionButton,n.label=3;case 3:return[2]}})})},n.prototype.loadNewSupportSessionData=function(){return $U(this,void 0,void 0,function(){var n,t;return HU(this,function(l){switch(l.label){case 0:return this.dialog.documentType!==pn.study?[2]:[4,this.studyStub.getStudyMetadata(this.tenantId,this.documentId)];case 1:return n=l.sent(),[4,this.studyUtilities.downloadWarnings(this.tenantId,this.documentId,Ji(this.documentId,0),n.accessInformation.jobs[0].url+"0/",n.accessInformation)];case 2:return t=l.sent(),this.warnings=t?t.split("\n"):[],this.warnings.length&&this.areWarningsUnrelated.setValue(!1,{}),[2]}})})},n.prototype.onSubmitAndOpen=function(){return $U(this,void 0,void 0,function(){return HU(this,function(n){switch(n.label){case 0:return this.data&&this.data.session&&this.data.session.isOpen?[4,this.formSubmissionHandler.execute(this.updateAndKeepStatus,this.form,this.submitButton,this)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.formSubmissionHandler.execute(this.updateAndOpen,this.form,this.submitButton,this)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},n.prototype.onSubmitAndClose=function(){return $U(this,void 0,void 0,function(){return HU(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.updateAndClose,null,this.closeSupportSessionButton,this)];case 1:return n.sent(),[2]}})})},n}(),zU=e.sb({encapsulation:0,styles:[['#support-session-dialog[_ngcontent-%COMP%]   .view-configs-component[_ngcontent-%COMP%]{margin-bottom:.9375rem}#support-session-dialog[_ngcontent-%COMP%]   .session-status-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{text-align:center}#support-session-dialog[_ngcontent-%COMP%]   .support-message-input[_ngcontent-%COMP%]{min-height:16rem;font-family:Menlo,Monaco,Consolas,"Courier New",monospace}#support-session-dialog[_ngcontent-%COMP%]   .session-container[_ngcontent-%COMP%]{margin-top:2rem}#support-session-dialog[_ngcontent-%COMP%]   .session-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-weight:700;margin-right:2rem;font-size:.9rem}#support-session-dialog[_ngcontent-%COMP%]   .session-container[_ngcontent-%COMP%]   .tenant-name[_ngcontent-%COMP%]{margin-right:2rem;color:#888;font-size:.9rem}#support-session-dialog[_ngcontent-%COMP%]   .session-container[_ngcontent-%COMP%]   .response-date[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:.9375rem;color:#888;font-size:.9rem}#support-session-dialog[_ngcontent-%COMP%]   .session-container[_ngcontent-%COMP%]   .response-title[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.25rem}#support-session-dialog[_ngcontent-%COMP%]   .session-container[_ngcontent-%COMP%]   .response-message[_ngcontent-%COMP%]{margin-bottom:0;white-space:pre-wrap;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:.8rem}']],data:{}});function KU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Support Session"]))],null,null)}function WU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Open Support Session"]))],null,null)}function GU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function YU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","alert alert-info"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(4,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                By opening a support session you are granting Canopy Simulations\n                permission to access this study, config or worksheet and any data it contains.\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(7,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                You may revoke this permission at any time by closing the support session.\n              "])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "]))],null,null)}function ZU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Support Session Open"]))],null,null)}function XU(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-success"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Support Session Closed"]))],null,null)}function nQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","session-status-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,ZU)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,XU)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){var l=t.component;n(t,3,0,l.session.data.session.isOpen),n(t,6,0,!l.session.data.session.isOpen)},null)}function tQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                A message is required to help us understand your issue.\n              "]))],null,null)}function lQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function eQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                Please confirm these warnings are unrelated to your issue.\n              "]))],null,null)}function uQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,26,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Warnings (from first job)"])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.lb(16777216,null,null,1,null,lQ)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n\n              "])),(n()(),e.ub(11,0,null,null,11,"div",[["class","form-group last-item"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(13,0,null,null,5,"input",[["formControlName","areWarningsUnrelated"],["id","are-warnings-unrelated-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,t,l){var u=!0;return"change"===t&&(u=!1!==e.Eb(n,14).onChange(l.target.checked)&&u),"blur"===t&&(u=!1!==e.Eb(n,14).onTouched()&&u),u},null,null)),e.tb(14,16384,null,0,Zt.b,[e.H,e.l],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.b]),e.tb(16,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(18,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(20,0,null,null,1,"label",[["for","are-warnings-unrelated-input"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["I confirm that addressing these warnings does not resolve my issue."])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,eQ)),e.tb(25,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "]))],function(n,t){var l=t.component;n(t,8,0,l.session.warnings),n(t,16,0,"areWarningsUnrelated"),n(t,25,0,l.session.hasFormSubmissionBeenAttempted&&l.session.areWarningsUnrelated.hasError("required"))},function(n,t){n(t,13,0,e.Eb(t,18).ngClassUntouched,e.Eb(t,18).ngClassTouched,e.Eb(t,18).ngClassPristine,e.Eb(t,18).ngClassDirty,e.Eb(t,18).ngClassValid,e.Eb(t,18).ngClassInvalid,e.Eb(t,18).ngClassPending)})}function rQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"],["id","support-session-close-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.session.onSubmitAndClose()&&e),e},null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.session.closeSupportSessionButton.text)})}function iQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,20,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(2,0,null,null,14,"div",[["class","response-title"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(4,0,null,null,4,"span",[["class","username"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n                  "])),(n()(),e.ub(6,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(10,0,null,null,1,"span",[["class","tenant-name"]],null,null,null,null,null)),(n()(),e.Mb(11,null,["\n                  ","\n                "])),(n()(),e.Mb(-1,null,["\n                "])),(n()(),e.ub(13,0,null,null,2,"span",[["class","response-date"]],null,null,null,null,null)),(n()(),e.Mb(14,null,["\n                  ","\n                "])),e.Ib(15,1),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(18,0,null,null,1,"pre",[["class","response-message"]],null,null,null,null,null)),(n()(),e.Mb(19,null,["",""])),(n()(),e.Mb(-1,null,["\n            "]))],null,function(n,t){var l=t.component;n(t,6,0,e.wb(1,"mailto:",l.session.map.users[t.context.$implicit.userId].email,"")),n(t,7,0,l.session.map.users[t.context.$implicit.userId].username),n(t,11,0,l.session.map.tenants[t.context.$implicit.tenantId].shortName),n(t,14,0,e.Nb(t,14,0,n(t,15,0,e.Eb(t.parent.parent.parent.parent,0),t.context.$implicit.creationDate))),n(t,19,0,t.context.$implicit.message)})}function oQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","session-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,iQ)),e.tb(3,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n          "]))],function(n,t){n(t,3,0,t.component.session.data.session.responses)},null)}function sQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,46,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.lb(16777216,null,null,1,null,YU)),e.tb(3,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,nQ)),e.tb(6,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n\n          "])),(n()(),e.ub(8,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,10).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,10).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.session.onSubmitAndOpen()&&u),u},null,null)),e.tb(9,16384,null,0,Zt.y,[],null,null),e.tb(10,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(12,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(14,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(16,0,null,null,1,"label",[["for","support-message-input"]],null,null,null,null,null)),(n()(),e.Mb(17,null,["",""])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(19,0,null,null,5,"textarea",[["class","form-control support-message-input"],["formControlName","message"],["id","support-message-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,20)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,20).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,20)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,20)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(20,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(22,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(24,16384,null,0,Zt.q,[[4,Zt.p]],null,null),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,tQ)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.lb(16777216,null,null,1,null,uQ)),e.tb(31,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n            "])),(n()(),e.ub(33,0,null,null,8,"p",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.ub(35,0,null,null,2,"button",[["class","btn btn-secondary"],["id","support-session-submit-button"],["type","submit"]],null,null,null,null,null)),(n()(),e.ub(36,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Mb(37,null,["",""])),(n()(),e.Mb(-1,null,["\n              "])),(n()(),e.lb(16777216,null,null,1,null,rQ)),e.tb(40,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.lb(16777216,null,null,1,null,oQ)),e.tb(45,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "]))],function(n,t){var l=t.component;n(t,3,0,!l.session.data.session),n(t,6,0,l.session.data.session),n(t,10,0,l.session.form),n(t,22,0,"message"),n(t,27,0,!l.session.message.pristine&&l.session.message.hasError("required")),n(t,31,0,l.session.warnings&&l.session.warnings.length&&(!l.session.data.session||!l.session.data.session.responses.length)),n(t,40,0,null==l.session.data?null:null==l.session.data.session?null:l.session.data.session.isOpen),n(t,45,0,l.session.data.session)},function(n,t){var l=t.component;n(t,8,0,e.Eb(t,12).ngClassUntouched,e.Eb(t,12).ngClassTouched,e.Eb(t,12).ngClassPristine,e.Eb(t,12).ngClassDirty,e.Eb(t,12).ngClassValid,e.Eb(t,12).ngClassInvalid,e.Eb(t,12).ngClassPending),n(t,17,0,l.session.data.session?"Message":"Issue Description"),n(t,19,0,e.Eb(t,24).ngClassUntouched,e.Eb(t,24).ngClassTouched,e.Eb(t,24).ngClassPristine,e.Eb(t,24).ngClassDirty,e.Eb(t,24).ngClassValid,e.Eb(t,24).ngClassInvalid,e.Eb(t,24).ngClassPending),n(t,37,0,l.session.submitButton.text)})}function aQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,35,"div",[["class","dialog-container dialog-content-width"],["id","support-session-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,32,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,29,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,13,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,KU)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,WU)),e.tb(12,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(14,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(16,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(21,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(23,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(24,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,GU)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,sQ)),e.tb(30,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,9,0,!l.session.isLoaded||l.session.data.session),n(t,12,0,l.session.isLoaded&&!l.session.data.session),n(t,24,0,l.session.errorMessage),n(t,27,0,!l.session.isLoaded),n(t,30,0,l.session.isLoaded)},null)}function cQ(n){return e.Ob(0,[e.Gb(0,Ds,[qn]),(n()(),e.lb(16777216,null,null,1,null,aQ)),e.tb(2,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,2,0,t.component.session)},null)}var dQ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},bQ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},fQ=function(){function n(n,t,l){this.sessionFactory=n,this.dialogManager=t,this.getFriendlyErrorAndLog=l,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.tertiaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(n){return dQ(this,void 0,void 0,function(){var t,l;return bQ(this,function(e){switch(e.label){case 0:if(!(t=this.dialog))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.session.saveUnits(n)];case 2:return e.sent(),t.resolve(new Gf(n)),[3,4];case 3:return l=e.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(l),[3,4];case 4:return[2]}})})},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.load=function(){return dQ(this,void 0,void 0,function(){var n;return bQ(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.session.load()];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.cssSanitize=function(n){return or(n)},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.dialogManager.getTertiary();n&&n instanceof Wf?(this.errorMessage=void 0,this.isVisible=!0,this.dialog=n,this.session=this.sessionFactory.create(this.dialog),this.load()):(this.isVisible=!1,this.dialog=void 0)},n}(),pQ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},hQ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},gQ=function(){function n(n,t){this.identity=n,this.userSettings=t}return n.prototype.create=function(n){return new yQ(n,this.identity,this.userSettings)},n}(),yQ=function(){function n(n,t,l){this.dialog=n,this.identity=t,this.userSettings=l}return n.prototype.load=function(){return pQ(this,void 0,void 0,function(){return hQ(this,function(n){return this.allUnits=$f.a.getAlternativeUnits(this.dialog.currentUnits).filter(function(n){return!!n}),this.allUnits.length||this.allUnits.push(this.dialog.currentUnits),[2]})})},n.prototype.saveUnits=function(n){return pQ(this,void 0,void 0,function(){var t,l=this;return hQ(this,function(e){switch(e.label){case 0:this.isSaving=!0,e.label=1;case 1:return e.trys.push([1,,3,4]),t=this.identity.get(),[4,this.userSettings.update(t.tenantId,t.userId,function(t){var e=t.settings.channels.find(function(n){return n.name===l.dialog.channelName});if(n)e?e.units=n:t.settings.channels.push({name:l.dialog.channelName,units:n});else if(e){var u=t.settings.channels.indexOf(e);t.settings.channels.splice(u,1)}})];case 2:return e.sent(),[3,4];case 3:return this.isSaving=!1,[7];case 4:return[2]}})})},n}(),mQ=e.sb({encapsulation:0,styles:[["#set-channel-units-dialog[_ngcontent-%COMP%]   .units-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.25rem}"]],data:{}});function vQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(1,49152,null,0,a,[],null,null)],null,null)}function wQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.accept(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(1,null,["\n              ","\n            "]))],null,function(n,t){n(t,0,0,e.wb(2,"btn btn-secondary units-button-index-",t.context.index," units-button-",t.component.cssSanitize(t.context.$implicit),"")),n(t,1,0,"()"===t.context.$implicit?"-":t.context.$implicit)})}function MQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n\n          "])),(n()(),e.ub(2,0,null,null,7,"div",[["class","units-options"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,wQ)),e.tb(5,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(7,0,null,null,1,"button",[["class","btn btn-secondary units-button-default"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.accept(void 0)&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n              Use Default Units\n            "])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n\n        "]))],function(n,t){n(t,5,0,t.component.session.allUnits)},null)}function CQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function SQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,37,"div",[["class","dialog-container"],["id","set-channel-units-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,34,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,31,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h1",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["Select "," Units"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,13,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(21,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(23,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(24,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,vQ)),e.tb(27,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,MQ)),e.tb(30,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,CQ)),e.tb(34,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,21,0,l.errorMessage),n(t,24,0,l.session.errorMessage),n(t,27,0,l.session.isSaving),n(t,30,0,!l.session.isSaving),n(t,34,0,!l.session.isSaving)},function(n,t){n(t,9,0,t.component.dialog.channelName)})}function IQ(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,SQ)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var xQ=function(){function n(n){this.dialogManager=n,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.tertiaryChanged.subscribe(function(){return n.dialogManagerChanged()})},Object.defineProperty(n.prototype,"showDismissButton",{get:function(){var n=this;return!(!this.dismissMessage||!this.acceptMessages.every(function(t){return t!==n.dismissMessage}))},enumerable:!0,configurable:!0}),n.prototype.accept=function(n){this.confirmationDialog&&this.confirmationDialog.resolve(n)},n.prototype.dismiss=function(){this.confirmationDialog&&this.confirmationDialog.dismiss()},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.dialogManager.getTertiary();n&&n instanceof de?(this.isVisible=!0,this.confirmationDialog=n,this.message=this.confirmationDialog.message||"Please confirm.",this.title=this.confirmationDialog.title||"Canopy Simulations",this.acceptMessages=this.confirmationDialog.acceptMessages||["OK"],this.dismissMessage=this.confirmationDialog.dismissMessage||"Cancel",this.warnings=this.confirmationDialog.warnings||[],this.errors=this.confirmationDialog.errors||[]):(this.isVisible=!1,this.confirmationDialog=void 0)},n.prototype.cssSanitize=function(n){return or(n)},n}(),OQ=e.sb({encapsulation:2,styles:[],data:{}});function kQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n          ","\n        "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function TQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["\n          ","\n        "]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function PQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.dismissMessage)})}function EQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["type","button"]],[[8,"id",0],[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.accept(n.context.$implicit)&&e),e},null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,t){var l=t.component;n(t,0,0,e.wb(1,"dialog-accept-button",l.acceptMessages.length>1?"-"+l.cssSanitize(t.context.$implicit):"",""),e.wb(1,"btn btn-primary dialog-accept-button-index-",t.context.index,"")),n(t,1,0,t.context.$implicit)})}function _Q(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,40,"div",[["class","dialog-container"],["id","confirmation-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,37,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,34,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,10,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(20,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(21,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,kQ)),e.tb(24,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,TQ)),e.tb(27,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(30,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,PQ)),e.tb(33,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n        "])),(n()(),e.lb(16777216,null,null,1,null,EQ)),e.tb(36,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,24,0,l.errors),n(t,27,0,l.warnings),n(t,33,0,l.showDismissButton),n(t,36,0,l.acceptMessages)},function(n,t){var l=t.component;n(t,9,0,l.title),n(t,21,0,l.message)})}function VQ(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,_Q)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var jQ=function(){function n(n){if(this.el=n,!n.nativeElement.focus)throw new Error("Element does not accept focus.")}return n.prototype.ngOnInit=function(){var n=this;setTimeout(function(){var t=n.el.nativeElement;t.focus(),t.select()})},n}(),RQ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},FQ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},AQ=function(){function n(n,t,l,e,u,r){this.dialogManager=n,this.formSubmissionHandler=t,this.canopyAutocomplete=l,this.formBuilder=e,this.timer=u,this.getFriendlyErrorAndLog=r,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.tertiaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.onSubmit=function(){return RQ(this,void 0,void 0,function(){return FQ(this,function(n){switch(n.label){case 0:return[4,this.formSubmissionHandler.execute(this.submit,this.form,this.submitButton,this)];case 1:return n.sent(),[2]}})})},n.prototype.submit=function(){return RQ(this,void 0,void 0,function(){var n;return FQ(this,function(t){switch(t.label){case 0:return this.promptDialog?(n=this.value.value,this.promptDialog.submitAction?[4,this.promptDialog.submitAction(n)]:[3,2]):[3,3];case 1:n=t.sent(),t.label=2;case 2:this.promptDialog.resolve(n),t.label=3;case 3:return[2]}})})},n.prototype.dismiss=function(){this.promptDialog&&this.promptDialog.dismiss()},n.prototype.dialogManagerChanged=function(){this.dismiss();var n=this.dialogManager.getTertiary();n&&n instanceof pC?(this.isVisible=!0,this.errorMessage=void 0,this.promptDialog=n,this.message=this.promptDialog.message||"Value",this.title=this.promptDialog.title||"Canopy Simulations",this.acceptMessage=this.promptDialog.acceptMessage||"OK",this.dismissMessage=this.promptDialog.dismissMessage||"Cancel",this.value=new Zt.f(this.promptDialog.initialValue||"",[Zt.w.required]),this.form=this.formBuilder.group({value:this.value}),this.submitButton=new ll(this.acceptMessage,"Wait..."),this.promptDialog.autocomplete&&this.applyAutocomplete()):(this.isVisible=!1,this.promptDialog=void 0,this.value=void 0,this.form=void 0)},n.prototype.applyAutocomplete=function(){return RQ(this,void 0,void 0,function(){var n;return FQ(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.timer.yield()];case 1:return t.sent(),this.value&&this.promptDialog&&this.canopyAutocomplete.create("prompt-dialog-value-input",this.value,this.promptDialog.autocomplete),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n}(),LQ=e.sb({encapsulation:2,styles:[],data:{}});function DQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n              Value is required\n            "]))],null,null)}function NQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,58,"div",[["class","dialog-container"],["id","prompt-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,55,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,52,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(8,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Mb(9,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xd7"])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(18,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var u=!0,r=n.component;return"submit"===t&&(u=!1!==e.Eb(n,20).onSubmit(l)&&u),"reset"===t&&(u=!1!==e.Eb(n,20).onReset()&&u),"ngSubmit"===t&&(u=!1!==r.onSubmit()&&u),u},null,null)),e.tb(19,16384,null,0,Zt.y,[],null,null),e.tb(20,540672,null,0,Zt.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Jb(2048,null,Zt.c,null,[Zt.j]),e.tb(22,16384,null,0,Zt.r,[[4,Zt.c]],null,null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(24,0,null,null,21,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(26,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(27,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(29,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(31,0,null,null,1,"label",[["class","title-label"],["for","prompt-dialog-value-input"]],null,null,null,null,null)),(n()(),e.Mb(32,null,["",""])),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.ub(34,0,null,null,6,"input",[["class","form-control"],["csFocusOnShow",""],["formControlName","value"],["id","prompt-dialog-value-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var u=!0;return"input"===t&&(u=!1!==e.Eb(n,35)._handleInput(l.target.value)&&u),"blur"===t&&(u=!1!==e.Eb(n,35).onTouched()&&u),"compositionstart"===t&&(u=!1!==e.Eb(n,35)._compositionStart()&&u),"compositionend"===t&&(u=!1!==e.Eb(n,35)._compositionEnd(l.target.value)&&u),u},null,null)),e.tb(35,16384,null,0,Zt.d,[e.H,e.l,[2,Zt.a]],null,null),e.Jb(1024,null,Zt.o,function(n){return[n]},[Zt.d]),e.tb(37,671744,null,0,Zt.h,[[3,Zt.c],[8,null],[8,null],[6,Zt.o],[2,Zt.A]],{name:[0,"name"]},null),e.Jb(2048,null,Zt.p,null,[Zt.h]),e.tb(39,16384,null,0,Zt.q,[[4,Zt.p]],null,null),e.tb(40,81920,null,0,jQ,[e.l],null,null),(n()(),e.Mb(-1,null,["\n            "])),(n()(),e.lb(16777216,null,null,1,null,DQ)),e.tb(43,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(47,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(49,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(50,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(52,0,null,null,1,"button",[["class","btn btn-primary"],["id","dialog-accept-button"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Mb(53,null,["",""])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,20,0,l.form),n(t,27,0,l.errorMessage),n(t,37,0,"value"),n(t,40,0),n(t,43,0,!l.value.pristine&&l.value.hasError("required"))},function(n,t){var l=t.component;n(t,9,0,l.title),n(t,18,0,e.Eb(t,22).ngClassUntouched,e.Eb(t,22).ngClassTouched,e.Eb(t,22).ngClassPristine,e.Eb(t,22).ngClassDirty,e.Eb(t,22).ngClassValid,e.Eb(t,22).ngClassInvalid,e.Eb(t,22).ngClassPending),n(t,32,0,l.message),n(t,34,0,e.Eb(t,39).ngClassUntouched,e.Eb(t,39).ngClassTouched,e.Eb(t,39).ngClassPristine,e.Eb(t,39).ngClassDirty,e.Eb(t,39).ngClassValid,e.Eb(t,39).ngClassInvalid,e.Eb(t,39).ngClassPending),n(t,49,0,l.submitButton.isSubmitting),n(t,50,0,l.dismissMessage),n(t,52,0,l.submitButton.isSubmitting),n(t,53,0,l.submitButton.text)})}function UQ(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,NQ)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var QQ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},JQ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},$Q=function(){function n(n,t,l){this.sessionFactory=n,this.dialogManager=t,this.getFriendlyErrorAndLog=l,this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.dialogManager.tertiaryChanged.subscribe(function(){return n.dialogManagerChanged()})},n.prototype.accept=function(n){return QQ(this,void 0,void 0,function(){return JQ(this,function(t){return this.dialog&&this.dialog.resolve(n),[2]})})},n.prototype.dismiss=function(){this.dialog&&this.dialog.dismiss()},n.prototype.load=function(){return QQ(this,void 0,void 0,function(){var n;return JQ(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.session.load()];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),this.errorMessage=this.getFriendlyErrorAndLog.execute(n),[3,3];case 3:return[2]}})})},n.prototype.cssSanitize=function(n){return or(n)},n.prototype.dialogManagerChanged=function(){var n=this,t=this.dialogManager.getTertiary();t&&t instanceof zp?(this.dialog&&(console.warn("WARNING: Loading dialog was prematurely dismissed."),this.dismiss()),this.errorMessage=void 0,this.isVisible=!0,this.dialog=t,this.session=this.sessionFactory.create(this.dialog),this.loadingCompleteSubscription&&this.loadingCompleteSubscription.unsubscribe(),this.loadingCompleteSubscription=this.session.loadingComplete.subscribe(function(t){return n.accept(t)}),this.load()):(this.dismiss(),this.isVisible=!1,this.dialog=void 0)},n}(),HQ=e.sb({encapsulation:0,styles:[["#loading-dialog[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function qQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(2,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(5,0,null,null,1,"cs-loader",[],null,null,null,d,c)),e.tb(6,49152,null,0,a,[],null,null),(n()(),e.Mb(-1,null,["\n        "]))],null,function(n,t){n(t,3,0,t.component.session.status||"Loading...")})}function BQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,1,"button",[["class","btn btn-secondary"],["id","dialog-dismiss-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e},null,null)),(n()(),e.Mb(-1,null,["Close"])),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function zQ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,19,"div",[["class","dialog-container"],["id","loading-dialog"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,16,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(4,0,null,null,13,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.ub(6,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.lb(16777216,null,null,1,null,qQ)),e.tb(9,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(11,0,null,null,1,"cs-error-message",[],null,null,null,v,g)),e.tb(12,49152,null,0,h,[],{message:[0,"message"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,BQ)),e.tb(16,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,9,0,null==l.session?null:l.session.isLoading),n(t,12,0,l.errorMessage),n(t,16,0,!(null!=l.session&&l.session.isLoading))},null)}function KQ(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,zQ)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.isVisible)},null)}var WQ=function(){function n(n){this._elementRef=n,this.clickOutside=new e.n}return n.prototype.onClick=function(n){if(!n.button){var t=n.target||n.srcElement;if(t){var l=t.dataset;l&&l.ignoreClickOuside||this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(n)}}},n}(),GQ=function(){function n(){this.enableScroll=!1,this.closeRequested=new e.n,this.MenuItemType=pk}return n.prototype.executeAction=function(n,t){return l=this,void 0,u=function(){var l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:if(!(t instanceof dk))return[3,7];this.requestClose(),e.label=1;case 1:return e.trys.push([1,6,,7]),this.wrapper?[4,this.wrapper.executeMenuItemAction(n,t.action)]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,t.action(n)];case 4:e.sent(),e.label=5;case 5:return[3,7];case 6:return l=e.sent(),console.error(l),[3,7];case 7:return[2]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},Object.defineProperty(n.prototype,"maximumScrollableHeight",{get:function(){if(this.enableScroll&&this.screenSize)return 2*this.screenSize.height/5+"px"},enumerable:!0,configurable:!0}),n.prototype.asButton=function(n){return n},n.prototype.asSpacer=function(n){return n},n.prototype.asSubMenu=function(n){return n},Object.defineProperty(n.prototype,"subMenuTopString",{get:function(){if(this.verticalExpandDirection!==ZQ.up)return"0"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subMenuLeftString",{get:function(){if(this.horizontalExpandDirection!==YQ.left)return"100%"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subMenuBottomString",{get:function(){if(this.verticalExpandDirection===ZQ.up)return"0"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subMenuRightString",{get:function(){if(this.horizontalExpandDirection===YQ.left)return"100%"},enumerable:!0,configurable:!0}),n.prototype.requestClose=function(){this.closeRequested.emit()},n}(),YQ=function(n){return n[n.left=0]="left",n[n.right=1]="right",n}({}),ZQ=function(n){return n[n.up=0]="up",n[n.down=1]="down",n}({}),XQ=e.sb({encapsulation:0,styles:[[".menu-container[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;padding:.2rem 0;white-space:nowrap;min-width:120px;box-shadow:1px 1px 3px 3px rgba(0,0,0,.025)}.menu-container.scrollable-menu-container[_ngcontent-%COMP%]{overflow-y:auto}button[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;margin:.2rem 0;padding:.2rem 1.4rem;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{background:#e9ecef}hr[_ngcontent-%COMP%]{margin:.4rem 0}.button-menu-item[_ngcontent-%COMP%]{padding-left:1rem}.button-menu-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:.5rem}.sub-menu-container[_ngcontent-%COMP%]{position:relative;overflow:visible}.sub-menu-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{float:right;margin-top:.22rem;margin-left:1rem}.sub-menu-container[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{visibility:hidden;position:absolute}.sub-menu-container[_ngcontent-%COMP%]:hover   .sub-menu[_ngcontent-%COMP%]{visibility:visible}"]],data:{}});function nJ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n      "]))],null,null)}function tJ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,2,"button",[],[[8,"className",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.executeAction(l,n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.ub(3,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(4,null,["",""])),(n()(),e.Mb(-1,null,["\n      "]))],null,function(n,t){var l=t.component;n(t,2,0,e.wb(1,"",l.asButton(t.parent.context.$implicit).cssClass," button-menu-item")),n(t,3,0,e.wb(1,"fa fa-fw fa-",l.asButton(t.parent.context.$implicit).iconClass,"")),n(t,4,0,l.asButton(t.parent.context.$implicit).name)})}function lJ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,14,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.ub(2,0,null,null,11,"div",[["class","sub-menu-container"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(4,0,null,null,2,"button",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Mb(5,null,["",""])),(n()(),e.ub(6,0,null,null,0,"i",[["class","fa fa-caret-right"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.ub(8,0,null,null,4,"cs-context-menu-renderer",[["class","sub-menu"]],null,[[null,"closeRequested"]],function(n,t,l){var e=!0;return"closeRequested"===t&&(e=!1!==n.component.requestClose()&&e),e},uJ,XQ)),e.tb(9,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(10,{top:0,left:1,right:2,bottom:3}),e.tb(11,49152,null,0,GQ,[],{items:[0,"items"],wrapper:[1,"wrapper"],horizontalExpandDirection:[2,"horizontalExpandDirection"],verticalExpandDirection:[3,"verticalExpandDirection"],screenSize:[4,"screenSize"],enableScroll:[5,"enableScroll"]},{closeRequested:"closeRequested"}),(n()(),e.Mb(-1,null,["\n          "])),(n()(),e.Mb(-1,null,["\n        "])),(n()(),e.Mb(-1,null,["\n      "]))],function(n,t){var l=t.component;n(t,9,0,n(t,10,0,l.subMenuTopString,l.subMenuLeftString,l.subMenuRightString,l.subMenuBottomString)),n(t,11,0,l.asSubMenu(t.parent.context.$implicit).items,l.wrapper,l.horizontalExpandDirection,l.verticalExpandDirection,l.screenSize,l.asSubMenu(t.parent.context.$implicit).enableScroll)},function(n,t){var l=t.component;n(t,4,0,e.wb(1,"",l.asSubMenu(t.parent.context.$implicit).cssClass,"")),n(t,5,0,l.asSubMenu(t.parent.context.$implicit).name)})}function eJ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,14,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(2,0,null,null,11,null,null,null,null,null,null,null)),e.tb(3,16384,null,0,f.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,nJ)),e.tb(6,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,tJ)),e.tb(9,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n      "])),(n()(),e.lb(16777216,null,null,1,null,lJ)),e.tb(12,278528,null,0,f.q,[e.T,e.Q,f.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,t.context.$implicit.type),n(t,6,0,l.MenuItemType.separator),n(t,9,0,l.MenuItemType.button),n(t,12,0,l.MenuItemType.subMenu)},null)}function uJ(n){return e.Ob(0,[(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(1,0,null,null,8,"div",[["class","menu-container"]],null,null,null,null,null)),e.tb(2,278528,null,0,f.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(3,{"scrollable-menu-container":0}),e.tb(4,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(5,{"max-height":0}),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.lb(16777216,null,null,1,null,eJ)),e.tb(8,278528,null,0,f.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,"menu-container",n(t,3,0,l.enableScroll)),n(t,4,0,n(t,5,0,l.maximumScrollableHeight)),n(t,8,0,l.items)},null)}var rJ=l("a8jH"),iJ=function(){function n(n){this.menu=n}return n.prototype.onResize=function(){this.screenSize=new rJ.a(window.innerWidth,window.innerHeight)},n.prototype.ngOnInit=function(){this.onResize()},Object.defineProperty(n.prototype,"shouldDisplay",{get:function(){return!!(this.menu.content&&this.menu.content.items&&this.menu.content.items.length)},enumerable:!0,configurable:!0}),n.prototype.close=function(){this.menu.content=void 0},n.prototype.onCloseRequested=function(){this.close()},Object.defineProperty(n.prototype,"topString",{get:function(){if(!this.isInBottomPortion)return this.menu.content.position.y+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftString",{get:function(){if(!this.isInRightPortion)return this.menu.content.position.x+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomString",{get:function(){if(this.isInBottomPortion)return this.screenSize.height-this.menu.content.position.y+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightString",{get:function(){if(this.isInRightPortion)return this.screenSize.width-this.menu.content.position.x+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalExpandDirection",{get:function(){return this.isInBottomPortion?ZQ.up:ZQ.down},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalExpandDirection",{get:function(){return this.isInRightPortion?YQ.left:YQ.right},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInBottomPortion",{get:function(){return this.menu.content.position.y>this.screenSize.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInRightPortion",{get:function(){return this.menu.content.position.x>this.screenSize.width/2},enumerable:!0,configurable:!0}),n}(),oJ=e.sb({encapsulation:0,styles:[[".context-menu-container[_ngcontent-%COMP%]{position:absolute;z-index:2000}"]],data:{}});function sJ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,null,null,null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(2,0,null,null,8,"div",[["class","context-menu-container"]],null,[[null,"clickOutside"],["document","click"],["document","touchstart"]],function(n,t,l){var u=!0,r=n.component;return"document:click"===t&&(u=!1!==e.Eb(n,5).onClick(l)&&u),"document:touchstart"===t&&(u=!1!==e.Eb(n,5).onClick(l)&&u),"clickOutside"===t&&(u=!1!==r.close()&&u),u},null,null)),e.tb(3,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(4,{top:0,left:1,right:2,bottom:3}),e.tb(5,16384,null,0,WQ,[e.l],null,{clickOutside:"clickOutside"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(7,0,null,null,2,"cs-context-menu-renderer",[],null,[[null,"closeRequested"]],function(n,t,l){var e=!0;return"closeRequested"===t&&(e=!1!==n.component.onCloseRequested()&&e),e},uJ,XQ)),e.tb(8,49152,null,0,GQ,[],{items:[0,"items"],wrapper:[1,"wrapper"],horizontalExpandDirection:[2,"horizontalExpandDirection"],verticalExpandDirection:[3,"verticalExpandDirection"],screenSize:[4,"screenSize"]},{closeRequested:"closeRequested"}),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,n(t,4,0,l.topString,l.leftString,l.rightString,l.bottomString)),n(t,8,0,l.menu.content.items,l.menu.content.wrapper,l.horizontalExpandDirection,l.verticalExpandDirection,l.screenSize)},null)}function aJ(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,1,null,sJ)),e.tb(1,16384,null,0,f.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.Mb(-1,null,["\n\n"]))],function(n,t){n(t,1,0,t.component.shouldDisplay)},null)}var cJ=function(){function n(n,t){this.applicationInsights=n,this.router=t}return n.prototype.serviceOnInit=function(){var n=this;this.router.events.subscribe(function(t){return n.handleRouteChange(t)})},n.prototype.handleRouteChange=function(n){if(n instanceof b.d){var t=n.url;this.applicationInsights.trackPageView(t,t)}},n}(),dJ=function(){function n(n,t,l){this.logError=n,this.identity=t,this.userSettings=l,this.changed=new e.n}return n.prototype.serviceOnInit=function(){var n=this;this.currentIdentity=this.identity.get(),this.identity.changed.subscribe(function(t){return n.updateCurrentUser(t)}),this.userSettings.changed.subscribe(function(t){return n.updateUserSettings(t)})},n.prototype.updateCurrentUser=function(n){try{var t=this.currentIdentity.userId;this.currentIdentity=n,this.currentIdentity.userId!==t&&this.setCache(void 0)}catch(n){this.logError.execute(n)}},n.prototype.updateUserSettings=function(n){try{this.currentIdentity&&this.currentIdentity.tenantId===n.tenantId&&this.currentIdentity.userId===n.userId&&this.setCache(Promise.resolve(n.result))}catch(n){this.logError.execute(n)}},n.prototype.get=function(){if(!this.cache){var n=this.userSettings.get(this.currentIdentity.tenantId,this.currentIdentity.userId);this.setCache(n)}return this.cache},n.prototype.setCache=function(n){this.cache=n,this.changed.emit(n)},n}(),bJ=function(){function n(n,t){this.identity=n,this.studyStub=t,this.cache={}}return n.prototype.get=function(n){var t=this.cache[n];return t||(t=this.cache[n]=this.loadStudyMetadata(n)),t},n.prototype.remove=function(n){delete this.cache[n]},n.prototype.set=function(n,t,l){this.cache[t]=Promise.resolve(new fJ(n,t,l))},n.prototype.loadStudyMetadata=function(n){return t=this,void 0,e=function(){var t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t=this.identity.get(),[4,this.studyStub.getStudyMetadata(t.tenantId,n)];case 1:return l=u.sent(),[2,new fJ(l.study.tenantId,n,l.study.name)];case 2:return e=u.sent(),this.cache[n]=void 0,console.error(e),[2,void 0];case 3:return[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n.ngInjectableDef=e.X({factory:function(){return new n(e.bb(O),e.bb(q))},token:n,providedIn:"root"}),n}(),fJ=function(n,t,l){this.tenantId=n,this.studyId=t,this.name=l},pJ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},hJ=function(){function n(n,t,l,u,r){this.notifications=n,this.studyMetadataCache=t,this.router=l,this.zone=u,this.pusher=r,this.studyCompletedEvent=new e.n}return n.prototype.serviceOnInit=function(){var n=this;this.pusher.studiesProgress.subscribe(function(t){return n.onStudiesProgress(t)})},Object.defineProperty(n.prototype,"studyCompleted",{get:function(){return this.studyCompletedEvent},enumerable:!0,configurable:!0}),n.prototype.emit=function(n,t){this.studyCompletedEvent.emit(new gJ(n,t))},n.prototype.onStudiesProgress=function(n){this.processStudies(n)},n.prototype.processStudies=function(n){return t=this,void 0,e=function(){var t,l,e,u,r,i=this;return pJ(this,function(o){switch(o.label){case 0:o.trys.push([0,5,,6]),t=function(n){var t;return pJ(this,function(e){switch(e.label){case 0:return[4,l.studyMetadataCache.get(n.studyId)];case 1:if((t=e.sent())&&(t.progress=n,n.completedJobCount>0&&n.jobCount===n.completedJobCount)){try{l.emit(t.tenantId,t.studyId)}catch(n){console.error(n)}l.notifications.notify("Completed: "+t.name,"The study completed with "+n.succeededJobCount+" successful job(s) and "+(n.completedJobCount-n.succeededJobCount)+" failure(s).",function(){return i.zone.run(function(){return i.router.navigate(["/studies",t.tenantId,t.studyId])})}),l.studyMetadataCache.remove(n.studyId)}return[2]}})},l=this,e=0,u=n.items,o.label=1;case 1:return e<u.length?[5,t(u[e])]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[3,6];case 5:return r=o.sent(),console.error(r),[3,6];case 6:return[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n.ngInjectableDef=e.X({factory:function(){return new n(e.bb(HV),e.bb(bJ),e.bb(b.m),e.bb(e.C),e.bb(xd))},token:n,providedIn:"root"}),n}(),gJ=function(n,t){this.tenantId=n,this.studyId=t},yJ=e.sb({encapsulation:2,styles:[],data:{}});function mJ(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,35,"div",[["class","application-container"],["csElementHeightCacher",""],["csSetBodyDialogStyle",""],["id","application-container"]],null,null,null,null,null)),e.tb(1,278528,null,0,f.o,[e.w,e.l,e.H],{ngStyle:[0,"ngStyle"]},null),e.Hb(2,{height:0}),e.tb(3,81920,null,0,k_,[e.l,oe],null,null),e.tb(4,147456,null,0,T_,[e.l,P_,fr],null,null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(6,0,null,null,4,"header",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(8,0,null,null,1,"cs-nav-bar",[],null,null,null,Q_,R_)),e.tb(9,114688,null,0,j_,[O,wl,On],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(12,0,null,null,1,"cs-update-checker",[],null,null,null,K_,B_)),e.tb(13,245760,null,0,H_,[fr,F.c,q_],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(15,0,null,null,1,"cs-sim-version-status",[],null,null,null,uV,tV)),e.tb(16,114688,null,0,Y_,[O,WE,Rr,z,X_,Fd,ce,On],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(18,0,null,null,1,"cs-study-staging-area",[],null,null,null,jV,fV)),e.tb(19,114688,null,0,HP,[O,Zt.e,q,Nb,Ml,Se,fr,jt,b.m,oV,Bp,sV,cE,cV,dV,On],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.ub(21,0,null,null,1,"cs-results-staging-area",[],null,null,null,JV,FV)),e.tb(22,114688,null,0,RV,[co,PI,b.m,O,On],null,null),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(24,0,null,null,4,"main",[["class","main-content"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(26,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.tb(27,212992,null,0,b.q,[b.b,e.T,e.k,[8,null],e.i],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n\n  "])),(n()(),e.ub(30,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\n    "])),(n()(),e.ub(32,0,null,null,1,"cs-footer",[],null,null,null,nj,GV)),e.tb(33,114688,null,0,WV,[O,WE,Rr],null,null),(n()(),e.Mb(-1,null,["\n  "])),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(37,0,null,null,1,"cs-worksheet-dock",[],null,null,null,rj,ej)),e.tb(38,114688,null,0,lj,[BC],null,null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(40,0,null,null,1,"cs-import-telemetry-dialog",[],null,null,null,fF,lF)),e.tb(41,114688,null,0,GR,[XR,oe,On],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(43,0,null,null,1,"cs-list-versions-dialog",[],null,null,null,RF,SF)),e.tb(44,114688,null,0,gF,[vF,oe,On],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(46,0,null,null,1,"cs-view-job-dialog",[],null,null,null,QF,DF)),e.tb(47,114688,null,0,FF,[AF,oe,On],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(49,0,null,null,1,"cs-chart-editor-dialog",[],null,null,null,rA,qF)),e.tb(50,114688,null,0,JF,[$F,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(52,0,null,null,1,"cs-channel-editor-dialog",[],null,null,null,OA,fA)),e.tb(53,114688,null,0,aA,[fr,cA,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(55,0,null,null,1,"cs-config-loader-dialog",[],null,null,null,DA,VA)),e.tb(56,114688,null,0,kA,[EA,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(58,0,null,null,1,"cs-study-loader-dialog",[],null,null,null,YA,zA)),e.tb(59,114688,null,0,JA,[qA,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(61,0,null,null,1,"cs-worksheet-labels-editor-dialog",[],null,null,null,SL,vL)),e.tb(62,114688,null,0,pL,[yL,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(64,0,null,null,1,"cs-edit-document-metadata-dialog",[],null,null,null,AL,RL)),e.tb(65,114688,null,0,_L,[VL,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(67,0,null,null,1,"cs-compare-config-dialog",[],null,null,null,dN,oN)),e.tb(68,114688,null,0,iN,[oe,On],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(70,0,null,null,1,"cs-select-sim-version-dialog",[],null,null,null,mN,hN)),e.tb(71,114688,null,0,bN,[fN,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(73,0,null,null,1,"cs-linting-engine-runner-dialog",[],null,null,null,QU,AU)),e.tb(74,114688,null,0,jU,[RU,oe,On],null,null),(n()(),e.Mb(-1,null,["\n\n"])),(n()(),e.ub(76,0,null,null,1,"cs-support-session-dialog",[],null,null,null,cQ,zU)),e.tb(77,114688,null,0,JU,[qU,oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(79,0,null,null,1,"cs-set-channel-units-dialog",[],null,null,null,IQ,mQ)),e.tb(80,114688,null,0,fQ,[gQ,oe,On],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(82,0,null,null,1,"cs-confirmation-dialog",[],null,null,null,VQ,OQ)),e.tb(83,114688,null,0,xQ,[oe],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(85,0,null,null,1,"cs-prompt-dialog",[],null,null,null,UQ,LQ)),e.tb(86,114688,null,0,AQ,[oe,Ml,hc,Zt.e,fr,On],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(88,0,null,null,1,"cs-loading-dialog",[],null,null,null,KQ,HQ)),e.tb(89,114688,null,0,$Q,[Jp,oe,On],null,null),(n()(),e.Mb(-1,null,["\n"])),(n()(),e.ub(91,0,null,null,1,"cs-context-menu",[],null,[["window","resize"]],function(n,t,l){var u=!0;return"window:resize"===t&&(u=!1!==e.Eb(n,92).onResize()&&u),u},aJ,oJ)),e.tb(92,114688,null,0,iJ,[MP],null,null),(n()(),e.Mb(-1,null,["\n"]))],function(n,t){n(t,1,0,n(t,2,0,"calc(100% - "+t.component.dock.height+"px")),n(t,3,0),n(t,9,0),n(t,13,0),n(t,16,0),n(t,19,0),n(t,22,0),n(t,27,0),n(t,33,0),n(t,38,0),n(t,41,0),n(t,44,0),n(t,47,0),n(t,50,0),n(t,53,0),n(t,56,0),n(t,59,0),n(t,62,0),n(t,65,0),n(t,68,0),n(t,71,0),n(t,74,0),n(t,77,0),n(t,80,0),n(t,83,0),n(t,86,0),n(t,89,0),n(t,92,0)},null)}var vJ=e.qb("cs-app",o,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"cs-app",[],null,[[null,"keydown.escape"]],function(n,t,l){var u=!0;return"keydown.escape"===t&&(u=!1!==e.Eb(n,1).onEscape()&&u),u},mJ,yJ)),e.tb(1,114688,null,0,o,[BC,oe,O,Se,co,cJ,xd,mM,XM,dJ,Bf,qr,Fd,WE,Rr,Nb,WE,hJ,BC],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),wJ=l("NSYL"),MJ=l("wFw1"),CJ=l("ihYY"),SJ=function(){function n(n){this.logError=n}return n.prototype.trackPageView=function(n,t){try{window.appInsights.trackPageView(n,t)}catch(n){this.logError.execute(n)}},n.prototype.setAuthenticatedUserContext=function(n,t){try{window.appInsights.setAuthenticatedUserContext(n,t)}catch(n){this.logError.execute(n)}},n}(),IJ=function(){function n(){}return n.prototype.execute=function(n){var t=n.body,l=[];t.roles&&(l=t.roles.split(","));var e=t.user_id;if(!e)throw new sl("The user ID was not returned");var u=t.tenant_id;if(!u)throw new sl("The tenant ID was not returned");var r=t.access_token;if(!r)throw new sl("The access token was not returned");var i=t.refresh_token;if(!i)throw new sl("The refresh token was not returned");return new x(!0,r,i,e,u,l)},n}(),xJ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},OJ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},kJ=k.value+"token",TJ=function(){function n(n,t,l,e){this.identity=n,this.http=t,this.getHttpError=l,this.extractAuthenticationData=e}return n.prototype.execute=function(){return xJ(this,void 0,void 0,function(){var n,t,l,e;return OJ(this,function(u){switch(u.label){case 0:if(!(n=this.identity.get()).authenticated)throw new sl("Cannot refresh the authentication token because the user is not authenticated.");u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.performUpdate(n.tenantId,n.refreshToken)];case 2:return t=u.sent(),l=this.extractAuthenticationData.execute(t),this.identity.set(l),[3,4];case 3:throw e=u.sent(),this.identity.clear(),e;case 4:return[2]}})})},n.prototype.performUpdate=function(n,t){return xJ(this,void 0,void 0,function(){var l,e,u;return OJ(this,function(r){switch(r.label){case 0:l="grant_type=refresh_token&refresh_token="+encodeURIComponent(t)+"&tenant="+n+"&client_id=canopy.web.1",e=(new F.g).set("Content-Type","application/x-www-form-urlencoded"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.http.post(kJ,l,{headers:e,observe:"response"}).toPromise()];case 2:return[2,r.sent()];case 3:throw u=r.sent(),this.getHttpError.execute(u);case 4:return[2]}})})},n}(),PJ=function(){function n(n,t){this.updateAccessToken=n,this.router=t}return n.prototype.execute=function(){var n=this;return this.currentTokenRequest||(this.currentTokenRequest=this.updateAccessToken.execute(),this.currentTokenRequest.catch(function(){n.router.navigate(["/sign-in"])}).then(function(){n.currentTokenRequest=void 0})),this.currentTokenRequest},n}(),EJ=function(){function n(){}return n.prototype.request=function(n){return Promise.resolve(n)},n.prototype.response=function(n){return Promise.resolve(n)},n.prototype.responseError=function(n,t){return Promise.resolve(!1)},n}(),_J=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),VJ=function(n){function t(t,l){var e=n.call(this)||this;return e.identity=t,e.updateAccessTokenOrRedirect=l,e}return _J(t,n),t.prototype.request=function(n){var t=this.identity.get();return t.authenticated&&(n.headers||(n.headers=new F.g),n.headers=n.headers.set("Authorization","Bearer "+t.accessToken)),n.withCredentials=!0,Promise.resolve(n)},t.prototype.responseError=function(n,t){return l=this,void 0,u=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return 401===n.status&&t<=1?[4,this.updateAccessTokenOrRedirect.execute()]:[3,2];case 1:return l.sent(),[2,!0];case 2:return[2,!1]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},t}(EJ),jJ=function(){function n(){}return n.prototype.execute=function(){return"undefined"},n}(),RJ=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),FJ=function(n){function t(t){var l=n.call(this)||this;return l.developerName=t.execute(),l}return RJ(t,n),t.prototype.request=function(n){return this.developerName&&(n.headers||(n.headers=new F.g),n.headers=n.headers.set("Developer-Name",this.developerName)),Promise.resolve(n)},t}(EJ),AJ=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),LJ=function(n){function t(){return n.call(this)||this}return AJ(t,n),t.prototype.request=function(n){return n.headers||(n.headers=new F.g),n.headers.get("Accept")||(n.headers=n.headers.set("Accept","application/json")),Promise.resolve(n)},t}(EJ),DJ=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),NJ=function(n){function t(t){var l=n.call(this)||this;return l.timer=t,l}return DJ(t,n),t.prototype.responseError=function(n,t){return l=this,void 0,u=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return 0===n.status&&t<=10?[4,this.timer.delay(5e3)]:[3,2];case 1:return l.sent(),[2,!0];case 2:return[2,!1]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},t}(EJ),UJ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},QJ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},JJ=function(){function n(n,t,l,e){this.items=[n,t,l,e]}return n.prototype.request=function(n){return UJ(this,void 0,void 0,function(){var t,l;return QJ(this,function(e){switch(e.label){case 0:n||(n={}),t=0,l=this.items,e.label=1;case 1:return t<l.length?[4,l[t].request(n)]:[3,4];case 2:n=e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2,n]}})})},n.prototype.response=function(n){return UJ(this,void 0,void 0,function(){var t,l;return QJ(this,function(e){switch(e.label){case 0:t=0,l=this.items,e.label=1;case 1:return t<l.length?[4,l[t].response(n)]:[3,4];case 2:n=e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2,n]}})})},n.prototype.responseError=function(n,t){return UJ(this,void 0,void 0,function(){var l,e,u,r;return QJ(this,function(i){switch(i.label){case 0:l=!1,e=0,u=this.items,i.label=1;case 1:return e<u.length?(r=l)?[3,3]:[4,u[e].responseError(n,t)]:[3,5];case 2:r=i.sent(),i.label=3;case 3:l=r,i.label=4;case 4:return e++,[3,1];case 5:return[2,l]}})})},n}(),$J=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},HJ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},qJ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},BJ=function(){function n(n,t){this.http=n,this.interceptors=t}return n.prototype.get=function(n,t){var l=this;return this.performAction(t,function(t){return l.http.get(n,$J({},t,{observe:"response"})).toPromise()})},n.prototype.post=function(n,t,l){var e=this;return this.performAction(l,function(l){return e.http.post(n,t,$J({},l,{observe:"response"})).toPromise()})},n.prototype.put=function(n,t,l){var e=this;return this.performAction(l,function(l){return e.http.put(n,t,$J({},l,{observe:"response"})).toPromise()})},n.prototype.delete=function(n,t){var l=this;return this.performAction(t,function(t){return l.http.delete(n,$J({},t,{observe:"response"})).toPromise()})},n.prototype.patch=function(n,t,l){var e=this;return this.performAction(l,function(l){return e.http.patch(n,t,$J({},l,{observe:"response"})).toPromise()})},n.prototype.head=function(n,t){var l=this;return this.performAction(t,function(t){return l.http.head(n,$J({},t,{observe:"response"})).toPromise()})},n.prototype.performAction=function(n,t){return HJ(this,void 0,void 0,function(){var l,e,u,r;return qJ(this,function(i){switch(i.label){case 0:e=!0,u=0,i.label=1;case 1:if(!e)return[3,7];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.performActionInner(n,t)];case 3:return[2,i.sent()];case 4:return r=i.sent(),l=r,[3,5];case 5:return[4,this.interceptors.responseError(l,u+=1)];case 6:return e=i.sent(),[3,1];case 7:throw l}})})},n.prototype.performActionInner=function(n,t){return HJ(this,void 0,void 0,function(){var l;return qJ(this,function(e){switch(e.label){case 0:return[4,this.interceptors.request(n)];case 1:return n=e.sent(),[4,t(n)];case 2:return l=e.sent(),[4,this.interceptors.response(l)];case 3:return[2,e.sent()]}})})},n}(),zJ=function(){function n(){}return n.prototype.execute=function(n){return"&"===n.slice(-1)?n.substring(0,n.length-1):n},n}(),KJ=function(n){return n[n.atLeastOne=0]="atLeastOne",n[n.all=1]="all",n[n.none=2]="none",n}({}),WJ=function(n){return n[n.notAuthorized=0]="notAuthorized",n[n.loginRequired=1]="loginRequired",n[n.authorized=2]="authorized",n}({}),GJ=function(){function n(n){this.identity=n}return n.prototype.execute=function(n,t,l){var e=WJ.authorized;l=l||KJ.atLeastOne;var u=this.identity.get();if(!0===n&&!1===u.authenticated)e=WJ.loginRequired;else if(!0!==n||!1===u.authenticated||void 0!==t&&0!==t.length){if(t){for(var r=u.roles?u.roles.map(function(n){return n.toLowerCase()}):[],i=!0,o=0,s=t.map(function(n){return n.toLowerCase()});o<s.length;o++){var a=s[o];if(l===KJ.all){if(!1===(i=i&&r.indexOf(a)>-1))break}else if((l===KJ.atLeastOne||l===KJ.none)&&(i=r.indexOf(a)>-1))break}e=l===KJ.none?i?WJ.notAuthorized:WJ.authorized:i?WJ.authorized:WJ.notAuthorized}}else e=WJ.authorized;return e},n}(),YJ=function(){function n(n,t){this.identity=n,this.authorize=t}return n.prototype.execute=function(n){var t=WJ.authorized;if(n){var l=this.identity.get();n.requireUnauthenticated?l.authenticated&&(t=WJ.notAuthorized):t=this.authorize.execute(n.requireAuthenticated,n.requiredRoles,n.roleCheckType)}return t},n}(),ZJ=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},XJ=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},n$=function(){function n(n,t,l,e){this.simVersionStub=n,this.configStub=t,this.getSimVersion=l,this.json=e}return n.prototype.loadUserConfig=function(n,t,l,e,u){return ZJ(this,void 0,void 0,function(){return XJ(this,function(t){switch(t.label){case 0:return[4,this.configStub.getConfig(n,l,u,e)];case 1:return[2,Bb(t.sent(),!!u)]}})})},n.prototype.loadSimVersionConfig=function(n,t,l){return ZJ(this,void 0,void 0,function(){var e,u;return XJ(this,function(r){switch(r.label){case 0:return[4,this.simVersionStub.getDocument(t=t||this.getSimVersion.currentSimVersion,Gb(n.singularKey,l))];case 1:return e=r.sent(),u=this.json.parse(e.document.content),[2,zb(n.singularKey,l,u,t)]}})})},n}(),t$=function(){function n(n,t,l,e){this.confirmationDialog=n,this.worksheetStub=t,this.getSimVersion=l,this.loadingDialog=e}return n.prototype.execute=function(n,t,l,e){return u=this,void 0,i=function(){var u,r,i,o,s,a,c,d,b,f,p,h,g,y,m,v,w,M,C,S;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(I){switch(I.label){case 0:return[4,this.confirmationDialog.show("Configs and studies cannot be shared between worksheets. Cloning a worksheet will therefore duplicate all configs and remove all studies (including telemetry). If the row does not already have a name, the study name will be copied to the row name.","Clone Worksheet","OK","Cancel")];case 1:return"OK"!==I.sent()?[2,void 0]:[4,this.loadingDialog.showUntilFinished(this.worksheetStub.getWorksheet(l,e),"Loading worksheet...")];case 2:return u=I.sent(),r=ye.objectToList(u.worksheet.properties),i=u.worksheet.notes,[4,this.loadingDialog.showUntilFinished(this.worksheetStub.postWorksheet(n.tenantId,{name:t}),"Creating worksheet...")];case 3:for(o=I.sent(),s=o.worksheet.worksheetId,a=u.worksheet.outline,c=u.worksheet.outline.rows||[],d=new Set,b=function(n){if(n.study.reference&&!n.name){var t=u.worksheet.resolvedReferences.studies.find(function(t){return Ek(n.study.reference,t.reference)});t&&(n.name=t.data.name)}n.study={reference:void 0},n.configs=n.configs.filter(function(n){return n.configType!==un.telemetry});for(var l=0,e=n.configs||[];l<e.length;l++){var r=e[l];r.reference&&r.reference.tenant&&d.add(r.reference.tenant.targetId)}},f=0,p=c;f<p.length;f++)b(p[f]);return h=Array.from(d),[4,this.loadingDialog.showUntilFinished(this.worksheetStub.postDuplicateConfigs(n.tenantId,o.worksheet.worksheetId,{sourceTenantId:l,sourceWorksheetId:e,sourceConfigIds:h},this.getSimVersion.currentSimVersion),"Cloning configs...")];case 4:for(g=I.sent(),y={},m=0;m<h.length;++m)y[h[m]]=g.targetConfigIds[m];for(v=0,w=c;v<w.length;v++)for(M=0,C=w[v].configs||[];M<C.length;M++)(S=C[M]).reference&&S.reference.tenant&&(S.reference.tenant.tenantId=n.tenantId,S.reference.tenant.targetId=y[S.reference.tenant.targetId]);return a.rows=c,[4,this.loadingDialog.showUntilFinished(this.worksheetStub.putWorksheet(n.tenantId,s,{name:t,properties:r,notes:i,outline:a}),"Saving worksheet...")];case 5:return I.sent(),[2,o.worksheet.worksheetId]}})},new((r=void 0)||(r=Promise))(function(n,t){function l(n){try{o(i.next(n))}catch(n){t(n)}}function e(n){try{o(i.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new r(function(n){n(t.value)}).then(l,e)}o((i=i.apply(u,[])).next())});var u,r,i},n}(),l$=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},e$=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},u$=function(){function n(n,t,l,e,u){this.chartLoaderUtilities=n,this.configStub=t,this.chartLoaderDialog=l,this.getSimVersion=e,this.saveAsDialog=u}return n.prototype.create=function(n){return new r$(n,this.getSimVersion.currentSimVersion,this.chartLoaderUtilities,this.configStub,this.chartLoaderDialog,this.saveAsDialog)},n}(),r$=function(){function n(n,t,l,e,u,r){this.tenantId=n,this.simVersion=t,this.configLoaderUtilities=l,this.configStub=e,this.configLoaderDialog=u,this.saveAsDialog=r}return n.prototype.loadChart=function(n,t){return l$(this,void 0,void 0,function(){var l,e,u,r,i;return e$(this,function(o){switch(o.label){case 0:return l=t,e=t,t?[3,2]:[4,this.configLoaderDialog.loadConfig(n,this.simVersion)];case 1:return(i=o.sent())?[2,this.convertConfigLoaderResultToLoadedChartResult(i.config)]:[2,void 0];case 2:if("string"!=typeof l)return[3,7];u=kt.get(n),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.configLoaderUtilities.loadSimVersionConfig(u,this.simVersion,l)];case 4:return i=o.sent(),[2,this.convertConfigLoaderResultToLoadedChartResult(i)];case 5:if((r=o.sent()).response&&404===r.response.status)return[2,void 0];throw r;case 6:return[3,9];case 7:return e.userId?[4,this.configLoaderUtilities.loadUserConfig(this.tenantId,e.userId,e.configId,this.simVersion)]:[3,9];case 8:return i=o.sent(),[2,this.convertConfigLoaderResultToLoadedChartResult(i)];case 9:throw new sl("Unknown chart ID: "+JSON.stringify(t))}})})},n.prototype.convertConfigLoaderResultToLoadedChartResult=function(n){if(n)return new ki.b(n.userId?{userId:n.userId,configId:n.configId}:n.name,n.name,n.data)},n.prototype.saveChart=function(n,t,l,e){return l$(this,void 0,void 0,function(){return e$(this,function(u){switch(u.label){case 0:return[4,this.configStub.putConfig(this.tenantId,t,{name:l,configType:n,config:e,simVersion:this.simVersion})];case 1:return u.sent(),[2]}})})},n.prototype.saveChartAs=function(n,t){return l$(this,void 0,void 0,function(){var l;return e$(this,function(e){switch(e.label){case 0:return[4,this.saveAsDialog.showForContent("",n,this.simVersion,void 0,t,void 0)];case 1:return(l=e.sent())?[2,{viewerId:{userId:l.userId,configId:l.configId},name:l.config.name}]:[2,void 0]}})})},n}(),i$=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},o$=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},s$=function(){function n(n){this.userSettingsStub=n,this.changed=new e.n}return n.prototype.get=function(n,t){return i$(this,void 0,void 0,function(){var l;return o$(this,function(e){switch(e.label){case 0:return[4,this.userSettingsStub.getUserSettings(n,t)];case 1:return l=e.sent(),this.changed.emit(new a$(n,t,l)),[2,l]}})})},n.prototype.update=function(n,t,l){return i$(this,void 0,void 0,function(){var e,u;return o$(this,function(r){switch(r.label){case 0:if(this.isUpdating)throw new cl("User settings are currently being updated.");this.isUpdating=!0,r.label=1;case 1:r.trys.push([1,,8,9]),e=3,r.label=2;case 2:if(!(e>0))return[3,7];r.label=3;case 3:return r.trys.push([3,5,,6]),[4,this.updateInner(n,t,l)];case 4:return r.sent(),[2];case 5:if(!(u=r.sent()).isPreconditionFailedError)throw u;return[3,6];case 6:return--e,[3,2];case 7:return[3,9];case 8:return this.isUpdating=!1,[7];case 9:return[2]}})})},n.prototype.updateInner=function(n,t,l){return i$(this,void 0,void 0,function(){var e,u;return o$(this,function(r){switch(r.label){case 0:return[4,this.userSettingsStub.getUserSettings(n,t)];case 1:return e=r.sent(),l(e),[4,this.userSettingsStub.putUserSettings(n,t,{settings:e.settings,eTag:e.eTag})];case 2:return u=r.sent(),this.changed.emit(new a$(n,t,{settings:e.settings,eTag:u})),[2]}})})},n}(),a$=function(n,t,l){this.tenantId=n,this.userId=t,this.result=l},c$=function(){function n(n){this.userSettingsCache=n}return n.prototype.execute=function(n,t){return l=this,void 0,u=function(){var l,e,u,r,i,o;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(s){switch(s.label){case 0:return t?(l=[t.primary].concat(t.fallback),[4,this.userSettingsCache.get()]):[2,void 0];case 1:for(e=s.sent(),r=function(t){if(u=e.settings.charts.find(function(l){return l.chartType===n&&l.chartId===t}))return"break"},i=0,o=l;i<o.length&&"break"!==r(o[i]);i++);return u?[2,{userId:u.preferredChartUserId,configId:u.preferredChartId}]:[2,void 0]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},n}(),d$=function(){function n(n){this.userSettings=n}return n.prototype.execute=function(n,t,l,e,u){return r=this,void 0,o=function(){var r,i,o,s;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(a){switch(a.label){case 0:return e?(r=e.primary,u&&("string"==typeof u?o=u:(i=u.userId,o=u.configId)),s=!u||o===r,[4,this.userSettings.update(n,t,function(n){var t=n.settings.charts.find(function(n){return n.chartType===l&&n.chartId===r});if(s){if(t){var u=n.settings.charts.indexOf(t);n.settings.charts.splice(u,1)}}else t?(t.preferredChartId=o,t.preferredChartUserId=i):n.settings.charts.push({chartType:l,chartId:r,preferredChartId:o,preferredChartUserId:i});for(var a=function(t){var e=n.settings.charts.findIndex(function(n){return n.chartType===l&&n.chartId===t});-1!==e&&n.settings.charts.splice(e,1)},c=0,d=e.fallback;c<d.length;c++)a(d[c])})]):[2];case 1:return a.sent(),[2]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},n}(),b$=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),f$=function(){function n(n){this.studyStub=n}return n.prototype.create=function(n,t,l){return new p$(n,t,this.studyStub,l)},n}(),p$=function(n){function t(t,l,e,u){return n.call(this,t,l,e,u)||this}return b$(t,n),t.prototype.text=function(n,t){return this.loadText(n,t)},t.prototype.json=function(n,t){return this.loadJson(n,t)},t.prototype.csv=function(n,t){return this.loadCsv(n,t)},t.prototype.loadNumericArray=function(n,t,l){return this.loadNumericArray(n,t,l)},t}(Bi),h$=function(){function n(n){this.basicFileLoaderFactory=n}return n.prototype.loadText=function(n,t,l,e,u){var r=this.basicFileLoaderFactory.create(t,l,u),i=so(e);return r.text(n,i)},n.prototype.loadJson=function(n,t,l,e,u){var r=this.basicFileLoaderFactory.create(t,l,u),i=so(e);return r.json(n,i)},n.prototype.loadCsv=function(n,t,l,e,u){var r=this.basicFileLoaderFactory.create(t,l,u),i=so(e);return r.csv(n,i)},n.prototype.loadNumericArray=function(n,t,l,e,u,r){var i=this.basicFileLoaderFactory.create(t,l,u),o=so(e);return i.loadNumericArray(n,r,o)},n}(),g$=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},y$=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},m$=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},v$=function(){function n(n,t){this.blobLoader=n,this.studyTypeLookup=t}return n.prototype.downloadWarnings=function(n,t,l,e,u){return y$(this,void 0,void 0,function(){return m$(this,function(r){switch(r.label){case 0:return[4,this.blobLoader.loadText(e+"warning.txt",n,t,l,u)];case 1:return[2,r.sent()]}})})},n.prototype.downloadText=function(n,t,l,e,u,r){return y$(this,void 0,void 0,function(){return m$(this,function(i){switch(i.label){case 0:return[4,this.blobLoader.loadText(e+r,n,t,l,u)];case 1:return[2,i.sent()]}})})},n.prototype.downloadInfo=function(n,t,l,e,u){return y$(this,void 0,void 0,function(){return m$(this,function(r){switch(r.label){case 0:return[4,this.blobLoader.loadText(e+"info.txt",n,t,l,u)];case 1:return[2,r.sent()]}})})},n.prototype.downloadDiagnosis=function(n,t,l,e,u){return y$(this,void 0,void 0,function(){return m$(this,function(r){switch(r.label){case 0:return[4,this.blobLoader.loadText(e+"diagnosis.txt",n,t,l,u)];case 1:return[2,r.sent()]}})})},n.prototype.downloadScalarResultSets=function(n,t,l,e,u,r){return y$(this,void 0,void 0,function(){var i,o,s,a,c;return m$(this,function(d){switch(d.label){case 0:i={},o=0,s=n,d.label=1;case 1:return o<s.length?[4,this.blobLoader.loadCsv(u+(a=s[o])+"_ScalarResults.csv",t,l,e,r)]:[3,4];case 2:(c=d.sent())&&(i[a]=c.map(function(n){return g$({},n,{value:bj(n.value)})})),d.label=3;case 3:return o++,[3,1];case 4:return[4,this.getScalarResultSets(i)];case 5:return[2,d.sent()]}})})},n.prototype.getScalarResultSets=function(n){return y$(this,void 0,void 0,function(){var t,l,e,u,r,i;return m$(this,function(o){switch(o.label){case 0:return t=[],[4,this.studyTypeLookup.getSimTypeMap()];case 1:for(e in l=o.sent(),n)n.hasOwnProperty(e)&&(u=l[e])&&(i=new w$(u.name,u.simType,r=n[e],this.getStandardScalarResults(r),this.getConstraintScalarResults(r),this.getSetupScalarResults(r)),t.push(i));return[2,t]}})})},n.prototype.getScalarResultSetsFromInline=function(n){return y$(this,void 0,void 0,function(){var t,l,e,u,r,i,o,s;return m$(this,function(a){switch(a.label){case 0:return t=[],[4,this.studyTypeLookup.getSimTypeMap()];case 1:for(e in l=a.sent(),n)if(n.hasOwnProperty(e)&&(u=l[e])){for(o in i=[],r=n[e])r.hasOwnProperty(o)&&i.push(g$({},r[o],{name:o}));s=new w$(u.name,u.simType,i,this.getStandardScalarResults(i),this.getConstraintScalarResults(i),this.getSetupScalarResults(i)),t.push(s)}return[2,t]}})})},n.prototype.getStandardScalarResults=function(n){var t=this;return n.filter(function(n){return!n.constraintParameterPath&&!t.isSetupScalarResult(n)})},n.prototype.getConstraintScalarResults=function(n){var t=this;return n.filter(function(n){return n.constraintParameterPath&&!t.isSetupScalarResult(n)})},n.prototype.getSetupScalarResults=function(n){var t=this;return n.filter(function(n){return t.isSetupScalarResult(n)})},n.prototype.isSetupScalarResult=function(n){return n.name.endsWith("_Setup")},n}(),w$=function(n,t,l,e,u,r){this.name=n,this.simType=t,this.results=l,this.standardResults=e,this.constraintResults=u,this.setupResults=r},M$=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},C$=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},S$=function(){function n(n){this.studyStub=n}return n.prototype.getStudySourcesAndAccessSignature=function(n,t){return M$(this,void 0,void 0,function(){var l,e,u,r,i,o;return C$(this,function(s){switch(s.label){case 0:if(!n.sources.length)return[2,void 0];l=[],e=0,u=n.sources,s.label=1;case 1:return e<u.length?[4,this.studyStub.getStudyMetadata((r=u[e]).tenantId,r.studyId)]:[3,5];case 2:return i=s.sent(),t(i)?[4,this.getStudySources(r,i.accessInformation,i.simTypes)]:[3,4];case 3:(o=s.sent())&&l.push(o),s.label=4;case 4:return e++,[3,1];case 5:return[2,new I$(l)]}})})},n.prototype.getStudySources=function(n,t,l){return M$(this,void 0,void 0,function(){var e,u,r,i,o,s;return C$(this,function(a){switch(a.label){case 0:return n.jobId?[4,this.studyStub.getStudyJobMetadata(n.tenantId,n.studyId,n.jobId)]:[3,2];case 1:return a.sent().studyJob.data.state===vn.successful&&(e=new zh(n.tenantId,n.studyId,n.studyName,[new Kh(n.jobId,n.jobName)],l,t)),[3,4];case 2:return[4,this.studyStub.getStudyJobs(n.tenantId,n.studyId)];case 3:for(u=a.sent(),r=[],i=0,o=u.queryResults.documents;i<o.length;i++)(s=o[i]).data.state===vn.successful&&"Post Processor"!==s.name&&r.push(new Kh(s.documentId,s.name));r.length&&(e=new zh(n.tenantId,n.studyId,n.studyName,r,l,t)),a.label=4;case 4:return[2,e]}})})},n}(),I$=function(n){this.studySources=n},x$=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},O$=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},k$=function(){function n(n,t,l,e,u,r,i){this.identity=n,this.configStub=t,this.saveAsDialog=l,this.configLoaderDialog=e,this.json=u,this.moment=r,this.confirmationDialog=i}return n.prototype.create=function(n,t){var l=this.identity.get();return new T$(l.tenantId,l.userId,n,t,this.configStub,this.saveAsDialog,this.configLoaderDialog,this.json,this.moment,this.confirmationDialog)},n}(),T$=function(){function n(n,t,l,e,u,r,i,o,s,a){this.tenantId=n,this.userId=t,this.configType=l,this.simVersion=e,this.configStub=u,this.saveAsDialog=r,this.configLoaderDialog=i,this.json=o,this.moment=s,this.confirmationDialog=a}return n.prototype.loadConfigSubTree=function(n,t){return x$(this,void 0,void 0,function(){return O$(this,function(l){switch(l.label){case 0:return[4,this.configLoaderDialog.loadConfig(this.configType,this.simVersion,n,t)];case 1:return[2,l.sent()]}})})},n.prototype.saveConfigSubTree=function(n,t,l,e){return x$(this,void 0,void 0,function(){return O$(this,function(u){switch(u.label){case 0:return[4,this.configStub.putConfig(this.tenantId,n,{name:l,configType:this.configType,config:e,simVersion:this.simVersion},t)];case 1:return u.sent(),[2]}})})},n.prototype.canSave=function(n){return n&&n.userId===this.userId},n.prototype.saveConfigSubTreeAs=function(n,t){return x$(this,void 0,void 0,function(){return O$(this,function(l){switch(l.label){case 0:return[4,this.saveAsDialog.showForContent("",this.configType,this.simVersion,n,t)];case 1:return[2,l.sent()]}})})},n.prototype.import=function(n,t){return x$(this,void 0,void 0,function(){return O$(this,function(l){switch(l.label){case 0:return t.path?[3,2]:[4,this.confirmationDialog.show("The selected file cannot be imported as a component.")];case 1:return l.sent(),[2,void 0];case 2:return t.path&&t.path!==n?[4,this.confirmationDialog.show("The selected file should be imported at: "+t.path)]:[3,4];case 3:return l.sent(),[2,void 0];case 4:return delete t.path,t.simVersion===this.simVersion?[2,t.config]:[4,this.configStub.upgradeConfig(this.tenantId,this.simVersion,{configType:this.configType,config:t.config,simVersion:t.simVersion},n)];case 5:return[2,l.sent().config]}})})},n.prototype.export=function(n,t,l,e){return x$(this,void 0,void 0,function(){var u;return O$(this,function(r){return u=this.json.stringify({simVersion:this.simVersion,path:t,config:e}),Ap.b.download(Dp(n+"."+(l||t))+(e&&"encrypted"===e.name?"-encrypted":"")+".json",u,"application/json"),[2]})})},n.prototype.encrypt=function(n,t,l){return x$(this,void 0,void 0,function(){var e;return O$(this,function(u){switch(u.label){case 0:return e=this.moment.toDateTime(void 0),[4,this.configStub.encryptWithMetadata({data:n,description:t||"Encrypted at "+e,channelWhitelist:l?l.slice():void 0})];case 1:return[2,u.sent().data]}})})},n.prototype.decrypt=function(n){return x$(this,void 0,void 0,function(){return O$(this,function(t){switch(t.label){case 0:return[4,this.configStub.decryptWithMetadata({data:n,decryptRecursively:!1})];case 1:return[2,t.sent().data]}})})},n}(),P$=function(){function n(){}return n.prototype.execute=function(n,t){var l=n.autocompleteList.concat(t.autocompleteList),e=n.userInformation.concat(t.userInformation);return new Hw(l,e,{list:l,minChars:0,maxItems:100,autoFirst:!0,filter:function(n,t){return t=t.match(/[\w\.]*$/)[0].trim(),0===n.indexOf(t)&&n.label!==t},sort:function(t,l){return n.options.sort(t,l)},replace:function(n){var t=this.input.value.match(/^(.*?)[\w\.]*$/)[1];this.input.value=t+n}})},n}(),E$=function(){function n(n,t){this.configStub=n,this.identity=t}return n.prototype.create=function(n){var t=this.identity.get();return new _$(this.configStub,t.tenantId,n)},n}(),_$=function(){function n(n,t,l){this.configStub=n,this.tenantId=t,this.simVersion=l,this.cache={}}return n.prototype.get=function(n){if(!n)return Promise.resolve([]);var t=this.cache[n];return t||(t=this.getConfigNames(n),this.handleErrors(n,t),this.cache[n]=t,t)},n.prototype.handleErrors=function(n,t){var l=this;t.catch(function(){l.cache[n]=void 0})},n.prototype.getConfigNames=function(n){return t=this,void 0,e=function(){var t,l,e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return t=[un.automatedTest,un.automatedTest2,un.car,un.track,un.weather,un.exploration,un.virtual4PostOptions,un.bankedLimitSimOptions,un.limitSimOptions,un.subLimitSimOptions,un.thermalReplayOptions,un.channelInferenceOptions,un.overtaking,un.driveCycle,un.userMaths,un.constraints,un.telemetry,un.files,un.aircraft,un.iliadBoat,un.iliadCollocationOptions,un.iliadVppOptions,un.pacejkaTyres,un.pacejkaCanopyConverterOptions,un.lineMultiPlot,un.pointMultiPlot,un.parallelCoordinates,un.pointScatterPlot,un.lineScatterPlot,un.definition,un.job,un.result,un.baseline,un.deletedDefinition,un.study,un.worksheet,un.automatedTestCustomView,un.automatedTestFilter,un.automatedTestViewer,un.automatedTest2CustomView,un.automatedTest2Filter,un.automatedTest2Viewer,un.carCustomView,un.carFilter,un.carViewer,un.trackCustomView,un.trackFilter,un.trackViewer,un.weatherCustomView,un.weatherFilter,un.weatherViewer,un.explorationCustomView,un.explorationFilter,un.explorationViewer,un.virtual4PostOptionsCustomView,un.virtual4PostOptionsFilter,un.virtual4PostOptionsViewer,un.bankedLimitSimOptionsCustomView,un.bankedLimitSimOptionsFilter,un.bankedLimitSimOptionsViewer,un.limitSimOptionsCustomView,un.limitSimOptionsFilter,un.limitSimOptionsViewer,un.subLimitSimOptionsCustomView,un.subLimitSimOptionsFilter,un.subLimitSimOptionsViewer,un.thermalReplayOptionsCustomView,un.thermalReplayOptionsFilter,un.thermalReplayOptionsViewer,un.channelInferenceOptionsCustomView,un.channelInferenceOptionsFilter,un.channelInferenceOptionsViewer,un.overtakingCustomView,un.overtakingFilter,un.overtakingViewer,un.driveCycleCustomView,un.driveCycleFilter,un.driveCycleViewer,un.userMathsCustomView,un.userMathsFilter,un.userMathsViewer,un.constraintsCustomView,un.constraintsFilter,un.constraintsViewer,un.telemetryCustomView,un.telemetryFilter,un.telemetryViewer,un.filesCustomView,un.filesFilter,un.filesViewer,un.aircraftCustomView,un.aircraftFilter,un.aircraftViewer,un.iliadBoatCustomView,un.iliadBoatFilter,un.iliadBoatViewer,un.iliadCollocationOptionsCustomView,un.iliadCollocationOptionsFilter,un.iliadCollocationOptionsViewer,un.iliadVppOptionsCustomView,un.iliadVppOptionsFilter,un.iliadVppOptionsViewer,un.pacejkaTyresCustomView,un.pacejkaTyresFilter,un.pacejkaTyresViewer,un.pacejkaCanopyConverterOptionsCustomView,un.pacejkaCanopyConverterOptionsFilter,un.pacejkaCanopyConverterOptionsViewer,un.lineMultiPlotCustomView,un.lineMultiPlotFilter,un.lineMultiPlotViewer,un.pointMultiPlotCustomView,un.pointMultiPlotFilter,un.pointMultiPlotViewer,un.parallelCoordinatesCustomView,un.parallelCoordinatesFilter,un.parallelCoordinatesViewer,un.pointScatterPlotCustomView,un.pointScatterPlotFilter,un.pointScatterPlotViewer,un.lineScatterPlotCustomView,un.lineScatterPlotFilter,un.lineScatterPlotViewer,un.definitionCustomView,un.definitionFilter,un.definitionViewer,un.jobCustomView,un.jobFilter,un.jobViewer,un.resultCustomView,un.resultFilter,un.resultViewer,un.baselineCustomView,un.baselineFilter,un.baselineViewer,un.deletedDefinitionCustomView,un.deletedDefinitionFilter,un.deletedDefinitionViewer,un.studyCustomView,un.studyFilter,un.studyViewer,un.worksheetCustomView,un.worksheetFilter,un.worksheetViewer],-1===(l=n.indexOf("."))?(e=n,u=void 0):(e=n.substr(0,l),u=n.substr(l+1)),-1===t.indexOf(e)?[2,[]]:[4,this.configStub.getConfigNames(this.tenantId,e,rn.name,u,this.simVersion)];case 1:return[2,r.sent().names.map(function(n){return n.name})]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),V$=function(){function n(n){this.filterUtilities=n}return n.prototype.execute=function(n,t,l,e){if(e){var u=e.split(".");if(n===un.car)switch(l){case"aero.coefficientOffsetMaps.secondaryCoefficientOffsetMaps":return this.executeForSecondaryCoefficientOffsetMaps(t,u)}}},n.prototype.executeForSecondaryCoefficientOffsetMaps=function(n,t){var l=this.navigateTo(n,t,t.length-2);if(l&&!Array.isArray(l)&&l.componentId){var e=this.filterUtilities.getInitialFilter();return e.query={operator:R.and,conditions:[{source:tn.customProperty,name:"primaryCoefficientOffsetMap",operator:X.equals,value:l.componentId}]},e}},n.prototype.navigateTo=function(n,t,l){return l&&(t=t.slice(0,l)),t.reduce(function(n,t){return n[t]},n)},n}();function j$(){var n={promise:void 0,resolve:void 0,reject:void 0};return n.promise=new Promise(function(t,l){n.resolve=t,n.reject=l}),n}var R$=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},F$=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},A$=function(){function n(n,t,l,e,u){this.canopyPusher=n,this.studyStub=t,this.studyMetadataCache=l,this.timer=e,this.identity=u}return n.prototype.create=function(){return new L$(this.canopyPusher,this.studyStub,this.studyMetadataCache,this.timer,this.identity)},n}(),L$=function(){function n(n,t,l,e,u){this.canopyPusher=n,this.studyStub=t,this.studyMetadataCache=l,this.timer=e,this.isStudyCompleted=!1,this.currentIdentity=u.get()}return Object.defineProperty(n.prototype,"studyMetadataResult",{get:function(){return this._studyMetadataResult},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"studyJobMetadataResult",{get:function(){return this._studyJobMetadataResult},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statusMessage",{get:function(){return this._statusMessage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStudySuccessful",{get:function(){return this._isStudySuccessful},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.unsubscribe()},n.prototype.unsubscribe=function(){this.studiesProgressSubscription&&(this.studiesProgressSubscription.unsubscribe(),this.studiesProgressSubscription=void 0),this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=void 0)},n.prototype.execute=function(n){return R$(this,void 0,void 0,function(){var t,l,e,u=this;return F$(this,function(r){switch(r.label){case 0:this.deferredPromise=j$(),r.label=1;case 1:return r.trys.push([1,3,,4]),this._isStudySuccessful=!1,this.studiesProgressSubscription=this.canopyPusher.studiesProgress.subscribe(function(n){return u.onStudiesProgress(n)}),t=this.timer.repeat(15e3),this.timerSubscription=t.subscribe(function(){return u.onTimerTick()}),[4,this.studyStub.postStudy(this.currentIdentity.tenantId,n)];case 2:return l=r.sent(),this.studyMetadataCache.set(this.currentIdentity.tenantId,l.studyId,n.name),this.studyId=l.studyId,this._statusMessage="Waiting for result...",[3,4];case 3:return e=r.sent(),this.unsubscribe(),this.deferredPromise.reject(e),[3,4];case 4:return[2,this.deferredPromise.promise]}})})},n.prototype.onStudiesProgress=function(n){return R$(this,void 0,void 0,function(){var t,l=this;return F$(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.isStudyCompleted?(this.unsubscribe(),[2]):this.studyId?(this._statusMessage=this._statusMessage+".",n.items.find(function(n){return n.studyId===l.studyId&&n.completedJobCount>0})?(this.isStudyCompleted=!0,this.unsubscribe(),[4,this.loadResults()]):[3,2]):[2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return t=e.sent(),this.unsubscribe(),this.deferredPromise.reject(t),[3,4];case 4:return[2]}})})},n.prototype.onTimerTick=function(){return R$(this,void 0,void 0,function(){var n,t;return F$(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),this.isStudyCompleted?(this.unsubscribe(),[2]):this.studyId?(this._statusMessage=this._statusMessage+".",[4,this.studyStub.getStudyMetadata(this.currentIdentity.tenantId,this.studyId)]):[2];case 1:return(n=l.sent()).study.data.completedJobCount>0?(this.isStudyCompleted=!0,this.unsubscribe(),[4,this.loadResults(n)]):[3,3];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:return t=l.sent(),this.unsubscribe(),this.deferredPromise.reject(t),[3,5];case 5:return[2]}})})},n.prototype.loadResults=function(n){return R$(this,void 0,void 0,function(){var t,l,e;return F$(this,function(u){switch(u.label){case 0:return this._statusMessage="Loading result...",t=this.studyStub.getStudyJobMetadata(this.currentIdentity.tenantId,this.studyId,this.studyId+"-0"),n?(this._studyMetadataResult=n,[3,3]):[3,1];case 1:return l=this,[4,this.studyStub.getStudyMetadata(this.currentIdentity.tenantId,this.studyId)];case 2:l._studyMetadataResult=u.sent(),u.label=3;case 3:return e=this,[4,t];case 4:return e._studyJobMetadataResult=u.sent(),this._isStudySuccessful=!!this._studyMetadataResult.study.data.succeededJobCount,this._statusMessage="",this.deferredPromise.resolve(),[2]}})})},n}(),D$=function(){function n(n,t,l,e,u){this.identity=n,this.studyUtilities=t,this.json=l,this.executeStudyAndWaitFactory=e,this.getFriendlyErrorAndLog=u}return n.prototype.execute=function(n,t,l,e,u,r){return i=this,void 0,s=function(){var i,o,s,a,c,d,b,f,p,h,g,y,m,v,w,M,C,S;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(I){switch(I.label){case 0:return I.trys.push([0,6,,7]),i=this.identity.get(),o={name:i.userId,studyType:bn.pacejkaCanopyConverter,simVersion:n,sources:[{configType:un.pacejkaTyres,name:"Tyres",isEdited:!1}],properties:[],study:{simTypes:[cn.PacejkaCanopyConverter],simConfig:{pacejkaTyres:{name:t,front:l,rear:e,frontL:u,rearL:r}},exploration:void 0},isTransient:!0},[4,(s=this.executeStudyAndWaitFactory.create()).execute(o)];case 1:return I.sent(),(a=s.studyMetadataResult)&&a.study.data.errorMessages&&a.study.data.errorMessages.length?[2,new N$(void 0,a.study.data.errorMessages)]:(c=s.studyJobMetadataResult)&&c.studyJob.data.errorMessages&&c.studyJob.data.errorMessages.length?[2,new N$(void 0,c.studyJob.data.errorMessages)]:s.isStudySuccessful?(d=this.downloadText(a,c,"frontCanopyTyres.json"),b=this.downloadText(a,c,"rearCanopyTyres.json"),f=this.downloadText(a,c,"frontLeftCanopyTyres.json"),p=this.downloadText(a,c,"rearLeftCanopyTyres.json"),[4,d]):[2,new N$(void 0,["Failed to execute study."])];case 2:return h=I.sent(),[4,b];case 3:return g=I.sent(),[4,f];case 4:return y=I.sent(),[4,p];case 5:return m=I.sent(),v=this.json.parse(h).config,w=this.json.parse(g).config,M=y?this.json.parse(y).config:void 0,C=m?this.json.parse(m).config:void 0,[2,new N$(new function(n,t,l,e,u){this.front=n,this.rear=t,this.frontL=l,this.rearL=e,this.type=u}(v,w,M,C,"Canopy"),[])];case 6:return S=I.sent(),[2,new N$(void 0,[this.getFriendlyErrorAndLog.execute(S)])];case 7:return[2]}})},new((o=void 0)||(o=Promise))(function(n,t){function l(n){try{u(s.next(n))}catch(n){t(n)}}function e(n){try{u(s.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new o(function(n){n(t.value)}).then(l,e)}u((s=s.apply(i,[])).next())});var i,o,s},n.prototype.downloadText=function(n,t,l){return this.studyUtilities.downloadText(t.studyJob.tenantId,n.study.documentId,t.studyJob.documentId,t.accessInformation.url,t.accessInformation,l)},n}(),N$=function(n,t){this.tyres=n,this.errorMessages=t},U$=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},Q$=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},J$=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},$$=function(){function n(n,t,l,e){this.timer=n,this.convertPacejkaJsonToCanopy=t,this.loadingDialog=l,this.confirmationDialog=e}return n.prototype.create=function(n,t){return new H$(n,t,this.timer,this.convertPacejkaJsonToCanopy,this.loadingDialog,this.confirmationDialog)},n}(),H$=function(){function n(n,t,l,e,u,r){this.simVersion=n,this.jsonEditor=t,this.timer=l,this.convertPacejkaJsonToCanopy=e,this.loadingDialog=u,this.confirmationDialog=r}return n.prototype.execute=function(){return Q$(this,void 0,void 0,function(){var n,t;return J$(this,function(l){switch(l.label){case 0:return(n=this.jsonEditor.editors["root.tyres"].getValue()).name.startsWith("Pacejka")?[4,this.loadingDialog.showUntilFinished(this.convertPacejkaJsonToCanopy.execute(this.simVersion,n.name,n.front,n.rear,n.frontL,n.rearL),"Converting tyres...")]:[2];case 1:return(t=l.sent()).errorMessages&&t.errorMessages.length>0?[4,this.confirmationDialog.show("The following errors occurred during the conversion:","TIR Import","OK","OK",void 0,t.errorMessages)]:[3,3];case 2:return l.sent(),[2];case 3:return[4,this.saveTyres(t.tyres)];case 4:return l.sent(),[2]}})})},n.prototype.saveTyres=function(n){return Q$(this,void 0,void 0,function(){var t,l,e,u,r,i,o;return J$(this,function(s){switch(s.label){case 0:return n&&n.front&&n.rear?(l=(t=this.jsonEditor.editors["root.tyres"]).display_text.findIndex(function(t){return-1!==t.indexOf(n.type)}),[4,this.switchEditorNode(t,l)]):[2,Promise.resolve()];case 1:for(s.sent(),e=this.jsonEditor.getValue(),(u=U$({},e,{tyres:U$({},e.tyres)})).tyres.name=n.type,r=0,i=["front","rear","frontL","rearL"];r<i.length;r++)n[o=i[r]]&&(u.tyres[o]=U$({},u.tyres[o],n[o]));return this.jsonEditor.setValue(u),[2,Promise.resolve()]}})})},n.prototype.switchEditorNode=function(n,t){return Q$(this,void 0,void 0,function(){return J$(this,function(l){switch(l.label){case 0:return n.switcher.value===n.display_text[t]?[2]:(n.switchEditor(t),n.switcher.value=n.display_text[t],n.refreshValue(),n.onChange(!0),[4,this.timer.yield()]);case 1:return l.sent(),[2]}})})},n}(),q$=function(){function n(){}return n.prototype.execute=function(n){for(var t=n.split("\n").map(function(n){return n.replace(/\$.*/,"").trim()}).filter(function(n){return n.length>0}),l={},e=0;e<t.length;++e){var u=t[e];if(""!==u)if(this.getAsCommentHeader(u))e=this.findSectionFinalLine(t,e+1);else{var r=this.getAsDataHeader(u);if(r){var i=e+1,o=this.findSectionFinalLine(t,i),s=t.slice(i,o+1);l[r]=this.readSectionData(s),e=o}}}return l},n.prototype.readSectionData=function(n){return 0===n.length?{}:this.getAsTableHeader(n[0])?this.readSectionTable(n.slice(1)):this.readSectionParameters(n)},n.prototype.readSectionTable=function(n){for(var t=[],l=0;l<n.length;++l){var e=n[l].replace(/ +/g," ").split(" ").map(function(n){return bj(n)});t.push(e)}return t},n.prototype.readSectionParameters=function(n){for(var t={},l=0;l<n.length;++l){var e=n[l].split("=").map(function(n){return n.trim()});if(2===e.length){var u=e[0],r=e[1],i=this.getAsQuotedString(r);t[u]=Object(fe.isUndefined)(i)?bj(r):i}}return t},n.prototype.findSectionFinalLine=function(n,t){for(var l=t;l<n.length;++l){var e=n[l];if(this.getAsDataHeader(e)||this.getAsCommentHeader(e))return l-1}return n.length-1},n.prototype.getAsQuotedString=function(n){return this.getAsEnclosed(n,"'","'")},n.prototype.getAsDataHeader=function(n){return this.getAsEnclosed(n,"[","]")},n.prototype.getAsCommentHeader=function(n){return this.getAsEnclosed(n,"(",")")},n.prototype.getAsTableHeader=function(n){return this.getAsEnclosed(n,"{","}")},n.prototype.getAsEnclosed=function(n,t,l){if(n.length>=t.length+l.length&&n.startsWith(t)&&n.endsWith(l))return n.substr(t.length,n.length-t.length-l.length)},n}(),B$=function(){function n(){}return n.prototype.execute=function(n,t){var l=Object(Tt.a)(t),e=[];if(n.MODEL){var u=n.MODEL;if(l<3523)u&&u.TYRESIDE?"left"!==u.TYRESIDE.toLowerCase()&&e.push("TIR file should be for LEFT side, but is defined for "+u.TYRESIDE+" side."):e.push("TIR file should be for LEFT side, but the side is not specified in this file.");else if(u&&u.TYRESIDE){var r=u.TYRESIDE.toLowerCase();r.startsWith("l")?n.sideDefinition="Left":r.startsWith("r")&&(n.sideDefinition="Right")}u&&(u.PROPERTY_FILE_FORMAT||u.FITTYP)?"MF52"!==u.PROPERTY_FILE_FORMAT&&52!==u.FITTYP&&"MF61"!==u.PROPERTY_FILE_FORMAT&&61!==u.FITTYP&&e.push("TIR file should be for Pacejka 5.2 or 6.1, but the version defined in the file was "+(u.PROPERTY_FILE_FORMAT||u.FITTYP)+"."):e.push("TIR file should be for Pacejka 5.2 or 6.1, but the version was not detected in this file.");var i=n.SCALING_COEFFICIENTS;if(i){var o="LFZO",s="LFZ0";l<2632&&(o="LFZ0",s="LFZO"),i[o]&&(i[s]=i[o],delete i[o])}}return new z$(e)},n}(),z$=function(n){this.warnings=n},K$=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},W$=function(){function n(n,t,l){this.convertPacejkaTirToJson=n,this.processPacejkaJson=t,this.confirmationDialog=l}return n.prototype.create=function(n){return new G$(n,this.convertPacejkaTirToJson,this.processPacejkaJson,this.confirmationDialog)},n}(),G$=function(){function n(n,t,l,e){this.simVersion=n,this.convertPacejkaTirToJson=t,this.processPacejkaJson=l,this.confirmationDialog=e}return n.prototype.execute=function(n,t){return l=this,void 0,u=function(){var l,e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return l=this.convertPacejkaTirToJson.execute(n),e=this.processPacejkaJson.execute(l,this.simVersion),Object(Tt.a)(this.simVersion)>=3523?l.sideDefinition?[3,2]:[4,this.confirmationDialog.show("Do these Pacejka coefficients define the behaviour of a left or right tyre?","TIR file side",["Left","Right"],"Cancel")]:[3,2];case 1:if(!(u=i.sent()))return[2,void 0];l.sideDefinition=u,i.label=2;case 2:return e.warnings&&e.warnings.length?[4,this.confirmationDialog.show("The following warnings occurred during the import. Would you like to continue?","TIR Import","Continue","Cancel",e.warnings)]:[3,4];case 3:if(!i.sent())return[2,void 0];i.label=4;case 4:return r=this.getParametersWithoutPacejka(t),[2,K$({},r,l)]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},n.prototype.getParametersWithoutPacejka=function(n){var t=K$({},n);for(var l in t)t.hasOwnProperty(l)&&l.toUpperCase()===l&&delete t[l];return t},n}(),Y$=function(){function n(){}return n.prototype.canDeactivate=function(n){return!n.routerCanDeactivate||n.routerCanDeactivate()},n}(),Z$=function(){function n(n,t,l){this.pageSecurity=n,this.authorizePage=t,this.router=l}return n.prototype.canActivate=function(n,t){switch(this.authorizePage.execute(this.pageSecurity)){case WJ.authorized:return!0;case WJ.loginRequired:return this.router.navigate(["/sign-in"]),!1;default:return this.router.navigate(["/not-authorized"]),!1}},n.prototype.canActivateChild=function(n,t){return this.canActivate(n,t)},n}(),X$=function(){function n(n,t,l,e){this.requireUnauthenticated=n,this.requireAuthenticated=t,this.requiredRoles=l,this.roleCheckType=e}return n.unauthenticated=new n(!0,!1,[],KJ.none),n.authenticated=new n(!1,!0,[],KJ.none),n.administrator=new n(!1,!0,[M],KJ.all),n.tenantAdministrator=new n(!1,!0,[M,C],KJ.atLeastOne),n.administratorOrTest=new n(!1,!0,[M,S],KJ.atLeastOne),n}(),nH=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),tH=function(n){function t(t,l){return n.call(this,X$.unauthenticated,t,l)||this}return nH(t,n),t}(Z$),lH=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),eH=function(n){function t(t,l){return n.call(this,X$.authenticated,t,l)||this}return lH(t,n),t}(Z$),uH=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),rH=function(n){function t(t,l){return n.call(this,X$.administrator,t,l)||this}return uH(t,n),t}(Z$),iH=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),oH=function(n){function t(t,l){return n.call(this,X$.tenantAdministrator,t,l)||this}return iH(t,n),t}(Z$),sH=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),aH=function(n){function t(t,l){return n.call(this,X$.administratorOrTest,t,l)||this}return sH(t,n),t}(Z$);function cH(n){return"function"==typeof n.component?n.component.name:"string"==typeof n.component?n.component:"null"}function dH(n){var t="["+cH(n)+"]",l="";return n.url&&n.url.length&&(l=n.url.join("/")),"("+t+l+")"}function bH(n,t){void 0===t&&(t=!0);var l=n,e=n.pathFromRoot.map(function(n){return dH(n)}).join("/")+"*";if(t)for(;l.firstChild;)e+="/"+dH(l=l.firstChild);return e}function fH(n){var t=/\W(worksheets\/\w+\/\w+)($|\W)/.exec(n);if(t)return t[1]}var pH=function(){function n(){this.enableLogging=!1}return n.prototype.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.enableLogging&&console.log(n.join("\n"))},n.prototype.shouldDetach=function(n){var t=!1;return"EditWorksheetPage"===cH(n)&&(t=!1),this.log("CustomReuseStrategy:shouldDetach",bH(n),t),t},n.prototype.store=function(n,t){var l=!1;if("EditWorksheetPage"===cH(n)){var e=bH(n,!1);this.lastWorksheet=new hH(e,t),l=!0}this.log("CustomReuseStrategy:store",bH(n),n,t,l)},n.prototype.shouldAttach=function(n){var t=!1;return this.isCachedWorksheet(n)&&(t=!0),this.log("CustomReuseStrategy:shouldAttach",bH(n),n,t),t},n.prototype.retrieve=function(n){var t=void 0;return this.isCachedWorksheet(n)&&(t=this.lastWorksheet.handle),this.log("CustomReuseStrategy:retrieve",bH(n),n,!!t),t},n.prototype.shouldReuseRoute=function(n,t){var l,e=bH(n),u=bH(t),r=fH(e),i=fH(u);return this.log("CustomReuseStrategy:shouldReuseRoute",e,u,l=!(!r||!i||r!==i)||n.routeConfig===t.routeConfig&&!!t.data.canReuse),l},n.prototype.isCachedWorksheet=function(n){var t=bH(n,!1);return"EditWorksheetPage"===cH(n)&&this.lastWorksheet&&this.lastWorksheet.key===t},n}(),hH=function(n,t){this.key=n,this.handle=t},gH=function(){function n(n){this.router=n}return n.prototype.resolve=function(n,t){var l=kt.get(n.params.configType);return l?Promise.resolve(l):(this.router.navigate(["/"]),!1)},n}(),yH={isDefault:!0},mH={isDefault:!0},vH=[{path:"studies",component:xb,canActivate:[eH]},{path:"studies/:tenantId",component:xb,canActivate:[eH]},{path:"studies/:tenantId/:studyId",component:wy,canActivate:[eH]},{path:"studies/:tenantId/:studyId/edit",component:Mm,canActivate:[eH],canDeactivate:[Y$]},{path:"studies/:tenantId/:studyId/jobs",component:Lm,canActivate:[eH]},{path:"studies/:tenantId/:studyId/jobs/:jobId",component:rv,canActivate:[eH]},{path:"studies/:tenantId/:userId/:studyId",redirectTo:"studies/:tenantId/:studyId"},{path:"studies/:tenantId/:userId/:studyId/edit",redirectTo:"studies/:tenantId/:studyId/edit"},{path:"studies/:tenantId/:userId/:studyId/jobs",redirectTo:"studies/:tenantId/:studyId/jobs"},{path:"studies/:tenantId/:userId/:studyId/jobs/:jobId",redirectTo:"studies/:tenantId/:studyId/jobs/:jobId"},{path:"configs/:"+Mt,component:Mw,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:"+Mt+"/create",component:OM,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:"+Mt+"/:tenantId",component:Mw,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:"+Mt+"/:tenantId/:configId/edit",component:DS,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"configs/:"+Mt+"/:tenantId/:configId",component:aI,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:"+Mt+"/:tenantId/:userId/:configId/edit",redirectTo:"configs/:"+Mt+"/:tenantId/:configId/edit"},{path:"configs/:"+Mt+"/:tenantId/:userId/:configId",redirectTo:"configs/:"+Mt+"/:tenantId/:configId"},{path:"default-configs/:simVersion/:"+Mt+"/:configName/edit",component:DS,data:yH,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"default-configs/:simVersion/:"+Mt+"/:configName",component:aI,data:mH,resolve:{configType:gH},canActivate:[eH]}],wH={canReuse:!0},MH={isStaged:!0},CH={isStaged:!0},SH=[{path:"",component:$t,canActivate:[eH]},{path:"register",component:rl,canActivate:[oH]},{path:"register/:tenantId",component:rl,canActivate:[oH]},{path:"sign-in",component:Yl},{path:"sign-out",component:ee},{path:"sign-in/forgot",component:Ve,canActivate:[tH]},{path:"sign-in/reset",component:Ue},{path:"account-settings",component:Mu,canActivate:[eH]},{path:"account-settings/:tenantId/:userId",component:Mu,canActivate:[eH]},{path:"tenants",component:Co,canActivate:[eH]},{path:"tenants/:tenantId",component:Co,canActivate:[eH]},{path:"tenant-account-settings",component:es,canActivate:[oH]},{path:"tenant-account-settings/:tenantId",component:es,canActivate:[oH]}].concat(vH,[{path:"pool",component:SI,canActivate:[eH]},{path:"view/overlay",component:kI,canActivate:[eH]},{path:"admin",component:hx,canActivate:[rH]},{path:"support-sessions",component:$x,canActivate:[rH]},{path:"admin/documents",component:oO,canActivate:[aH]},{path:"create-tenant",component:OO,canActivate:[rH]},{path:"upvoty",component:DO},{path:"worksheets",component:qO,canActivate:[eH]},{path:"worksheets/docked",component:WO,canActivate:[eH]},{path:"worksheets/:tenantId",component:qO,canActivate:[eH]},{path:"worksheets/:tenantId/:worksheetId",component:RE,canActivate:[eH],canDeactivate:[Y$],data:wH,children:vH.slice()},{path:"staged/:"+Mt+"/edit",component:DS,data:MH,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"staged/:"+Mt,component:aI,data:CH,resolve:{configType:gH},canActivate:[eH]},{path:"downloads/:tenantId",component:ZE,canActivate:[eH]},{path:"encryption-channel-whitelists/:tenantId",component:b_,canActivate:[eH]},{path:"wiki",pathMatch:"prefix",children:[{path:"**",component:g_}],canActivate:[eH]},{path:"not-authorized",component:S_}]),IH=(b.p.forRoot(SH,{enableTracing:!1}),function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})}),xH=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},OH=function(){function n(n,t){this.loadDelegate=n,this.getFriendlyErrorAndLog=t,this._isLoaded=!1}return n.prototype.performLoad=function(n){return IH(this,void 0,void 0,function(){var t,l;return xH(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),this._errorMessage=void 0,this._isLoaded=!1,this.loadTask=this.loadDelegate(),t=this,[4,this.loadTask];case 1:return t._value=e.sent(),[3,4];case 2:if(l=e.sent(),this._errorMessage=this.getFriendlyErrorAndLog.execute(l),n)throw l;return[3,4];case 3:return this.loadTask=void 0,this._isLoaded=!0,[7];case 4:return[2]}})})},Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(n){this._value=n,this._isLoaded=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"errorMessage",{get:function(){return this._errorMessage},enumerable:!0,configurable:!0}),n.prototype.load=function(){return this.loadInner(!0)},n.prototype.tryLoad=function(){return this.loadInner(!1)},n.prototype.loadInner=function(n){return IH(this,void 0,void 0,function(){return xH(this,function(t){switch(t.label){case 0:return this._isLoaded?[2]:this.loadTask?[4,this.loadTask]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,this.performLoad(n)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},Object.defineProperty(n.prototype,"isLoading",{get:function(){return!!this.loadTask},enumerable:!0,configurable:!0}),n.prototype.reset=function(){this._errorMessage=void 0,this._value=void 0,this._isLoaded=!1},n.prototype.clone=function(){var t=new n(this.loadDelegate,this.getFriendlyErrorAndLog);return this.isLoaded&&(t.value=this.value),t},n}(),kH=function(){function n(n,t){this.studyStub=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l){var e=this;return new OH(function(){return e.studyStub.getStudy(n,t,l)},this.getFriendlyErrorAndLog)},n}(),TH=function(){function n(n,t){this.studyStub=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l){var e=this;return new OH(function(){return u=e,void 0,i=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return n.isLoading?[4,n.load()]:[3,2];case 1:e.sent(),e.label=2;case 2:return n.isLoaded?[2,n.value]:[4,this.studyStub.getStudyMetadata(t,l)];case 3:return[2,e.sent()]}})},new((r=void 0)||(r=Promise))(function(n,t){function l(n){try{o(i.next(n))}catch(n){t(n)}}function e(n){try{o(i.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new r(function(n){n(t.value)}).then(l,e)}o((i=i.apply(u,[])).next())});var u,r,i},this.getFriendlyErrorAndLog)},n}(),PH=function(){function n(n,t){this.studyStub=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l,e){var u=this;return new OH(function(){return u.studyStub.getStudyJob(n,t,l,e)},this.getFriendlyErrorAndLog)},n}(),EH=function(){function n(n,t){this.studyStub=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l,e){var u=this;return new OH(function(){return r=u,void 0,o=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return n.isLoading?[4,n.load()]:[3,2];case 1:u.sent(),u.label=2;case 2:return n.isLoaded?[2,n.value]:[4,this.studyStub.getStudyJobMetadata(t,l,e)];case 3:return[2,u.sent()]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},this.getFriendlyErrorAndLog)},n}(),_H=function(){function n(n,t){this.studyUtilities=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l,e){var u=this;return new OH(function(){return r=u,void 0,o=function(){var u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,n.load()];case 1:return r.sent(),[4,this.studyUtilities.downloadInfo(t,l,e,n.value.accessInformation.url,n.value.accessInformation)];case 2:return[2,void 0===(u=r.sent())?void 0:u.split("\n")]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},this.getFriendlyErrorAndLog)},n}(),VH=function(){function n(n,t){this.studyUtilities=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l,e){var u=this;return new OH(function(){return r=u,void 0,o=function(){var u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,n.load()];case 1:return r.sent(),[4,this.studyUtilities.downloadWarnings(t,l,e,n.value.accessInformation.url,n.value.accessInformation)];case 2:return[2,void 0===(u=r.sent())?void 0:u.split("\n")]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},this.getFriendlyErrorAndLog)},n}(),jH=function(){function n(n,t){this.studyUtilities=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l,e){var u=this;return new OH(function(){return r=u,void 0,o=function(){var u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,n.load()];case 1:return r.sent(),[4,this.studyUtilities.downloadDiagnosis(t,l,e,n.value.accessInformation.url,n.value.accessInformation)];case 2:return[2,void 0===(u=r.sent())?void 0:u.split("\n")]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},this.getFriendlyErrorAndLog)},n}(),RH=function(){function n(n,t){this.studyUtilities=n,this.getFriendlyErrorAndLog=t}return n.prototype.create=function(n,t,l,e){var u=this;return new OH(function(){return r=u,void 0,o=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return[4,n.load()];case 1:return u.sent(),[4,this.studyUtilities.downloadScalarResultSets(n.value.simTypes,t,l,e,n.value.accessInformation.url,n.value.accessInformation)];case 2:return[4,u.sent()];case 3:return[2,u.sent()]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},this.getFriendlyErrorAndLog)},n}(),FH=function(){function n(n){this.getFriendlyErrorAndLog=n}return n.prototype.create=function(n){var t=this;return new OH(function(){return l=t,void 0,u=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return[4,n.load()];case 1:return t.sent(),[2,n.value.study.name]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},this.getFriendlyErrorAndLog)},n}(),AH=function(){function n(n){this.getFriendlyErrorAndLog=n}return n.prototype.create=function(n){var t=this;return new OH(function(){return l=t,void 0,u=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return[4,n.load()];case 1:return t.sent(),[2,n.value.studyJob.name]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},this.getFriendlyErrorAndLog)},n}(),LH=function(){function n(n){this.getFriendlyErrorAndLog=n}return n.prototype.create=function(n,t){var l=this;return new OH(function(){return e=l,void 0,r=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return n.value?[2,n.value.simTypes]:[4,t.tryLoad()];case 1:return l.sent(),t.value?[2,t.value.simTypes]:[2,[]]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},this.getFriendlyErrorAndLog)},n}(),DH=function(){function n(){}return n.prototype.execute=function(n){return{name:n.name,data:n.data,properties:n.properties||{},notes:n.notes,deleteRequested:n.deleteRequested,parentWorksheetId:n.parentWorksheetId}},n}(),NH=function(){function n(n,t,l){this.getSimVersion=n,this.json=t,this.worksheetStub=l}return n.prototype.execute=function(n,t,l,e){return u=this,void 0,i=function(){var u,r,i,o,s,a,c,d,b=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(f){switch(f.label){case 0:return l&&l.rows&&l.rows.length?!1===e&&l.sourceWorksheetId===t&&l.sourceTenantId===n?[2,l]:(u=new Set,this.forEachTenantConfig(l,function(n){u.add(n.reference.tenant.targetId)}),r=new Map,e&&this.forEachDefaultConfig(l,function(n){var t={configType:n.configType,name:n.reference.default.name};r.set(b.defaultConfigIdToString(t),t)}),0===u.size&&0===r.size?[2,l]:(i=Array.from(u),o=Array.from(r.values()),[4,this.worksheetStub.postDuplicateConfigs(n,t,{sourceTenantId:l.sourceTenantId,sourceWorksheetId:l.sourceWorksheetId,sourceConfigIds:i,sourceDefaultConfigIds:o},this.getSimVersion.currentSimVersion)])):[2,l];case 1:if((s=f.sent()).targetConfigIds.length!==i.length)throw new Error("Unexpected number of target config IDs returned from duplication request.");for(a={},d=0;d<i.length;++d)a[i[d]]=s.targetConfigIds[d];if(l=this.json.clone(l),this.forEachTenantConfig(l,function(t){t.reference.tenant.tenantId=n,t.reference.tenant.targetId=a[t.reference.tenant.targetId]}),e){for(c={},d=0;d<o.length;++d)c[this.defaultConfigIdToString(o[d])]=s.targetDefaultConfigIds[d];this.forEachDefaultConfig(l,function(t){var l={configType:t.configType,name:t.reference.default.name};delete t.reference.default,t.reference.tenant={tenantId:n,targetId:c[b.defaultConfigIdToString(l)]}})}return[2,l]}})},new((r=void 0)||(r=Promise))(function(n,t){function l(n){try{o(i.next(n))}catch(n){t(n)}}function e(n){try{o(i.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new r(function(n){n(t.value)}).then(l,e)}o((i=i.apply(u,[])).next())});var u,r,i},n.prototype.defaultConfigIdToString=function(n){return n.configType+"/"+n.name},n.prototype.forEachTenantConfig=function(n,t){this.forEachConfig(n,function(n){return!!n.tenant},t)},n.prototype.forEachDefaultConfig=function(n,t){this.forEachConfig(n,function(n){return!!n.default},t)},n.prototype.forEachConfig=function(n,t,l){for(var e=0,u=n.rows;e<u.length;e++){var r=u[e];if(r.configs)for(var i=0,o=r.configs;i<o.length;i++){var s=o[i];s.reference&&s.configType!==un.telemetry&&t(s.reference)&&l(s)}}},n}(),UH=function(n,t,l,e){return new(l||(l=Promise))(function(u,r){function i(n){try{s(e.next(n))}catch(n){r(n)}}function o(n){try{s(e.throw(n))}catch(n){r(n)}}function s(n){n.done?u(n.value):new l(function(t){t(n.value)}).then(i,o)}s((e=e.apply(n,t||[])).next())})},QH=function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},JH=function(){function n(n,t){this.studyStub=n,this.studyNotifier=t}return n.prototype.tryLoadIfNotForbidden=function(n,t,l){return UH(this,void 0,void 0,function(){var e;return QH(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.load(n,t,l)];case 1:return[2,u.sent()];case 2:if((e=u.sent()).isUnauthorizedError||e.isFromApi&&404===e.response.status)return[2,void 0];throw e;case 3:return[2]}})})},n.prototype.load=function(n,t,l){return UH(this,void 0,void 0,function(){return QH(this,function(e){switch(e.label){case 0:return[4,this.studyStub.getStudy(n,t,l)];case 1:return[2,e.sent()]}})})},n.prototype.loadMetadata=function(n,t){return UH(this,void 0,void 0,function(){return QH(this,function(l){switch(l.label){case 0:return[4,this.studyStub.getStudyMetadata(n,t)];case 1:return[2,l.sent()]}})})},n.prototype.loadCompleted=function(n,t,l){return UH(this,void 0,void 0,function(){var e,u,r;return QH(this,function(i){switch(i.label){case 0:e=j$(),u=this.studyNotifier.studyCompleted.subscribe(function(n){n.studyId===t&&e.resolve()}),i.label=1;case 1:return i.trys.push([1,,5,6]),[4,this.loadMetadata(n,t)];case 2:return Mk(i.sent().study.data)?[3,4]:[4,e.promise];case 3:i.sent(),i.label=4;case 4:return[3,6];case 5:return u.unsubscribe(),[7];case 6:return[4,this.load(n,t,l)];case 7:return Mk((r=i.sent()).study.data)||console.warn("Study was not complete."),[2,r]}})})},n}(),$H=function(){function n(n,t,l,e){this.identity=n,this.canopyFileLoaderFactory=t,this.convertTelemetryConfigToStudy=l,this.loadingDialog=e}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r,i,o,s,a,c;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(d){switch(d.label){case 0:return(e=this.canopyFileLoaderFactory.create()).addStudy(t.study.tenantId,t.study.documentId,t.accessInformation,t.convertedSimVersion),[4,this.loadingDialog.showUntilFinished(e.loadVectorMetadata(t.study.documentId,l,"Input"),"Loading input metadata...")];case 1:u=d.sent(),r=[],i=0,o=u,d.label=2;case 2:return i<o.length?[4,this.loadingDialog.showUntilFinished(e.loadChannelData(t.study.documentId,l,"Input",(s=o[i]).name,s.binaryFormat),"Loading "+s.name+"...")]:[3,5];case 3:a=d.sent(),r.push({name:s.name,units:s.units,description:s.description,data:Array.from(a)}),d.label=4;case 4:return i++,[3,2];case 5:return[4,this.loadingDialog.showUntilFinished(this.convertTelemetryConfigToStudy.execute({channels:r},t.convertedSimVersion,n,!1,void 0,void 0),"Creating telemetry study...")];case 6:return c=d.sent(),[2,{tenantId:this.identity.get().tenantId,targetId:c.studyId}]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),HH=function(){function n(n,t,l,e,u){this.identity=n,this.worksheetStub=t,this.createWorksheetRowFromStudy=l,this.worksheetViewModelFactory=e,this.loadingDialog=u}return n.prototype.execute=function(n,t,l,e,u){return r=this,void 0,o=function(){var r,i,o,s,a,c;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(d){switch(d.label){case 0:return r=this.identity.get(),i=[],e&&(i.push({name:"support-session-type",value:"study"}),i.push({name:"support-session-id",value:t}),i.push({name:"support-session-tenant-id",value:n})),[4,this.loadingDialog.showUntilFinished(this.worksheetStub.postWorksheet(r.tenantId,{name:l,properties:i}),"Creating worksheet...")];case 1:return o=d.sent(),s=o.worksheet.worksheetId,[4,this.worksheetViewModelFactory.createFromWorksheetResult(this,o)];case 2:return a=d.sent(),[4,this.createWorksheetRowFromStudy.execute(n,t,s,u)];case 3:return c=d.sent(),[4,a.pasteRowsAsync(a.rows[0],c.clipboardContent,!1,!1)];case 4:return d.sent(),[4,this.loadingDialog.showUntilFinished(this.worksheetStub.putWorksheet(r.tenantId,s,{name:l,properties:i,outline:a.getOutline()}),"Saving data to worksheet...")];case 5:return d.sent(),[2,new qH(r.tenantId,s)]}})},new((i=void 0)||(i=Promise))(function(n,t){function l(n){try{u(o.next(n))}catch(n){t(n)}}function e(n){try{u(o.throw(n))}catch(n){t(n)}}function u(t){t.done?n(t.value):new i(function(n){n(t.value)}).then(l,e)}u((o=o.apply(r,[])).next())});var r,i,o},n.prototype.update=function(n){},n.prototype.waitForUpdate=function(){return Promise.resolve()},n.prototype.redo=function(){return Promise.resolve()},n.prototype.undo=function(){return Promise.resolve()},n}(),qH=function(n,t){this.tenantId=n,this.worksheetId=t},BH=function(){function n(n,t){this.identity=n,this.configStub=t}return n.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return t=this.identity.get(),[4,this.configStub.getConfigs(t.tenantId,un.worksheet,{itemsPerPage:1,filterCustomProperties:[{name:"support-session-id",value:n}]},void 0,P.queryOnly)];case 1:return(l=e.sent()).queryResults.documents.length?[2,l.queryResults.documents[0]]:[2,void 0]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),zH=function(){function n(n,t,l){this.getSimVersion=n,this.configStub=t,this.configLoaderUtilities=l}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return l=l||this.getSimVersion.currentSimVersion,n===un.telemetry?t.tenant?[2,Kb("Telemetry",{source:{tenantId:t.tenant.tenantId,studyId:t.tenant.targetId,jobIndex:t.tenant.jobIndex||0}})]:[2,void 0]:t.tenant?[4,this.configStub.getConfig(t.tenant.tenantId,t.tenant.targetId,void 0,l)]:[3,2];case 1:return[2,Bb(u.sent())];case 2:return t.default?(e=kt.get(n),[4,this.configLoaderUtilities.loadSimVersionConfig(e,l,t.default.name)]):[3,4];case 3:return[2,u.sent()];case 4:return[2,void 0]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),KH=function(){function n(n,t){this.getSimVersion=n,this.studyStub=t}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return[4,this.studyStub.getStudy(t.tenantId,t.targetId,l=l||this.getSimVersion.currentSimVersion)];case 1:return e=u.sent(),[2,Wb(n,e)]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),WH=function(){function n(n,t,l,e){this.configStub=n,this.identity=t,this.loadingDialog=l,this.documentUpdatedEventService=e}return n.prototype.create=function(n){return new GH(n,this.configStub,this.identity,this.loadingDialog,this.documentUpdatedEventService)},n}(),GH=function(){function n(n,t,l,e,u){this.configReference=n,this.configStub=t,this.identity=l,this.loadingDialog=e,this.documentUpdatedEventService=u,this.currentIdentity=this.identity.get()}return n.prototype.canExecute=function(n){return!(!this.configReference.tenant||!n||n.userId!==this.currentIdentity.userId)},n.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.configStub.putConfig(this.currentIdentity.tenantId,n.configId,{name:n.name,configType:n.configType,properties:ca(n.properties),config:n.data,notes:n.notes,simVersion:n.simVersion},void 0),"Saving...")];case 1:return t.sent(),this.documentUpdatedEventService.emit(this.currentIdentity.tenantId,n.configId),[2]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),YH=function(){function n(n,t,l,e,u){this.compareConfigDialog=n,this.loadingDialog=t,this.loadConfigFromReference=l,this.loadConfigFromStudyInput=e,this.saveToConfigReferenceHandlerFactory=u}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.loadConfigFromReference.execute(n,t),"Loading config...")];case 1:return e=r.sent(),[4,this.loadingDialog.showUntilFinished(this.loadConfigFromStudyInput.execute(n,l),"Loading study input...")];case 2:return u=r.sent(),[4,this.compareConfigDialog.compare(n,[new Pb("config",e,void 0),new Pb("study input",u,void 0)],this.saveToConfigReferenceHandlerFactory.create(t))];case 3:return r.sent(),[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),ZH=function(){function n(n,t,l,e,u,r){this.configLoaderDialog=n,this.loadingDialog=t,this.loadConfigFromReference=l,this.compareConfigDialog=e,this.getSimVersion=u,this.saveToConfigReferenceHandlerFactory=r}return n.prototype.ngOnInit=function(){},n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return[4,this.configLoaderDialog.loadConfig(n,this.getSimVersion.currentSimVersion,void 0,void 0,!1,!0)];case 1:return(e=i.sent())?[4,this.loadingDialog.showUntilFinished(this.loadConfigFromReference.execute(n,t),"Loading config...")]:[2];case 2:return u=i.sent(),r=[new Pb(l||"worksheet",u,void 0)],e.configId&&r.push(new Pb("selected",e.config,void 0)),[4,this.compareConfigDialog.compare(n,r,this.saveToConfigReferenceHandlerFactory.create(t))];case 3:return i.sent(),[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),XH=function(){function n(n,t,l,e){this.compareConfigDialog=n,this.loadingDialog=t,this.loadConfigFromReference=l,this.saveToConfigReferenceHandlerFactory=e}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,this.loadingDialog.showUntilFinished(this.loadConfigFromReference.execute(n,t),"Loading config 1...")];case 1:return e=r.sent(),[4,this.loadingDialog.showUntilFinished(this.loadConfigFromReference.execute(n,l),"Loading config 2...")];case 2:return u=r.sent(),[4,this.compareConfigDialog.compare(n,[new Pb("actioned config",e,void 0),new Pb("other config",u,void 0)],this.saveToConfigReferenceHandlerFactory.create(t))];case 3:return r.sent(),[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),nq=function(){function n(n,t,l,e,u){this.configStub=n,this.loadingDialog=t,this.loadConfigFromReference=l,this.getSimVersion=e,this.studyStagingArea=u}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return n!==un.telemetry?[3,2]:[4,this.loadingDialog.showUntilFinished(this.loadConfigFromReference.execute(n,t),"Loading config...")];case 1:return e=i.sent(),this.studyStagingArea.stage(n,void 0,void 0,(l||e.name||"Config")+(t.tenant.jobIndex?" - Job Index "+t.tenant.jobIndex:""),e.data,[],void 0,Od,!1),[2];case 2:return t.default?[4,this.loadingDialog.showUntilFinished(this.loadConfigFromReference.execute(n,t),"Loading config...")]:[3,4];case 3:return e=i.sent(),this.studyStagingArea.stage(n,void 0,t.default.name,l,e.data,[],void 0,this.getSimVersion.currentSimVersion,!1),[2];case 4:return[4,this.loadingDialog.showUntilFinished(this.configStub.getConfig(t.tenant.tenantId,t.tenant.targetId,void 0,this.getSimVersion.currentSimVersion),"Loading config...")];case 5:return u=i.sent(),r=ye.objectToList(u.config.properties),this.studyStagingArea.stage(n,u.config.userId,u.config.documentId,u.config.name,u.config.data,r,u.config.notes,u.convertedSimVersion,!1),[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),tq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),lq=function(n){function t(t,l,e){var u=n.call(this)||this;return u.identity=t,u.getSimVersion=l,u.router=e,u}return tq(t,n),t.prototype.canExecute=function(n){return n.isConfigOrStudy()&&n.isSingleRow&&n.target.isResolved},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return this.canExecute(n)?(t=this.getSimVersion.currentSimVersion,l=void 0,e="/",n.worksheetContext.isDocked||(l={relativeTo:n.worksheetContext.route},e=""),n.isStudy()?[4,this.router.navigate([e+"studies",(u=n.target).populated.reference.tenantId,u.populated.reference.targetId],l)]:[3,2]):[2,Hk.NoUpdate];case 1:return r.sent(),[3,9];case 2:return(u=n.target).isTelemetry?u.populated.reference.tenant?[4,this.router.navigate([e+"studies",u.populated.reference.tenant.tenantId,u.populated.reference.tenant.targetId],l)]:[3,4]:[3,5];case 3:r.sent(),r.label=4;case 4:return[3,9];case 5:return u.populated.reference.tenant?[4,this.router.navigate([e+"configs",u.unpopulated.configTypePluralKey,u.populated.reference.tenant.tenantId,u.populated.reference.tenant.targetId,"edit"],l)]:[3,7];case 6:return r.sent(),[3,9];case 7:return u.populated.reference.default?[4,this.router.navigate([e+"default-configs",t,u.unpopulated.configTypePluralKey,u.populated.reference.default.name,"edit"],l)]:[3,9];case 8:r.sent(),r.label=9;case 9:return[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;if(this.canExecute(n)){var e=this.identity.get(),u=function(){return l.execute(n)},r=hk.enter;if(n.isStudy())t.push(new dk("View Study","view-button",u,"",r));else{var i=n.target;i.isTelemetry?i.populated.reference.tenant&&t.push(new dk("View "+i.unpopulated.configTypeName,"view-button",u,"",r)):(i.populated.reference.tenant&&t.push(new dk((i.isReadOnly(e.userId)?"View":"Edit")+" "+i.unpopulated.configTypeName,"view-button",u,"",r)),i.populated.reference.default&&t.push(new dk("View "+i.unpopulated.configTypeName,"view-button",u,"",r)))}}},t}(Uk),eq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),uq=function(n){function t(t,l){var e=n.call(this)||this;return e.identity=t,e.promptAndSetOwnership=l,e}return eq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();if(n.isConfigOrStudy()&&n.isSingleRow&&n.target.isReadOnly(t.userId))if(n.isConfig()){var l=n.target.reference;if(l&&l.tenant){if(n.target.configType!==un.telemetry)return!0;if(n.target.populated&&n.target.populated.populatedStudy.isComplete)return!0}}else if(n.target.isComplete)return!0;return!1},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:return this.canExecute(n)?(t=this.identity.get(),l=!1,n.isConfig()?[4,this.promptAndSetOwnership.execute(n.target.reference.tenant.tenantId,n.target.reference.tenant.targetId,t.userId)]:[3,2]):[2,Hk.NoUpdate];case 1:return l=e.sent(),[3,4];case 2:return[4,this.promptAndSetOwnership.execute(n.target.reference.tenantId,n.target.reference.targetId,t.userId)];case 3:l=e.sent(),e.label=4;case 4:return[2,l?Hk.UpdateOnly:Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&(n.isConfig()?t.push(new dk("Take Ownership of "+n.target.unpopulated.configTypeName,"take-ownership-button",function(){return l.execute(n)},"user")):n.isStudy()&&t.push(new dk("Take Ownership of Study","take-ownership-button",function(){return l.execute(n)},"user")))},t}(Uk),rq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),iq=function(n){function t(t){var l=n.call(this)||this;return l.identity=t,l}return rq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isStudy()&&n.worksheet.canWrite(t.userId)&&!n.target.isPopulated&&!n.target.isSubmitting},t.prototype.execute=function(n,t){return l=this,void 0,u=function(){var l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){if(!this.canExecute(n))return[2,Hk.NoUpdate];for(l=0,e=n.selectedRows;l<e.length;l++)e[l].study.unpopulated.studyType=t;return[2,Hk.GenerateColumnsOnly]})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},t.prototype.createMenuItems=function(n,t){var l=this;if(this.canExecute(n)){for(var e=[],u=function(t){e.push(new dk(t.name,t.studyType+"-button",function(){return l.execute(n,t.studyType)}))},r=0,i=n.target.underlyingData.studyTypesList;r<i.length;r++)u(i[r]);e.length&&t.push(new fk("Study Type","study-type-menu",e,!0))}},t}(Uk),oq=function(){function n(n){this.confirmationDialog=n}return n.prototype.execute=function(n,t){return l=this,void 0,u=function(){var l,e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return this.isConfig(n)?1!==t.length?[2,Bk.replaceThisReference]:!(l=n.referenceMetadata)||l.configCount<2?[2,Bk.replaceThisReference]:[4,this.confirmationDialog.show("Would you like to replace all "+l.configCount+" references?","Replace Reference",[e="Replace "+l.configCount+" references","Replace this reference"],"Cancel")]:[2,Bk.replaceThisReference];case 1:return(u=r.sent())?[2,u===e?Bk.replaceAllReferences:Bk.replaceThisReference]:[2,Bk.cancel]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},n.prototype.isConfig=function(n){return n instanceof Vk},n}(),sq=function(){function n(n){this.confirmReplaceAllReferences=n}return n.prototype.execute=function(n,t,l,e){return u=this,void 0,i=function(){var u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return Object(fe.isUndefined)(e)?[4,this.confirmReplaceAllReferences.execute(n,t)]:[3,2];case 1:e=i.sent(),i.label=2;case 2:switch(e){case Bk.replaceThisReference:return[3,3];case Bk.replaceAllReferences:return[3,8]}return[3,10];case 3:u=0,r=t,i.label=4;case 4:return u<r.length?[4,r[u].getConfig(n.configType).setConfig(l)]:[3,7];case 5:i.sent(),i.label=6;case 6:return u++,[3,4];case 7:return[3,10];case 8:return[4,n.replaceAllConfigs(l)];case 9:return i.sent(),[3,10];case 10:return[2]}})},new((r=void 0)||(r=Promise))(function(n,t){function l(n){try{o(i.next(n))}catch(n){t(n)}}function e(n){try{o(i.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new r(function(n){n(t.value)}).then(l,e)}o((i=i.apply(u,[])).next())});var u,r,i},n}(),aq=function(){function n(n,t,l,e,u,r,i){this.setConfigOrAllReferences=n,this.confirmReplaceAllReferences=t,this.confirmationDialog=l,this.loadingDialog=e,this.configLoaderDialog=u,this.identity=r,this.worksheetStub=i}return n.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e,u,r,i,o,s,a,c;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(d){switch(d.label){case 0:if(t=n.selectedRows,l=n.target,(e=this.identity.get()).tenantId!==n.worksheet.tenantId)throw new Error("You cannot load a config for a worksheet owned by another tenant.");return[4,this.confirmReplaceAllReferences.execute(n.target,t)];case 1:return(u=d.sent())===Bk.cancel?[2,Hk.NoUpdate]:(r=e.tenantId,[4,this.configLoaderDialog.loadConfig(l.configType,void 0,void 0,void 0,!0)]);case 2:return(i=d.sent())?(o=i.configId,i.userId?(s="Copy",a=void 0,i.userId!==e.userId?[3,4]:[4,this.confirmationDialog.show("Would you like to copy this config into the worksheet, or move it? Moving it will remove it from the main config list.","Copy or Move Config?",["Move",s])]):[3,9]):[2,Hk.NoUpdate];case 3:return a=d.sent(),[3,6];case 4:return[4,this.confirmationDialog.show("You do not own the selected config, so a copy of it will be made in the worksheet.","Copy Config?",[s])];case 5:a=d.sent(),d.label=6;case 6:return a?a!==s?[3,8]:[4,this.loadingDialog.showUntilFinished(this.worksheetStub.postDuplicateConfigs(r,n.worksheet.worksheetId,{sourceTenantId:r,sourceConfigIds:[o]}),"Copying...")]:[2,Hk.NoUpdate];case 7:c=d.sent(),o=c.targetConfigIds[0],d.label=8;case 8:return[3,11];case 9:return[4,this.loadingDialog.showUntilFinished(this.worksheetStub.postDuplicateConfigs(r,n.worksheet.worksheetId,{sourceTenantId:r,sourceDefaultConfigIds:[{configType:l.configType,name:i.configId}]}),"Copying...")];case 10:c=d.sent(),o=c.targetDefaultConfigIds[0],d.label=11;case 11:return[4,this.setConfigOrAllReferences.execute(n.target,t,{tenant:{tenantId:r,targetId:o}},u)];case 12:return d.sent(),[2,Hk.UpdateOnly]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),cq=function(){function n(n,t,l,e){this.setConfigOrAllReferences=n,this.confirmReplaceAllReferences=t,this.studyLoaderDialog=l,this.identity=e}return n.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e,u;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(r){switch(r.label){case 0:return[4,this.confirmReplaceAllReferences.execute(n.target,t=n.selectedRows)];case 1:return(l=r.sent())===Bk.cancel?[2,Hk.NoUpdate]:(e=this.identity.get(),[4,this.studyLoaderDialog.loadStudy(e.tenantId,e.userId,void 0)]);case 2:return(u=r.sent())?[4,this.setConfigOrAllReferences.execute(n.target,t,{tenant:{tenantId:e.tenantId,targetId:u.studyId}},l)]:[2,Hk.NoUpdate];case 3:return r.sent(),[2,Hk.UpdateOnly]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},n}(),dq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),bq=function(n){function t(t,l,e){var u=n.call(this)||this;return u.setStandardConfig=t,u.setTelemetryConfig=l,u.identity=e,u}return dq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isConfig()&&n.worksheet.canWrite(t.userId)},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:if(!this.canExecute(n))return[2,Hk.NoUpdate];switch(n.target.configType){case un.telemetry:return[3,1]}return[3,3];case 1:return[4,this.setTelemetryConfig.execute(n)];case 2:return[2,t.sent()];case 3:return[4,this.setStandardConfig.execute(n)];case 4:return[2,t.sent()]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk((n.target.populated?"Replace":"Load")+" "+n.target.unpopulated.configTypeName,"set-button",function(){return l.execute(n)},"cloud-download",n.target.isTelemetry?hk.none:hk.enter))},t}(Uk),fq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),pq=function(n){function t(t,l,e,u){var r=n.call(this)||this;return r.setConfigOrAllReferences=t,r.confirmReplaceAllReferences=l,r.importTelemetryDialog=e,r.identity=u,r}return fq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isConfig()&&n.worksheet.canWrite(t.userId)&&n.target.isTelemetry},t.prototype.execute=function(n,t){return l=this,void 0,u=function(){var l,e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return this.canExecute(n)?(l=this.identity.get(),[4,this.confirmReplaceAllReferences.execute(n.target,e=n.selectedRows)]):[2,Hk.NoUpdate];case 1:return(u=i.sent())===Bk.cancel?[2,Hk.NoUpdate]:[4,this.importTelemetryDialog.show(t)];case 2:return(r=i.sent())&&r.telemetrySubmitted?[4,this.setConfigOrAllReferences.execute(n.target,e,{tenant:{tenantId:l.tenantId,targetId:r.studyId,jobIndex:0}},u)]:[2,Hk.NoUpdate];case 3:return i.sent(),[2,Hk.UpdateOnly]}})},new((e=void 0)||(e=Promise))(function(n,t){function r(n){try{o(u.next(n))}catch(n){t(n)}}function i(n){try{o(u.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new e(function(n){n(t.value)}).then(r,i)}o((u=u.apply(l,[])).next())});var l,e,u},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Import From File","import-telemetry-button",function(t){return l.execute(n,!(!t.ctrlKey&&!t.metaKey))},"upload",hk.enter))},t}(Uk),hq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),gq=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var u in t=arguments[l])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},yq=function(n){function t(t,l,e,u){var r=n.call(this)||this;return r.setConfigOrAllReferences=t,r.confirmReplaceAllReferences=l,r.goToJob=e,r.identity=u,r}return hq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isConfig()&&n.worksheet.canWrite(t.userId)&&n.isSingleRow&&n.target.isResolved&&n.target.isTelemetry},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return this.canExecute(n)?[4,this.confirmReplaceAllReferences.execute(n.target,t=n.selectedRows)]:[2,Hk.NoUpdate];case 1:return(l=u.sent())===Bk.cancel?[2,Hk.NoUpdate]:[4,this.goToJob.loadAndPromptForJobIndex(n.target.reference.tenant.tenantId,n.target.reference.tenant.targetId)];case 2:return-1===(e=u.sent())?[2,Hk.NoUpdate]:[4,this.setConfigOrAllReferences.execute(n.target,t,{tenant:gq({},n.target.reference.tenant,{jobIndex:e})},l)];case 3:return u.sent(),[2,Hk.UpdateOnly]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Set Job Index","set-telemetry-job-index-button",function(){return l.execute(n)},"list-ol"))},t}(Uk),mq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),vq=function(n){function t(t){var l=n.call(this)||this;return l.identity=t,l}return mq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.worksheet.canWrite(t.userId)&&(n.isRowMetadata()||n.isConfigOrStudy()&&n.target.isPopulated)},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){return this.canExecute(n)?(n.worksheet.clearSelected(),[2,Hk.UpdateAndGenerateColumns]):[2,Hk.NoUpdate]})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Clear","clear-button",function(){return l.execute(n)},"square-o",hk.delete))},t}(Uk),wq=function(){function n(n){this.confirmReplaceAllReferences=n}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r,i,o,s,a,c,d=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(b){switch(b.label){case 0:return 0===(e=n.selectedRows).length?[2]:(u=1===e.length,r=!1,n.isStudy()?(t.rows.every(function(n){return(!n.study||!n.study.reference)&&n.configs&&1===n.configs.length&&n.configs[0].configType===un.telemetry})&&(t=t.withRows(t.rows.map(function(n){return{name:void 0,configs:void 0,study:d.getStudyFromClipboardRow(n)}}))),r=!(1!==t.rows.length||t.rows[0].configs&&0!==t.rows[0].configs.length||!t.rows[0].study||!t.rows[0].study.reference)):n.isConfig()?(n.target.isTelemetry&&t.rows.every(function(n){return!(n.configs&&0!==n.configs.length||!n.study||!n.study.reference)})&&(t=t.withRows(t.rows.map(function(n){return{name:void 0,configs:d.getTelemetryConfigFromClipboardRow(n),study:void 0}}))),r=!(1!==t.rows.length||!t.rows[0].configs||1!==t.rows[0].configs.length||t.rows[0].study&&t.rows[0].study.reference)):n.isRowMetadata()&&(r=1===t.rows.length),i=void 0,n.isConfig()&&r&&u?[4,this.confirmReplaceAllReferences.execute(n.target,e)]:[3,2]);case 1:if((o=b.sent())===Bk.cancel)return[2];o===Bk.replaceAllReferences&&(i=n.target.reference),b.label=2;case 2:if(s=n.isRowMetadata(),!r)return[3,7];a=0,c=e,b.label=3;case 3:return a<c.length?[4,c[a].pasteRowsAsync(t,l,s)]:[3,6];case 4:b.sent(),b.label=5;case 5:return a++,[3,3];case 6:return[3,9];case 7:return[4,e[0].pasteRowsAsync(t,l,s)];case 8:b.sent(),b.label=9;case 9:return i&&n.isConfig()&&n.target.isPopulated?[4,n.target.replaceSpecificConfigs(i,n.target.reference)]:[3,11];case 10:b.sent(),b.label=11;case 11:return[2]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n.prototype.getStudyFromClipboardRow=function(n){if(n.study&&n.study.reference)return n.study;var t=n.configs.find(function(n){return n.configType===un.telemetry});return t&&t.reference&&t.reference.tenant?{reference:t.reference.tenant}:void 0},n.prototype.getTelemetryConfigFromClipboardRow=function(n){var t=n.configs.find(function(n){return n.configType===un.telemetry});return t&&t.reference?[t]:n.study&&n.study.reference?[{configType:un.telemetry,reference:{tenant:n.study.reference},inheritReference:!1}]:void 0},n}(),Mq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Cq=function(n){function t(t,l,e){var u=n.call(this)||this;return u.clipboard=t,u.pasteContent=l,u.identity=e,u}return Mq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isConfig()&&n.worksheet.canWrite(t.userId)&&n.target.isPopulated&&!n.target.isTelemetry},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return this.canExecute(n)?(t=this.clipboard.createContent(n.worksheet.tenantId,n.worksheet.worksheetId,n.worksheet.getSelectedOutline()),n.worksheet.clearSelected(),[4,this.pasteContent.execute(n,t,!0)]):[2,Hk.NoUpdate];case 1:return l.sent(),[2,Hk.UpdateOnly]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Duplicate In Place","duplicate-in-place-button",function(){return l.execute(n)},"clone"))},t}(Uk),Sq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Iq=function(n){function t(t,l){var e=n.call(this)||this;return e.clipboard=t,e.identity=l,e}return Sq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get(),l=!0;return n.isConfigOrStudy()&&(l=n.target.isPopulated),n.worksheet.canWrite(t.userId)&&l},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){return this.canExecute(n)?(this.clipboard.copy(n.worksheet.tenantId,n.worksheet.worksheetId,n.worksheet.getSelectedOutline()),n.worksheet.clearSelected(),[2,Hk.UpdateAndGenerateColumns]):[2,Hk.NoUpdate]})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Cut"+(n.isRowMetadata()?" Row":""),"cut-button",function(){return l.execute(n)},"cut",hk.cut))},t}(Uk),xq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Oq=function(n){function t(t){var l=n.call(this)||this;return l.clipboard=t,l}return xq(t,n),t.prototype.canExecute=function(n){var t=!0;return n.isConfigOrStudy()&&(t=n.target.isPopulated),t},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){return this.canExecute(n)?(this.clipboard.copy(n.worksheet.tenantId,n.worksheet.worksheetId,n.worksheet.getSelectedOutline()),[2,Hk.NoUpdate]):[2,Hk.NoUpdate]})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Copy"+(n.isRowMetadata()?" Row":""),"copy-button",function(){return l.execute(n)},"file-o",hk.copy))},t}(Uk),kq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Tq=function(n){function t(t,l,e){var u=n.call(this)||this;return u.clipboard=t,u.pasteContent=l,u.identity=e,u}return kq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.worksheet.canWrite(t.userId)},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return this.canExecute(n)&&(t=this.clipboard.get())?[4,this.pasteContent.execute(n,t,!1)]:[2,Hk.NoUpdate];case 1:return l.sent(),[2,Hk.UpdateAndGenerateColumns]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Paste"+(n.isRowMetadata()?" Row":""),"paste-button",function(){return l.execute(n)},"paste",hk.paste))},t}(Uk),Pq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Eq=function(n){function t(t,l,e){var u=n.call(this)||this;return u.clipboard=t,u.pasteContent=l,u.identity=e,u}return Pq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get(),l=!0;return n.isStudy()?l=!1:n.isConfig()&&n.target.isTelemetry&&(l=!1),l&&n.worksheet.canWrite(t.userId)},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return this.canExecute(n)&&(t=this.clipboard.get())?[4,this.pasteContent.execute(n,t,!0)]:[2,Hk.NoUpdate];case 1:return l.sent(),[2,Hk.UpdateAndGenerateColumns]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Paste Duplicate"+(n.isRowMetadata()?" Row":""),"paste-duplicate-button",function(){return l.execute(n)},"files-o"))},t}(Uk),_q=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Vq=function(n){function t(t){var l=n.call(this)||this;return l.compareConfigToStudyInput=t,l}return _q(t,n),t.prototype.canExecute=function(n){return n.isConfig()&&n.isSingleRow&&n.target.isPopulated&&n.target.isStudyPopulated},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return this.canExecute(n)?[4,this.compareConfigToStudyInput.execute(n.target.configType,n.target.reference,n.target.row.study.reference)]:[2,Hk.NoUpdate];case 1:return t.sent(),[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Compare to Study Input","compare-to-study-input-button",function(){return l.execute(n)}))},t}(Uk),jq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Rq=function(n){function t(t){var l=n.call(this)||this;return l.stageConfigReference=t,l}return jq(t,n),t.prototype.canExecute=function(n){return n.isConfig()&&n.isSingleRow&&n.target.isPopulated},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return this.canExecute(n)?[4,this.stageConfigReference.execute(n.target.configType,n.target.reference,n.target.resolvedReference.data.name)]:[2,Hk.NoUpdate];case 1:return t.sent(),[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Stage Snapshot","stage-snapshot-button",function(){return l.execute(n)},"arrow-circle-up"))},t}(Uk),Fq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Aq=function(n){function t(t){var l=n.call(this)||this;return l.compareConfigToStaged=t,l}return Fq(t,n),t.prototype.canExecute=function(n){return n.isConfig()&&n.isSingleRow&&n.target.isPopulated},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return this.canExecute(n)?[4,this.compareConfigToStaged.execute(n.target.configType,n.target.reference)]:[2,Hk.NoUpdate];case 1:return t.sent(),[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Compare to Staged","compare-to-staged-button",function(){return l.execute(n)}))},t}(Uk),Lq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Dq=function(n){function t(t,l){var e=n.call(this)||this;return e.studyLoaderDialog=t,e.identity=l,e}return Lq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isStudy()&&n.worksheet.canWrite(t.userId)},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return this.canExecute(n)?(t=n.selectedRows,l=this.identity.get(),[4,this.studyLoaderDialog.loadStudy(l.tenantId,l.userId,void 0)]):[2,Hk.NoUpdate];case 1:if(!(e=i.sent()))return[2,Hk.NoUpdate];for(u=0,r=t;u<r.length;u++)r[u].study.setStudy({tenantId:l.tenantId,targetId:e.studyId});return[2,Hk.UpdateAndGenerateColumns]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Load","set-button",function(){return l.execute(n)},"cloud-download"))},t}(Uk),Nq=function(){function n(n,t){this.configStub=n,this.configLoaderUtilities=t}return n.prototype.execute=function(n,t,l){return e=this,void 0,r=function(){var e,u,r;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(i){switch(i.label){case 0:return(e=n.target.row.getConfig(t))&&e.isResolved?t===un.telemetry?[2,Kb(e.populated.resolvedReference.data.name,{source:{tenantId:e.populated.reference.tenant.tenantId,studyId:e.populated.reference.tenant.targetId,jobIndex:e.populated.reference.tenant.jobIndex||0}})]:e.populated.reference.tenant?[4,this.configStub.getConfig(e.populated.reference.tenant.tenantId,e.populated.reference.tenant.targetId,void 0,l)]:[3,2]:[2,void 0];case 1:if((u=i.sent()).config.subType!==t)throw new cl("Unexpected config type: "+u.config.subType);return[2,Bb(u)];case 2:if(!(r=kt.get(t)))throw new cl("Unknown config type: "+t);return[4,this.configLoaderUtilities.loadSimVersionConfig(r,l,e.populated.reference.default.name)];case 3:return[2,i.sent()]}})},new((u=void 0)||(u=Promise))(function(n,t){function l(n){try{o(r.next(n))}catch(n){t(n)}}function i(n){try{o(r.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new u(function(n){n(t.value)}).then(l,i)}o((r=r.apply(e,[])).next())});var e,u,r},n}(),Uq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Qq=function(n){function t(t,l,e,u){var r=n.call(this)||this;return r.submitStudy=t,r.loadContextConfig=l,r.promptDialog=e,r.identity=u,r}return Uq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isStudy()&&n.isSingleRow&&n.worksheet.canWrite(t.userId)},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e,u,r,i,o,s,a,c=this;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(d){switch(d.label){case 0:return this.canExecute(n)?(t=n.target,[4,n.worksheet.waitForUpdate()]):[2,Hk.NoUpdate];case 1:for(d.sent(),l=0,e=t.inputs;l<e.length;l++)if((u=e[l]).isRequired){if(!(r=t.row.getConfig(u.configType))||!r.isPopulated)throw new cl("Input "+t.underlyingData.getConfigTypeName(u.configType)+" not provided.");if(!r.isResolved)throw new cl("Input "+t.underlyingData.getConfigTypeName(u.configType)+" not found.")}if(!(i=t.underlyingData.studyTypes[t.studyType]))throw new cl("Unknown study type.","Unknown study type: "+t.studyType);return o=t.row.rowMetadata.name||"",t.isResolved&&(o=t.populated.resolvedReference.data.name),[4,this.promptDialog.show("Enter a name for the study:","Study Name",o)];case 2:if(!(s=d.sent()))return[2,Hk.NoUpdate];t.isPopulated&&t.setStudy(void 0),t.isSubmitting=!0,d.label=3;case 3:return d.trys.push([3,,5,6]),[4,this.submitStudy.execute(s,i,function(t,l){return c.loadContextConfig.execute(n,t,l)})];case 4:return a=d.sent(),t.setStudy({tenantId:a.tenantId,targetId:a.studyId}),[3,6];case 5:return t.isSubmitting=!1,[7];case 6:return[2,Hk.UpdateAndGenerateColumns]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk((n.target.populated?"Re-":"")+"Run Study","run-button",function(){return l.execute(n)},n.target.populated?"rotate-left":"arrow-right",hk.enter))},t}(Uk),Jq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),$q=function(n){function t(t){var l=n.call(this)||this;return l.identity=t,l}return Jq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isStudy()&&n.worksheet.canWrite(t.userId)&&(n.target.isResolved||n.target.isErrored)},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){switch(e.label){case 0:if(!this.canExecute(n))return[2,Hk.NoUpdate];t=0,l=n.selectedRows,e.label=1;case 1:return t<l.length?[4,l[t].study.extractStudyInputs()]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2,Hk.UpdateOnly]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Extract Inputs","extract-inputs-button",function(){return l.execute(n)},"long-arrow-left"))},t}(Uk),Hq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),qq=function(n){function t(t){var l=n.call(this)||this;return l.stageStudy=t,l}return Hq(t,n),t.prototype.canExecute=function(n){return n.isStudy()&&n.target.isComplete},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){if(!this.canExecute(n))return[2,Hk.NoUpdate];for(t=0,l=n.selectedRows;t<l.length;t++)(e=l[t].study).isComplete&&this.stageStudy.toResultsStagingArea(e.reference.tenantId,e.reference.targetId,e.resolvedReference.data.name,e.resolvedReference.data.studyDocument.jobCount);return[2,Hk.NoUpdate]})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Compare Results","compare-results-button",function(){return l.execute(n)},"area-chart"))},t}(Uk),Bq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),zq=function(n){function t(t,l){var e=n.call(this)||this;return e.promptDialog=t,e.identity=l,e}return Bq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isRowMetadata()&&n.worksheet.canWrite(t.userId)&&n.isSingleRow},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return this.canExecute(n)?[4,this.promptDialog.show("Enter a name:","Row Name",n.target.name)]:[2,Hk.NoUpdate];case 1:return t=l.sent(),Object(fe.isUndefined)(t)?[2,Hk.NoUpdate]:(n.target.name=t,[2,Hk.UpdateOnly])}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Rename","set-button",function(){return l.execute(n)},"i-cursor",hk.enter))},t}(Uk),Kq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Wq=function(n){function t(t,l){var e=n.call(this)||this;return e.promptDialog=t,e.identity=l,e}return Kq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isRowMetadata()&&n.worksheet.canWrite(t.userId)&&n.isSingleRow},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return this.canExecute(n)?[4,this.promptDialog.promptForNumber("Number of rows:","Copy Down Row",1)]:[2,Hk.NoUpdate];case 1:return(t=l.sent())?(n.worksheet.copyDownRow(n.target.row,t),[2,Hk.UpdateAndGenerateColumns]):[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Copy Row Down","copy-row-down-button",function(){return l.execute(n)},"angle-double-down"))},t}(Uk),Gq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Yq=function(n){function t(t,l){var e=n.call(this)||this;return e.promptDialog=t,e.identity=l,e}return Gq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isRowMetadata()&&n.worksheet.canWrite(t.userId)&&n.isSingleRow},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return this.canExecute(n)?[4,this.promptDialog.promptForNumber("Number of rows:","Insert Rows",1)]:[2,Hk.NoUpdate];case 1:return(t=l.sent())?(n.worksheet.insertRows(n.target.row,t),[2,Hk.UpdateAndGenerateColumns]):[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Insert Row","insert-button",function(){return l.execute(n)},"level-up"))},t}(Uk),Zq=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),Xq=function(n){function t(t,l){var e=n.call(this)||this;return e.promptDialog=t,e.identity=l,e}return Zq(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isRowMetadata()&&n.worksheet.canWrite(t.userId)&&n.isSingleRow},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(l){switch(l.label){case 0:return this.canExecute(n)?[4,this.promptDialog.promptForNumber("Number of rows:","Append Rows",1)]:[2,Hk.NoUpdate];case 1:return(t=l.sent())?(n.worksheet.appendRows(n.target.row,t),[2,Hk.UpdateAndGenerateColumns]):[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Append Row","append-button",function(){return l.execute(n)},"level-down"))},t}(Uk),nB=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),tB=function(n){function t(t){var l=n.call(this)||this;return l.identity=t,l}return nB(t,n),t.prototype.canExecute=function(n){var t=this.identity.get();return n.isRowMetadata()&&n.worksheet.canWrite(t.userId)},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(e){if(!this.canExecute(n))return[2,Hk.NoUpdate];for(t=0,l=n.selectedRows;t<l.length;t++)l[t].removeRow();return[2,Hk.UpdateAndGenerateColumns]})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Remove Row","remove-button",function(){return l.execute(n)},"times"))},t}(Uk),lB=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),eB=function(n){function t(t){var l=n.call(this)||this;return l.compareSelectedConfigs=t,l}return lB(t,n),t.prototype.canExecute=function(n){return n.isConfig()&&2===n.selectedRows.length&&n.selectedRows.every(function(t){return t.getConfig(n.target.configType).isPopulated})},t.prototype.execute=function(n){return t=this,void 0,e=function(){var t,l,e;return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(u){switch(u.label){case 0:return this.canExecute(n)?(t=n.target.reference,l=n.selectedRows.find(function(t){return t!==n.target.row}),e=l.getConfig(n.target.configType).reference,[4,this.compareSelectedConfigs.execute(n.target.configType,t,e)]):[2,Hk.NoUpdate];case 1:return u.sent(),[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Compare "+n.target.unpopulated.configTypeName,"compare-selected-button",function(){return l.execute(n)}))},t}(Uk),uB=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),rB=function(n){function t(t){var l=n.call(this)||this;return l.compareConfigToSomething=t,l}return uB(t,n),t.prototype.canExecute=function(n){return n.isConfig()&&n.isSingleRow&&n.target.isPopulated},t.prototype.execute=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(u=2&r[0]?e.return:r[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,r[1])).done)return u;switch(e=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){i.label=r[1];break}if(6===r[0]&&i.label<u[1]){i.label=u[1],u=r;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(r);break}u[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(n,i)}catch(n){r=[6,n],e=0}finally{l=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,function(t){switch(t.label){case 0:return this.canExecute(n)?[4,this.compareConfigToSomething.execute(n.target.configType,n.target.reference)]:[2,Hk.NoUpdate];case 1:return t.sent(),[2,Hk.NoUpdate]}})},new((l=void 0)||(l=Promise))(function(n,u){function r(n){try{o(e.next(n))}catch(n){u(n)}}function i(n){try{o(e.throw(n))}catch(n){u(n)}}function o(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(r,i)}o((e=e.apply(t,[])).next())});var t,l,e},t.prototype.createMenuItems=function(n,t){var l=this;this.canExecute(n)&&t.push(new dk("Compare to\u2026","compare-to-something-button",function(){return l.execute(n)}))},t}(Uk),iB=function(){function n(){}return n.prototype.execute=function(n,t){if(!(t<0||t>=n.rows.length)){for(var l=n.rows[t],e=new Set,u=0,r=l.configs;u<r.length;u++){var i=r[u];i.isResolved&&i.configType!==un.telemetry&&e.add(i.configType)}for(var o=t-1;o>=0;--o)for(var s=n.rows[o],a=function(n){var t=s.getConfig(n);if(!t||!t.isResolved)return"continue";e.delete(n);var u=l.getConfig(n),r=t.populated.resolvedReference,i=u.populated.resolvedReference;r.data.name===i.data.name&&r.data.userId===i.data.userId&&r.data.hashes.some(function(n){return i.data.hashes.some(function(t){return n.hash===t.hash})})&&u.setConfig(t.reference)},c=0,d=Array.from(e);c<d.length;c++)a(d[c])}},n}(),oB=l("h8Xd"),sB=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),aB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return sB(t,n),t.prototype.parse=function(t){return-1!==t.indexOf(";data=")&&(t=t.replace(/\(/g,"%28").replace(/\)/g,"%29")),n.prototype.parse.call(this,t)},t.prototype.serialize=function(t){var l=n.prototype.serialize.call(this,t);return-1!==l.indexOf(";data=")&&(l=decodeURI(l)),l},t}(b.c),cB=e.rb(i,[o],function(n){return e.Bb([e.Cb(512,e.k,e.gb,[[8,[s.a,Yt,Fl,ne,Pe,Le,We,Uu,ns,ys,Tb,Zy,Rm,uv,sv,Tw,GM,XS,CI,OI,AI,Ux,uO,SO,LO,JO,KO,ZO,NE,t_,h_,C_,O_,vJ]],[3,e.k],e.A]),e.Cb(5120,e.x,e.pb,[[3,e.x]]),e.Cb(4608,f.n,f.m,[e.x,[2,f.y]]),e.Cb(4608,Zt.e,Zt.e,[]),e.Cb(4608,Zt.z,Zt.z,[]),e.Cb(4608,QC.h,QC.h,[]),e.Cb(5120,e.c,e.mb,[]),e.Cb(5120,e.v,e.nb,[]),e.Cb(5120,e.w,e.ob,[]),e.Cb(4608,pr.c,pr.l,[f.d]),e.Cb(6144,e.K,null,[pr.c]),e.Cb(4608,pr.f,pr.h,[]),e.Cb(5120,pr.d,function(n,t,l,e,u,r,i,o){return[new pr.j(n,t,l),new pr.o(e),new pr.n(u,r,i,o)]},[f.d,e.C,e.E,f.d,f.d,pr.f,e.hb,[2,pr.g]]),e.Cb(4608,pr.e,pr.e,[pr.d,e.C]),e.Cb(135680,pr.m,pr.m,[f.d]),e.Cb(4608,pr.k,pr.k,[pr.e,pr.m]),e.Cb(5120,wJ.a,MJ.e,[]),e.Cb(5120,wJ.c,MJ.f,[]),e.Cb(4608,wJ.b,MJ.d,[f.d,wJ.a,wJ.c]),e.Cb(5120,e.I,MJ.g,[pr.k,wJ.b,e.C]),e.Cb(6144,pr.p,null,[pr.m]),e.Cb(4608,e.R,e.R,[e.C]),e.Cb(4608,CJ.b,MJ.c,[e.I,pr.b]),e.Cb(4608,F.i,F.o,[f.d,e.E,F.m]),e.Cb(4608,F.p,F.p,[F.i,F.n]),e.Cb(5120,F.a,function(n){return[n]},[F.p]),e.Cb(4608,F.l,F.l,[]),e.Cb(6144,F.j,null,[F.l]),e.Cb(4608,F.h,F.h,[F.j]),e.Cb(6144,F.b,null,[F.h]),e.Cb(4608,F.f,F.k,[F.b,e.t]),e.Cb(4608,F.c,F.c,[F.f]),e.Cb(5120,b.a,b.B,[b.m]),e.Cb(4608,b.f,b.f,[]),e.Cb(6144,b.h,null,[b.f]),e.Cb(135680,b.r,b.r,[b.m,e.z,e.j,e.t,b.h]),e.Cb(4608,b.g,b.g,[]),e.Cb(5120,b.F,b.x,[b.m,f.v,b.i]),e.Cb(5120,b.j,b.E,[b.C]),e.Cb(5120,e.b,function(n){return[n]},[b.j]),e.Cb(4608,aa,aa,[]),e.Cb(4608,r,r,[]),e.Cb(4608,bU,bU,[r]),e.Cb(4608,SJ,SJ,[bU]),e.Cb(4608,O,O,[aa,SJ]),e.Cb(4608,q_,q_,[]),e.Cb(4608,IJ,IJ,[]),e.Cb(4608,TJ,TJ,[O,F.c,q_,IJ]),e.Cb(4608,PJ,PJ,[TJ,b.m]),e.Cb(4608,VJ,VJ,[O,PJ]),e.Cb(4608,jJ,jJ,[]),e.Cb(4608,FJ,FJ,[jJ]),e.Cb(4608,LJ,LJ,[]),e.Cb(4608,fr,fr,[]),e.Cb(4608,NJ,NJ,[fr]),e.Cb(4608,JJ,JJ,[VJ,FJ,LJ,NJ]),e.Cb(4608,BJ,BJ,[F.c,JJ]),e.Cb(4608,zJ,zJ,[]),e.Cb(4608,D,D,[BJ,q_,zJ]),e.Cb(4608,N,N,[BJ,q_,zJ]),e.Cb(4608,U,U,[BJ,q_,zJ]),e.Cb(4608,Q,Q,[BJ,q_,zJ]),e.Cb(4608,J,J,[BJ,q_,zJ]),e.Cb(4608,H,H,[BJ,q_,zJ]),e.Cb(4608,q,q,[BJ,q_,zJ]),e.Cb(4608,B,B,[BJ,q_,zJ]),e.Cb(4608,z,z,[BJ,q_,zJ]),e.Cb(4608,K,K,[BJ,q_,zJ]),e.Cb(4608,W,W,[BJ,q_,zJ]),e.Cb(4608,G,G,[BJ,q_,zJ]),e.Cb(4608,Y,Y,[BJ,q_,zJ]),e.Cb(4608,Z,Z,[BJ,q_,zJ]),e.Cb(4608,Jl,Jl,[O,BJ,q_,IJ]),e.Cb(4608,ue,ue,[O]),e.Cb(4608,On,On,[bU]),e.Cb(4608,tl,tl,[]),e.Cb(4608,Ml,Ml,[On]),e.Cb(4608,GJ,GJ,[O]),e.Cb(4608,YJ,YJ,[O,GJ]),e.Cb(4608,wl,wl,[O,G,U]),e.Cb(4608,yl,yl,[O]),e.Cb(4608,EM,EM,[]),e.Cb(4608,qn,qn,[]),e.Cb(4608,Qr,Qr,[]),e.Cb(4608,oe,oe,[]),e.Cb(4608,ce,ce,[oe]),e.Cb(4608,Cm,Cm,[ce]),e.Cb(4608,Bp,Bp,[oe]),e.Cb(4608,Se,Se,[bU,O,aa,Q,Bp,qn]),e.Cb(4608,cJ,cJ,[SJ,b.m]),e.Cb(4608,Nn,Nn,[U]),e.Cb(4608,XI,XI,[U]),e.Cb(4608,xd,xd,[bU,O]),e.Cb(4608,Yi,Yi,[q]),e.Cb(4608,Rr,Rr,[bU,O,H]),e.Cb(4608,Fd,Fd,[bU,O,aa]),e.Cb(4608,WE,WE,[bU,O,Fd]),e.Cb(4608,Nb,Nb,[Rr,WE]),e.Cb(4608,n$,n$,[H,Q,Nb,Qr]),e.Cb(4608,ha,ha,[oe]),e.Cb(4608,fC,fC,[oe]),e.Cb(4608,t$,t$,[ce,N,Nb,Bp]),e.Cb(4608,fa,fa,[Bp,fC,ce,Q,N,t$,O]),e.Cb(4608,u$,u$,[n$,Q,ha,Nb,fa]),e.Cb(4608,eo,eo,[oe]),e.Cb(4608,oA,oA,[oe]),e.Cb(4608,s$,s$,[K]),e.Cb(4608,dJ,dJ,[bU,O,s$]),e.Cb(4608,Bf,Bf,[bU,dJ]),e.Cb(4608,Kf,Kf,[oe]),e.Cb(4608,c$,c$,[dJ]),e.Cb(4608,d$,d$,[s$]),e.Cb(4608,Um,Um,[oe]),e.Cb(4608,qr,qr,[bU,O,H,Nb]),e.Cb(4608,co,co,[bU,O,aa]),e.Cb(4608,go,go,[O,fr,u$,eo,oA,Bf,Kf,c$,d$,Um,qr,co,On]),e.Cb(4608,Bh,Bh,[Yi,go,Nb,e.C]),e.Cb(4608,PI,PI,[]),e.Cb(4608,f$,f$,[q]),e.Cb(4608,h$,h$,[f$]),e.Cb(4608,jt,jt,[O,q]),e.Cb(4608,v$,v$,[h$,jt]),e.Cb(4608,S$,S$,[q]),e.Cb(4608,Sd,Sd,[]),e.Cb(4608,$F,$F,[Qr,On]),e.Cb(4608,cA,cA,[fr,On]),e.Cb(4608,EA,EA,[n$,Sd,fr,On]),e.Cb(4608,Vt,Vt,[O,q]),e.Cb(4608,$n,$n,[qn]),e.Cb(4608,k$,k$,[O,Q,fa,ha,Qr,qn,ce]),e.Cb(4608,zw,zw,[Se,jt]),e.Cb(4608,Gw,Gw,[O,Se,Yi,q,Nb]),e.Cb(4608,P$,P$,[]),e.Cb(4608,Yw,Yw,[zw,Gw,P$,qr]),e.Cb(4608,E$,E$,[Q,O]),e.Cb(4608,V$,V$,[Sd]),e.Cb(4608,A$,A$,[xd,q,bJ,fr,O]),e.Cb(4608,D$,D$,[O,v$,Qr,A$,On]),e.Cb(4608,$$,$$,[fr,D$,Bp,ce]),e.Cb(4608,q$,q$,[]),e.Cb(4608,B$,B$,[]),e.Cb(4608,W$,W$,[q$,B$,ce]),e.Cb(4608,eM,eM,[Qr,fr,V$,EM,ce,fC,$$,W$,Bp,On]),e.Cb(4608,mM,mM,[e.C,qr,Yw,k$,Bf,Kf,Qr,E$,eM]),e.Cb(4608,gH,gH,[b.m]),e.Cb(4608,Y$,Y$,[]),e.Cb(4608,tH,tH,[YJ,b.m]),e.Cb(4608,eH,eH,[YJ,b.m]),e.Cb(4608,rH,rH,[YJ,b.m]),e.Cb(4608,oH,oH,[YJ,b.m]),e.Cb(4608,aH,aH,[YJ,b.m]),e.Cb(4608,kH,kH,[q,On]),e.Cb(4608,TH,TH,[q,On]),e.Cb(4608,PH,PH,[q,On]),e.Cb(4608,EH,EH,[q,On]),e.Cb(4608,_H,_H,[v$,On]),e.Cb(4608,VH,VH,[v$,On]),e.Cb(4608,jH,jH,[v$,On]),e.Cb(4608,RH,RH,[v$,On]),e.Cb(4608,FH,FH,[On]),e.Cb(4608,AH,AH,[On]),e.Cb(4608,LH,LH,[On]),e.Cb(4608,Ug,Ug,[kH,TH,PH,EH,_H,VH,jH,RH,FH,AH,LH]),e.Cb(4608,dC,dC,[fr,v$,O,q,xd,Ug,On]),e.Cb(4608,XM,XM,[bU,O]),e.Cb(4608,sR,sR,[e.C,Qr]),e.Cb(4608,Fb,Fb,[oe]),e.Cb(4608,hc,hc,[]),e.Cb(4608,gQ,gQ,[O,s$]),e.Cb(4608,Qs,Qs,[oe]),e.Cb(4608,$s,$s,[]),e.Cb(4608,Sm,Sm,[]),e.Cb(4608,qU,qU,[Zt.e,B,q,v$,Ml,$s,Sm,On]),e.Cb(4608,AF,AF,[]),e.Cb(4608,Jp,Jp,[]),e.Cb(4608,oV,oV,[O,Q,H,Se,Fb,ce,Bp,Qr,Nb]),e.Cb(4608,kd,kd,[co,Se,fC,ce]),e.Cb(4608,Ed,Ed,[pr.c,Bp,q]),e.Cb(4608,jd,jd,[fC,Um,ce,q,Bp]),e.Cb(4608,lS,lS,[qr]),e.Cb(4608,vg,vg,[Ug,kH,TH,Nb]),e.Cb(4608,EI,EI,[q,vg]),e.Cb(4608,Mg,Mg,[]),e.Cb(4608,Qc,Qc,[jt,zw,Se,qr]),e.Cb(4608,Kc,Kc,[W]),e.Cb(4608,Ld,Ld,[]),e.Cb(4608,jM,jM,[O,Ld,q]),e.Cb(4608,Ad,Ad,[Nb]),e.Cb(4608,fN,fN,[]),e.Cb(4608,X_,X_,[oe]),e.Cb(4608,RU,RU,[]),e.Cb(4608,xs,xs,[oe]),e.Cb(4608,dU,dU,[]),e.Cb(4608,Sg,Sg,[]),e.Cb(4608,DH,DH,[]),e.Cb(4608,vF,vF,[Q,Fb,Nb,DH,Bp,On]),e.Cb(4608,OC,OC,[oe]),e.Cb(4608,XR,XR,[Nb,Bp,EM,jM,Qr,On]),e.Cb(4608,dv,dv,[oe]),e.Cb(4608,uf,uf,[b.m]),e.Cb(4608,NH,NH,[Nb,Qr,N]),e.Cb(4608,JH,JH,[q,hJ]),e.Cb(4608,$H,$H,[O,Yi,jM,Bp]),e.Cb(4608,py,py,[Bp,O,q,Q,Nb,JH,$H]),e.Cb(4608,BP,BP,[jt,Nb]),e.Cb(4608,eE,eE,[Qr,NH,Bp,py,BP]),e.Cb(4608,sV,sV,[O,Nb,q,Ld,bJ]),e.Cb(4608,ay,ay,[Qr]),e.Cb(4608,BC,BC,[fr,O]),e.Cb(4608,P_,P_,[]),e.Cb(4608,qA,qA,[Sd,fr,On]),e.Cb(4608,UA,UA,[oe]),e.Cb(4608,HH,HH,[O,N,py,eE,Bp]),e.Cb(4608,BH,BH,[O,Q]),e.Cb(4608,Sy,Sy,[BH,HH,ce,fC,Bp,b.m,On]),e.Cb(4608,zH,zH,[Nb,Q,n$]),e.Cb(4608,KH,KH,[Nb,q]),e.Cb(4608,WH,WH,[Q,O,Bp,Sm]),e.Cb(4608,YH,YH,[Fb,Bp,zH,KH,WH]),e.Cb(4608,oE,oE,[oe]),e.Cb(4608,yL,yL,[O,z,s$,jt,Bp,Qr,On]),e.Cb(4608,Pv,Pv,[Fb,Bp,zH,Nb,Se,WH]),e.Cb(4608,ZH,ZH,[ha,Bp,zH,Fb,Nb,WH]),e.Cb(4608,XH,XH,[Fb,Bp,zH,WH]),e.Cb(4608,nq,nq,[Q,Bp,zH,Nb,Se]),e.Cb(4608,cE,cE,[]),e.Cb(4608,_s,_s,[ce,Q,Bp,On]),e.Cb(4608,Wk,Wk,[]),e.Cb(4608,MP,MP,[]),e.Cb(4608,lq,lq,[O,Nb,b.m]),e.Cb(4608,uq,uq,[O,_s]),e.Cb(4608,iq,iq,[O]),e.Cb(4608,oq,oq,[ce]),e.Cb(4608,sq,sq,[oq]),e.Cb(4608,aq,aq,[sq,oq,ce,Bp,ha,O,N]),e.Cb(4608,cq,cq,[sq,oq,UA,O]),e.Cb(4608,bq,bq,[aq,cq,O]),e.Cb(4608,pq,pq,[sq,oq,dv,O]),e.Cb(4608,yq,yq,[sq,oq,jd,O]),e.Cb(4608,vq,vq,[O]),e.Cb(4608,wq,wq,[oq]),e.Cb(4608,Cq,Cq,[ay,wq,O]),e.Cb(4608,Iq,Iq,[ay,O]),e.Cb(4608,Oq,Oq,[ay]),e.Cb(4608,Tq,Tq,[ay,wq,O]),e.Cb(4608,Eq,Eq,[ay,wq,O]),e.Cb(4608,Vq,Vq,[YH]),e.Cb(4608,Rq,Rq,[nq]),e.Cb(4608,Aq,Aq,[Pv]),e.Cb(4608,Dq,Dq,[UA,O]),e.Cb(4608,Nq,Nq,[Q,n$]),e.Cb(4608,Qq,Qq,[sV,Nq,fC,O]),e.Cb(4608,$q,$q,[O]),e.Cb(4608,qq,qq,[kd]),e.Cb(4608,zq,zq,[fC,O]),e.Cb(4608,Wq,Wq,[fC,O]),e.Cb(4608,Yq,Yq,[fC,O]),e.Cb(4608,Xq,Xq,[fC,O]),e.Cb(4608,tB,tB,[O]),e.Cb(4608,eB,eB,[XH]),e.Cb(4608,rB,rB,[ZH]),e.Cb(4608,gT,gT,[lq,uq,bq,pq,yq,vq,Cq,Iq,Oq,Tq,Eq,Vq,Rq,Aq,eB,rB]),e.Cb(4608,LT,LT,[iq,lq,uq,Iq,Oq,Tq,Dq,Qq,vq,$q,qq]),e.Cb(4608,Gk,Gk,[zq,Wq,Yq,Xq,vq,tB,Iq,Oq,Tq,Eq]),e.Cb(4608,lP,lP,[]),e.Cb(4608,iB,iB,[]),e.Cb(4608,cV,cV,[py,iB]),e.Cb(4608,bE,bE,[oe]),e.Cb(4608,VL,VL,[On]),e.Cb(4608,Cy,Cy,[]),e.Cb(4608,DL,DL,[]),e.Cb(4608,nh,nh,[]),e.Cb(4608,uS,uS,[]),e.Cb(4608,dV,dV,[Se]),e.Cb(1073742336,f.c,f.c,[]),e.Cb(1073742336,Zt.x,Zt.x,[]),e.Cb(1073742336,Zt.u,Zt.u,[]),e.Cb(1073742336,Zt.k,Zt.k,[]),e.Cb(1073742336,oB.e,oB.e,[]),e.Cb(1073742336,QC.f,QC.f,[]),e.Cb(1024,e.m,pr.q,[]),e.Cb(1024,e.B,function(){return[b.w()]},[]),e.Cb(512,b.C,b.C,[e.t]),e.Cb(1024,e.d,function(n,t){return[pr.r(n),b.D(t)]},[[2,e.B],b.C]),e.Cb(512,e.e,e.e,[[2,e.d]]),e.Cb(131584,e.g,e.g,[e.C,e.hb,e.t,e.m,e.k,e.e]),e.Cb(1073742336,e.f,e.f,[e.g]),e.Cb(1073742336,pr.a,pr.a,[[3,pr.a]]),e.Cb(1073742336,MJ.b,MJ.b,[]),e.Cb(1073742336,F.e,F.e,[]),e.Cb(1073742336,F.d,F.d,[]),e.Cb(1024,b.v,b.z,[[3,b.m]]),e.Cb(512,b.t,aB,[]),e.Cb(512,b.b,b.b,[]),e.Cb(256,f.a,"/",[]),e.Cb(256,b.i,{enableTracing:!1},[]),e.Cb(1024,f.i,b.y,[f.u,[2,f.a],b.i]),e.Cb(512,f.h,f.h,[f.i]),e.Cb(512,e.j,e.j,[]),e.Cb(512,e.z,e.O,[e.j,[2,e.P]]),e.Cb(1024,b.k,function(){return[[{path:"",component:$t,canActivate:[eH]},{path:"register",component:rl,canActivate:[oH]},{path:"register/:tenantId",component:rl,canActivate:[oH]},{path:"sign-in",component:Yl},{path:"sign-out",component:ee},{path:"sign-in/forgot",component:Ve,canActivate:[tH]},{path:"sign-in/reset",component:Ue},{path:"account-settings",component:Mu,canActivate:[eH]},{path:"account-settings/:tenantId/:userId",component:Mu,canActivate:[eH]},{path:"tenants",component:Co,canActivate:[eH]},{path:"tenants/:tenantId",component:Co,canActivate:[eH]},{path:"tenant-account-settings",component:es,canActivate:[oH]},{path:"tenant-account-settings/:tenantId",component:es,canActivate:[oH]},{path:"studies",component:xb,canActivate:[eH]},{path:"studies/:tenantId",component:xb,canActivate:[eH]},{path:"studies/:tenantId/:studyId",component:wy,canActivate:[eH]},{path:"studies/:tenantId/:studyId/edit",component:Mm,canActivate:[eH],canDeactivate:[Y$]},{path:"studies/:tenantId/:studyId/jobs",component:Lm,canActivate:[eH]},{path:"studies/:tenantId/:studyId/jobs/:jobId",component:rv,canActivate:[eH]},{path:"studies/:tenantId/:userId/:studyId",redirectTo:"studies/:tenantId/:studyId"},{path:"studies/:tenantId/:userId/:studyId/edit",redirectTo:"studies/:tenantId/:studyId/edit"},{path:"studies/:tenantId/:userId/:studyId/jobs",redirectTo:"studies/:tenantId/:studyId/jobs"},{path:"studies/:tenantId/:userId/:studyId/jobs/:jobId",redirectTo:"studies/:tenantId/:studyId/jobs/:jobId"},{path:"configs/:configType",component:Mw,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/create",component:OM,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/:tenantId",component:Mw,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/:tenantId/:configId/edit",component:DS,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"configs/:configType/:tenantId/:configId",component:aI,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/:tenantId/:userId/:configId/edit",redirectTo:"configs/:configType/:tenantId/:configId/edit"},{path:"configs/:configType/:tenantId/:userId/:configId",redirectTo:"configs/:configType/:tenantId/:configId"},{path:"default-configs/:simVersion/:configType/:configName/edit",component:DS,data:yH,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"default-configs/:simVersion/:configType/:configName",component:aI,data:mH,resolve:{configType:gH},canActivate:[eH]},{path:"pool",component:SI,canActivate:[eH]},{path:"view/overlay",component:kI,canActivate:[eH]},{path:"admin",component:hx,canActivate:[rH]},{path:"support-sessions",component:$x,canActivate:[rH]},{path:"admin/documents",component:oO,canActivate:[aH]},{path:"create-tenant",component:OO,canActivate:[rH]},{path:"upvoty",component:DO},{path:"worksheets",component:qO,canActivate:[eH]},{path:"worksheets/docked",component:WO,canActivate:[eH]},{path:"worksheets/:tenantId",component:qO,canActivate:[eH]},{path:"worksheets/:tenantId/:worksheetId",component:RE,canActivate:[eH],canDeactivate:[Y$],data:wH,children:[{path:"studies",component:xb,canActivate:[eH]},{path:"studies/:tenantId",component:xb,canActivate:[eH]},{path:"studies/:tenantId/:studyId",component:wy,canActivate:[eH]},{path:"studies/:tenantId/:studyId/edit",component:Mm,canActivate:[eH],canDeactivate:[Y$]},{path:"studies/:tenantId/:studyId/jobs",component:Lm,canActivate:[eH]},{path:"studies/:tenantId/:studyId/jobs/:jobId",component:rv,canActivate:[eH]},{path:"studies/:tenantId/:userId/:studyId",redirectTo:"studies/:tenantId/:studyId"},{path:"studies/:tenantId/:userId/:studyId/edit",redirectTo:"studies/:tenantId/:studyId/edit"},{path:"studies/:tenantId/:userId/:studyId/jobs",redirectTo:"studies/:tenantId/:studyId/jobs"},{path:"studies/:tenantId/:userId/:studyId/jobs/:jobId",redirectTo:"studies/:tenantId/:studyId/jobs/:jobId"},{path:"configs/:configType",component:Mw,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/create",component:OM,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/:tenantId",component:Mw,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/:tenantId/:configId/edit",component:DS,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"configs/:configType/:tenantId/:configId",component:aI,resolve:{configType:gH},canActivate:[eH]},{path:"configs/:configType/:tenantId/:userId/:configId/edit",redirectTo:"configs/:configType/:tenantId/:configId/edit"},{path:"configs/:configType/:tenantId/:userId/:configId",redirectTo:"configs/:configType/:tenantId/:configId"},{path:"default-configs/:simVersion/:configType/:configName/edit",component:DS,data:yH,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"default-configs/:simVersion/:configType/:configName",component:aI,data:mH,resolve:{configType:gH},canActivate:[eH]}]},{path:"staged/:configType/edit",component:DS,data:MH,resolve:{configType:gH},canActivate:[eH],canDeactivate:[Y$]},{path:"staged/:configType",component:aI,data:CH,resolve:{configType:gH},canActivate:[eH]},{path:"downloads/:tenantId",component:ZE,canActivate:[eH]},{path:"encryption-channel-whitelists/:tenantId",component:b_,canActivate:[eH]},{path:"wiki",pathMatch:"prefix",children:[{path:"**",component:g_}],canActivate:[eH]},{path:"not-authorized",component:S_}]]},[]),e.Cb(512,b.l,pH,[]),e.Cb(1024,b.m,b.A,[e.g,b.t,b.b,f.h,e.t,e.z,e.j,b.k,b.i,[2,b.s],[2,b.l]]),e.Cb(1073742336,b.p,b.p,[[2,b.v],[2,b.m]]),e.Cb(1073742336,Xy.a,Xy.a,[]),e.Cb(1073742336,tj.b,tj.b,[]),e.Cb(1073742336,i,i,[]),e.Cb(256,Zt.a,!1,[]),e.Cb(256,e.fb,!0,[]),e.Cb(256,MJ.a,"BrowserAnimations",[]),e.Cb(256,F.m,"XSRF-TOKEN",[]),e.Cb(256,F.n,"X-XSRF-TOKEN",[])])});$.fn.size=function(){return this.length},r.initialize(),Object(e.Y)(),pr.i().bootstrapModuleFactory(cB,{preserveWhitespaces:!0}).catch(function(n){return console.log(n)})}},[[0,0,4]]]);
//# sourceMappingURL=main.0dfc87222766003c425e.js.map