(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+E/Y":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("eh5z"),o=n("8/63"),a=n("soU0"),s=n("x4dx"),u=n("HrTc"),c=n("HLL/"),l=function(t){function e(e,n,r,i,o,a){void 0===o&&(o={}),void 0===a&&(a={});var s=t.call(this)||this;return s.channelDataFactory=e,s.config=n,s.name=r,s.xDomainName=i,s.unitsMap=o,s.options=a,s.unitsMap=s.unitsMap||{},s}return r.d(e,t),e.create=function(t,n,r,i,o,a){return void 0===o&&(o={}),void 0===a&&(a={}),new e(new u.c(t),n,r,i,o,a)},e.prototype.getSourceMetadata=function(){return Promise.resolve({name:this.name||"Config"})},e.prototype.getChannelData=function(t,e,n){if(this.loadChannels(),!this.configChannelsMap)return Promise.resolve(this.channelDataFactory.createChannelData(t,void 0,e));var r=this.configChannelsMap[t],i=r?r.data:void 0,o=this.channelDataFactory.createChannelMetadata(t,r,e);return Promise.resolve(this.channelDataFactory.createChannelDataFromMetadata(o,i))},e.prototype.getRequestableChannels=function(t,e){return this.loadChannels(),this.configChannelsList?Promise.resolve(this.configChannelsList.slice()):Promise.resolve([])},e.prototype.getConfig=function(t){return Promise.resolve(this.config)},e.prototype.loadChannels=function(){var t=this;if(!this.configChannelsList){var e=function(t,e){return t?t+"."+e:e},n=function(r,i,o,u){if(Object(a.a)(r)&&"object"==typeof r)if(Array.isArray(r)){if(r.length)if(Object(s.a)(r[0]))t.options.filter&&!t.options.filter.test(o)||u.push(new h(o,"",t.unitsMap[i]||"()",r));else if(Array.isArray(r[0])&&r[0].length&&Object(s.a)(r[0][0])){var c=t.options.tableToChannelsMap?t.options.tableToChannelsMap[o]:void 0;if(c){var l=r,f=c.length;if(l.every(function(t){return t.length===f}))for(var d=function(n){var r=c[n];u.push(new h(e(o,r),"",t.unitsMap[r]||"()",l.map(function(t){return t[n]})))},p=0;p<f;++p)d(p)}}else for(var m=0,g=0,v=r;g<v.length;g++)n(b=v[g],i,o+"["+m+"]",u),++m}else for(var y in r)if(r.hasOwnProperty(y)){var b=r[y];t.options.xDomainAlias&&y===t.options.xDomainAlias&&t.xDomainName&&(y=t.xDomainName),n(b,y,e(o,y),u)}},r=[];n(this.config,"","",r),this.xDomainName===c.j&&r.push(new h(c.j,"","()",r.length?i.range(r[0].data.length):[])),this.configChannelsList=r,this.configChannelsMap=r.reduce(function(t,e){return t[e.name]=e,t},{})}},e}(o.b),h=function(){function t(t,e,n,r){this.name=t,this.description=e,this.units=n,this.data=r}return Object.defineProperty(t.prototype,"genericName",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullName",{get:function(){return this.name},enumerable:!0,configurable:!0}),t.prototype.getSourceData=function(){return{}},t}()},"+W+n":function(t,e,n){var r=n("xQ9F").Processor,i=n("eTM3").Pipe,o=n("fARj").DiffContext,a=n("MmxI").PatchContext,s=n("+i0I").ReverseContext,u=n("JSe9"),c=n("Cm6k"),l=n("vkw/"),h=n("Iss5"),f=n("MT3l"),d=n("tton"),p=function(t){this.processor=new r(t),this.processor.pipe(new i("diff").append(l.collectChildrenDiffFilter,c.diffFilter,f.diffFilter,d.diffFilter,l.objectsDiffFilter,h.diffFilter).shouldHaveResult()),this.processor.pipe(new i("patch").append(l.collectChildrenPatchFilter,h.collectChildrenPatchFilter,c.patchFilter,d.patchFilter,l.patchFilter,h.patchFilter).shouldHaveResult()),this.processor.pipe(new i("reverse").append(l.collectChildrenReverseFilter,h.collectChildrenReverseFilter,c.reverseFilter,d.reverseFilter,l.reverseFilter,h.reverseFilter).shouldHaveResult())};p.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},p.prototype.diff=function(t,e){return this.processor.process(new o(t,e))},p.prototype.patch=function(t,e){return this.processor.process(new a(t,e))},p.prototype.reverse=function(t){return this.processor.process(new s(t))},p.prototype.unpatch=function(t,e){return this.patch(t,this.reverse(e))},p.prototype.clone=function(t){return u(t)},e.DiffPatcher=p},"+h33":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("eh5z"),i=n("8i/y"),o=function(){function t(){}return t.prototype.createScalarResultsUsingScalarMetadata=function(t,e){if(!t||!e)return[];for(var n=[],r=1;r<t.length;++r){for(var o=t[r],a={},s=1;s<o.length;++s){var u=e[s-1];a[Object(i.a)(u.name,u.simType)]=parseFloat(o[s])}n.push(a)}return n},t.prototype.processScalarResultsForSim=function(t){if(t)for(var e=0,n=t;e<n.length;e++){var r=n[e];r.value=r.value?parseFloat(r.value):0}return t},t.prototype.loadJson=function(t){return new Promise(function(e,n){r.json(t,function(t,r){t?t.target&&404===t.target.status?e(void 0):n(t.target||t):e(r)})})},t.prototype.loadCsv=function(t){return new Promise(function(e,n){r.csv(t,function(t,r){t?t.target&&404===t.target.status?e(void 0):n(t.target||t):e(r)})})},t.prototype.loadCsvRows=function(t){return new Promise(function(e,n){r.text(t,function(t,i){t?t.target&&404===t.target.status?e(void 0):n(t.target||t):e(r.csvParseRows(i))})})},t.prototype.loadText=function(t){var e=this;return new Promise(function(n,r){e.getFileAsync(t,"text",function(t){200===t.status?n(t.responseText):404===t.status?n(void 0):r(t)})})},t.prototype.loadNumericArray=function(t,e){var n=this;return new Promise(function(r,i){n.getFileAsync(t,"arraybuffer",function(n){if(200===n.status){var o=n.response,a=void 0;if(e)if(8*e.pointsCount===o.byteLength)a=[].slice.call(new Float64Array(o));else{if(4*e.pointsCount!==o.byteLength)throw new Error("Could not read expected number of points "+e.pointsCount+" from buffer of buffer length "+e.pointsCount+" for "+t+".");a=[].slice.call(new Float32Array(o))}a||(a=[].slice.call(new Float64Array(o)),console.warn("Binary format metadata not found for "+t)),r(a)}else 404===n.status?r(void 0):i(n)})})},t.prototype.getFileAsync=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.send(),r.onreadystatechange=function(){4===r.readyState&&n(r)}},t}()},"+i0I":function(t,e,n){var r=n("uEMh").Context,i=function(t){this.delta=t,this.pipe="reverse"};i.prototype=new r,e.ReverseContext=i},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/8X3":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HLL/"),i=function(t,e){this.currentName=t,this.legacyName=e},o=[new i(r.A,r.z),new i(r.A,r.B),new i(r.t,r.s)],a=function(){function t(){}return t.prototype.execute=function(){return o},t}()},"/IYp":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a});var r=15,i=5,o=function(t,e,n,r,i){void 0===i&&(i=function(){return null}),this.value=t,this.name=e,this.clickAction=n,this.width=r,this.getSelectedClass=i},a=function(){function t(){}return t.prototype.renderToggleOptions=function(t,e,n,r,i,o,a,s,u){var c="toggle-area-"+e,l="."+c,h=t.selectAll(l).data([null]),f=h.enter().append("g").attr("class","toggle-area toggle-area "+c);f.merge(h).attr("transform","translate("+n+","+(r-12)+")"),f.append("text").attr("class","title").attr("y",6).attr("alignment-baseline","central").text(i),f.append("g").attr("class","toggles").attr("transform","translate("+o+",0)");var d=t.selectAll(l+" .toggles").selectAll(".toggle").data(a),p=d.enter().append("g").attr("class","toggle").attr("transform",function(t,e){return"translate("+e*(t.width+2)+",0)"}).on("click",function(t){t.clickAction(t),u&&u()});p.append("rect").attr("width",function(t){return t.width}).attr("height",12),p.append("text").attr("alignment-baseline","middle").attr("text-anchor","middle").attr("x",function(t){return t.width/2}).attr("y",6).text(function(t){return t.name}),p.merge(d).select("rect").attr("class",function(t){return s===t.value?t.getSelectedClass(t)||"toggle-selected":""})},t}()},"/Lry":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),i=n("LXbF"),o=n("ukm+"),a=n("3njT"),s=n("YJNB"),u=function(t){function e(e,n,r,i){void 0===i&&(i=0);var o=t.call(this,"Telemetry",e,n,r,void 0)||this;return o.initialHeight=i,o}return r.d(e,t),e.prototype.build=function(){return r.b(this,void 0,void 0,function(){var t,e,n,a,s,u,c,l=this;return r.e(this,function(r){switch(r.label){case 0:for(t={channelNameStyle:i.a.Generic,sharedStates:[],views:[]},e={},n=0,a=this.configs;n<a.length;n++)(s=a[n]).data&&s.data.channels&&s.data.channels.length&&(e=this.mapChannelsArrayToUnits(s.data.channels,e));return u={x:0,y:0,width:12,height:this.initialHeight||Math.max(6,Object.keys(e).length)},c=new o.a,[4,this.createConfigAreaChart("channels","Telemetry","tRun",t,u,c,{},{arrayIsValidValue:!0,map:function(t){return l.mapChannelsArrayToObject(t)},unitsMap:e,layoutName:"Default-Telemetry-tRun"})];case 1:return u=r.sent(),[2,t]}})})},e.prototype.mapChannelsArrayToUnits=function(t,e){var n=this;return t.reduce(function(t,e){return t[n.mapName(e.name)]=s.a.getSiUnit(e.units),t},e)},e.prototype.mapChannelsArrayToObject=function(t){var e=this;return t.reduce(function(t,n){return t[e.mapName(n.name)]=s.a.convertValuesToSi(n.data,n.units,!0),t},{})},e.prototype.mapName=function(t){return"timeBase"===t?"tRun":t},e}(a.c)},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),c=n("pugT"),l=n("S5XQ"),h=n("u67D"),f=n("JcRv"),d=n("Fxb1");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(l.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new c.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return p})},"0xj5":function(t,e,n){var r=n("E0m9"),i=n("aNjz"),o=n("ybOZ"),a=n("6lZC"),s=n("DwkR"),u=n("zJjT"),c=n("s847"),l=o.makeSpan,h=function(t){return t&&"mbin"===t.classes[0]},f=function(t,e){return t?c.contains(["mbin","mopen","mrel","mop","mpunct"],t.classes[0]):e},d=function(t,e){return t?c.contains(["mrel","mclose","mpunct"],t.classes[0]):e},p=function(t,e,n){for(var r=[],i=0;i<t.length;i++){var a=_(t[i],e);a instanceof s.documentFragment?Array.prototype.push.apply(r,a.children):r.push(a)}var u,c=null;for(i=0;i<r.length;i++)(u=r[i])instanceof s.span&&"mspace"===u.classes[0]?((c=c||[]).push(r[i]),r.splice(i,1),i--):c&&(r[i]instanceof s.symbolNode&&(r[i]=l([].concat(r[i].classes),[r[i]])),o.prependChildren(r[i],c),c=null);for(c&&Array.prototype.push.apply(r,c),i=0;i<r.length;i++)h(r[i])&&(f(r[i-1],n)||d(r[i+1],n))&&(r[i].classes[0]="mord");return r},m=function(t){if(t instanceof s.documentFragment){if(t.children.length)return m(t.children[t.children.length-1])}else if(c.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],t.classes[0]))return t.classes[0];return null},g=function(t){return!!t&&("ordgroup"===t.type?1===t.value.length?g(t.value[0]):t:"color"===t.type?1===t.value.value.length?g(t.value.value[0]):t:"font"===t.type?g(t.value.body):t)},v=function(t){var e=g(t);return"mathord"===e.type||"textord"===e.type||"bin"===e.type||"rel"===e.type||"inner"===e.type||"open"===e.type||"close"===e.type||"punct"===e.type},y=function(t,e){return l(e.concat(["sizing","reset-"+t.size,"size5",t.style.reset(),i.TEXT.cls(),"nulldelimiter"]))},b={mathord:function(t,e){return o.makeOrd(t,e,"mathord")},textord:function(t,e){return o.makeOrd(t,e,"textord")},bin:function(t,e){return o.mathsym(t.value,t.mode,e,["mbin"])},rel:function(t,e){return o.mathsym(t.value,t.mode,e,["mrel"])},open:function(t,e){return o.mathsym(t.value,t.mode,e,["mopen"])},close:function(t,e){return o.mathsym(t.value,t.mode,e,["mclose"])},inner:function(t,e){return o.mathsym(t.value,t.mode,e,["minner"])},punct:function(t,e){return o.mathsym(t.value,t.mode,e,["mpunct"])},ordgroup:function(t,e){return l(["mord",e.style.cls()],p(t.value,e.reset(),!0),e)},text:function(t,e){for(var n=e.withFont(t.value.style),r=p(t.value.body,n,!0),i=0;i<r.length-1;i++)r[i].tryCombine(r[i+1])&&(r.splice(i+1,1),i--);return l(["mord","text",n.style.cls()],r,n)},color:function(t,e){var n=p(t.value.value,e.withColor(t.value.color),!1);return new o.makeFragment(n)},supsub:function(t,e){if(function(t,e){return!!t&&("op"===t.type?t.value.limits&&(e.style.size===i.DISPLAY.size||t.value.alwaysHandleSupSub):"accent"===t.type?v(t.value.base):null)}(t.value.base,e))return b[t.value.base.type](t,e);var n,r,a,c,h,f,d,p,g=_(t.value.base,e.reset()),y=e.style;t.value.sup&&(h=e.withStyle(y.sup()),a=_(t.value.sup,h),n=l([y.reset(),y.sup().cls()],[a],h)),t.value.sub&&(h=e.withStyle(y.sub()),c=_(t.value.sub,h),r=l([y.reset(),y.sub().cls()],[c],h)),v(t.value.base)?(f=0,d=0):(f=g.height-y.metrics.supDrop,d=g.depth+y.metrics.subDrop),p=y===i.DISPLAY?y.metrics.sup1:y.cramped?y.metrics.sup3:y.metrics.sup2;var w,x=.5/u.metrics.ptPerEm/(i.TEXT.sizeMultiplier*y.sizeMultiplier)+"em";if(t.value.sup)if(t.value.sub){f=Math.max(f,p,a.depth+.25*y.metrics.xHeight),d=Math.max(d,y.metrics.sub2);var S=u.metrics.defaultRuleThickness;if(f-a.depth-(c.height-d)<4*S){d=4*S-(f-a.depth)+c.height;var M=.8*y.metrics.xHeight-(f-a.depth);M>0&&(f+=M,d-=M)}w=o.makeVList([{type:"elem",elem:r,shift:d},{type:"elem",elem:n,shift:-f}],"individualShift",null,e),g instanceof s.symbolNode&&(w.children[0].style.marginLeft=-g.italic+"em"),w.children[0].style.marginRight=x,w.children[1].style.marginRight=x}else f=Math.max(f,p,a.depth+.25*y.metrics.xHeight),(w=o.makeVList([{type:"elem",elem:n}],"shift",-f,e)).children[0].style.marginRight=x;else d=Math.max(d,y.metrics.sub1,c.height-.8*y.metrics.xHeight),(w=o.makeVList([{type:"elem",elem:r}],"shift",d,e)).children[0].style.marginRight=x,g instanceof s.symbolNode&&(w.children[0].style.marginLeft=-g.italic+"em");var C=m(g)||"mord";return l([C],[g,l(["msupsub"],[w])],e)},genfrac:function(t,e){var n=e.style;"display"===t.value.size?n=i.DISPLAY:"text"===t.value.size&&(n=i.TEXT);var r,s=n.fracNum(),c=n.fracDen();r=e.withStyle(s);var h=_(t.value.numer,r),f=l([n.reset(),s.cls()],[h],r);r=e.withStyle(c);var d,p,m,g,v,b,w,x,S=_(t.value.denom,r),M=l([n.reset(),c.cls()],[S],r);if(d=t.value.hasBarLine?u.metrics.defaultRuleThickness/e.style.sizeMultiplier:0,n.size===i.DISPLAY.size?(p=n.metrics.num1,m=d>0?3*d:7*u.metrics.defaultRuleThickness,g=n.metrics.denom1):(d>0?(p=n.metrics.num2,m=d):(p=n.metrics.num3,m=3*u.metrics.defaultRuleThickness),g=n.metrics.denom2),0===d){var C=p-h.depth-(S.height-g);C<m&&(p+=.5*(m-C),g+=.5*(m-C)),v=o.makeVList([{type:"elem",elem:M,shift:g},{type:"elem",elem:f,shift:-p}],"individualShift",null,e)}else{var E=n.metrics.axisHeight;p-h.depth-(E+.5*d)<m&&(p+=m-(p-h.depth-(E+.5*d))),E-.5*d-(S.height-g)<m&&(g+=m-(E-.5*d-(S.height-g)));var T=l([e.style.reset(),i.TEXT.cls(),"frac-line"]);T.height=d,v=o.makeVList([{type:"elem",elem:M,shift:g},{type:"elem",elem:T,shift:-(E-.5*d)},{type:"elem",elem:f,shift:-p}],"individualShift",null,e)}return v.height*=n.sizeMultiplier/e.style.sizeMultiplier,v.depth*=n.sizeMultiplier/e.style.sizeMultiplier,b=n.size===i.DISPLAY.size?n.metrics.delim1:n.metrics.delim2,w=null==t.value.leftDelim?y(e,["mopen"]):a.customSizedDelim(t.value.leftDelim,b,!0,e.withStyle(n),t.mode,["mopen"]),x=null==t.value.rightDelim?y(e,["mclose"]):a.customSizedDelim(t.value.rightDelim,b,!0,e.withStyle(n),t.mode,["mclose"]),l(["mord",e.style.reset(),n.cls()],[w,l(["mfrac"],[v]),x],e)}},w=function(t,e){var n=t.number;return"ex"===t.unit?n*=e.metrics.emPerEx:"mu"===t.unit&&(n/=18),n};b.array=function(t,e){var n,i,a=t.value.body.length,s=0,h=new Array(a),f=e.style,d=1/u.metrics.ptPerEm,p=5*d,m=12*d,g=c.deflt(t.value.arraystretch,1)*m,v=.7*g,y=.3*g,b=0;for(n=0;n<t.value.body.length;++n){var x=t.value.body[n],S=v,M=y;s<x.length&&(s=x.length);var C=new Array(x.length);for(i=0;i<x.length;++i){var E=_(x[i],e);M<E.depth&&(M=E.depth),S<E.height&&(S=E.height),C[i]=E}var T=0;t.value.rowGaps[n]&&(T=w(t.value.rowGaps[n].value,f))>0&&(M<(T+=y)&&(M=T),T=0),C.height=S,C.depth=M,C.pos=b+=S,b+=M+T,h[n]=C}var O,P,A=b/2+f.metrics.axisHeight,k=t.value.cols||[],L=[];for(i=0,P=0;i<s||P<k.length;++i,++P){for(var R=k[P]||{},D=!0;"separator"===R.type;){if(D||((O=l(["arraycolsep"],[])).style.width=u.metrics.doubleRuleSep+"em",L.push(O)),"|"!==R.separator)throw new r("Invalid separator type: "+R.separator);var N=l(["vertical-separator"],[]);N.style.height=b+"em",N.style.verticalAlign=-(b-A)+"em",L.push(N),R=k[++P]||{},D=!1}if(!(i>=s)){var I;(i>0||t.value.hskipBeforeAndAfter)&&0!==(I=c.deflt(R.pregap,p))&&((O=l(["arraycolsep"],[])).style.width=I+"em",L.push(O));var j=[];for(n=0;n<a;++n){var z=h[n],F=z[i];if(F){var V=z.pos-A;F.depth=z.depth,F.height=z.height,j.push({type:"elem",elem:F,shift:V})}}j=o.makeVList(j,"individualShift",null,e),j=l(["col-align-"+(R.align||"c")],[j]),L.push(j),(i<s-1||t.value.hskipBeforeAndAfter)&&0!==(I=c.deflt(R.postgap,p))&&((O=l(["arraycolsep"],[])).style.width=I+"em",L.push(O))}}return h=l(["mtable"],L),l(["mord"],[h],e)},b.spacing=function(t,e){return"\\ "===t.value||"\\space"===t.value||" "===t.value||"~"===t.value?"text"===t.mode?o.makeOrd(t,e,"textord"):l(["mspace"],[o.mathsym(t.value,t.mode,e)],e):l(["mspace",o.spacingFunctions[t.value].className],[],e)},b.llap=function(t,e){var n=l(["inner"],[_(t.value.body,e.reset())]),r=l(["fix"],[]);return l(["mord","llap",e.style.cls()],[n,r],e)},b.rlap=function(t,e){var n=l(["inner"],[_(t.value.body,e.reset())]),r=l(["fix"],[]);return l(["mord","rlap",e.style.cls()],[n,r],e)},b.op=function(t,e){var n,r,a=!1;"supsub"===t.type&&(n=t.value.sup,r=t.value.sub,t=t.value.base,a=!0);var s,h=e.style,f=!1;h.size===i.DISPLAY.size&&t.value.symbol&&!c.contains(["\\smallint"],t.value.body)&&(f=!0);var d=0,m=0;if(t.value.symbol)d=((s=o.makeSymbol(t.value.body,f?"Size2-Regular":"Size1-Regular","math",e,["mop","op-symbol",f?"large-op":"small-op"])).height-s.depth)/2-h.metrics.axisHeight*h.sizeMultiplier,m=s.italic;else if(t.value.value){var g=p(t.value.value,e,!0);s=l(["mop"],g,e)}else{for(var v=[],y=1;y<t.value.body.length;y++)v.push(o.mathsym(t.value.body[y],t.mode));s=l(["mop"],v,e)}if(a){var b,w,x,S,M,C;if(s=l([],[s]),n){M=e.withStyle(h.sup());var E=_(n,M);b=l([h.reset(),h.sup().cls()],[E],M),w=Math.max(u.metrics.bigOpSpacing1,u.metrics.bigOpSpacing3-E.depth)}if(r){M=e.withStyle(h.sub());var T=_(r,M);x=l([h.reset(),h.sub().cls()],[T],M),S=Math.max(u.metrics.bigOpSpacing2,u.metrics.bigOpSpacing4-T.height)}if(n)if(r){if(!n&&!r)return s;(C=o.makeVList([{type:"kern",size:u.metrics.bigOpSpacing5},{type:"elem",elem:x},{type:"kern",size:S},{type:"elem",elem:s},{type:"kern",size:w},{type:"elem",elem:b},{type:"kern",size:u.metrics.bigOpSpacing5}],"bottom",u.metrics.bigOpSpacing5+x.height+x.depth+S+s.depth+d,e)).children[0].style.marginLeft=-m+"em",C.children[2].style.marginLeft=m+"em"}else(C=o.makeVList([{type:"elem",elem:s},{type:"kern",size:w},{type:"elem",elem:b},{type:"kern",size:u.metrics.bigOpSpacing5}],"bottom",s.depth+d,e)).children[1].style.marginLeft=m+"em";else(C=o.makeVList([{type:"kern",size:u.metrics.bigOpSpacing5},{type:"elem",elem:x},{type:"kern",size:S},{type:"elem",elem:s}],"top",s.height-d,e)).children[0].style.marginLeft=-m+"em";return l(["mop","op-limits"],[C],e)}return t.value.symbol&&(s.style.top=d+"em"),s},b.mod=function(t,e){var n=[];if("bmod"===t.value.modType?(e.style.isTight()||n.push(l(["mspace","negativemediumspace"],[],e)),n.push(l(["mspace","thickspace"],[],e))):n.push(l(e.style.size===i.DISPLAY.size?["mspace","quad"]:"mod"===t.value.modType?["mspace","twelvemuspace"]:["mspace","eightmuspace"],[],e)),"pod"!==t.value.modType&&"pmod"!==t.value.modType||n.push(o.mathsym("(",t.mode)),"pod"!==t.value.modType){var r=[o.mathsym("m",t.mode),o.mathsym("o",t.mode),o.mathsym("d",t.mode)];"bmod"===t.value.modType?(n.push(l(["mbin"],r,e)),n.push(l(["mspace","thickspace"],[],e)),e.style.isTight()||n.push(l(["mspace","negativemediumspace"],[],e))):(Array.prototype.push.apply(n,r),n.push(l(["mspace","sixmuspace"],[],e)))}return t.value.value&&Array.prototype.push.apply(n,p(t.value.value,e,!1)),"pod"!==t.value.modType&&"pmod"!==t.value.modType||n.push(o.mathsym(")",t.mode)),o.makeFragment(n)},b.katex=function(t,e){var n=l(["k"],[o.mathsym("K",t.mode)],e),r=l(["a"],[o.mathsym("A",t.mode)],e);r.height=.75*(r.height+.2),r.depth=.75*(r.height-.2);var i=l(["t"],[o.mathsym("T",t.mode)],e),a=l(["e"],[o.mathsym("E",t.mode)],e);a.height=a.height-.2155,a.depth=a.depth+.2155;var s=l(["x"],[o.mathsym("X",t.mode)],e);return l(["mord","katex-logo"],[n,r,i,a,s],e)},b.overline=function(t,e){var n=e.style,r=_(t.value.body,e.withStyle(n.cramp())),a=u.metrics.defaultRuleThickness/n.sizeMultiplier,s=l([n.reset(),i.TEXT.cls(),"overline-line"]);s.height=a,s.maxFontSize=1;var c=o.makeVList([{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:s},{type:"kern",size:a}],"firstBaseline",null,e);return l(["mord","overline"],[c],e)},b.underline=function(t,e){var n=e.style,r=_(t.value.body,e),a=u.metrics.defaultRuleThickness/n.sizeMultiplier,s=l([n.reset(),i.TEXT.cls(),"underline-line"]);s.height=a,s.maxFontSize=1;var c=o.makeVList([{type:"kern",size:a},{type:"elem",elem:s},{type:"kern",size:3*a},{type:"elem",elem:r}],"top",r.height,e);return l(["mord","underline"],[c],e)},b.sqrt=function(t,e){var n=e.style,r=_(t.value.body,e.withStyle(n.cramp())),s=u.metrics.defaultRuleThickness/n.sizeMultiplier,c=l([n.reset(),i.TEXT.cls(),"sqrt-line"],[],e);c.height=s,c.maxFontSize=1;var h=s;n.id<i.TEXT.id&&(h=n.metrics.xHeight);var f=s+h/4,d=l(["sqrt-sign"],[a.customSizedDelim("\\surd",(r.height+r.depth)*n.sizeMultiplier+f+s,!1,e,t.mode)],e),p=d.height+d.depth-s;p>r.height+r.depth+f&&(f=(f+p-r.height-r.depth)/2);var m,g=-(r.height+f+s)+d.height;if(d.style.top=g+"em",d.height-=g,d.depth+=g,m=0===r.height&&0===r.depth?l():o.makeVList([{type:"elem",elem:r},{type:"kern",size:f},{type:"elem",elem:c},{type:"kern",size:s}],"firstBaseline",null,e),t.value.index){var v=e.withStyle(i.SCRIPTSCRIPT),y=_(t.value.index,v),b=l([n.reset(),i.SCRIPTSCRIPT.cls()],[y],v),w=Math.max(d.height,m.height),x=Math.max(d.depth,m.depth),S=o.makeVList([{type:"elem",elem:b}],"shift",-.6*(w-x),e),M=l(["root"],[S]);return l(["mord","sqrt"],[M,d,m],e)}return l(["mord","sqrt"],[d,m],e)},b.sizing=function(t,e){var n=p(t.value.value,e.withSize(t.value.size),!1),r=e.style,i=o.sizingMultiplier[t.value.size];i*=r.sizeMultiplier;for(var a=0;a<n.length;a++){var s=c.indexOf(n[a].classes,"sizing");s<0?(n[a].classes.push("sizing","reset-"+e.size,t.value.size,r.cls()),n[a].maxFontSize=i):n[a].classes[s+1]==="reset-"+t.value.size&&(n[a].classes[s+1]="reset-"+e.size)}return o.makeFragment(n)},b.styling=function(t,e){for(var n={display:i.DISPLAY,text:i.TEXT,script:i.SCRIPT,scriptscript:i.SCRIPTSCRIPT}[t.value.style],r=e.withStyle(n),a=p(t.value.value,r,!1),s=0;s<a.length;s++){var u=c.indexOf(a[s].classes,n.reset());u<0?a[s].classes.push(e.style.reset(),n.cls()):a[s].classes[u]=e.style.reset()}return new o.makeFragment(a)},b.font=function(t,e){return _(t.value.body,e.withFont(t.value.font))},b.delimsizing=function(t,e){var n=t.value.value;return"."===n?l([t.value.mclass]):a.sizedDelim(n,t.value.size,e,t.mode,[t.value.mclass])},b.leftright=function(t,e){for(var n=p(t.value.body,e.reset(),!0),r=0,i=0,o=!1,s=0;s<n.length;s++)n[s].isMiddle?o=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));var u,c,h=e.style;if(r*=h.sizeMultiplier,i*=h.sizeMultiplier,u="."===t.value.left?y(e,["mopen"]):a.leftRightDelim(t.value.left,r,i,e,t.mode,["mopen"]),n.unshift(u),o)for(s=1;s<n.length;s++)n[s].isMiddle&&(n[s]=a.leftRightDelim(n[s].isMiddle.value,r,i,n[s].isMiddle.options,t.mode,[]));return c="."===t.value.right?y(e,["mclose"]):a.leftRightDelim(t.value.right,r,i,e,t.mode,["mclose"]),n.push(c),l(["minner",h.cls()],n,e)},b.middle=function(t,e){var n;return"."===t.value.value?n=y(e,[]):(n=a.sizedDelim(t.value.value,1,e,t.mode,[])).isMiddle={value:t.value.value,options:e},n},b.rule=function(t,e){var n=l(["mord","rule"],[],e),r=e.style,i=0;t.value.shift&&(i=w(t.value.shift,r));var o=w(t.value.width,r),a=w(t.value.height,r);return i/=r.sizeMultiplier,a/=r.sizeMultiplier,n.style.borderRightWidth=(o/=r.sizeMultiplier)+"em",n.style.borderTopWidth=a+"em",n.style.bottom=i+"em",n.width=o,n.height=a+i,n.depth=-i,n},b.kern=function(t,e){var n=l(["mord","rule"],[],e),r=e.style,i=0;return t.value.dimension&&(i=w(t.value.dimension,r)),n.style.marginLeft=(i/=r.sizeMultiplier)+"em",n},b.accent=function(t,e){var n,r=t.value.base,i=e.style;if("supsub"===t.type){var a=t;a.value.base=r=(t=a.value.base).value.base,n=_(a,e.reset())}var s,u=_(r,e.withStyle(i.cramp()));if(v(r)){var c=g(r);s=_(c,e.withStyle(i.cramp())).skew}else s=0;var h=Math.min(u.height,i.metrics.xHeight),f=o.makeSymbol(t.value.accent,"Main-Regular","math",e);f.italic=0;var d=l(["accent-body","\\vec"===t.value.accent?"accent-vec":null],[l([],[f])]);(d=o.makeVList([{type:"elem",elem:u},{type:"kern",size:-h},{type:"elem",elem:d}],"firstBaseline",null,e)).children[1].style.marginLeft=2*s+"em";var p=l(["mord","accent"],[d],e);return n?(n.children[0]=p,n.height=Math.max(p.height,n.height),n.classes[0]="mord",n):p},b.phantom=function(t,e){var n=p(t.value.value,e.withPhantom(),!1);return new o.makeFragment(n)},b.mclass=function(t,e){var n=p(t.value.value,e,!0);return l([t.value.mclass],n,e)};var _=function(t,e){if(!t)return l();if(b[t.type]){var n,i=b[t.type](t,e);return e.style!==e.parentStyle&&(i.height*=n=e.style.sizeMultiplier/e.parentStyle.sizeMultiplier,i.depth*=n),e.size!==e.parentSize&&(i.height*=n=o.sizingMultiplier[e.size]/o.sizingMultiplier[e.parentSize],i.depth*=n),i}throw new r("Got group of unknown type: '"+t.type+"'")};t.exports=function(t,e){t=JSON.parse(JSON.stringify(t));var n=p(t,e,!0),r=l(["base",e.style.cls()],n,e),i=l(["strut"]),o=l(["strut","bottom"]);i.style.height=r.height+"em",o.style.height=r.height+r.depth+"em",o.style.verticalAlign=-r.depth+"em";var a=l(["katex-html"],[i,o,r]);return a.setAttribute("aria-hidden","true"),a}},"1gqn":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},"21LU":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t,e){this.sourceDomains=t,this.targetDomain=e},i=function(){function t(t){this.transforms=t}return t.prototype.getTransformedName=function(t){for(var e=0,n=this.transforms;e<n.length;e++){var r=n[e];if(-1!==r.sourceDomains.indexOf(t))return r.targetDomain}return t},t.none=new t([]),t}()},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"2fsI":function(t,e,n){"use strict";n.r(e);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t},a=function(t){var e=o(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}})(e)};function s(){}var u=function(t){return null==t?s:function(){return this.querySelector(t)}};function c(){return[]}var l=function(t){return null==t?c:function(){return this.querySelectorAll(t)}},h=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var f=document.documentElement;if(!f.matches){var d=f.webkitMatchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector;h=function(t){return function(){return d.call(this,t)}}}}var p=h,m=function(t){return new Array(t.length)};function g(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}g.prototype={constructor:g,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v="$";function y(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new g(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function b(t,e,n,r,i,o,a){var s,u,c,l={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=c=v+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c=v+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new g(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function w(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var _=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function x(t,e){return t.style.getPropertyValue(e)||_(t).getComputedStyle(t,null).getPropertyValue(e)}function S(t){return t.trim().split(/^|\s+/)}function M(t){return t.classList||new C(t)}function C(t){this._node=t,this._names=S(t.getAttribute("class")||"")}function E(t,e){for(var n=M(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function T(t,e){for(var n=M(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function O(){this.textContent=""}function P(){this.innerHTML=""}function A(){this.nextSibling&&this.parentNode.appendChild(this)}function k(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L(){return null}function R(){var t=this.parentNode;t&&t.removeChild(this)}function D(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function N(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}C.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var I={},j=null;function z(t,e,n){return t=F(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function F(t,e,n){return function(r){var i=j;j=r;try{t.call(this,this.__data__,e,n)}finally{j=i}}}function V(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function B(t,e,n){var r=I.hasOwnProperty(t.type)?z:F;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function U(t,e,n,r){var i=j;t.sourceEvent=j,j=t;try{return e.apply(n,r)}finally{j=i}}function H(t,e,n){var r=_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(I={mouseenter:"mouseover",mouseleave:"mouseout"}));var G=[null];function W(t,e){this._groups=t,this._parents=e}function q(){return new W([[document.documentElement]],G)}W.prototype=q.prototype={constructor:W,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),h=0;h<c;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),l[h]=a);return new W(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new W(r,i)},filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new W(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n,r=e?b:y,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=i[l],f=o[l],d=f.length,p=t.call(h,h&&h.__data__,l,i),m=p.length,g=u[l]=new Array(m),v=s[l]=new Array(m);r(h,f,g,v,c[l]=new Array(d),p,e);for(var w,_,x=0,S=0;x<m;++x)if(w=g[x]){for(x>=S&&(S=x+1);!(_=v[S])&&++S<m;);w._next=_||null}}return(s=new W(s,i))._enter=u,s._exit=c,s},enter:function(){return new W(this._enter||this._groups.map(m),this._parents)},exit:function(){return new W(this._exit||this._groups.map(m),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=e[a],c=n[a],l=u.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=u[f]||c[f])&&(h[f]=s);for(;a<r;++a)o[a]=e[a];return new W(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=w);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new W(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):x(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=S(t+"");if(arguments.length<2){for(var r=M(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?E:T)(this,t)}}:e?function(t){return function(){E(this,t)}}:function(t){return function(){T(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?P:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(A)},lower:function(){return this.each(k)},append:function(t){var e="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:a(t),r=null==e?L:"function"==typeof e?e:u(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(R)},clone:function(t){return this.select(t?N:D)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?B:V,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return H(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return H(this,t,e)}})(t,e))}};var Y=q,X=function(t){return"string"==typeof t?new W([[document.querySelector(t)]],[document.documentElement]):new W([[t]],G)},Z=function(t){return X(a(t).call(document.documentElement))},J=0;function K(){return new Q}function Q(){this._="@"+(++J).toString(36)}Q.prototype=K.prototype={constructor:Q,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var $=function(){for(var t,e=j;t=e.sourceEvent;)e=t;return e},tt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},et=function(t){var e=$();return e.changedTouches&&(e=e.changedTouches[0]),tt(t,e)},nt=function(t){return"string"==typeof t?new W([document.querySelectorAll(t)],[document.documentElement]):new W([null==t?[]:t],G)},rt=function(t,e,n){arguments.length<3&&(n=e,e=$().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return tt(t,r);return null},it=function(t,e){null==e&&(e=$().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=tt(t,e[n]);return i};n.d(e,"create",function(){return Z}),n.d(e,"creator",function(){return a}),n.d(e,"local",function(){return K}),n.d(e,"matcher",function(){return p}),n.d(e,"mouse",function(){return et}),n.d(e,"namespace",function(){return o}),n.d(e,"namespaces",function(){return i}),n.d(e,"clientPoint",function(){return tt}),n.d(e,"select",function(){return X}),n.d(e,"selectAll",function(){return nt}),n.d(e,"selection",function(){return Y}),n.d(e,"selector",function(){return u}),n.d(e,"selectorAll",function(){return l}),n.d(e,"style",function(){return x}),n.d(e,"touch",function(){return rt}),n.d(e,"touches",function(){return it}),n.d(e,"window",function(){return _}),n.d(e,"event",function(){return j}),n.d(e,"customEvent",function(){return U})},"2iCe":function(t,e,n){"use strict";var r=n("mrSG"),i=n("lFWV"),o=n("rzGS"),a=n("KFNO"),s=function(){function t(t,e,n,r,i,o,a){this.callbacks=t,this.siteHooks=e,this.viewer=n,this.studyId=r,this.jobIndex=i,this.simTypes=o,this.channelNameStyle=a,this.editTypes=[],this.editButtonIds=[],this.canSave=!1,this.canSetDefault=!1,this.buttonIds=[]}return t.prototype.reload=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:if(!(t=this.viewer.getLayout()))return[3,4];this.setAllButtonsDisabled(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,this.viewer.setLayout(t)];case 2:return e.sent(),this.renderButtonActiveStates(t),[3,4];case 3:return this.setAllButtonsDisabled(!1),[7];case 4:return[2]}})})},t.prototype.dispose=function(){return this.viewer.dispose()},t.prototype.setDefaultChartUpdated=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o;return r.e(this,function(r){switch(r.label){case 0:if(this.viewerType!==t)return[2];if(!this.originalViewerId)return[2];if(!this.compareViewerIds(this.originalViewerId,e))return[2];this.clearError(),r.label=1;case 1:return r.trys.push([1,4,5,6]),this.defaultViewerId=n.layoutId,[4,this.updateViewerId(n.layoutId,n.name)];case 2:return r.sent(),this.setAllButtonsDisabled(!0),i=n.getConfigCopy(),[4,this.viewer.setLayout(i)];case 3:return r.sent(),this.renderButtonActiveStates(i),[3,6];case 4:return o=r.sent(),this.setError(o),[3,6];case 5:return this.setAllButtonsDisabled(!1),[7];case 6:return[2]}})})},t.prototype.initialize=function(t,e,n){return r.b(this,void 0,void 0,function(){var e,i,a,s,u,c=this;return r.e(this,function(r){switch(r.label){case 0:for(this.viewerType=n.viewerType,e=$("#"+t),i=t+"-view",this.editTypes=this.viewer.getEditChannelsTypes()||[{name:"Edit",id:void 0}],this.editButtonIds=this.editTypes.map(function(e){return t+"-edit-button"+(e.id?"-"+Object(o.a)(e.id):"")}),this.loadButtonId=t+"-load-button",this.saveButtonId=t+"-save-button",this.saveAsButtonId=t+"-save-as-button",this.setDefaultButtonId=t+"-set-default-button",this.importButtonId=t+"-import-button",this.importFileInputId=t+"-import-file-input",this.exportButtonId=t+"-export-button",this.stackDiagonalsHorizontallyButtonId=t+"-share-row-axis-button",this.stackDiagonalsVerticallyButtonId=t+"-share-column-axis-button",this.errorElementId=t+"-error",this.subTitleId=t+"-sub-title",this.buttonsId=t+"-buttons",this.buttonsToggleId=t+"-buttons-toggle",this.buttonsToggleTargetId=t+"-buttons-toggle-target",this.loadingId=t+"-loading",this.buttonIds=this.editButtonIds.concat([this.loadButtonId,this.saveButtonId,this.saveAsButtonId,this.setDefaultButtonId,this.importButtonId,this.exportButtonId,this.stackDiagonalsHorizontallyButtonId,this.stackDiagonalsVerticallyButtonId]),e.append('\n      <div class="card viewer-'+n.viewerType+'">\n        <div class="card-header cs-grid-stack-drag-area">\n          <h3 class="viewer-title">\n            '+n.title+'\n            <small id="'+this.subTitleId+'"></small>\n            <button type="button" class="btn btn-secondary button-set-default hidden-button" id="'+this.setDefaultButtonId+'">Set Default</button>\n          </h3>\n          <div class="move-indicator"><i class="fa fa-arrows"></i></div>\n        </div>\n        <div class="card-block">\n          <div class="alert alert-danger viewer-error hidden-error" id="'+this.errorElementId+'">\n          </div>\n          <div class="viewer-content">\n            <div id="'+this.loadingId+'" class="loading-indicator"><p>Loading...</p></div>\n            <div id="'+i+'">\n            </div>\n          </div>\n          <div class="card-buttons card-buttons-hidden" id="'+this.buttonsId+'">\n            <div class="card-buttons-toggle" id="'+this.buttonsToggleId+'">\n              <i class="fa fa-bars"></i>\n            </div>\n            <div class="card-buttons-toggle-target" id="'+this.buttonsToggleTargetId+'">\n              <div class="button-row">\n                <button type="button" class="btn btn-secondary button-load" id="'+this.loadButtonId+'" disabled>Load\n                </button><button type="button" class="btn btn-secondary button-save" id="'+this.saveButtonId+'" disabled>Save\n                </button><button type="button" class="btn btn-secondary button-save-as" id="'+this.saveAsButtonId+'" disabled>Save As\n                </button><button type="button" class="btn btn-secondary button-import hidden-button" id="'+this.importButtonId+'" disabled>Import\n                </button><input type="file" style="display: none;" id="'+this.importFileInputId+'" /><button type="button" class="btn btn-secondary button-export hidden-button" id="'+this.exportButtonId+'" disabled>Export\n                </button>\n              </div>\n              <div class="button-row">\n                <button type="button" class="btn btn-secondary button-import hidden-button" id="'+this.stackDiagonalsHorizontallyButtonId+'" disabled>Stack Diagonals Horizontally\n                </button><button type="button" class="btn btn-secondary button-import hidden-button" id="'+this.stackDiagonalsVerticallyButtonId+'" disabled>Stack Diagonals Vertically\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '),a=function(t){var e=s.editButtonIds[t],n=s.editTypes[t];$('<button type="button" class="btn btn-secondary button-edit" id="'+e+'" disabled>'+(n.icon?'<i class="fa fa-'+n.icon+'"></i>':"")+n.name+"</button>").insertBefore("#"+s.loadButtonId),$("#"+e).click(function(){return c.editViewer(n)})},s=this,u=0;u<this.editButtonIds.length;++u)a(u);return $("#"+this.loadButtonId).click(function(){return c.loadViewer()}),$("#"+this.saveButtonId).click(function(){return c.saveViewer()}),$("#"+this.saveAsButtonId).click(function(){return c.saveViewerAs()}),$("#"+this.setDefaultButtonId).click(function(){return c.setDefault()}),$("#"+this.importButtonId).click(function(){return c.importData()}),$("#"+this.importFileInputId).change(function(){return c.onImportData()}),$("#"+this.exportButtonId).click(function(){return c.exportData()}),$("#"+this.stackDiagonalsHorizontallyButtonId).click(function(){return c.stackDiagonalsHorizontally()}),$("#"+this.stackDiagonalsVerticallyButtonId).click(function(){return c.stackDiagonalsVertically()}),$("#"+this.buttonsId).hover(function(){$(this).removeClass("card-buttons-hidden"),$(this).addClass("card-buttons-shown")},function(){$(this).removeClass("card-buttons-shown"),$(this).addClass("card-buttons-hidden")}),n.layout&&n.layout.requestedLayoutId?(this.originalViewerId=n.layout.requestedLayoutId,this.defaultViewerId=n.layout.defaultViewerId,[4,this.updateViewerId(n.layout.resolvedLayout.layoutId,n.layout.resolvedLayout.name)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this.updateViewerId(void 0,void 0)];case 3:r.sent(),r.label=4;case 4:return this.viewer.errorEvent.subscribe(function(t){return c.setErrorMessage(t)}),[2]}})})},t.prototype.build=function(t,e,n){return r.b(this,void 0,void 0,function(){var e,n,i;return r.e(this,function(r){switch(r.label){case 0:e=t+"-view",r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.viewer.build(e)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),this.setError(n),[3,5];case 4:return $("#"+this.loadingId).remove(),[7];case 5:return this.setAllButtonsDisabled(!1),this.viewer.canImportData&&this.viewer.canImportData()&&$("#"+this.importButtonId).removeClass("hidden-button"),this.viewer.canExportData&&this.viewer.canExportData()&&$("#"+this.exportButtonId).removeClass("hidden-button"),i=this.viewer.getLayout(),this.renderButtonActiveStates(i),[2]}})})},t.prototype.setAllButtonsDisabled=function(t){for(var e=0,n=this.buttonIds;e<n.length;e++)$("#"+n[e]).prop("disabled",t);t||this.renderButtonDisabledStates()},t.prototype.clearError=function(){var t=$("#"+this.errorElementId);t.addClass("hidden-error"),t.empty()},t.prototype.setError=function(t){var e=this.siteHooks.getFriendlyErrorAndLog(t);this.setErrorMessage(e)},t.prototype.setErrorMessage=function(t){var e=$("#"+this.errorElementId);e.empty(),e.append("<p>"+t+"</p>"),e.removeClass("hidden-error")},t.prototype.updateButtonDisabledStates=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return this.viewerType?(t=this,[4,this.siteHooks.canSaveViewerLayout(this.viewerType,this.viewerId)]):[2];case 1:return t.canSave=e.sent(),this.canSetDefault=!(!this.originalViewerId||this.compareViewerIds(this.defaultViewerId,this.viewerId)),this.renderButtonDisabledStates(),[2]}})})},t.prototype.renderButtonActiveStates=function(t){t&&t&&t.columns&&t.rows&&a.a.canStackDiagonals(t.rows.length,t.columns.length)&&this.viewer.canStackDiagonals&&this.viewer.canStackDiagonals()?($("#"+this.stackDiagonalsHorizontallyButtonId).removeClass("hidden-button"),$("#"+this.stackDiagonalsVerticallyButtonId).removeClass("hidden-button")):($("#"+this.stackDiagonalsHorizontallyButtonId).addClass("hidden-button"),$("#"+this.stackDiagonalsVerticallyButtonId).addClass("hidden-button")),t&&t.stackDiagonalsVertically?$("#"+this.stackDiagonalsVerticallyButtonId).addClass("active-button"):$("#"+this.stackDiagonalsVerticallyButtonId).removeClass("active-button"),t&&t.stackDiagonalsHorizontally?$("#"+this.stackDiagonalsHorizontallyButtonId).addClass("active-button"):$("#"+this.stackDiagonalsHorizontallyButtonId).removeClass("active-button")},t.prototype.renderButtonDisabledStates=function(){$("#"+this.saveButtonId).prop("disabled",!this.canSave).html("Save"),this.canSetDefault?$("#"+this.setDefaultButtonId).removeClass("hidden-button"):$("#"+this.setDefaultButtonId).addClass("hidden-button")},t.prototype.updateViewerId=function(t,e){return r.b(this,void 0,void 0,function(){return r.e(this,function(n){switch(n.label){case 0:return this.viewerId=t,this.viewerName=e,$("#"+this.subTitleId).text(e||""),[4,this.updateButtonDisabledStates()];case 1:return n.sent(),[2]}})})},t.prototype.editViewer=function(t){return r.b(this,void 0,void 0,function(){var e,n,i,o;return r.e(this,function(r){switch(r.label){case 0:if(!this.viewerType)return[2];this.clearError(),r.label=1;case 1:return r.trys.push([1,10,11,12]),this.viewer.useDeprecatedEdit?(i=this.viewer.getLayout(),[4,this.siteHooks.editViewerDeprecated(this.viewerType,i,this.studyId,this.jobIndex,this.simTypes,this.channelNameStyle)]):[3,5];case 2:return(n=r.sent())?[4,this.viewer.setLayout(n)]:[3,4];case 3:r.sent(),this.renderButtonActiveStates(i),r.label=4;case 4:return[3,9];case 5:return[4,this.viewer.getEditChannelsOptions(t)];case 6:return(e=r.sent())?[4,this.siteHooks.editViewerChannels(e)]:[3,9];case 7:return(n=r.sent())?(this.setAllButtonsDisabled(!0),[4,this.viewer.setEditChannelsResult(t,n)]):[3,9];case 8:r.sent(),i=this.viewer.getLayout(),this.renderButtonActiveStates(i),r.label=9;case 9:return[3,12];case 10:return o=r.sent(),this.setError(o),[3,12];case 11:return this.setAllButtonsDisabled(!1),[7];case 12:return[2]}})})},t.prototype.loadViewer=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i,o;return r.e(this,function(r){switch(r.label){case 0:if(!this.viewerType||!this.originalViewerId)return[2];this.clearError(),r.label=1;case 1:return r.trys.push([1,6,7,8]),[4,this.siteHooks.loadViewerLayout(this.viewerType)];case 2:return(t=r.sent())?(n=t.name,-1!==this.originalViewerId.fallback.indexOf(e=t.layoutId)&&(e=this.originalViewerId.primary,n=this.originalViewerId.primary),[4,this.updateViewerId(e,n)]):[3,5];case 3:return r.sent(),this.setAllButtonsDisabled(!0),i=t.getConfigCopy(),[4,this.viewer.setLayout(i)];case 4:r.sent(),this.renderButtonActiveStates(i),r.label=5;case 5:return[3,8];case 6:return o=r.sent(),this.setError(o),[3,8];case 7:return this.setAllButtonsDisabled(!1),[7];case 8:return[2]}})})},t.prototype.saveViewer=function(){return r.b(this,void 0,void 0,function(){var t,e,n;return r.e(this,function(r){switch(r.label){case 0:if(!this.viewerType)return[2];this.clearError(),r.label=1;case 1:return r.trys.push([1,5,6,7]),this.viewerName&&this.viewerId?(t=this,[4,this.siteHooks.canSaveViewerLayout(this.viewerType,this.viewerId)]):[3,4];case 2:return t.canSave=r.sent(),this.canSave?($("#"+this.saveButtonId).prop("disabled",!0).html("Saving.."),e=this.viewer.getLayout(),this.setAllButtonsDisabled(!0),[4,this.siteHooks.saveViewerLayout(this.viewerType,this.viewerId,this.viewerName,e)]):[3,4];case 3:r.sent(),r.label=4;case 4:return[3,7];case 5:return n=r.sent(),this.setError(n),[3,7];case 6:return this.setAllButtonsDisabled(!1),[7];case 7:return[4,this.updateButtonDisabledStates()];case 8:return r.sent(),[2]}})})},t.prototype.saveViewerAs=function(){return r.b(this,void 0,void 0,function(){var t,e,n;return r.e(this,function(r){switch(r.label){case 0:if(!this.viewerType)return[2];this.clearError(),r.label=1;case 1:return r.trys.push([1,5,,6]),t=this.viewer.getLayout(),[4,this.siteHooks.saveViewerLayoutAs(this.viewerType,t)];case 2:return(e=r.sent())?[4,this.updateViewerId(e.viewerId,e.name)]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return n=r.sent(),this.setError(n),[3,6];case 6:return[2]}})})},t.prototype.setDefault=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return this.viewerType?[4,this.saveViewer()]:[2];case 1:e.sent(),this.clearError(),e.label=2;case 2:return e.trys.push([2,6,7,8]),this.originalViewerId?(this.setAllButtonsDisabled(!0),this.defaultViewerId=this.viewerId,[4,this.siteHooks.setViewerDefaultLayoutId(this.viewerType,this.originalViewerId,this.viewerId)]):[3,5];case 3:return e.sent(),[4,this.callbacks.setDefaultChartUpdated(this.viewerType,this.originalViewerId,new i.b(this.viewerId,this.viewerName,this.viewer.getLayout()))];case 4:e.sent(),e.label=5;case 5:return[3,8];case 6:return t=e.sent(),this.setError(t),[3,8];case 7:return this.setAllButtonsDisabled(!1),[7];case 8:return[4,this.updateButtonDisabledStates()];case 9:return e.sent(),[2]}})})},t.prototype.importData=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){if(!this.importFileInputId)return[2];this.clearError();try{$("#"+this.importFileInputId).trigger("click")}catch(t){this.setError(t)}return[2]})})},t.prototype.onImportData=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i=this;return r.e(this,function(r){if(!this.importFileInputId)return[2];this.clearError(),t=void 0;try{t=document.getElementById(this.importFileInputId),(e=t.files[0])&&((n=new FileReader).onload=function(t){return i.loadCsvFile(e.name,t.target.result)},n.readAsText(e))}catch(t){this.setError(t)}return t&&(t.value=""),[2]})})},t.prototype.exportData=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:this.clearError(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.viewer.exportCsvData()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),this.setError(t),[3,4];case 4:return[2]}})})},t.prototype.stackDiagonalsVertically=function(){return r.b(this,void 0,void 0,function(){var t,e;return r.e(this,function(n){switch(n.label){case 0:this.clearError(),n.label=1;case 1:return n.trys.push([1,3,,4]),(t=this.viewer.getLayout()).stackDiagonalsVertically=!t.stackDiagonalsVertically,[4,this.viewer.setLayout(t)];case 2:return n.sent(),this.renderButtonActiveStates(t),[3,4];case 3:return e=n.sent(),this.setError(e),[3,4];case 4:return[2]}})})},t.prototype.stackDiagonalsHorizontally=function(){return r.b(this,void 0,void 0,function(){var t,e;return r.e(this,function(n){switch(n.label){case 0:this.clearError(),n.label=1;case 1:return n.trys.push([1,3,,4]),(t=this.viewer.getLayout()).stackDiagonalsHorizontally=!t.stackDiagonalsHorizontally,[4,this.viewer.setLayout(t)];case 2:return n.sent(),this.renderButtonActiveStates(t),[3,4];case 3:return e=n.sent(),this.setError(e),[3,4];case 4:return[2]}})})},t.prototype.loadCsvFile=function(t,e){this.clearError();try{this.viewer.importCsvData(t,e)}catch(t){this.setError(t)}},t.prototype.compareViewerIds=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t}(),u=function(){function t(t){this.inner=t}return t.prototype.reload=function(){return this.inner.reload()},t.prototype.dispose=function(){return this.inner.dispose()},t.prototype.setDefaultChartUpdated=function(t,e,n){return this.inner.setDefaultChartUpdated(t,e,n)},t.prototype.initialize=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o;return r.e(this,function(r){switch(r.label){case 0:return i=$("#"+t).data("gridstack"),o=t+"-"+e,i.addWidget($('<div class="grid-stack-item-content" id="'+o+'">\n        </div>'),n.grid.x,n.grid.y,n.grid.width,n.grid.height),[4,this.inner.initialize(o,e,n)];case 1:return r.sent(),[2]}})})},t.prototype.build=function(t,e,n){return r.b(this,void 0,void 0,function(){return r.e(this,function(r){switch(r.label){case 0:return[4,this.inner.build(t+"-"+e,e,n)];case 1:return r.sent(),[2]}})})},t}(),c=n("HLL/"),l=n("pugT"),h=n("vpYX"),f=n("Gi3i");n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p});var d=-1,p=function(){function t(t,e){this.elementId=t,this.configBuilder=e,this.unitsChangedSubscription=new l.a,this.siteHooks=this.configBuilder.siteHooks,this.simTypes=this.configBuilder.simTypes,this.studyJobs=this.configBuilder.studyJobs}return t.prototype.dispose=function(){if(this.unitsChangedSubscription&&this.unitsChangedSubscription.unsubscribe(),this.config&&this.config.sharedStates)for(var t=0,e=this.config.sharedStates;t<e.length;t++)e[t].dispose();if(this.siteHooks&&this.siteHooks.dispose(),this.viewers)for(var n=0,r=this.viewers;n<r.length;n++)r[n].dispose()},Object.defineProperty(t.prototype,"sharedStates",{get:function(){return this.config?this.config.sharedStates:[]},enumerable:!0,configurable:!0}),t.prototype.reload=function(){return this.buildTask=this.reloadInner(this.buildTask),this.buildTask},t.prototype.redraw=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){switch(t.label){case 0:return[4,this.buildTask];case 1:return t.sent(),this.sharedStates.forEach(function(t){return t.raiseWindowResizedNews()}),[2]}})})},t.prototype.reloadInner=function(t){return r.b(this,void 0,void 0,function(){var e,n;return r.e(this,function(r){switch(r.label){case 0:return t?[4,t]:[3,2];case 1:r.sent(),r.label=2;case 2:if(!this.viewers)return[3,6];e=0,n=this.viewers,r.label=3;case 3:return e<n.length?[4,n[e].reload()]:[3,6];case 4:r.sent(),r.label=5;case 5:return e++,[3,3];case 6:return[2]}})})},t.prototype.setDefaultChartUpdated=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o;return r.e(this,function(r){switch(r.label){case 0:return this.viewers?[4,this.buildTask]:[3,5];case 1:r.sent(),i=0,o=this.viewers,r.label=2;case 2:return i<o.length?[4,o[i].setDefaultChartUpdated(t,e,n)]:[3,5];case 3:r.sent(),r.label=4;case 4:return i++,[3,2];case 5:return[2]}})})},t.prototype.build=function(){var t=this;return this.buildTask=this.buildInner(),this.unitsChangedSubscription.add(this.siteHooks.unitsChangedEvent.pipe(Object(f.a)(c.o)).subscribe(function(){return t.reload()})),this.buildTask},t.prototype.buildInner=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i,o,a,c,l,f,d,p,m,g,v,y=this;return r.e(this,function(r){switch(r.label){case 0:return this.studyJobs&&this.studyJobs.length?(t=this,[4,this.configBuilder.build()]):[2];case 1:if(t.config=r.sent(),!(e=$("#"+this.elementId)))return[2];for(e.addClass("grid-stack"),e.gridstack({handleClass:"cs-grid-stack-drag-area",resizable:{handles:"e, se, s, sw, w"}}),e.on("resizestop",function(){return y.redraw()}),n=this.studyJobs[0].studyId,i=this.studyJobs[0].jobIndex,o=[],a=0,c=this.config.views;a<c.length;a++)(v=c[a]).viewer&&o.push({viewConfig:v,viewer:new u(new s(this,this.siteHooks,v.viewer,n,i,this.simTypes,this.config.channelNameStyle))});l=0,f=0,d=o,r.label=2;case 2:return f<d.length?(g=d[f],this.isPageStillLoaded()?[4,g.viewer.initialize(this.elementId,l,v=g.viewConfig)]:[2]):[3,5];case 3:r.sent(),++l,r.label=4;case 4:return f++,[3,2];case 5:return[4,h.a.delay(0)];case 6:r.sent(),l=0,p=0,m=o,r.label=7;case 7:return p<m.length?(g=m[p],this.isPageStillLoaded()?[4,g.viewer.build(this.elementId,l,v=g.viewConfig)]:[2]):[3,10];case 8:r.sent(),++l,r.label=9;case 9:return p++,[3,7];case 10:return this.viewers=o.map(function(t){return t.viewer}),[2]}})})},t.prototype.isPageStillLoaded=function(){return!!$("#"+this.elementId).length},t}()},"2yAJ":function(t,e){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e,r,i,o,a){return n((s=n(n(e,t),n(i,a)))<<(u=o)|s>>>32-u,r);var s,u}function i(t,e,n,i,o,a,s){return r(e&n|~e&i,t,e,o,a,s)}function o(t,e,n,i,o,a,s){return r(e&i|n&~i,t,e,o,a,s)}function a(t,e,n,i,o,a,s){return r(e^n^i,t,e,o,a,s)}function s(t,e,n,i,o,a,s){return r(n^(e|~i),t,e,o,a,s)}function u(t,e){var r,u,c,l,h;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var f=1732584193,d=-271733879,p=-1732584194,m=271733878;for(r=0;r<t.length;r+=16)u=f,c=d,l=p,h=m,d=s(d=s(d=s(d=s(d=a(d=a(d=a(d=a(d=o(d=o(d=o(d=o(d=i(d=i(d=i(d=i(d,p=i(p,m=i(m,f=i(f,d,p,m,t[r],7,-680876936),d,p,t[r+1],12,-389564586),f,d,t[r+2],17,606105819),m,f,t[r+3],22,-1044525330),p=i(p,m=i(m,f=i(f,d,p,m,t[r+4],7,-176418897),d,p,t[r+5],12,1200080426),f,d,t[r+6],17,-1473231341),m,f,t[r+7],22,-45705983),p=i(p,m=i(m,f=i(f,d,p,m,t[r+8],7,1770035416),d,p,t[r+9],12,-1958414417),f,d,t[r+10],17,-42063),m,f,t[r+11],22,-1990404162),p=i(p,m=i(m,f=i(f,d,p,m,t[r+12],7,1804603682),d,p,t[r+13],12,-40341101),f,d,t[r+14],17,-1502002290),m,f,t[r+15],22,1236535329),p=o(p,m=o(m,f=o(f,d,p,m,t[r+1],5,-165796510),d,p,t[r+6],9,-1069501632),f,d,t[r+11],14,643717713),m,f,t[r],20,-373897302),p=o(p,m=o(m,f=o(f,d,p,m,t[r+5],5,-701558691),d,p,t[r+10],9,38016083),f,d,t[r+15],14,-660478335),m,f,t[r+4],20,-405537848),p=o(p,m=o(m,f=o(f,d,p,m,t[r+9],5,568446438),d,p,t[r+14],9,-1019803690),f,d,t[r+3],14,-187363961),m,f,t[r+8],20,1163531501),p=o(p,m=o(m,f=o(f,d,p,m,t[r+13],5,-1444681467),d,p,t[r+2],9,-51403784),f,d,t[r+7],14,1735328473),m,f,t[r+12],20,-1926607734),p=a(p,m=a(m,f=a(f,d,p,m,t[r+5],4,-378558),d,p,t[r+8],11,-2022574463),f,d,t[r+11],16,1839030562),m,f,t[r+14],23,-35309556),p=a(p,m=a(m,f=a(f,d,p,m,t[r+1],4,-1530992060),d,p,t[r+4],11,1272893353),f,d,t[r+7],16,-155497632),m,f,t[r+10],23,-1094730640),p=a(p,m=a(m,f=a(f,d,p,m,t[r+13],4,681279174),d,p,t[r],11,-358537222),f,d,t[r+3],16,-722521979),m,f,t[r+6],23,76029189),p=a(p,m=a(m,f=a(f,d,p,m,t[r+9],4,-640364487),d,p,t[r+12],11,-421815835),f,d,t[r+15],16,530742520),m,f,t[r+2],23,-995338651),p=s(p,m=s(m,f=s(f,d,p,m,t[r],6,-198630844),d,p,t[r+7],10,1126891415),f,d,t[r+14],15,-1416354905),m,f,t[r+5],21,-57434055),p=s(p,m=s(m,f=s(f,d,p,m,t[r+12],6,1700485571),d,p,t[r+3],10,-1894986606),f,d,t[r+10],15,-1051523),m,f,t[r+1],21,-2054922799),p=s(p,m=s(m,f=s(f,d,p,m,t[r+8],6,1873313359),d,p,t[r+15],10,-30611744),f,d,t[r+6],15,-1560198380),m,f,t[r+13],21,1309151649),p=s(p,m=s(m,f=s(f,d,p,m,t[r+4],6,-145523070),d,p,t[r+11],10,-1120210379),f,d,t[r+2],15,718787259),m,f,t[r+9],21,-343485551),f=n(f,u),d=n(d,c),p=n(p,l),m=n(m,h);return[f,d,p,m]}function c(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function l(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function f(t){return unescape(encodeURIComponent(t))}function d(t){return function(t){return c(u(l(t),8*t.length))}(f(t))}function p(t,e){return function(t,e){var n,r,i=l(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=u(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=u(o.concat(l(e)),512+8*e.length),c(u(a.concat(r),640))}(f(t),f(e))}t.exports=function(t,e,n){return e?n?p(e,t):h(p(e,t)):n?d(t):h(d(t))}},"3Fae":function(t,e,n){"use strict";var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},o=i(r),a=o.right,s=o.left,u=a,c=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function l(t,e){return[t,e]}var h=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=l),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)c[o]=n(a,e[i]);return c},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=d(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=d(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},m=function(t,e){var n=p(t,e);return n?Math.sqrt(n):n},g=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},v=Array.prototype,y=v.slice,b=v.map,w=function(t){return function(){return t}},_=function(t){return t},x=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},S=Math.sqrt(50),M=Math.sqrt(10),C=Math.sqrt(2),E=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=T(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function T(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=M?5:o>=C?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=M?5:o>=C?2:1)}function O(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=M?i*=5:o>=C&&(i*=2),e<t?-i:i}var P=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},A=function(){var t=_,e=g,n=P;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var c=e(s),l=c[0],h=c[1],f=n(s,l,h);Array.isArray(f)||(f=O(l,h,f),f=x(Math.ceil(l/f)*f,Math.floor(h/f)*f,f));for(var d=f.length;f[0]<=l;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,m=new Array(d+1);for(i=0;i<=d;++i)(p=m[i]=[]).x0=i>0?f[i-1]:l,p.x1=i<d?f[i]:h;for(i=0;i<a;++i)l<=(o=s[i])&&o<=h&&m[u(f,o,0,d)].push(r[i]);return m}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:w(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:w([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?w(y.call(t)):w(t),r):n},r},k=function(t,e,n){if(null==n&&(n=d),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},L=function(t,e,n){return t=b.call(t,d).sort(r),Math.ceil((n-e)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},R=function(t,e,n){return Math.ceil((n-e)/(3.5*m(t)*Math.pow(t.length,-1/3)))},D=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},N=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=d(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=d(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},I=function(t,e){var n,i=t.length,o=-1,a=[];if(null==e)for(;++o<i;)isNaN(n=d(t[o]))||a.push(n);else for(;++o<i;)isNaN(n=d(e(t[o],o,t)))||a.push(n);return k(a.sort(r),.5)},j=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},z=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},F=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},V=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}},B=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},U=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},H=function(t){if(!(i=t.length))return[];for(var e=-1,n=z(t,G),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function G(t){return t.length}var W=function(){return H(arguments)};n.d(e,"b",function(){return u}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return r}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return A}),n.d(e,"w",function(){return L}),n.d(e,"x",function(){return R}),n.d(e,"y",function(){return P}),n.d(e,"k",function(){return D}),n.d(e,"l",function(){return N}),n.d(e,"m",function(){return I}),n.d(e,"n",function(){return j}),n.d(e,"o",function(){return z}),n.d(e,"p",function(){return c}),n.d(e,"q",function(){return F}),n.d(e,"r",function(){return k}),n.d(e,"s",function(){return x}),n.d(e,"t",function(){return V}),n.d(e,"u",function(){return B}),n.d(e,"v",function(){return U}),n.d(e,"B",function(){return E}),n.d(e,"z",function(){return T}),n.d(e,"A",function(){return O}),n.d(e,"C",function(){return H}),n.d(e,"D",function(){return p}),n.d(e,"E",function(){return W})},"3fWJ":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"3fdc":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){this.studyId=t,this.jobIndex=e}},"3kTQ":function(t,e,n){"use strict";n.r(e);var r,i,o=n("2fsI"),a=n("t+Vl"),s=0,u=0,c=0,l=1e3,h=0,f=0,d=0,p="object"==typeof performance&&performance.now?performance:Date,m="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function g(){return f||(m(v),f=p.now()+d)}function v(){f=0}function y(){this._call=this._time=this._next=null}function b(t,e,n){var r=new y;return r.restart(t,e,n),r}function w(){f=(h=p.now())+d,s=u=0;try{!function(){g(),++s;for(var t,e=r;e;)(t=f-e._time)>=0&&e._call.call(null,t),e=e._next;--s}()}finally{s=0,function(){for(var t,e,n=r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,x(o)}(),f=0}}function _(){var t=p.now(),e=t-h;e>l&&(d-=e,h=t)}function x(t){s||(u&&(u=clearTimeout(u)),t-f>24?(t<1/0&&(u=setTimeout(w,t-p.now()-d)),c&&(c=clearInterval(c))):(c||(h=p.now(),c=setInterval(_,l)),s=1,m(w)))}y.prototype=b.prototype={constructor:y,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?g():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}};var S=function(t,e,n){var r=new y;return r.restart(function(n){r.stop(),t(n+e)},e=null==e?0:+e,n),r},M=Object(a.dispatch)("start","end","interrupt"),C=[],E=0,T=1,O=2,P=3,A=4,k=5,L=6,R=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,l,h,f;if(n.state!==T)return s();for(c in i)if((f=i[c]).name===n.name){if(f.state===P)return S(o);f.state===A?(f.state=L,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=L,f.timer.stop(),delete i[c])}if(S(function(){n.state===P&&(n.state=A,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=O,n.on.call("start",t,t.__data__,n.index,n.group),n.state===O){for(n.state=P,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=k,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===k&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=L,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=b(function(t){n.state=T,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:M,tween:C,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:E})};function D(t,e){var n=I(t,e);if(n.state>E)throw new Error("too late; already scheduled");return n}function N(t,e){var n=I(t,e);if(n.state>O)throw new Error("too late; already started");return n}function I(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var j=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>O&&n.state<k,n.state=L,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},z=n("7p8r");function F(t,e,n){var r=t._id;return t.each(function(){var t=N(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return I(t,r).value[e]}}var V=n("6jm/"),B=function(t,e){var n;return("number"==typeof e?z.interpolateNumber:e instanceof V.a?z.interpolateRgb:(n=Object(V.a)(e))?(e=n,z.interpolateRgb):z.interpolateString)(t,e)},U=o.selection.prototype.constructor,H=0;function G(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function W(t){return Object(o.selection)().transition(t)}function q(){return++H}var Y=o.selection.prototype;G.prototype=W.prototype={constructor:G,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(o.selector)(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var u,c,l=r[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d])&&(c=t.call(u,u.__data__,d,l))&&("__data__"in u&&(c.__data__=u.__data__),f[d]=c,R(f[d],e,n,d,f,I(u,n)));return new G(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(o.selectorAll)(t));for(var r=this._groups,i=r.length,a=[],s=[],u=0;u<i;++u)for(var c,l=r[u],h=l.length,f=0;f<h;++f)if(c=l[f]){for(var d,p=t.call(c,c.__data__,f,l),m=I(c,n),g=0,v=p.length;g<v;++g)(d=p[g])&&R(d,e,n,g,p,m);a.push(p),s.push(c)}return new G(a,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(o.matcher)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,s=e[i],u=s.length,c=r[i]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new G(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=e[a],c=n[a],l=u.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=u[f]||c[f])&&(h[f]=s);for(;a<r;++a)o[a]=e[a];return new G(o,this._parents,this._name,this._id)},selection:function(){return new U(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=q(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=I(a,e);R(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new G(r,this._parents,t,n)},call:Y.call,nodes:Y.nodes,node:Y.node,size:Y.size,empty:Y.empty,each:Y.each,on:function(t,e){var n=this._id;return arguments.length<2?I(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?D:N;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=Object(o.namespace)(t),r="transform"===n?z.interpolateTransformSvg:B;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,r,F(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Object(o.namespace)(t);return this.tween(n,(r.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?z.interpolateTransformCss:B;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=Object(o.style)(this,t),s=(this.style.removeProperty(t),Object(o.style)(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,i,a;return function(){var s=Object(o.style)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(o.style)(this,t)),s===u?null:s===r&&u===i?a:a=e(r=s,i=u)}}(t,r,F(this,"style."+t,e)):function(t,e,n){var r,i;return function(){var a=Object(o.style)(this,t);return a===n?null:a===r?i:i=e(r=a,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(F(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=I(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=N(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=N(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){D(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){D(this,t).delay=e}})(e,t)):I(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){N(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){N(this,t).duration=e}})(e,t)):I(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){N(this,t).ease=e}}(e,t)):I(this.node(),e).ease}};var X={time:null,delay:0,duration:250,ease:n("s+xS").o};function Z(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return X.time=g(),X;return n}o.selection.prototype.interrupt=function(t){return this.each(function(){j(this,t)})},o.selection.prototype.transition=function(t){var e,n;t instanceof G?(e=t._id,t=t._name):(e=q(),(n=X).time=g(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&R(a,t,e,c,s,n||Z(a,e));return new G(r,this._parents,t,e)};var J=[null],K=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>T&&n.name===e)return new G([[t]],J,e,+r);return null};n.d(e,"transition",function(){return W}),n.d(e,"active",function(){return K}),n.d(e,"interrupt",function(){return j})},"3njT":function(t,e,n){"use strict";var r=n("mrSG"),i=n("YjDc"),o=n("+E/Y"),a=n("3fdc"),s=n("lFWV"),u=n("9WsI"),c=n("9CsZ"),l=n("OzDC"),h=n("LXbF"),f=function(){function t(){}return t.forPath=function(e,n,r){var i=[],o=n.split(".");return t.inner(e,"",o,i,r),i},t.inner=function(t,e,n,r,i){if(t){var o=function(t,e){return t+(t.length?".":"")+e};if(Array.isArray(t))if(0===n.length&&i)r.push(new d(e,t));else for(var a=0,s=0,u=t;s<u.length;s++)this.inner(u[s],o(e,""+a),n,r,i),++a;else if("object"==typeof t)if(0===n.length)r.push(new d(e,t));else for(var c=0,l=n[0].split("|");c<l.length;c++){var h=l[c],f=n.slice(1);this.inner(t[h],o(e,h),f,r,i)}else 0===n.length&&r.push(new d(e,t))}},t}(),d=function(t,e){this.path=t,this.value=e},p=n("BOjs"),m=n("ixgt");n.d(e,"b",function(){return g}),n.d(e,"a",function(){return v}),n.d(e,"c",function(){return y});var g=function(t){return t[t.line=0]="line",t[t.scatter=1]="scatter",t}({}),v=function(t,e){this.name=t,this.data=e},y=function(t){function e(e,n,r,i,o){var s=t.call(this,n,r,[new a.a("dummy",0)],[])||this;return s.configType=e,s.configs=i,s.unitsMap=o,s}return r.d(e,t),e.prototype.createConfigAreaChart=function(t,e,n,i,a,d,g,v){return r.b(this,void 0,void 0,function(){var y,b,w,_,x,S,M,C,E,T,O,P,A,k,L,R;return r.e(this,function(D){switch(D.label){case 0:v=v||{},y=[],b=new c.e(d),w=0,_=this.configs,D.label=1;case 1:if(!(w<_.length))return[3,6];S=f.forPath((x=_[w]).data,t,!!v.arrayIsValidValue),M=0,C=S,D.label=2;case 2:return M<C.length?(T=(E=C[M]).value,v.forBranchName&&T.name!==v.forBranchName?[3,4]:v.filter&&!v.filter(T)?[3,4]:(v.map&&(T=v.map(T)),[4,(O=new u.b(o.a.create(this.siteHooks,T,this.configs.length>1?x.name+" - "+E.path:E.path,n,r.a({},this.unitsMap||{},v.unitsMap||{}),g))).getRequestableChannels(h.a.FullyQualified,n)])):[3,5];case 3:if(P=D.sent(),A=P.filter(function(t){return t.name!==n}),P.length===A.length&&v.onlyIfPrimaryDomainExists)return[3,4];A.length&&(b.sourceLoaderSet.add(O),y.push.apply(y,A)),D.label=4;case 4:return M++,[3,2];case 5:return w++,[3,1];case 6:return(y=Object(m.a)(y,function(t){return t.name})).length?(i.sharedStates.push(b),k={columns:[{channels:[n],relativeSize:1}],rows:y.map(function(t){return{channels:[t.name],relativeSize:1}})},L=e.replace(/\s/g,""),[4,this.resolveViewerLayout(l.b,new s.c(v.layoutName||"Default-"+this.configType+L),k)]):[3,8];case 7:R=D.sent(),i.views.push({title:e,viewerType:l.b,layout:R,viewer:v.chartType?p.c.create(n,R.resolvedLayout.getConfigCopy(),i.channelNameStyle,b,this.siteHooks):l.a.createLinePlotViewer(n,R.resolvedLayout.getConfigCopy(),i.channelNameStyle,b,this.siteHooks),grid:a}),a=this.getNextGridSlot(a),D.label=8;case 8:return[2,a]}})})},e}(i.a)},"3zBt":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("mrSG"),i=n("YjDc"),o=n("lFWV"),a=n("LXbF"),s=n("OzDC"),u=n("9CsZ"),c=n("9WsI"),l=n("HNUh"),h=n("BOjs"),f=n("HLL/"),d=n("mMBe"),p=n("c8oZ"),m=n("Bpm0"),g=n("OkkV"),v=n("uV16"),y={StraightSim:"vCar",ApexSim:"vCar",QuasiStaticLap:"sLap",DeploymentLap:"sLap"},b=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.getJobsSimTypeMetadata=new p.a(e),o}return r.d(e,t),e.prototype.build=function(){return r.b(this,void 0,void 0,function(){var t,e,n;return r.e(this,function(r){switch(r.label){case 0:return t={channelNameStyle:a.a.Generic,sharedStates:[],views:[]},[4,this.getJobsSimTypeMetadata.execute(this.studyJobs,this.simTypes)];case 1:return 1!==(e=r.sent()).length?[3,3]:[4,this.buildSingleJobTimeOrDistanceSims(t,e[0].studyJob,e[0].simTypes)];case 2:return n=r.sent(),[3,5];case 3:return[4,this.buildMultipleJobTimeOrDistanceSims(t,e)];case 4:n=r.sent(),r.label=5;case 5:return[4,this.buildNonTimeOrDistanceSims(t,n,e)];case 6:return r.sent(),[2,t]}})})},e.prototype.buildMultipleJobTimeOrDistanceSims=function(t,e){return r.b(this,void 0,void 0,function(){var n,i,o,a,s,h,f,d,p,m,g,v,y;return r.e(this,function(r){switch(r.label){case 0:for(i={x:0,y:0,width:12,height:8+Math.max(0,Math.ceil((this.studyJobs.length-6)/4))},a=0,s=e;a<s.length;a++)if(h=this.getFirstTimeOrDistanceSim(g=s[a])){o=h.name;break}if(!o)return[2,i];for(f=new u.e,t.sharedStates.push(f),d=[],p=0,m=e;p<m.length;p++)(v=this.getFirstTimeOrDistanceSim(g=m[p]))&&d.push(new c.b(l.a.create(this.siteHooks,this.fileLoader,g.studyJob,v.name),!0));return(n=f.sourceLoaderSet).add.apply(n,d),y=this.findAllXDomainNames(e,o),[4,this.createTimeOrDistanceSimViewers(y,o,t,f,i)];case 1:return[2,r.sent()]}})})},e.prototype.buildSingleJobTimeOrDistanceSims=function(t,e,n){return r.b(this,void 0,void 0,function(){var e,i,o,a,s,h,f,d,p=this;return r.e(this,function(r){switch(r.label){case 0:if(e={x:0,y:0,width:12,height:8},!(i=n.filter(function(t){return Object(m.a)(t)})).length)return[2,e];for(o=i.shift(),a=new u.e,t.sharedStates.push(a),s=function(t){var e,n=h.studyJobs.map(function(e){return new c.b(l.a.create(p.siteHooks,p.fileLoader,e,t.name),t===o)});(e=a.sourceLoaderSet).add.apply(e,n)},h=this,f=0,d=[o].concat(i);f<d.length;f++)s(d[f]);return[4,this.createTimeOrDistanceSimViewers(o.xDomainNames,o.name,t,a,e)];case 1:return[2,r.sent()]}})})},e.prototype.getFirstTimeOrDistanceSim=function(t){return t.simTypes.find(function(t){return Object(m.a)(t)})},e.prototype.createTimeOrDistanceSimViewers=function(t,e,n,i,o){return r.b(this,void 0,void 0,function(){var a,u,c,l,f,p;return r.e(this,function(r){switch(r.label){case 0:a=0,u=t,r.label=1;case 1:return a<u.length?(c=u[a]).startsWith(v.b)?[3,7]:(l=this.getChartLayoutIds(e,c),[4,this.resolveViewerLayout(s.b,l)]):[3,8];case 2:return(p=r.sent()).hasConfig?(n.views.push({title:e,viewerType:s.b,layout:p,viewer:s.a.createLinePlotViewer(c,p.resolvedLayout.getConfigCopy(),n.channelNameStyle,i,this.siteHooks),grid:o}),o=this.getNextGridSlot(o),[4,this.requiresTrack(i)]):[3,5];case 3:return r.sent()?[4,this.resolveViewerLayout(d.a,l)]:[3,5];case 4:f=r.sent(),n.views.push({title:"Track",viewerType:d.a,layout:f,viewer:d.b.create(this.siteHooks,i,c,f.resolvedLayout.getConfigCopy()),grid:o}),o=this.getNextGridSlot(o),r.label=5;case 5:return[4,this.resolveViewerLayout(h.b,l)];case 6:(p=r.sent()).hasConfig&&(n.views.push({title:e,viewerType:h.b,layout:p,viewer:h.c.create(c,p.resolvedLayout.getConfigCopy(),n.channelNameStyle,i,this.siteHooks),grid:o}),o=this.getNextGridSlot(o)),r.label=7;case 7:return a++,[3,1];case 8:return[2,o]}})})},e.prototype.requiresTrack=function(t){return r.b(this,void 0,void 0,function(){return r.e(this,function(e){switch(e.label){case 0:return[4,Object(g.a)(t,f.d,!1)];case 1:return[2,e.sent().filter(function(t){return t&&t.data&&Object.keys(t.data).length>0}).length>0]}})})},e.prototype.buildNonTimeOrDistanceSims=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o,a,f,d,p=this;return r.e(this,function(g){switch(g.label){case 0:e={x:e.x,y:e.y,width:this.studyJobs.length>5?12:6,height:e.height},i=this.simTypes.filter(function(t){return!Object(m.b)(t,n)}),o=function(i){var o,f,d,m,g,y,b,w,_;return r.e(this,function(r){switch(r.label){case 0:f=new u.e,t.sharedStates.push(f),d=a.studyJobs.map(function(t){return new c.b(l.a.create(p.siteHooks,p.fileLoader,t,i),!0)}),(o=f.sourceLoaderSet).add.apply(o,d),m=a.findAllXDomainNames(n,i),g=0,y=m,r.label=1;case 1:return g<y.length?(b=y[g]).startsWith(v.b)?[3,4]:(w=a.getChartLayoutIds(i,b),[4,a.resolveViewerLayout(s.b,w)]):[3,5];case 2:return(_=r.sent()).hasConfig&&(t.views.push({title:i,viewerType:s.b,layout:_,viewer:s.a.createLinePlotViewer(b,_.resolvedLayout.getConfigCopy(),t.channelNameStyle,f,a.siteHooks),grid:e}),e=a.getNextGridSlot(e)),[4,a.resolveViewerLayout(h.b,w)];case 3:(_=r.sent()).hasConfig&&(t.views.push({title:i,viewerType:h.b,layout:_,viewer:h.c.create(b,_.resolvedLayout.getConfigCopy(),t.channelNameStyle,f,a.siteHooks),grid:e}),e=a.getNextGridSlot(e)),r.label=4;case 4:return g++,[3,1];case 5:return[2]}})},a=this,f=0,d=i,g.label=1;case 1:return f<d.length?[5,o(d[f])]:[3,4];case 2:g.sent(),g.label=3;case 3:return f++,[3,1];case 4:return[2]}})})},e.prototype.findAllXDomainNames=function(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r].simTypes.find(function(t){return t.name===e});if(o)for(var a=0,s=o.xDomainNames;a<s.length;a++){var u=s[a];-1===n.indexOf(u)&&n.push(u)}}return n.length||(n=[y[e]]),n},e.prototype.getChartLayoutIds=function(t,e){return e===f.s||e===f.t?new o.c(this.getChartLayoutId(t,f.t),[this.getChartLayoutId(t,f.s)]):e===f.B||e===f.A?new o.c(this.getChartLayoutId(t,f.A),[this.getChartLayoutId(t,f.B)]):new o.c(this.getChartLayoutId(t,e),[])},e.prototype.getChartLayoutId=function(t,e){return"Default-"+t+"-"+e},e}(i.a)},"48aD":function(t,e,n){"use strict";function r(t){return t&&t.startsWith("1.")?+t.substring(2):0}n.d(e,"a",function(){return r})},"4FPt":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("mrSG"),i=n("mMBe"),o=n("9WsI"),a=n("9CsZ"),s=n("LXbF"),u=n("+E/Y"),c=n("HLL/"),l=n("ukm+"),h=function(t){function e(e,n,r,i){var o=t.call(this,"Track",e,n,r,i)||this;return o.trackPreviewName="Track Preview",o}return r.d(e,t),e.prototype.populateSources=function(t){return r.b(this,void 0,void 0,function(){var e,n,i;return r.e(this,function(r){for(e=0,n=this.configs;e<n.length;e++)t.sourceLoaderSet.add(new o.b(u.a.create(this.siteHooks,(i=n[e]).data,i.name)));return[2]})})},e.prototype.build=function(){return r.b(this,void 0,void 0,function(){var t,e,n,o;return r.e(this,function(r){switch(r.label){case 0:return t={channelNameStyle:s.a.Generic,sharedStates:[],views:[]},e={x:0,y:0,width:12,height:8},n=new l.a,o=new a.e(n),t.sharedStates.push(o),[4,this.populateSources(o)];case 1:return r.sent(),t.views.push({title:"Track Preview",viewerType:i.a,layout:void 0,viewer:i.b.create(this.siteHooks,o),grid:e}),(e=this.getNextGridSlot(e)).height=7,e.width=6,[4,this.createConfigAreaChart("racingLine","Racing Line","sLap",t,e,n,void 0,{onlyIfPrimaryDomainExists:!0})];case 2:return e=r.sent(),[4,this.createConfigAreaChart("centreLine","Centre Line","sLapCentreLine",t,e,n)];case 3:return e=r.sent(),[4,this.createConfigAreaChart("trackOutline","Track Outline Left",c.j,t,e,void 0,{filter:/.*Left/})];case 4:return e=r.sent(),[4,this.createConfigAreaChart("trackOutline","Track Outline Right",c.j,t,e,void 0,{filter:/.*Right/})];case 5:return e=r.sent(),[4,this.createConfigAreaChart("trackConditions","Track Conditions","sLap",t,e,n)];case 6:return e=r.sent(),[4,this.createConfigAreaChart("strategyWeights","Strategy Weights","sLap",t,e,void 0,{xDomainAlias:"sLapBasis2",filter:{test:function(t){return"rLapWeights"!==t}}})];case 7:return e=r.sent(),[4,this.createConfigAreaChart("strategyWeights","Strategy Lap Weights",c.j,t,e,void 0,{filter:/rLapWeights/})];case 8:return e=r.sent(),[4,this.createConfigAreaChart("gearLimits","Gear Limits","sLap",t,e,n,{xDomainAlias:"sLapBasis"})];case 9:return e=r.sent(),[2,t]}})})},e}(n("3njT").c)},"4HSR":function(t,e,n){!function(t,e,n,r,i,o){"use strict";function a(t){return function(){return t}}function s(t,e,n,r){this.kx=n,this.ky=r||n,this.x=t,this.y=e}s.prototype={constructor:s,scale:function(t,e){return e=void 0===e?t:e,1!==t||e&&1!==e?new s(this.x,this.y,this.kx*t,this.ky*e):this},translate:function(t,e){return 0===t&0===e?this:new s(this.x+this.kx*t,this.y+this.ky*e,this.kx,this.ky)},apply:function(t){return[t[0]*this.kx+this.x,t[1]*this.ky+this.y]},applyX:function(t){return t*this.kx+this.x},applyY:function(t){return t*this.ky+this.y},invert:function(t){return[(t[0]-this.x)/this.kx,(t[1]-this.y)/this.ky]},invertX:function(t){return(t-this.x)/this.kx},invertY:function(t){return(t-this.y)/this.ky},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.kx+","+this.ky+")"}};var u=new s(0,0,1,1);function c(t){return t.__zoom||u}function l(){i.event.stopImmediatePropagation()}function h(){i.event.preventDefault(),i.event.stopImmediatePropagation()}function f(){return!i.event.button}function d(){var t,e,n=this;if(n instanceof SVGElement)t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value;else{if(!(n&&n.clientWidth&&n.clientHeight))throw"d3-xyzoom failed to constrain scales because extent is undefined.";t=n.clientWidth,e=n.clientHeight}return[[0,0],[t,e]]}function p(){return this.__zoom||u}c.prototype=s.prototype,t.xyzoom=function(){var t,u,c=f,m=d,g=0,v=0,y=0,b=0,w=1/0,_=1/0,x=1,S=1,M=-1/0,C=1/0,E=-1/0,T=1/0,O=250,P=r.interpolateNumber,A=[],k=e.dispatch("start","zoom","end"),L=500,R=150;function D(t){t.on("wheel.zoom",B).on("mousedown.zoom",U).on("dblclick.zoom",H).on("touchstart.zoom",G).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",p)}function N(t,e,n){return e=Math.max(g,Math.min(w,e)),n=Math.max(v,Math.min(_,n)),e===t.kx&&n===t.ky?t:new s(t.x,t.y,e,n)}function I(t,e,n){var r=e[0]-n[0]*t.kx,i=e[1]-n[1]*t.ky;return r===t.x&&i===t.y?t:new s(r,i,t.kx,t.ky)}function j(t,e){var n=t.invertX(e[0][0])-M,r=t.invertX(e[1][0])-C,i=t.invertY(e[0][1])-E,o=t.invertY(e[1][1])-T;return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function z(t,e){t.on("start.zoom",function(){F(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).end()}).tween("zoom",function(){var t=arguments,n=F(this,t),r=this.__zoom,i="function"==typeof e?e.apply(this,t):e,o=P(r.x,i.x),a=P(r.y,i.y),u=P(r.kx,i.kx),c=P(r.ky,i.ky);return function(t){t=1===t?i:new s(o(t),a(t),u(t),c(t)),n.zoom(null,t)}})}function F(t,e){for(var n,r=0,i=A.length;r<i;++r)if((n=A[r]).that===t)return n;return new V(t,e)}function V(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=m.apply(t,e)}function B(){if(c.apply(this,arguments)){var t=F(this,arguments),e=this.__zoom,n=Math.max(g,Math.min(w,e.kx*(1+x*(-1+Math.pow(2,-i.event.deltaY*(i.event.deltaMode?120:1)/500))))),r=Math.max(v,Math.min(_,e.ky*(1+S*(-1+Math.pow(2,-i.event.deltaY*(i.event.deltaMode?120:1)/500))))),a=i.mouse(this);if(e.kx===g&&(n=r>=g?n:g),e.kx===w&&(n=r<=w?n:w),e.ky===v&&(r=n>=v?r:v),e.ky===_&&(r=n<=_?r:_),t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.kx===r&&e.ky===n)return;t.mouse=[a,e.invert(a)],o.interrupt(this),t.start()}h(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},R),t.zoom("mouse",j(I(N(e,n,r),t.mouse[0],t.mouse[1]),t.extent))}}function U(){if(!u&&c.apply(this,arguments)){var t=F(this,arguments),e=i.select(i.event.view).on("mousemove.zoom",function(){h(),t.moved=!0,t.zoom("mouse",j(I(t.that.__zoom,t.mouse[0]=i.mouse(t.that),t.mouse[1]),t.extent))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),n.dragEnable(i.event.view,t.moved),h(),t.end()},!0),r=i.mouse(this);n.dragDisable(i.event.view),l(),t.mouse=[r,this.__zoom.invert(r)],o.interrupt(this),t.start()}}function H(){if(c.apply(this,arguments)){var t=this.__zoom,e=i.mouse(this),n=t.invert(e),r=j(I(N(t,t.kx*(1+x*((i.event.shiftKey?.5:2)-1)),t.ky*(1+S*((i.event.shiftKey?.5:2)-1))),e,n),m.apply(this,arguments));h(),O>0?i.select(this).transition().duration(O).call(z,r,e):i.select(this).call(D.transform,r)}}function G(){if(c.apply(this,arguments)){var e,n,r,a=F(this,arguments),s=i.event.changedTouches,u=s.length;for(l(),e=0;e<u;++e)r=[r=i.touch(this,s,(n=s[e]).identifier),this.__zoom.invert(r),n.identifier],a.touch0?a.touch1||(a.touch1=r):a.touch0=r;if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((r=i.select(this).on("dblclick.zoom"))&&r.apply(this,arguments));i.event.touches.length===u&&(t=setTimeout(function(){t=null},L),o.interrupt(this),a.start())}}function W(){var e,n,r,o,a=F(this,arguments),s=i.event.changedTouches,u=s.length;for(h(),t&&(t=clearTimeout(t)),e=0;e<u;++e)r=i.touch(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],l=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-c[0])*p+(p=f[1]-c[1])*p,m=(m=d[0]-l[0])*m+(m=d[1]-l[1])*m;n=N(n,Math.sqrt(p/m),Math.sqrt(p/m)),r=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",j(I(n,r,o),a.extent))}function q(){var t,e,n=F(this,arguments),r=i.event.changedTouches,o=r.length;for(l(),u&&clearTimeout(u),u=setTimeout(function(){u=null},L),t=0;t<o;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0||n.end()}function Y(){g=C!==M?Math.max(y,(m()[1][0]-m()[0][0])/(C-M)):1/0,v=T!==E?Math.max(b,(m()[1][1]-m()[0][1])/(T-E)):1/0}return D.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",p),t!==n?z(t,e):n.interrupt().each(function(){F(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},D.scaleBy=function(t,e,n){D.scaleTo(t,function(){return this.__zoom.kx*("function"==typeof e?e.apply(this,arguments):e)},function(){return this.__zoom.ky*("function"==typeof n?n.apply(this,arguments):n)})},D.scaleTo=function(t,e,n){D.transform(t,function(){var t=m.apply(this,arguments),r=this.__zoom,i=[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2],o=r.invert(i);return j(I(N(r,"function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i,o),t)})},D.translateBy=function(t,e,n){D.transform(t,function(){return j(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),m.apply(this,arguments))})},V.prototype={start:function(){return 1==++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){i.customEvent(new function(t,e,n){this.target=D,this.type=e,this.transform=n}(0,t,this.that.__zoom),k.apply,k,[t,this.that,this.args])}},D.filter=function(t){return arguments.length?(c="function"==typeof t?t:a(!!t),D):c},D.extent=function(t){return arguments.length?(m="function"==typeof t?t:a([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),Y(),D):m},D.scaleExtent=function(t){return arguments.length?(Array.isArray(t[0])?(y=+t[0][0],w=+t[0][1],b=+t[1][0],_=+t[1][1]):(b=y=+t[0],_=w=+t[1]),Y(),D):[[y,w],[b,_]]},D.scaleRatio=function(t){return arguments.length?(x=+t[0],S=+t[1],D):[x,S]},D.translateExtent=function(t){return arguments.length?(M=+t[0][0],C=+t[1][0],E=+t[0][1],T=+t[1][1],Y(),D):[[M,E],[C,T]]},D.duration=function(t){return arguments.length?(O=+t,D):O},D.interpolate=function(t){return arguments.length?(P=t,D):P},D.on=function(){var t=k.on.apply(k,arguments);return t===k?D:t},D},t.xyzoomTransform=c,t.xyzoomIdentity=u,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("t+Vl"),n("L5ty"),n("7p8r"),n("2fsI"),n("3kTQ"))},"4Yz0":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(){function t(){}return t.prototype.execute=function(t,e,n,i){return r.b(this,void 0,void 0,function(){var o,a,s,u,c,l,h,f,d,p,m,g;return r.e(this,function(r){switch(r.label){case 0:o=[],a=n.map(function(n){return{simType:n,task:i.execute(t,e,n)}}),s=0,u=a,r.label=1;case 1:return s<u.length?[4,(c=u[s]).task]:[3,4];case 2:if((l=r.sent())&&l.list.length){for(h=[],f=[],d=0,p=l.list;d<p.length;d++)f.push((m=p[d]).name),(g=m.xDomainName)&&-1===h.indexOf(g)&&h.push(g);o.push({name:c.simType,xDomainNames:h,channelNames:f})}r.label=3;case 3:return s++,[3,1];case 4:return[2,o]}})})},t}()},"4af/":function(t,e,n){var r=n("vYjF"),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=[].slice,s="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function c(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var t,e,n=[],l=null,h=null,f=null;function d(t,e){var r=null;if(!e||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[t].concat(a.call(arguments,2)))}catch(t){r=t}if(r)throw r}}function p(e,n,o,a,l){var h=r.isErrorEvent(l)?l.error:l,p=r.isErrorEvent(e)?e.message:e;if(f)i.computeStackTrace.augmentStackTraceWithInitialElement(f,n,o,p),m();else if(h&&r.isError(h))d(i.computeStackTrace(h),!0);else{var g,v={url:n,line:o,column:a},y=void 0;"[object String]"==={}.toString.call(p)&&(g=p.match(u))&&(y=g[1],p=g[2]),v.func=s,d({name:y,message:p,url:c(),stack:[v]},!0)}return!!t&&t.apply(this,arguments)}function m(){var t=f,e=l;l=null,f=null,h=null,d.apply(null,[t,!1].concat(e))}function g(t,e){var n=a.call(arguments,1);if(f){if(h===t)return;m()}var r=i.computeStackTrace(t);if(f=r,h=t,l=n,setTimeout(function(){h===t&&m()},r.incomplete?2e3:0),!1!==e)throw t}return g.subscribe=function(r){e||(t=o.onerror,o.onerror=p,e=!0),n.push(r)},g.unsubscribe=function(t){for(var e=n.length-1;e>=0;--e)n[e]===t&&n.splice(e,1)},g.uninstall=function(){e&&(o.onerror=t,e=!1,t=void 0),n=[]},g}(),i.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var e,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=t.stack.split("\n"),f=[],d=(/^(.*) is undefined$/.exec(t.message),0),p=h.length;d<p;++d){if(n=i.exec(h[d])){var m=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=l.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:m?null:n[2],func:n[1]||s,args:m?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(h[d]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(h[d])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=u.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==d||n[5]||void 0===t.columnNumber||(f[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var g=new XMLHttpRequest;if(g.open("GET",r.url,!1),g.send(null),200===g.status){var v=g.responseText||"",y=(v=v.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(y){var b=y[1];"~"===b.charAt(0)&&(b=("undefined"==typeof document||null==document.location?"":(document.location.origin||(document.location.origin=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")),document.location.origin))+b.slice(1)),r.url=b.slice(0,-4)}}}f.push(r)}return f.length?{name:t.name,message:t.message,url:c(),stack:f}:null}}function e(t,e,n,r){var i={url:e,line:n};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=s),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,o){for(var a,u,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,h=[],f={},d=!1,p=n.caller;p&&!d;p=p.caller)if(p!==r&&p!==i.report){if(u={url:null,func:s,line:null,column:null},p.name?u.func=p.name:(a=l.exec(p.toString()))&&(u.func=a[1]),void 0===u.func)try{u.func=a.input.substring(0,a.input.indexOf("{"))}catch(t){}f[""+p]?d=!0:f[""+p]=!0,h.push(u)}o&&h.splice(0,o);var m={name:t.name,message:t.message,url:c(),stack:h};return e(m,t.sourceURL||t.fileName,t.line||t.lineNumber),m}function r(e,r){var o=null;r=null==r?0:+r;try{if(o=t(e))return o}catch(t){if(i.debug)throw t}try{if(o=n(e,r+1))return o}catch(t){if(i.debug)throw t}return{name:e.name,message:e.message,url:c()}}return r.augmentStackTraceWithInitialElement=e,r.computeStackTraceFromStackProp=t,r}(),t.exports=i},"4dOw":function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},"4zky":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r){this._x=t,this._y=e,this._width=n,this._height=r}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t}()},"5LEv":function(t,e,n){"use strict";var r=n("mrSG"),i=n("eh5z"),o=n("JSrw"),a=n("9WsI"),s=n("9CsZ"),u=n("LXbF"),c=n("3fdc"),l=n("+E/Y"),h=n("3njT"),f=n("ukm+");function d(t,e){for(var n=r.a({},t),i=0,o=e||[];i<o.length;i++)delete n[o[i]];return n}n.d(e,"a",function(){return p});var p=function(t){function e(e,n,r,i){var o=t.call(this,"Car",e,n,r,i)||this;return o.studyJobs=[new c.a("dummy",0)],o.simTypes=[],o}return r.d(e,t),e.prototype.build=function(){return r.b(this,void 0,void 0,function(){var t,e,n,c,p,m,g;return r.e(this,function(r){switch(r.label){case 0:for(t={channelNameStyle:u.a.Generic,sharedStates:[],views:[]},e={x:0,y:0,width:12,height:8},n=new f.a,c=new s.e,t.sharedStates.push(c),p=0,m=this.configs;p<m.length;p++)c.sourceLoaderSet.add(new a.b(l.a.create(this.siteHooks,(g=m[p]).data,g.name)));return t.views.push({title:"Suspension Preview",viewerType:o.a,layout:void 0,viewer:o.b.create(this.siteHooks,c),grid:e}),(e=this.getNextGridSlot(e)).height=5,e.width=6,[4,this.createConfigAreaChart("chassis.carRunningMass","Added Mass And Position Lookup","mAdditionalMassLU",t,e,n,void 0,{forBranchName:"Added mass and position lookup"})];case 1:return e=r.sent(),[4,this.createConfigAreaChart("powertrain.electric.storage.eStoreEfficiency","Storage Efficiency Lookup","stateOfChargeBasis",t,e,n,void 0,{forBranchName:"Internal Resistance and Voltage/SoC LU",map:function(t){return d(t,["internalResistance"])}})];case 2:return e=r.sent(),[4,this.createConfigAreaChart("powertrain.electric.storage.eDeployEfficiency","Deployment Efficiency Lookup","stateOfChargeBasis",t,e,n,void 0,{forBranchName:"Internal Resistance and Voltage/SoC LU",map:function(t){return d(t,["internalResistance"])}})];case 3:return e=r.sent(),[4,this.createConfigAreaChart("powertrain.electric.electricMotors.deployment","Electric Motor Torque And Speed","nMotor",t,e,n,void 0,{forBranchName:"eMotor with Torque Curve",filter:function(t){return!!t.MMotorMapData},map:function(t){return{nMotor:t.MMotorMapData.map(function(t){return t[0]}),MMotor:t.MMotorMapData.map(function(t){return t[1]})}}})];case 4:return e=r.sent(),[4,this.createConfigAreaChart("powertrain.electric.electricMotors.deployment","Electric Motor Harvesting Torque And Speed","nMotor",t,e,n,void 0,{forBranchName:"eMotor with Torque Curve",filter:function(t){return!!t.MMotorMapHarvestData},map:function(t){return{nMotor:t.MMotorMapHarvestData.map(function(t){return t[0]}),MMotor:t.MMotorMapHarvestData.map(function(t){return t[1]})}}})];case 5:return e=r.sent(),[4,this.createConfigAreaChart("powertrain.primaryTransmission|secondaryTransmission.gearboxType","Gear Ratios","NGear",t,e,n,void 0,{forBranchName:"VShift",filter:function(t){return t.rGearRatios&&t.rGearRatios.length>1},map:function(t){return{rGearRatios:t.rGearRatios,NGear:i.range(1,t.rGearRatios.length+1)}},chartType:h.b.scatter})];case 6:return e=r.sent(),[4,this.createConfigAreaChart("powertrain.primaryTransmission|secondaryTransmission.gearboxType","Gear Upshift Points","NGear",t,e,n,void 0,{forBranchName:"VShift",filter:function(t){return t.upshiftPoints&&t.upshiftPoints.length>1},map:function(t){return{nEngineUpshift:t.upshiftPoints.nEngineUpshift,NGear:i.range(1,t.upshiftPoints.nEngineUpshift.length+1)}},chartType:h.b.scatter})];case 7:return e=r.sent(),[4,this.createConfigAreaChart("suspension.front|rear.internal.triSpring|triSpringL|spring|springL|antiRollBar|antiRollBarL","Spring Lookup","xData",t,e,n,void 0,{forBranchName:"Spring LU"})];case 8:return e=r.sent(),[4,this.createConfigAreaChart("suspension.front|rear.internal.damper|damperL|triDamper|triDamperL|rollDamper|rollDamperL","Damper Lookup","vDamperBasis",t,e,n,void 0,{forBranchName:"Damper Lookup Table"})];case 9:return e=r.sent(),[4,this.createConfigAreaChart("suspension.front|rear.internal.triBumpStop|triBumpStopL|bumpStop|bumpStopL","Bump Stop Lookup","xData",t,e,n,void 0,{forBranchName:"Bump-stop LU"})];case 10:return(e=r.sent()).width=12,[4,this.createConfigAreaChart("tyres.front|rear.thermalParameters.brake|brakeL|wheel|wheelL|tyre|tyreL","Tyre Thermal Parameters","vAirBasis",t,e,n,void 0,{filter:function(t){return!!t.kConvectiveCooling},map:function(t){return{vAirBasis:t.vAirBasis,kConvectiveCooling:t.kConvectiveCooling}}})];case 11:return e=r.sent(),[4,this.createConfigAreaChart("tyres.front|rear.thermalParameters.tyre|tyreL","Tyre Thermal Lookup","TTyreAverageBasis",t,e,n,void 0,{filter:function(t){return!!t.TTyreAverageBasis},map:function(t){return{TTyreAverageBasis:t.TTyreAverageBasis,rGripFactorData:t.rGripFactorData,rStiffnessData:t.rStiffnessData}}})];case 12:return(e=r.sent()).width=6,[2,t]}})})},e}(h.c)},"5XgJ":function(t,e,n){var r=n("rq37"),i=n("E0m9");function o(t){this.input=t,this.pos=0}function a(t,e,n,r){this.text=t,this.start=e,this.end=n,this.lexer=r}a.prototype.range=function(t,e){return t.lexer!==this.lexer?new a(e):new a(e,this.start,t.end,this.lexer)};var s=new RegExp("([ \r\n\t]+)|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff]|[\ud800-\udbff][\udc00-\udfff]|\\\\(?:[a-zA-Z]+|[^\ud800-\udfff]))");o.prototype.lex=function(){var t=this.input,e=this.pos;if(e===t.length)return new a("EOF",e,e,this);var n=r(s,t,e);if(null===n)throw new i("Unexpected character: '"+t[e]+"'",new a(t[e],e,e+1,this));var o=n[2]||" ",u=this.pos;return this.pos+=n[0].length,new a(o,u,this.pos,this)},t.exports=o},"5dG8":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("pDbJ"),o=n("mS5I"),a=function(t){function e(e){var n=t.call(this,e)||this;return n.svgPadding=new o.a(5,5,18,5),n}return r.d(e,t),Object.defineProperty(e.prototype,"spaceBetweenPlots",{get:function(){return 6},enumerable:!0,configurable:!0}),e}(i.a)},"5oZ/":function(t,e,n){var r=n("ybOZ"),i=n("zJjT"),o=n("UGEY"),a=n("E0m9"),s=n("FdGB"),u=n("s847"),c=r.makeSpan,l=r.fontMap,h=function(t,e){return s[e][t]&&s[e][t].replace&&(t=s[e][t].replace),new o.TextNode(t)},f=function(t,e){var n=e.font;if(!n)return null;var r=t.mode;if("mathit"===n)return"italic";var o=t.value;return u.contains(["\\imath","\\jmath"],o)?null:(s[r][o]&&s[r][o].replace&&(o=s[r][o].replace),i.getCharacterMetrics(o,l[n].fontName)?l[e.font].variant:null)},d={mathord:function(t,e){var n=new o.MathNode("mi",[h(t.value,t.mode)]),r=f(t,e);return r&&n.setAttribute("mathvariant",r),n},textord:function(t,e){var n,r=h(t.value,t.mode),i=f(t,e)||"normal";return/[0-9]/.test(t.value)?(n=new o.MathNode("mn",[r]),e.font&&n.setAttribute("mathvariant",i)):(n=new o.MathNode("mi",[r])).setAttribute("mathvariant",i),n},bin:function(t){return new o.MathNode("mo",[h(t.value,t.mode)])},rel:function(t){return new o.MathNode("mo",[h(t.value,t.mode)])},open:function(t){return new o.MathNode("mo",[h(t.value,t.mode)])},close:function(t){return new o.MathNode("mo",[h(t.value,t.mode)])},inner:function(t){return new o.MathNode("mo",[h(t.value,t.mode)])},punct:function(t){var e=new o.MathNode("mo",[h(t.value,t.mode)]);return e.setAttribute("separator","true"),e},ordgroup:function(t,e){var n=p(t.value,e);return new o.MathNode("mrow",n)},text:function(t,e){var n=p(t.value.body,e);return new o.MathNode("mtext",n)},color:function(t,e){var n=p(t.value.value,e),r=new o.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.value.color),r},supsub:function(t,e){var n=[m(t.value.base,e)];return t.value.sub&&n.push(m(t.value.sub,e)),t.value.sup&&n.push(m(t.value.sup,e)),new o.MathNode(t.value.sub?t.value.sup?"msubsup":"msub":"msup",n)},genfrac:function(t,e){var n=new o.MathNode("mfrac",[m(t.value.numer,e),m(t.value.denom,e)]);if(t.value.hasBarLine||n.setAttribute("linethickness","0px"),null!=t.value.leftDelim||null!=t.value.rightDelim){var r=[];if(null!=t.value.leftDelim){var i=new o.MathNode("mo",[new o.TextNode(t.value.leftDelim)]);i.setAttribute("fence","true"),r.push(i)}if(r.push(n),null!=t.value.rightDelim){var a=new o.MathNode("mo",[new o.TextNode(t.value.rightDelim)]);a.setAttribute("fence","true"),r.push(a)}return new o.MathNode("mrow",r)}return n},array:function(t,e){return new o.MathNode("mtable",t.value.body.map(function(t){return new o.MathNode("mtr",t.map(function(t){return new o.MathNode("mtd",[m(t,e)])}))}))},sqrt:function(t,e){return t.value.index?new o.MathNode("mroot",[m(t.value.body,e),m(t.value.index,e)]):new o.MathNode("msqrt",[m(t.value.body,e)])},leftright:function(t,e){var n=p(t.value.body,e);if("."!==t.value.left){var r=new o.MathNode("mo",[h(t.value.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==t.value.right){var i=new o.MathNode("mo",[h(t.value.right,t.mode)]);i.setAttribute("fence","true"),n.push(i)}return new o.MathNode("mrow",n)},middle:function(t,e){var n=new o.MathNode("mo",[h(t.value.middle,t.mode)]);return n.setAttribute("fence","true"),n},accent:function(t,e){var n=new o.MathNode("mo",[h(t.value.accent,t.mode)]),r=new o.MathNode("mover",[m(t.value.base,e),n]);return r.setAttribute("accent","true"),r},spacing:function(t){var e;return"\\ "===t.value||"\\space"===t.value||" "===t.value||"~"===t.value?e=new o.MathNode("mtext",[new o.TextNode("\xa0")]):(e=new o.MathNode("mspace")).setAttribute("width",r.spacingFunctions[t.value].size),e},op:function(t,e){return t.value.symbol?new o.MathNode("mo",[h(t.value.body,t.mode)]):t.value.value?new o.MathNode("mo",p(t.value.value,e)):new o.MathNode("mi",[new o.TextNode(t.value.body.slice(1))])},mod:function(t,e){var n=[];if("pod"!==t.value.modType&&"pmod"!==t.value.modType||n.push(new o.MathNode("mo",[h("(",t.mode)])),"pod"!==t.value.modType&&n.push(new o.MathNode("mo",[h("mod",t.mode)])),t.value.value){var r=new o.MathNode("mspace");r.setAttribute("width","0.333333em"),n.push(r),n=n.concat(p(t.value.value,e))}return"pod"!==t.value.modType&&"pmod"!==t.value.modType||n.push(new o.MathNode("mo",[h(")",t.mode)])),new o.MathNode("mo",n)},katex:function(t){return new o.MathNode("mtext",[new o.TextNode("KaTeX")])},font:function(t,e){return m(t.value.body,e.withFont(t.value.font))},delimsizing:function(t){var e=[];"."!==t.value.value&&e.push(h(t.value.value,t.mode));var n=new o.MathNode("mo",e);return n.setAttribute("fence","mopen"===t.value.mclass||"mclose"===t.value.mclass?"true":"false"),n},styling:function(t,e){var n=p(t.value.value,e),r=new o.MathNode("mstyle",n),i={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[t.value.style];return r.setAttribute("scriptlevel",i[0]),r.setAttribute("displaystyle",i[1]),r},sizing:function(t,e){var n=p(t.value.value,e),i=new o.MathNode("mstyle",n);return i.setAttribute("mathsize",r.sizingMultiplier[t.value.size]+"em"),i},overline:function(t,e){var n=new o.MathNode("mo",[new o.TextNode("\u203e")]);n.setAttribute("stretchy","true");var r=new o.MathNode("mover",[m(t.value.body,e),n]);return r.setAttribute("accent","true"),r},underline:function(t,e){var n=new o.MathNode("mo",[new o.TextNode("\u203e")]);n.setAttribute("stretchy","true");var r=new o.MathNode("munder",[m(t.value.body,e),n]);return r.setAttribute("accentunder","true"),r},rule:function(t){return new o.MathNode("mrow")},kern:function(t){return new o.MathNode("mrow")},llap:function(t,e){var n=new o.MathNode("mpadded",[m(t.value.body,e)]);return n.setAttribute("lspace","-1width"),n.setAttribute("width","0px"),n},rlap:function(t,e){var n=new o.MathNode("mpadded",[m(t.value.body,e)]);return n.setAttribute("width","0px"),n},phantom:function(t,e){var n=p(t.value.value,e);return new o.MathNode("mphantom",n)},mclass:function(t,e){var n=p(t.value.value,e);return new o.MathNode("mstyle",n)}},p=function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(m(t[r],e));return n},m=function(t,e){if(!t)return new o.MathNode("mrow");if(d[t.type])return d[t.type](t,e);throw new a("Got group of unknown type: '"+t.type+"'")};t.exports=function(t,e,n){var r=p(t,n),i=new o.MathNode("mrow",r),a=new o.MathNode("annotation",[new o.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var s=new o.MathNode("semantics",[i,a]),u=new o.MathNode("math",[s]);return c(["katex-mathml"],[u])}},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.d(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},"6EN/":function(t,e,n){"use strict";var r=n("mrSG"),i=n("eh5z"),o=n("gozj"),a=n("7c6v"),s=n("wBcM"),u=function(t){return t[t.columns=0]="columns",t[t.rows=1]="rows",t}({}),c=function(){function t(t){this.inner=new l(t)}return t.prototype.render=function(t,e){return void 0===e&&(e=!1),this.inner.render(t,e),this},t.prototype.layout=function(t){return this.inner.layout=t,this},t.prototype.channelData=function(t){return this.inner.channelData=t,this},t.prototype.axisType=function(t){return this.inner.axisType=t,this},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.inner.listeners.on.apply(this.inner.listeners,t),this},t}(),l=function(){function t(t){this.settings=t,this.axisType=u.columns,this.listeners=i.dispatch("changed")}return t.prototype.render=function(t,e){var n=this;if(this.layout&&this.channelData&&this.settings){var r,o=this,c=e?0:200,l="-axis-renderer",h="-axis";this.axisType===u.rows?(l="row"+l,h="row"+h,r=this.layout.processed.rows):(l="column"+l,h="column"+h,r=this.layout.processed.columns);var f=t.selectAll("."+l).data([null]),d=f.enter().append("g").attr("class",l+" multi-plot-axis-renderer").merge(f).selectAll("."+h).data(r);d.exit().remove();var p=d.enter().append("g").attr("class",h+" axis-parent"),m=p.merge(d),g=new a.a(this.settings.svgPadding.left+this.settings.chartMargin.left,this.settings.svgPadding.top+this.settings.chartMargin.top);this.axisType===u.columns?(m.attr("transform",function(t,e){return"translate("+(g.x+t.processed.offset+n.settings.spaceBetweenPlots)+","+(g.y+n.settings.chartSize.height-n.settings.spaceBetweenPlots)+")"}),p.append("g").attr("class","axis-grid-lines"),m.select(".axis-grid-lines").each(function(t){var e=i.axisBottom(t.processed.scale).tickSize(-(o.settings.chartSize.height-o.settings.spaceBetweenPlots));s.a.formatAxis(e,t,40,".1f"),c?i.select(this).transition().duration(c).call(e):i.select(this).call(e)}),p.append("g").attr("class","axis"),m.select(".axis").each(function(t){var e=i.axisBottom(t.processed.scale);s.a.formatAxis(e,t,40,".1f"),c?i.select(this).transition().duration(c).call(e):i.select(this).call(e)}),p.append("text").attr("class","axis-label"),m.select(".axis-label").attr("x",function(t){return t.processed.plotSize/2}).attr("y",function(){return 30}).attr("text-anchor","middle").text(function(t){var e="";if(t.processed&&t.processed.channels&&t.processed.channels.length){var n=t.processed.channels.filter(function(t){return t.isVisible});if(n.length>0)if(n.length>1)e="Multiple Channels";else{var r=n[0];e=r.name;var i=r.units;i&&"()"!==i&&(e+=" ("+i+")")}}return e}).on("click",function(t){if(t.processed&&t.processed.channels&&t.processed.channels.length>1){var e=t.processed.channels,r=t.processed.channels.filter(function(t){return t.isVisible});if(r.length>1)return;if(1===r.length){var i=e.indexOf(r[0]);e[i].isVisible=!1,i===e.length-1?e[0].isVisible=!0:e[i+1].isVisible=!0}else e[0].isVisible=!0;n.listeners.call("changed")}})):(m.attr("transform",function(t,e){return"translate("+(g.x+n.settings.spaceBetweenPlots)+","+(g.y+t.processed.offset)+")"}),p.append("g").attr("class","axis-grid-lines"),m.select(".axis-grid-lines").each(function(t){var e=i.axisLeft(t.processed.scale).tickSize(-(o.settings.chartSize.width-o.settings.spaceBetweenPlots));s.a.formatAxis(e,t,15,".1f"),c?i.select(this).transition().duration(c).call(e):i.select(this).call(e)}),p.append("g").attr("class","axis"),m.select(".axis").each(function(t){var e=i.axisLeft(t.processed.scale);s.a.formatAxis(e,t,15,".1f"),c?i.select(this).transition().duration(c).call(e):i.select(this).call(e)}))}},t}(),h=n("SH+t"),f=n("mS5I"),d=n("6rnH"),p=n("K9Ia"),m=n("pugT"),g=n("8/63"),v=n("LXbF"),y=n("8i/y"),b=n("HrTc"),w=function(){function t(t,e){this.simType=t,this.getLegacyChannelMappings=e}return t.prototype.execute=function(t){for(var e=this,n=(t=t.replace(/\ufffd/g,"deg")).indexOf("\n"),r=i.csvParse(t.substring(n+1)),o=r[0],a=r.slice(1,r.length),s=[],u=function(t){var n={name:c.trim(t),simType:c.simType,units:c.trim(o[t]),values:a.map(function(n){return parseFloat(e.trim(n[t]))})};s.push(n)},c=this,l=0,h=r.columns;l<h.length;l++)u(h[l]);var f=this.getChannelMap(s);return this.addLapTimeIfRequired(f,s),this.addRunChannelsIfRequired(f,s),new _(s,f)},t.prototype.addLapTimeIfRequired=function(t,e){var n=t.SecondsIntoExport;if(n){n.units="s";var r={name:"tLap",simType:this.simType,units:"s",values:n.values.slice()};e.push(r),this.addChannelToMap(t,r)}},t.prototype.addRunChannelsIfRequired=function(t,e){for(var n=0,r=this.getLegacyChannelMappings.execute();n<r.length;n++){var i=r[n];this.addRunChannelIfRequired(t,e,i.currentName,i.legacyName)}},t.prototype.addRunChannelIfRequired=function(t,e,n,r){var i=t[n];if(!i){var o=t[r];o&&(i={name:n,simType:this.simType,units:o.units,values:o.values.slice()},e.push(i),this.addChannelToMap(t,i))}},t.prototype.getChannelMap=function(t){var e=this;return t.reduce(function(t,n){return e.addChannelToMap(t,n),t},{})},t.prototype.addChannelToMap=function(t,e){t[e.name]=e,t[Object(y.a)(e.name,this.simType)]=e},t.prototype.trim=function(t){if((t=(t||"").trim()).length>=2){var e=t.length-1;("'"===t[0]&&"'"===t[e]||'"'===t[0]&&'"'===t[e])&&(t=t.substr(1,t.length-2))}return t},t}(),_=function(t,e){this.list=t,this.map=e},x=n("HLL/"),S=n("lFWV"),M=function(){function t(t,e){this.fileContent=t,this.parseChannelDataCsv=e}return t.prototype.get=function(){return this.parsedChannels||(this.parsedChannels=this.parseChannelDataCsv.execute(this.fileContent)),Promise.resolve(this.parsedChannels)},t}(),C=n("/8X3"),E=function(t){function e(e,n,r){var i=t.call(this)||this;return i.name=e,i.cache=n,i.channelDataFactory=r,i}return r.d(e,t),e.create=function(t,n,r){return new e(t,new M(n,new w(x.i,new C.a)),new b.c(r))},e.prototype.getSourceMetadata=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){return[2,new g.c(this.name)]})})},e.prototype.getChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){var n,i,o;return r.e(this,function(r){switch(r.label){case 0:return[4,this.cache.get()];case 1:return n=r.sent(),i=void 0,(o=n.map[t])&&(i=new b.a(o.name,Object(y.a)(o.name,o.simType),"",o.units,void 0,o.values)),[2,this.channelDataFactory.createChannelData(t,i,e)]}})})},e.prototype.getRequestableChannels=function(t,e){return r.b(this,void 0,void 0,function(){var e;return r.e(this,function(n){switch(n.label){case 0:return[4,this.cache.get()];case 1:switch(e=n.sent(),t){case v.a.FullyQualified:return[2,e.list.map(function(t){return new S.a(t.name,x.f)}).concat(e.list.map(function(t){return new S.a(Object(y.a)(t.name,t.simType),x.h)}))];case v.a.Generic:return[2,e.list.map(function(t){return new S.a(t.name,x.m)})]}return[2,[]]}})})},e}(g.b),T=n("liD0"),O=n("9WsI"),P=n("2fsI"),A=function(t){return t[t.columns=0]="columns",t[t.rows=1]="rows",t}({}),k=function(){function t(){this.inner=new L}return t.prototype.render=function(t){return this.inner.render(t),this},t.prototype.layout=function(t){return this.inner.layout=t,this},t.prototype.chartSettings=function(t){return this.inner.settings=t,this},t.prototype.paneResizeHandlesType=function(t){return this.inner.paneResizeHandlesType=t,this},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.inner.listeners.on.apply(this.inner.listeners,t),this},t}(),L=function(){function t(){this.paneResizeHandlesType=A.columns,this.listeners=i.dispatch("changed")}return t.prototype.render=function(t){if(this.layout&&this.settings){var e,n=this.settings,r=this,i="-pane-resize-handles-renderer",o="-pane-resize-handle";this.paneResizeHandlesType===A.rows?(i="row"+i,o="row"+o,e=this.layout.processed.rows):(i="column"+i,o="column"+o,e=this.layout.processed.columns);for(var s=t.selectAll("."+i).data([null]),u=s.enter().append("g").attr("class",i+" multi-plot-pane-resize-handles-renderer").merge(s),c=[],l=1;l<e.length;++l)c.push([e[l-1],e[l]]);var h=u.selectAll("."+o).data(c);h.exit().remove();var f=h.enter().append("g").attr("class",o+" pane-resize-handle-parent"),d=f.merge(h),p=new a.a(n.svgPadding.left+n.chartMargin.left,n.svgPadding.top+n.chartMargin.top);this.paneResizeHandlesType===A.columns?(d.attr("transform",function(t,e){return"translate("+(p.x+t[1].processed.offset)+","+p.y+")"}),f.append("rect").attr("class","handle").attr("width",n.spaceBetweenPlots).attr("height",30+n.chartSize.height)):(d.attr("transform",function(t,e){return"translate("+(p.x-30)+","+(p.y+t[1].processed.offset-n.spaceBetweenPlots)+")"}),f.append("rect").attr("class","handle").attr("width",30+n.chartSize.width).attr("height",n.spaceBetweenPlots)),f.on("mousedown",function(e){var n=P.event;n.preventDefault();var i=new D(n,[new R(e[0].relativeSize,e[0].processed.plotSize),new R(e[1].relativeSize,e[1].processed.plotSize)]);r.paneResizeStart(t,e,i)})}},t.prototype.paneResizeStart=function(t,e,n){var r=this;t.on("mousemove.pane-resize-handle",function(){return r.paneResizeDuring(t,e,n)}).on("mouseup.pane-resize-handle",function(){return r.paneResizeEnd(t,e,n)}).on("mouseleave.pane-resize-handle",function(){r.paneResizeEnd(t,e,n)})},t.prototype.paneResizeDuring=function(t,e,n){var r=P.event,i=this.paneResizeHandlesType===A.columns?r.pageX-n.mouseEvent.pageX:r.pageY-n.mouseEvent.pageY,o=n.pair[0],a=n.pair[1],s=o.relativeSize+a.relativeSize,u=o.absoluteSize+a.absoluteSize;if(u<=40)e[0].relativeSize=s/2,e[1].relativeSize=s/2;else{var c=o.absoluteSize+i;c<20&&(c=20),c>u-20&&(c=u-20);var l=o.relativeSize*(c/o.absoluteSize),h=s-l;e[0].relativeSize=l,e[1].relativeSize=h}this.listeners.call("changed")},t.prototype.paneResizeEnd=function(t,e,n){t.on("mousemove.pane-resize-handle",null).on("mouseup.pane-resize-handle",null).on("mouseleave.pane-resize-handle",null)},t}(),R=function(t,e){this.relativeSize=t,this.absoluteSize=e},D=function(t,e){this.mouseEvent=t,this.pair=e},N=n("QMr3"),I=n("OBMz"),j=n("L0sa");n.d(e,"b",function(){return z}),n.d(e,"c",function(){return F}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return B}),n.d(e,"a",function(){return U});var z="columns",F="rows",V=function(){function t(t,e,n,r,i,o){this.primaryDomainName=t,this.layout=e,this.channelNameStyle=n,this.multiPlotUtilities=r,this.sharedState=i,this.siteHooks=o,this.errorEvent=new p.a,this.subscriptions=new m.a,this.sourceLoaderSet=this.sharedState.sourceLoaderSet}return Object.defineProperty(t.prototype,"populatedLayout",{get:function(){return this.layout},enumerable:!0,configurable:!0}),t.prototype.build=function(t){return r.b(this,void 0,void 0,function(){var e,n=this;return r.e(this,function(r){switch(r.label){case 0:return this.elementId=t,[4,this.loadFromLayout(this.layout)];case 1:return r.sent(),this.exists&&this.sourceData?(this.settings=this.createSettings(this.sourceData.length),this.settings.svgSize=o.b.getRequiredSvgSize(this.elementId,this.settings.svgSize),this.processLayout(),this.updateChartMargin(),this.parent=this.select().append("div").attr("class","multi-plot-viewer-container "+this.getCssClass()+"-container canvas-viewer"),this.svg=this.parent.append("svg").attr("width",this.settings.svgSize.width).attr("height",this.settings.svgSize.height).attr("class","multi-plot-viewer "+this.getCssClass()).attr("id","svg"),this.sourceLabelsRenderer=new h.a(this.settings),this.sourceLabelsRenderer.sharedState(this.sharedState),this.xAxisRenderer=new c(this.settings),this.yAxisRenderer=new c(this.settings),this.xAxisRenderer.axisType(u.columns).on("changed",function(){return n.renderAll(!0)}),this.yAxisRenderer.axisType(u.rows).on("changed",function(){return n.renderAll(!0)}),this.xHandlesRenderer=new k,this.yHandlesRenderer=new k,this.xHandlesRenderer.paneResizeHandlesType(A.columns).chartSettings(this.settings).on("changed",function(){return n.renderAll(!0,!0)}),this.yHandlesRenderer.paneResizeHandlesType(A.rows).chartSettings(this.settings).on("changed",function(){return n.renderAll(!0,!0)}),this.plotClippingRenderer=new I.a,this.plotClippingRenderer.chartSettings(this.settings),this.rowLegendRenderer=new d.b,this.rowLegendRenderer.chartSettings(this.settings).orientation(d.c.vertical).siteHooks(this.siteHooks).setError(function(t){return n.setError(t)}).on("changed",function(){return n.renderAll(!0)}),this.xLegendList=new U(this.settings.legend,-this.settings.spaceBetweenPlots/2),e=this.dataRenderer=this.createDataRenderer(),this.dataRenderer.chartSettings(this.settings).canvasData({parent:this.parent,settings:this.settings}).primaryDomainName(this.primaryDomainName).xLegendList(this.xLegendList).sharedState(this.sharedState).on("legendChanged",function(){return n.onLegendChanged(!1)}),this.zoomRenderer=new N.b,this.zoomRenderer.chartSettings(this.settings).sharedState(this.sharedState).xLegendList(this.xLegendList).domainSnapBehaviour(this.dataRenderer.getDomainSnapBehaviour()).on("zoom",function(){return n.renderAll(!0,!0)}).on("legendChanged",function(){return n.onLegendChanged(!0)}),this.domainEventHandler=new j.b(this.sharedState,this.primaryDomainName),this.domainEventHandler.setXLegendList(this.xLegendList).setDomainSnapBehaviour(this.dataRenderer.getDomainSnapBehaviour()).on(j.c,function(){return n.onLegendChanged(!1)}).on(j.a,function(t){return e.domainEventProcessed(t)}),this.domainEventHandler.build(),this.onBuilt(),this.renderAll(!0),this.subscriptions=this.sharedState.windowResizeNews.subscribe(function(t){return n.resizeChart()}),this.subscriptions.add(this.sourceLoaderSet.changed.subscribe(function(){return n.handleSourcesChanged()})),[2]):[2]}})})},t.prototype.onBuilt=function(){},t.prototype.onDataSet=function(){},t.prototype.onRendered=function(){},t.prototype.updateChartMargin=function(){if(this.settings){var t=this.settings.sourceCount,e=this.populatedLayout.rows.concat(this.populatedLayout.columns).reduce(function(t,e){return t.concat(e.processed.channels.map(function(t){return t.name}))},[]);this.settings.chartMargin=new f.a(h.a.getRequiredVerticalSpace(t)||20,this.settings.legend.getRequiredHorizontalSpace(t,e),30,40)}},t.prototype.dispose=function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.dataRenderer&&this.dataRenderer.dispose(),this.zoomRenderer&&this.zoomRenderer.dispose(),this.domainEventHandler&&this.domainEventHandler.dispose()},t.prototype.onLegendChanged=function(t){this.zoomRenderer&&this.svg&&this.rowLegendRenderer&&this.parent&&(!t&&this.zoomRenderer.isRenderingCalculations||this.rowLegendRenderer.render(this.svg,this.parent))},t.prototype.resizeChart=function(){try{if(!this.settings||!this.svg||!this.elementId)return;this.settings.svgSize=o.b.getRequiredSvgSize(this.elementId,this.settings.svgSize),this.svg.attr("width",this.settings.svgSize.width),this.svg.attr("height",this.settings.svgSize.height),this.layout&&this.layout.processed&&this.renderAll(!0)}catch(t){this.setError(this.siteHooks.getFriendlyErrorAndLog(t))}},t.prototype.loadFromLayout=function(t){return r.b(this,void 0,void 0,function(){var e,n;return r.e(this,function(r){switch(r.label){case 0:return t?(B(t),e=this,[4,this.multiPlotUtilities.getValidatedLayout(t)]):[3,2];case 1:e.layout=r.sent(),r.label=2;case 2:return n=this,[4,this.multiPlotUtilities.loadChannelData(this.layout)];case 3:return n.sourceData=r.sent(),[2]}})})},t.prototype.setAllData=function(){this.sourceData&&this.xLegendList&&(this.sourceLabelsRenderer&&this.sourceLabelsRenderer.sources(this.sourceData),this.xAxisRenderer&&this.xAxisRenderer.layout(this.populatedLayout).channelData(this.sourceData),this.yAxisRenderer&&this.yAxisRenderer.layout(this.populatedLayout).channelData(this.sourceData),this.xHandlesRenderer&&this.xHandlesRenderer.layout(this.populatedLayout),this.yHandlesRenderer&&this.yHandlesRenderer.layout(this.populatedLayout),this.plotClippingRenderer&&this.plotClippingRenderer.layout(this.populatedLayout),this.rowLegendRenderer&&this.rowLegendRenderer.data(this.populatedLayout.processed.rows.map(function(t){return t.processed}).concat([this.xLegendList])),this.dataRenderer&&this.dataRenderer.layout(this.populatedLayout).sourceData(this.sourceData),this.zoomRenderer&&this.zoomRenderer.layout(this.populatedLayout),this.domainEventHandler&&this.domainEventHandler.setLayout(this.populatedLayout).setSourceData(this.sourceData),this.onDataSet())},t.prototype.processLayout=function(){this.sourceData&&this.multiPlotUtilities.processLayout(this.layout,this.sourceData)},t.prototype.renderAll=function(t,e){void 0===e&&(e=!1),this.exists&&this.svg&&this.settings&&this.parent&&(t&&(this.processLayout(),this.setAllData()),this.updateChartMargin(),this.multiPlotUtilities.updatePlotSizes(this.populatedLayout,this.settings),this.zoomRenderer&&this.zoomRenderer.preRender(this.svg),this.multiPlotUtilities.updatePlotSizes(this.populatedLayout,this.settings),this.sourceLabelsRenderer&&this.sourceLabelsRenderer.render(this.svg),this.xAxisRenderer&&this.xAxisRenderer.render(this.svg,e),this.yAxisRenderer&&this.yAxisRenderer.render(this.svg,e),this.xHandlesRenderer&&this.xHandlesRenderer.render(this.svg),this.yHandlesRenderer&&this.yHandlesRenderer.render(this.svg),this.plotClippingRenderer&&this.plotClippingRenderer.render(this.svg),this.dataRenderer&&this.dataRenderer.render(this.svg),this.rowLegendRenderer&&this.rowLegendRenderer.render(this.svg,this.parent),this.zoomRenderer&&this.zoomRenderer.render(this.svg),this.domainEventHandler&&this.domainEventHandler.render(),this.onRendered())},t.prototype.addLoader=function(t){return r.b(this,void 0,void 0,function(){return r.e(this,function(e){try{this.sharedState.sourceLoaderSet.add(new O.b(t))}catch(t){this.setError(this.siteHooks.getFriendlyErrorAndLog(t))}return[2]})})},t.prototype.handleSourcesChanged=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.settings&&this.sourceData?[4,this.loadFromLayout()]:[2];case 1:return e.sent(),this.settings.sourceCount=this.sourceData.length,this.renderAll(!0),[3,3];case 2:return t=e.sent(),this.setError(this.siteHooks.getFriendlyErrorAndLog(t)),[3,3];case 3:return[2]}})})},t.prototype.setError=function(t){this.errorEvent.next(t)},t.prototype.getLayout=function(){return this.multiPlotUtilities.getUnprocessedLayout(this.layout)},t.prototype.setLayout=function(t){return r.b(this,void 0,void 0,function(){return r.e(this,function(e){switch(e.label){case 0:return[4,this.loadFromLayout(t)];case 1:return e.sent(),this.renderAll(!0),[2]}})})},t.prototype.canImportData=function(){return!0},t.prototype.canExportData=function(){return!0},t.prototype.canStackDiagonals=function(){return!0},t.prototype.importCsvData=function(t,e){this.addLoader(E.create(t,e,this.siteHooks))},t.prototype.exportCsvData=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i;return r.e(this,function(a){switch(a.label){case 0:t=this.sourceLoaderSet.sources,e=function(e){var i,a,s,u,c,l,h,f,d,p,m,g,v,y,b,w,_,x,S,M,C;return r.e(this,function(r){switch(r.label){case 0:for(i=t[e],a="",s="",(u=[]).push(n.populatedLayout.processed.primaryDomain),c=0,l=n.populatedLayout.columns.concat(n.populatedLayout.rows);c<l.length;c++)for(h=function(t){u.every(function(e){return e.name!==t.name})&&u.push(t)},f=0,d=l[c].processed.channels;f<d.length;f++)h(M=d[f]);for(p=u.length,m=0,g=u;m<g.length;m++)a+=(M=g[m]).name+",",s+=M.units+",";return[4,i.getSourceMetadata()];case 1:for(v=r.sent(),y='"'+v.name+'"',_=1;_<p;_++)y+=",";for(y+="\n",y+=a.replace(/.$/,"\n"),y+=s.replace(/.$/,"\n"),b=0,(w=u.filter(function(t){return t.sources[e]&&t.sources[e].data&&t.sources[e].data.length})).length&&(b=w[0].sources[e].data.length),_=0;_<b;_++){for(x=0,S=u;x<S.length;x++)(C=(M=S[x]).sources[e])&&C.data&&C.data.length>_&&(y+=C.data[_]),y+=",";y=y.replace(/.$/,"\n")}return o.b.download(v.name+".csv",y),[2]}})},n=this,i=0,a.label=1;case 1:return i<t.length?[5,e(i)]:[3,4];case 2:a.sent(),a.label=3;case 3:return++i,[3,1];case 4:return[2]}})})},t.prototype.getEditChannelsTypes=function(){return[{name:"Edit Columns",icon:"navicon fa-rotate-90",id:z},{name:"Edit Rows",icon:"navicon",id:F}]},t.prototype.getEditChannelsOptions=function(t){return r.b(this,void 0,void 0,function(){var e;return r.e(this,function(n){switch(n.label){case 0:return e=this.getLayout(),[4,T.a.getDistinctRequestableChannels(this.sourceLoaderSet.sources,this.channelNameStyle,this.primaryDomainName)];case 1:return[2,{channels:n.sent(),panes:t.id===z?e.columns:e.rows,oneChannelPerPane:!1}]}})})},t.prototype.setEditChannelsResult=function(t,e){return r.b(this,void 0,void 0,function(){var n,i;return r.e(this,function(r){switch(r.label){case 0:switch(n=this.getLayout(),i=e.map(function(t){return{channels:t.channels,relativeSize:t.relativeSize||1,processed:void 0}}),t.id){case z:n.columns=i;break;case F:n.rows=i;break;default:throw new Error("Unexpected edit type: "+t.id)}return[4,this.setLayout(n)];case 1:return r.sent(),[2]}})})},t.prototype.select=function(t){return void 0===t&&(t=""),i.select("#"+this.elementId+" "+t)},t.prototype.selectAll=function(t){return void 0===t&&(t=""),i.selectAll("#"+this.elementId+" "+t)},Object.defineProperty(t.prototype,"exists",{get:function(){return!(!this.elementId||!document.getElementById(this.elementId))},enumerable:!0,configurable:!0}),t}();function B(t){if(delete t.name,delete t.xDomain,t.columns)return delete t.panes,void delete t.xDomains;t.rows=t.panes,t.rows.forEach(function(t){return delete t.units}),t.columns=[{channels:t.xDomains,relativeSize:1}],delete t.panes,delete t.xDomains}var U=function(){function t(t,e){this.legendSettings=t,this._size=e,this._channels=[],this.disableToggleVisibility=!0,this.legendChannelHeight=this.legendSettings.blobSize+this.legendSettings.blobSpacing}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size-Math.max(0,this._channels.length-4)*this.legendChannelHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channels",{get:function(){return this._channels},enumerable:!0,configurable:!0}),t.prototype.addChannel=function(t){this._channels.push(t)},t.prototype.clearChannels=function(){this._channels.length=0},t}()},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"6jm/":function(t,e,n){"use strict";var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),p=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),m=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(t){var e;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?new S((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?b(parseInt(e[1],16)):(e=h.exec(t))?new S(e[1],e[2],e[3],1):(e=f.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?w(e[1],e[2],e[3],e[4]):(e=p.exec(t))?w(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=m.exec(t))?M(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?M(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?b(v[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function b(t){return new S(t>>16&255,t>>8&255,255&t,1)}function w(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function _(t){return t instanceof o||(t=y(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function x(t,e,n,r){return 1===arguments.length?_(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function M(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new E(t,e,n,r)}function C(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=y(t)),!t)return new E;if(t instanceof E)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new E(s,u,c,t.opacity)}(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function T(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(o,y,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),r(S,x,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(E,C,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(T(t>=240?t-240:t+120,i,r),T(t,i,r),T(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var O=Math.PI/180,P=180/Math.PI,A=.95047,k=1,L=1.08883,R=4/29,D=6/29,N=3*D*D,I=D*D*D;function j(t){if(t instanceof F)return new F(t.l,t.a,t.b,t.opacity);if(t instanceof W){var e=t.h*O;return new F(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof S||(t=_(t));var n=H(t.r),r=H(t.g),i=H(t.b),o=V((.4124564*n+.3575761*r+.1804375*i)/A),a=V((.2126729*n+.7151522*r+.072175*i)/k);return new F(116*a-16,500*(o-a),200*(a-V((.0193339*n+.119192*r+.9503041*i)/L)),t.opacity)}function z(t,e,n,r){return 1===arguments.length?j(t):new F(t,e,n,null==r?1:r)}function F(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function V(t){return t>I?Math.pow(t,1/3):t/N+R}function B(t){return t>D?t*t*t:N*(t-R)}function U(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function H(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function G(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof W)return new W(t.h,t.c,t.l,t.opacity);t instanceof F||(t=j(t));var e=Math.atan2(t.b,t.a)*P;return new W(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new W(t,e,n,null==r?1:r)}function W(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(F,z,i(o,{brighter:function(t){return new F(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new F(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=k*B(t),new S(U(3.2404542*(e=A*B(e))-1.5371385*t-.4985314*(n=L*B(n))),U(-.969266*e+1.8760108*t+.041556*n),U(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),r(W,G,i(o,{brighter:function(t){return new W(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new W(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return j(this).rgb()}}));var q=-.14861,Y=1.78277,X=-.29227,Z=-.90649,J=1.97294,K=J*Z,Q=J*Y,$=Y*X-Z*q;function tt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);t instanceof S||(t=_(t));var e=t.g/255,n=t.b/255,r=($*n+K*(t.r/255)-Q*e)/($+K-Q),i=n-r,o=(J*(e-r)-X*i)/Z,a=Math.sqrt(o*o+i*i)/(J*r*(1-r)),s=a?Math.atan2(o,i)*P-120:NaN;return new et(s<0?s+360:s,a,r,t.opacity)}(t):new et(t,e,n,null==r?1:r)}function et(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r(et,tt,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new et(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*O,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new S(255*(e+n*(q*r+Y*i)),255*(e+n*(X*r+Z*i)),255*(e+n*(J*r)),this.opacity)}})),n.d(e,"a",function(){return y}),n.d(e,"f",function(){return x}),n.d(e,"d",function(){return C}),n.d(e,"e",function(){return z}),n.d(e,"c",function(){return G}),n.d(e,"b",function(){return tt})},"6lZC":function(t,e,n){var r=n("E0m9"),i=n("aNjz"),o=n("ybOZ"),a=n("zJjT"),s=n("FdGB"),u=n("s847"),c=o.makeSpan,l=function(t,e){return a.getCharacterMetrics(s.math[t]&&s.math[t].replace?s.math[t].replace:t,e)},h=function(t,e,n,r){var i=c((r=r||[]).concat(["style-wrap",n.style.reset(),e.cls()]),[t],n),o=e.sizeMultiplier/n.style.sizeMultiplier;return i.height*=o,i.depth*=o,i.maxFontSize=e.sizeMultiplier,i},f=function(t,e,n,r,a,s){var u=function(e,n,r,i){return o.makeSymbol(t,"Size"+n+"-Regular",r,i)}(0,e,a,r),l=h(c(["delimsizing","size"+e],[u],r),i.TEXT,r,s);if(n){var f=(1-r.style.sizeMultiplier)*r.style.metrics.axisHeight;l.style.top=f+"em",l.height-=f,l.depth+=f}return l},d=function(t,e,n){var r;return"Size1-Regular"===e?r="delim-size1":"Size4-Regular"===e&&(r="delim-size4"),{type:"elem",elem:c(["delimsizinginner",r],[c([],[o.makeSymbol(t,e,n)])])}},p=function(t,e,n,r,a,s){var u,f,p,m;u=p=m=t,f=null;var g="Size1-Regular";"\\uparrow"===t?p=m="\u23d0":"\\Uparrow"===t?p=m="\u2016":"\\downarrow"===t?u=p="\u23d0":"\\Downarrow"===t?u=p="\u2016":"\\updownarrow"===t?(u="\\uparrow",p="\u23d0",m="\\downarrow"):"\\Updownarrow"===t?(u="\\Uparrow",p="\u2016",m="\\Downarrow"):"["===t||"\\lbrack"===t?(u="\u23a1",p="\u23a2",m="\u23a3",g="Size4-Regular"):"]"===t||"\\rbrack"===t?(u="\u23a4",p="\u23a5",m="\u23a6",g="Size4-Regular"):"\\lfloor"===t?(p=u="\u23a2",m="\u23a3",g="Size4-Regular"):"\\lceil"===t?(u="\u23a1",p=m="\u23a2",g="Size4-Regular"):"\\rfloor"===t?(p=u="\u23a5",m="\u23a6",g="Size4-Regular"):"\\rceil"===t?(u="\u23a4",p=m="\u23a5",g="Size4-Regular"):"("===t?(u="\u239b",p="\u239c",m="\u239d",g="Size4-Regular"):")"===t?(u="\u239e",p="\u239f",m="\u23a0",g="Size4-Regular"):"\\{"===t||"\\lbrace"===t?(u="\u23a7",f="\u23a8",m="\u23a9",p="\u23aa",g="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(u="\u23ab",f="\u23ac",m="\u23ad",p="\u23aa",g="Size4-Regular"):"\\lgroup"===t?(u="\u23a7",m="\u23a9",p="\u23aa",g="Size4-Regular"):"\\rgroup"===t?(u="\u23ab",m="\u23ad",p="\u23aa",g="Size4-Regular"):"\\lmoustache"===t?(u="\u23a7",m="\u23ad",p="\u23aa",g="Size4-Regular"):"\\rmoustache"===t?(u="\u23ab",m="\u23a9",p="\u23aa",g="Size4-Regular"):"\\surd"===t&&(u="\ue001",m="\u23b7",p="\ue000",g="Size4-Regular");var v=l(u,g),y=v.height+v.depth,b=l(p,g),w=b.height+b.depth,_=l(m,g),x=_.height+_.depth,S=0,M=1;if(null!==f){var C=l(f,g);S=C.height+C.depth,M=2}var E=y+x+S,T=Math.ceil((e-E)/(M*w)),O=r.style.metrics.axisHeight;n&&(O*=r.style.sizeMultiplier);var P,A=(E+T*M*w)/2-O,k=[];if(k.push(d(m,g,a)),null===f)for(P=0;P<T;P++)k.push(d(p,g,a));else{for(P=0;P<T;P++)k.push(d(p,g,a));for(k.push(d(f,g,a)),P=0;P<T;P++)k.push(d(p,g,a))}k.push(d(u,g,a));var L=o.makeVList(k,"bottom",A,r);return h(c(["delimsizing","mult"],[L],r),i.TEXT,r,s)},m=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],g=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],v=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],y=[0,1.2,1.8,2.4,3],b=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],w=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"stack"}],_=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],x=function(t,e,n,r,i,a){"<"===t||"\\lt"===t?t="\\langle":">"!==t&&"\\gt"!==t||(t="\\rangle");var s=function(t,e,n,r){for(var i,o=Math.min(2,3-r.style.size);o<n.length&&"stack"!==n[o].type;o++){var a=l(t,"small"===(i=n[o]).type?"Main-Regular":"large"===i.type?"Size"+i.size+"-Regular":"stack"===i.type?"Size4-Regular":void 0),s=a.height+a.depth;if("small"===n[o].type&&(s*=n[o].style.sizeMultiplier),s>e)return n[o]}return n[n.length-1]}(t,e,u.contains(v,t)?b:u.contains(m,t)?_:w,r);return"small"===s.type?function(t,e,n,r,i,a){var s=o.makeSymbol(t,"Main-Regular",i,r),u=h(s,e,r,a);if(n){var c=(1-r.style.sizeMultiplier/e.sizeMultiplier)*r.style.metrics.axisHeight;u.style.top=c+"em",u.height-=c,u.depth+=c}return u}(t,s.style,n,r,i,a):"large"===s.type?f(t,s.size,n,r,i,a):"stack"===s.type?p(t,e,n,r,i,a):void 0};t.exports={sizedDelim:function(t,e,n,i,o){if("<"===t||"\\lt"===t?t="\\langle":">"!==t&&"\\gt"!==t||(t="\\rangle"),u.contains(m,t)||u.contains(v,t))return f(t,e,!1,n,i,o);if(u.contains(g,t))return p(t,y[e],!1,n,i,o);throw new r("Illegal delimiter: '"+t+"'")},customSizedDelim:x,leftRightDelim:function(t,e,n,r,i,o){var s=r.style.metrics.axisHeight*r.style.sizeMultiplier,u=5/a.metrics.ptPerEm,c=Math.max(e-s,n+s),l=Math.max(c/500*901,2*c-u);return x(t,l,!0,r,i,o)}}},"6rnH":function(t,e,n){"use strict";var r=n("mrSG"),i=n("eh5z");function o(t,e){return t.slice(0,e).reduce(function(t,e){return t+e},0)}var a=n("gozj"),s=n("2fsI"),u=n("ABYF");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return p}),n.d(e,"c",function(){return m});var c=function(){function t(){this.inner=new l}return t.prototype.render=function(t,e){return this.inner.render(t,e),this},t.prototype.chartSettings=function(t){return this.inner.settings=t,this},t.prototype.data=function(t){return this.inner.data=t,this},t.prototype.renderChannels=function(t){return this.inner.renderChannels=t,this},t.prototype.orientation=function(t){return this.inner.orientation=t,this},t.prototype.siteHooks=function(t){return this.inner.siteHooks=t,this},t.prototype.setError=function(t){return this.inner.setError=t,this},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.inner.listeners.on.apply(this.inner.listeners,t),this},t}(),l=function(){function t(){this.renderChannels=[],this.orientation=m.vertical,this.listeners=i.dispatch("changed")}return t.prototype.render=function(t,e){var n=this;if(this.settings&&this.data){var r=this.settings,a=this.data;e.attr("tabindex",0).on("keydown.legend",function(){var t=s.event;t.ctrlKey&&"c"===t.key&&n.copyLegendToClipboard()});var u=(this.orientation===m.horizontal?"horizontal":"vertical")+"-legend-area",c=t.selectAll("."+u).data([null]),l=c.enter().append("g").attr("class",u+" legend-area").merge(c),p=r.legend.blobSize+r.legend.blobSpacing,g=p*this.renderChannels.length;l.attr("transform",this.orientation===m.vertical?"translate("+(r.svgPadding.left+r.chartMargin.left+r.chartSize.width)+","+(r.svgPadding.top+r.chartMargin.top)+")":"translate("+(r.svgPadding.left+r.chartMargin.left)+","+(r.svgPadding.top+r.chartMargin.top+r.chartSize.height)+")");var v=l.selectAll(".copy-legend-values-area").data(this.data&&this.data.length&&this.data[0].channels&&this.data[0].channels.length?[this.data[0].channels[0]]:[]),y=v.enter().append("g").attr("class","copy-legend-values-area").attr("transform","translate(0, -10)").on("click",function(){return n.copyLegendToClipboard()}),b=v.merge(y);y.append("text").attr("class","copy-legend-values-icon").text("\uf0ea"),b.select(".copy-legend-values-icon").attr("x",function(t){return g+r.legend.valueWidth*t.legendValues.length+r.legend.unitsWidth}),y.append("text").attr("class","copy-legend-values-text").text("Copy"),b.select(".copy-legend-values-text").attr("x",function(t){return g+2+r.legend.blobSize+r.legend.blobSpacing+r.legend.valueWidth*t.legendValues.length+r.legend.unitsWidth});var w=l.selectAll(".legend-item-set").data(this.data),_=w.enter().append("g").attr("class","legend-item-set");w.exit().remove();var x=_.merge(w);x.attr("transform",this.orientation===m.vertical?function(t,e){return"translate(0,"+(o(a.map(function(t){return t.size}),e)+(t.size>=0?0:t.size))+")"}:function(t,e){return"translate("+(o(a.map(function(t){return t.size}),e)+a[e].size/2-r.legend.unitsWidth-r.legend.valueWidth*i.maxStrict(t.channels.map(function(t){return t.legendValues.length})))+",0)"});var S=x.selectAll(".legend-item").data(function(t){return t.channels.map(function(e){return new f(e,t)})}),M=S.enter().append("g").attr("class","legend-item");S.exit().remove();var C=M.merge(S);C.attr("transform",function(t,e){return"translate(0,"+e*(r.legend.blobSize+r.legend.blobSpacing)+")"}),M.append("g").attr("class","legend-render-channels");var E=C.select(".legend-render-channels").selectAll(".legend-render-channel").data(function(t){return n.renderChannels.map(function(e){return new d(e,t.channel,t.parent)})});E.exit().remove();var T=E.enter().append("g").attr("class","legend-render-channel").attr("transform",function(t,e){return"translate("+p*e+", "+(r.legend.blobSize-r.legend.blobSpacing/2)+")"}).attr("width",r.legend.blobSize).attr("text-anchor","middle ").style("cursor","pointer").on("click",function(t){return n.setRenderChannel(t)});T.append("text").attr("class","icon-text render-channel-icon"),T.merge(E).select("text").text(function(t,e){return t.renderChannel.iconCodepoint}).classed("active-render-channel-icon",function(t){return t.renderChannel.assignedChannelName()===t.channel.name}),M.append("g").attr("class","legend-values").on("click",function(t){return n.setChannelUnits(t.channel)});var O=C.select(".legend-values").selectAll(".legend-value").data(function(t){return t.channel.legendValues.map(function(e){return new h(e,t)})});O.exit().remove(),O.enter().append("text").attr("class","legend-value").attr("x",function(t,e){return g+r.legend.valueWidth*(e+1)}).attr("y",r.legend.blobSize-r.legend.blobSpacing/2).attr("text-anchor","end").style("cursor","pointer").merge(O).text(function(t){return n.getLegendValueText(t.value)}).attr("fill",function(t,e){return r.getChannelColor(t.parent.channel.channelIndex,e)}),M.append("text").attr("class","legend-units").attr("y",r.legend.blobSize-r.legend.blobSpacing/2).attr("text-anchor","start").style("cursor","pointer").on("click",function(t){return n.setChannelUnits(t.channel)}),C.select(".legend-units").text(function(t){return t.channel.units}).attr("x",function(t){return g+(r.legend.valueWidth*t.channel.legendValues.length+2)}).attr("fill",function(t){return r.getChannelColor(t.channel.channelIndex,0)}),M.append("rect").attr("class","legend-square").attr("width",r.legend.blobSize).attr("height",r.legend.blobSize).style("cursor","pointer").on("click",function(t){t.parent.disableToggleVisibility||n.lineToggleAndRescale(t.channel)}),C.select(".legend-square").style("fill",function(t){return t.channel.isVisible&&!t.parent.disableToggleVisibility?r.getChannelColor(t.channel.channelIndex,0):"white"}).style("stroke",function(t){return r.getChannelColor(t.channel.channelIndex,0)}).attr("x",function(t){return g+r.legend.valueWidth*t.channel.legendValues.length+r.legend.unitsWidth}),M.append("text").attr("class","legend-label").attr("y",r.legend.blobSize-r.legend.blobSpacing/2).style("cursor","pointer").on("click",function(t){return n.setChannelUnits(t.channel)}),C.select(".legend-label").text(function(t){return t.channel.name}).attr("fill",function(t){return r.getChannelColor(t.channel.channelIndex,0)}).attr("x",function(t){return g+2+r.legend.blobSize+r.legend.blobSpacing+(r.legend.valueWidth*t.channel.legendValues.length+r.legend.unitsWidth)}).text(function(t){return r.legend.trimLabel(t.channel.name)})}},t.prototype.setChannelUnits=function(t){return r.b(this,void 0,void 0,function(){var e;return r.e(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.siteHooks?[4,this.siteHooks.editChannelUnits(t.genericName,t.units)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[3,4];case 3:return e=n.sent(),this.handleError(e),[3,4];case 4:return[2]}})})},t.prototype.lineToggleAndRescale=function(t){t.isVisible=!t.isVisible,this.listeners.call("changed")},t.prototype.setRenderChannel=function(t){try{t.renderChannel.assignedChannelName()===t.channel.name?t.renderChannel.action(void 0):t.renderChannel.action(t.channel.name),this.listeners.call("changed")}catch(t){this.handleError(t)}},t.prototype.getLegendValueText=function(t){return isNaN(t)?"-":i.format("8.2f")(t)},t.prototype.copyLegendToClipboard=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i,o,s,c,l,h,f,d,p;return r.e(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),!this.data)return[2];for(t=[],e=0,n=this.data;e<n.length;e++)for(i=0,o=n[e].channels;i<o.length;i++)for(s=o[i],t.push(c=[]),c.push(s.name),c.push(s.units),l=0,h=s.legendValues;l<h.length;l++)c.push(""+h[l]);return f=-1!==navigator.userAgent.indexOf("Windows")?"\r\n":"\n",t=a.b.transpose(t),d=t.map(function(t){return t.join(",")}).join(f),[4,u.writeText(d)];case 1:return r.sent(),[3,3];case 2:return p=r.sent(),this.handleError(p),[3,3];case 3:return[2]}})})},t.prototype.handleError=function(t){var e=this.siteHooks?this.siteHooks.getFriendlyErrorAndLog(t):t.message;this.setError?this.setError(e):console.warn(e)},t}(),h=function(t,e){this.value=t,this.parent=e},f=function(t,e){this.channel=t,this.parent=e},d=function(t,e,n){this.renderChannel=t,this.channel=e,this.parent=n},p=function(t,e,n,r){this.name=t,this.iconCodepoint=e,this.assignedChannelName=n,this.action=r},m=function(t){return t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal",t}({})},"6sUn":function(t,e,n){var r=n("bzbY");t.exports=function(t,e){if(!("string"==typeof t||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");return new r(t,e).parse()}},"7c6v":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e){this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t}()},"7p8r":function(t,e,n){"use strict";n.r(e);var r=n("6jm/");function i(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var o=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1];return i((n-r/e)*e,r>0?t[r-1]:2*o-a,o,a,r<e-1?t[r+2]:2*a-o)}},a=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return i((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}},s=function(t){return function(){return t}};function u(t,e){return function(n){return t+n*e}}function c(t,e){var n=e-t;return n?u(t,n>180||n<-180?n-360*Math.round(n/360):n):s(isNaN(t)?e:t)}function l(t,e){var n=e-t;return n?u(t,n):s(isNaN(t)?e:t)}var h=function t(e){var n=function(t){return 1==(t=+t)?l:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):s(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),a=n(t.b,e.b),s=l(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function f(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}var d,p,m,g,v=f(o),y=f(a),b=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=E(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},w=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},_=function(t,e){return e-=t=+t,function(n){return t+e*n}},x=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=E(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},S=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M=new RegExp(S.source,"g"),C=function(t,e){var n,r,i,o=S.lastIndex=M.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=S.exec(t))&&(r=M.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:_(n,r)})),o=M.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},E=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?s(e):("number"===i?_:"string"===i?(n=Object(r.a)(e))?(e=n,h):C:e instanceof r.a?h:e instanceof Date?w:Array.isArray(e)?b:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?x:_)(t,e)},T=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},O=180/Math.PI,P={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},A=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*O,skewX:Math.atan(u)*O,scaleX:a,scaleY:s}};function k(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:_(t,i)},{i:u-2,x:_(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:_(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:_(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:_(t,n)},{i:s-2,x:_(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var L=k(function(t){return"none"===t?P:(d||(d=document.createElement("DIV"),p=document.documentElement,m=document.defaultView),d.style.transform=t,t=m.getComputedStyle(p.appendChild(d),null).getPropertyValue("transform"),p.removeChild(d),t=t.slice(7,-1).split(","),A(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),R=k(function(t){return null==t?P:(g||(g=document.createElementNS("http://www.w3.org/2000/svg","g")),g.setAttribute("transform",t),(t=g.transform.baseVal.consolidate())?A((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):P)},", ",")",")"),D=Math.SQRT2;function N(t){return((t=Math.exp(t))+1/t)/2}var I=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[2],u=e[0]-i,c=e[1]-o,l=u*u+c*c;if(l<1e-12)r=Math.log(s/a)/D,n=function(t){return[i+t*u,o+t*c,a*Math.exp(D*t*r)]};else{var h=Math.sqrt(l),f=(s*s-a*a+4*l)/(2*a*2*h),d=(s*s-a*a-4*l)/(2*s*2*h),p=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(d*d+1)-d);r=(m-p)/D,n=function(t){var e,n=t*r,s=N(p),l=a/(2*h)*(s*(e=D*n+p,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[i+l*u,o+l*c,a*s/N(D*n+p)]}}return n.duration=1e3*r,n};function j(t){return function(e,n){var i=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),o=l(e.s,n.s),a=l(e.l,n.l),s=l(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(t),e.opacity=s(t),e+""}}}var z=j(c),F=j(l);function V(t,e){var n=l((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),i=l(t.a,e.a),o=l(t.b,e.b),a=l(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function B(t){return function(e,n){var i=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),o=l(e.c,n.c),a=l(e.l,n.l),s=l(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=o(t),e.l=a(t),e.opacity=s(t),e+""}}}var U=B(c),H=B(l);function G(t){return function e(n){function i(e,i){var o=t((e=Object(r.b)(e)).h,(i=Object(r.b)(i)).h),a=l(e.s,i.s),s=l(e.l,i.l),u=l(e.opacity,i.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,i.gamma=e,i}(1)}var W=G(c),q=G(l),Y=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};n.d(e,"interpolate",function(){return E}),n.d(e,"interpolateArray",function(){return b}),n.d(e,"interpolateBasis",function(){return o}),n.d(e,"interpolateBasisClosed",function(){return a}),n.d(e,"interpolateDate",function(){return w}),n.d(e,"interpolateNumber",function(){return _}),n.d(e,"interpolateObject",function(){return x}),n.d(e,"interpolateRound",function(){return T}),n.d(e,"interpolateString",function(){return C}),n.d(e,"interpolateTransformCss",function(){return L}),n.d(e,"interpolateTransformSvg",function(){return R}),n.d(e,"interpolateZoom",function(){return I}),n.d(e,"interpolateRgb",function(){return h}),n.d(e,"interpolateRgbBasis",function(){return v}),n.d(e,"interpolateRgbBasisClosed",function(){return y}),n.d(e,"interpolateHsl",function(){return z}),n.d(e,"interpolateHslLong",function(){return F}),n.d(e,"interpolateLab",function(){return V}),n.d(e,"interpolateHcl",function(){return U}),n.d(e,"interpolateHclLong",function(){return H}),n.d(e,"interpolateCubehelix",function(){return W}),n.d(e,"interpolateCubehelixLong",function(){return q}),n.d(e,"quantize",function(){return Y})},"8/63":function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("gy9U"),o=function(t){this.name=t},a=function(){function t(){this._id=Math.random().toString()}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.prototype.getMultipleChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){var o,a,s,u,c;return r.e(this,function(r){switch(r.label){case 0:o={},a=0,s=t,r.label=1;case 1:return a<s.length?(c=o[u=s[a]])?[3,3]:[4,this.getChannelData(u,e,n)]:[3,4];case 2:c=r.sent(),o[u]=c,r.label=3;case 3:return a++,[3,1];case 4:return[2,new i.a(o)]}})})},t.prototype.getConfig=function(t){return Promise.resolve(void 0)},t}(),s=function(){function t(t,e,n){this.sourceData=t,this.name=e,this.description=n}return t.prototype.getSourceData=function(){return this.sourceData||{}},t}()},"8H56":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),i=n("HNUh"),o=n("9WsI"),a=n("+E/Y"),s=n("3njT"),u=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,[],a)||this;return s.fileLoader=e,s.siteHooks=n,s.studyJobs=r,s.simTypes=i,s.baselineTrack=o,s.trackPreviewName="Racing Line",s}return r.d(e,t),e.prototype.populateSources=function(t){return r.b(this,void 0,void 0,function(){var e,n,u,c,l,h,f=this;return r.e(this,function(r){switch(r.label){case 0:for(e=this.simTypes[0],n=this.studyJobs.map(function(t){return i.a.create(f.siteHooks,f.fileLoader,t,e)}),u=n.map(function(t){return{name:t.id,task:t.getConfig("track")}}),c=0,l=n;c<l.length;c++)t.sourceLoaderSet.add(new o.b(l[c]));return this.baselineTrack&&t.sourceLoaderSet.add(new o.b(a.a.create(this.siteHooks,this.baselineTrack,"Baseline"))),[4,Promise.all(u.map(function(t){return t.task}))];case 1:return h=r.sent(),this.configs=u.map(function(t,e){return new s.a(t.name,h[e])}).concat([new s.a("Baseline",this.baselineTrack)]),[2]}})})},e}(n("4FPt").a)},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"8i/y":function(t,e,n){"use strict";function r(t,e){return e?t+":"+e:t}n.d(e,"a",function(){return r})},"8znY":function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){e.exports=t("./formatters")},{"./formatters":6}],2:[function(t,e,n){n.isBrowser="undefined"!=typeof window},{}],3:[function(t,e,n){var r=t("./base").BaseFormatter,i=function(){this.includeMoveDestinations=!1};(i.prototype=new r).prepareContext=function(t){r.prototype.prepareContext.call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(e,n){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(e),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(n),t.out("</div></td></tr>")}},i.prototype.typeFormattterErrorFormatter=function(t,e){t.row("",'<pre class="jsondiffpatch-error">'+e+"</pre>")},i.prototype.formatTextDiffString=function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var o=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var a=o.pieces,s=0,u=a.length;s<u;s++){var c=a[s];t.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+c.text+"</span>")}t.out("</div></li>")}t.out("</ul>")},i.prototype.rootBegin=function(t,e,n){t.out('<table class="jsondiffpatch-annotated-delta">'),"node"===e&&(t.row("{"),t.indent()),"array"===n&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")},i.prototype.rootEnd=function(t,e){"node"===e&&(t.indent(-1),t.row("}")),t.out("</table>")},i.prototype.nodeBegin=function(t,e,n,r,i){t.row("&quot;"+e+"&quot;: {"),"node"===r&&t.indent(),"array"===i&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")},i.prototype.nodeEnd=function(t,e,n,r,i,o){"node"===r&&t.indent(-1),t.row("}"+(o?"":","))},i.prototype.format_unchanged=function(){},i.prototype.format_movedestination=function(){},i.prototype.format_node=function(t,e,n){this.formatDeltaChildren(t,e,n)};var o,a=function(t){return'<pre style="display:inline-block">&quot;'+t+"&quot;</pre>"},s={added:function(t,e,n,r){var i=" <pre>([newValue])</pre>";return void 0===r?"new value"+i:"number"==typeof r?"insert at index "+r+i:"add property "+a(r)+i},modified:function(t,e,n,r){var i=" <pre>([previousValue, newValue])</pre>";return void 0===r?"modify value"+i:"number"==typeof r?"modify at index "+r+i:"modify property "+a(r)+i},deleted:function(t,e,n,r){var i=" <pre>([previousValue, 0, 0])</pre>";return void 0===r?"delete value"+i:"number"==typeof r?"remove index "+r+i:"delete property "+a(r)+i},moved:function(t,e,n,r){return'move from <span title="(position to remove at original state)">index '+r+'</span> to <span title="(position to insert at final state)">index '+t[1]+"</span>"},textdiff:function(t,e,n,r){return"text diff"+(void 0===r?"":"number"==typeof r?" at index "+r:" at property "+a(r))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},u=function(t,e){var n=this.getDeltaType(e),r=s[n],i=r&&r.apply(r,Array.prototype.slice.call(arguments,1)),o=JSON.stringify(e,null,2);"textdiff"===n&&(o=o.split("\\n").join('\\n"+\n   "')),t.indent(),t.row(o,i),t.indent(-1)};i.prototype.format_added=u,i.prototype.format_modified=u,i.prototype.format_deleted=u,i.prototype.format_moved=u,i.prototype.format_textdiff=u,n.AnnotatedFormatter=i,n.format=function(t,e){return o||(o=new i),o.format(t,e)}},{"./base":4}],4:[function(t,e,n){var r="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},i="function"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},o=function(t){return"_t"===t?-1:"_"===t.substr(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1},a=function(t,e){return o(t)-o(e)},s=function(){};s.prototype.format=function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),this.finalize(n)},s.prototype.prepareContext=function(t){t.buffer=[],t.out=function(){this.buffer.push.apply(this.buffer,arguments)}},s.prototype.typeFormattterNotFound=function(t,e){throw new Error("cannot format delta type: "+e)},s.prototype.typeFormattterErrorFormatter=function(t,e){return e.toString()},s.prototype.finalize=function(t){if(r(t.buffer))return t.buffer.join("")},s.prototype.recurse=function(t,e,n,r,i,o,a){var s=e&&o?o.value:n;if(void 0!==e||void 0!==r){var u=this.getDeltaType(e,o),c="node"===u?"a"===e._t?"array":"object":"";void 0!==r?this.nodeBegin(t,r,i,u,c,a):this.rootBegin(t,u,c);try{(this["format_"+u]||this.typeFormattterNotFound(t,u)).call(this,t,e,s,r,i,o)}catch(n){this.typeFormattterErrorFormatter(t,n,e,s,r,i,o),"undefined"!=typeof console&&console.error&&console.error(n.stack)}void 0!==r?this.nodeEnd(t,r,i,u,c,a):this.rootEnd(t,u,c)}},s.prototype.formatDeltaChildren=function(t,e,n){var r=this;this.forEachDeltaKey(e,n,function(i,o,a,s){r.recurse(t,e[i],n?n[o]:void 0,i,o,a,s)})},s.prototype.forEachDeltaKey=function(t,e,n){var o,s,u=i(t),c="a"===t._t,l={};if(void 0!==e)for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(void 0!==t[o]||c&&void 0!==t["_"+o]||u.push(o));for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var h=t[o];r(h)&&3===h[2]&&(l[h[1].toString()]={key:o,value:e&&e[parseInt(o.substr(1))]},!1!==this.includeMoveDestinations&&void 0===e&&void 0===t[h[1]]&&u.push(h[1].toString()))}c?u.sort(a):u.sort();for(var f=0,d=u.length;f<d;f++){var p=u[f];if(!c||"_t"!==p){var m=c?"number"==typeof p?p:parseInt("_"===(s=p).substr(0,1)?s.slice(1):s,10):p;n(p,m,l[m],f===d-1)}}},s.prototype.getDeltaType=function(t,e){if(void 0===t)return void 0!==e?"movedestination":"unchanged";if(r(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if("object"==typeof t)return"node";return"unknown"},s.prototype.parseTextDiff=function(t){for(var e=[],n=t.split("\n@@ "),r=0,i=n.length;r<i;r++){var o=n[r],a={pieces:[]},s=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(o).slice(1);a.location={line:s[0],chr:s[1]};for(var u=o.split("\n").slice(1),c=0,l=u.length;c<l;c++){var h=u[c];if(h.length){var f={type:"context"};"+"===h.substr(0,1)?f.type="added":"-"===h.substr(0,1)&&(f.type="deleted"),f.text=h.slice(1),a.pieces.push(f)}}e.push(a)}return e},n.BaseFormatter=s},{}],5:[function(t,e,n){var r=t("./base"),i=function(){};function o(t){for(var e=t,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],r=0;r<n.length;r++)e=e.replace(n[r][0],n[r][1]);return e}(i.prototype=new(0,r.BaseFormatter)).typeFormattterErrorFormatter=function(t,e){t.out('<pre class="jsondiffpatch-error">'+e+"</pre>")},i.prototype.formatValue=function(t,e){t.out("<pre>"+o(JSON.stringify(e,null,2))+"</pre>")},i.prototype.formatTextDiffString=function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var a=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+a.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+a.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=a.pieces,u=0,c=s.length;u<c;u++){var l=s[u];t.out('<span class="jsondiffpatch-textdiff-'+l.type+'">'+o(unescape(l.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")};var a=function(t){!function(e,n,r){for(var i=(t=t||document).querySelectorAll(".jsondiffpatch-arrow"),o=0,a=i.length;o<a;o++)r(i[o])}(0,0,function(t){var e=t.parentNode,n=t.children[0],r=n.children[1];n.style.display="none";var i,o,a=(i=e.querySelector(".jsondiffpatch-moved-destination")).textContent||i.innerText;if(function(t,e){for(var n=0,r=t.children.length;n<r;n++)(i=t.children[n]).getAttribute("data-key")===a&&(o=i);var i}(e.parentNode),o)try{var s=o.offsetTop-e.offsetTop;n.setAttribute("height",Math.abs(s)+6),t.style.top=-8+(s>0?0:s)+"px";var u=s>0?"M30,0 Q-10,"+Math.round(s/2)+" 26,"+(s-4):"M30,"+-s+" Q-10,"+Math.round(-s/2)+" 26,4";r.setAttribute("d",u),n.style.display=""}catch(t){return}})};i.prototype.rootBegin=function(t,e,n){t.out('<div class="jsondiffpatch-delta jsondiffpatch-'+e+(n?" jsondiffpatch-child-node-type-"+n:"")+'">')},i.prototype.rootEnd=function(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+a.toString()+",10);<\/script>":""))},i.prototype.nodeBegin=function(t,e,n,r,i){t.out('<li class="jsondiffpatch-'+r+(i?" jsondiffpatch-child-node-type-"+i:"")+'" data-key="'+n+'"><div class="jsondiffpatch-property-name">'+n+"</div>")},i.prototype.nodeEnd=function(t){t.out("</li>")},i.prototype.format_unchanged=function(t,e,n){void 0!==n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))},i.prototype.format_movedestination=function(t,e,n){void 0!==n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))},i.prototype.format_node=function(t,e,n){t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+("a"===e._t?"array":"object")+'">'),this.formatDeltaChildren(t,e,n),t.out("</ul>")},i.prototype.format_added=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")},i.prototype.format_modified=function(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")},i.prototype.format_deleted=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")},i.prototype.format_moved=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+e[1]+"</div>"),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">        <svg width="30" height="60" style="position: absolute; display: none;">        <defs>            <marker id="markerArrow" markerWidth="8" markerHeight="8" refx="2" refy="4"                   orient="auto" markerUnits="userSpaceOnUse">                <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />            </marker>        </defs>        <path d="M30,0 Q-10,25 26,50" style="stroke: #88f; stroke-width: 2px; fill: none;        stroke-opacity: 0.5; marker-end: url(#markerArrow);"></path>        </svg>        </div>'),t.hasArrows=!0},i.prototype.format_textdiff=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")};var s,u=function(t,e,n){var r=e||document.body,i="jsondiffpatch-unchanged-",o={showing:i+"showing",hiding:i+"hiding",visible:i+"visible",hidden:i+"hidden"},s=r.classList;if(s){if(!n)return s.remove(o.showing),s.remove(o.hiding),s.remove(o.visible),s.remove(o.hidden),void(!1===t&&s.add(o.hidden));!1===t?(s.remove(o.showing),s.add(o.visible),setTimeout(function(){s.add(o.hiding)},10)):(s.remove(o.hiding),s.add(o.showing),s.remove(o.hidden));var u=setInterval(function(){a(r)},100);setTimeout(function(){s.remove(o.showing),s.remove(o.hiding),!1===t?(s.add(o.hidden),s.remove(o.visible)):(s.add(o.visible),s.remove(o.hidden)),setTimeout(function(){s.remove(o.visible),clearInterval(u)},n+400)},n)}};n.HtmlFormatter=i,n.showUnchanged=u,n.hideUnchanged=function(t,e){return u(!1,t,e)},n.format=function(t,e){return s||(s=new i),s.format(t,e)}},{"./base":4}],6:[function(t,e,n){var r=t("../environment");n.base=t("./base"),n.html=t("./html"),n.annotated=t("./annotated"),n.jsonpatch=t("./jsonpatch"),r.isBrowser||(n.console=t("./console"))},{"../environment":2,"./annotated":3,"./base":4,"./html":5,"./jsonpatch":7}],7:[function(t,e,n){!function(){var e,r=t("./base").BaseFormatter;function i(){this.includeMoveDestinations=!1}function o(t){return t[t.length-1]}(i.prototype=new r).prepareContext=function(t){r.prototype.prepareContext.call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(t,e){var n={op:t,path:this.currentPath()};void 0!==e&&(n.value=e),this.result.push(n)},t.currentPath=function(){return"/"+this.path.join("/")}},i.prototype.typeFormattterErrorFormatter=function(t,e){t.out("[ERROR]"+e)},i.prototype.rootBegin=function(){},i.prototype.rootEnd=function(){},i.prototype.nodeBegin=function(t,e,n){t.path.push(n)},i.prototype.nodeEnd=function(t){t.path.pop()},i.prototype.format_unchanged=function(t,e,n){void 0!==n&&t.pushCurrentOp("unchanged",n)},i.prototype.format_movedestination=function(t,e,n){void 0!==n&&t.pushCurrentOp("movedestination",n)},i.prototype.format_node=function(t,e,n){this.formatDeltaChildren(t,e,n)},i.prototype.format_added=function(t,e){t.pushCurrentOp("add",e[0])},i.prototype.format_modified=function(t,e){t.pushCurrentOp("replace",e[1])},i.prototype.format_deleted=function(t){t.pushCurrentOp("remove")},i.prototype.format_moved=function(t,e){t.pushCurrentOp("moved",e[1])},i.prototype.format_textdiff=function(){throw"not implimented"},i.prototype.format=function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),n.result},n.JSONFormatter=i;var a=function(t,n){return e||(e=new i),function(t){var e,n,r,i,a=(e=function(t){return"remove"===t.op},n=[],r=[],t.forEach(function(t){(e(t)?n:r).push(t)}),[n,r]),s=a[1];return((i=a[0]).sort(function(t,e){var n,r,i,a,s=t.path.split("/"),u=e.path.split("/");return s.length!==u.length?s.length-u.length:(n=o(s),r=o(u),i=parseInt(n,10),a=parseInt(r,10),isNaN(i)||isNaN(a)?0:a-i)}),i).concat(s)}(e.format(t,n))};n.log=function(t,e){console.log(a(t,e))},n.format=a}()},{"./base":4}]},{},[1])(1)},"9CsZ":function(t,e,n){"use strict";var r=n("eh5z"),i=n("2fsI"),o=n("yIpB"),a=n("HLL/"),s=n("9WsI"),u=n("K9Ia"),c=n("ukm+"),l=n("Gi3i"),h=n("mrSG"),f=n("FFOo"),d=n("Ehmk"),p=n("eihs"),m=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new g(t,this.compare,this.keySelector))},t}(),g=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return h.d(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object(d.a)(this.keySelector)(t))===p.a)return this.destination.error(p.a.e);var n=!1;if(this.hasKey){if((n=Object(d.a)(this.compare)(this.key,e))===p.a)return this.destination.error(p.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(f.a);n.d(e,"e",function(){return v}),n.d(e,"a",function(){return y}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _});var v=function(){function t(t,e){void 0===t&&(t=new c.a);var n=this;this.domainNewsCache=t,this.dimensions=e,this.randomId=Object(o.a)(16),this._sourceLoaderSet=new s.a,this._windowResizeNews=new u.a,this._windowResizeNewsDebounced=this._windowResizeNews.pipe(Object(l.a)(a.p)),r.select(window).on("resize."+this.randomId,function(){return n._windowResizeNews.next()}),this._keyPressNews=new u.a,r.select("body").on("keydown."+this.randomId,function(){n._keyPressNews.next(i.event.key)}).on("keyup."+this.randomId,function(){n._keyPressNews.next(void 0)})}return Object.defineProperty(t.prototype,"definedDimensions",{get:function(){if(!this.dimensions)throw new Error("Dimensions shared state has not been defined.");return this.dimensions},enumerable:!0,configurable:!0}),t.fromSources=function(e){var n,r=new t;return(n=r.sourceLoaderSet).add.apply(n,e),r},Object.defineProperty(t.prototype,"sourceLoaderSet",{get:function(){return this._sourceLoaderSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFirstSourceVisible",{get:function(){return!!this.sourceLoaderSet.sources.length&&this.sourceLoaderSet.sources[0].isVisible},enumerable:!0,configurable:!0}),t.prototype.getDomainNews=function(t){return this.domainNewsCache.getDomainNews(t)},Object.defineProperty(t.prototype,"windowResizeNews",{get:function(){return this._windowResizeNewsDebounced},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyPressNews",{get:function(){return this._keyPressNews},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sLapCursorNews",{get:function(){return this.getDomainNews(a.t).observable},enumerable:!0,configurable:!0}),t.prototype.sLapCursorSetAll=function(t,e){var n=new w(t,new _(a.r,new w(e)));this.getDomainNews(a.s).raise(n),this.getDomainNews(a.t).raise(n)},t.prototype.dispose=function(){r.select(window).on("resize."+this.randomId,null),r.select("body").on("keydown."+this.randomId,null).on("keyup."+this.randomId,null)},t.prototype.raiseWindowResizedNews=function(){this._windowResizeNews.next()},t}(),y=function(){function t(t,e){this._rCoordinates=t,this._rDomainExtents=e,this._rCoordinatesNews=new u.a,this._rDomainExtentsNews=new u.a}return Object.defineProperty(t.prototype,"rCoordinatesNews",{get:function(){return this._rCoordinatesNews},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rDomainExtentsNews",{get:function(){return this._rDomainExtentsNews},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rCoordinates",{get:function(){return this._rCoordinates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rDomainExtents",{get:function(){return this._rDomainExtents},enumerable:!0,configurable:!0}),t.prototype.rCoordinatesSet=function(t,e){this.rCoordinates[t]!==e&&(this._rCoordinates[t]=e,this._rCoordinatesNews.next(this.rCoordinates))},t.prototype.rDomainExtentsSet=function(t,e){this.rDomainExtents[t][0]===e[0]&&this.rDomainExtents[t][1]===e[1]||(this._rDomainExtents[t]=e,this._rDomainExtentsNews.next(this.rDomainExtents))},t}(),b=function(){function t(){var t;this._subject=new u.a,this._distinct=this._subject.pipe((t=function(t,e){return t.sourceValues.length===e.sourceValues.length&&r.zip(t.sourceValues,e.sourceValues).every(function(t){return t[0]===t[1]})},function(e){return e.lift(new m(t,void 0))}))}return t.prototype.raise=function(t){this._subject.next(t)},Object.defineProperty(t.prototype,"observable",{get:function(){return this._distinct},enumerable:!0,configurable:!0}),t}(),w=function(){function t(t,e){this.sourceValues=t,this.secondary=e}return t.prototype.getSourceValue=function(t){return this.sourceValues.length>t?this.sourceValues[t]:0},t}(),_=function(t,e){this.domainName=t,this.event=e}},"9Pu7":function(t,e){!function(){var e=function(t,n){var r=this;this.isOpened=!1,this.input=i(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),function(t,e,n){for(var r in e){var i=e[r],o=t.input.getAttribute("data-"+r.toLowerCase());t[r]="number"==typeof i?parseInt(o):!1===i?null!==o:i instanceof Function?null:o,t[r]||0===t[r]||(t[r]=r in n?n[r]:i)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:e.DATA,filter:e.FILTER_CONTAINS,sort:!1!==(n=n||{}).sort&&e.SORT_BYLENGTH,item:e.ITEM,replace:e.REPLACE},n),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:t}),this.ul=i.create("ul",{hidden:"hidden",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;r.opened&&(13===e&&r.selected?(t.preventDefault(),r.select()):27===e?r.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),r[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),r.select(e,t.target))}}}},i.bind(this.input,this._events.input),i.bind(this.input.form,this._events.form),i.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],e.all.push(this)};function n(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}e.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=i(t))&&t.children){var e=[];r.apply(t.children).forEach(function(t){if(!t.disabled){var n=t.textContent.trim(),r=t.value||n;""!==r&&e.push({label:t.label||n,value:r})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,i.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),i.fire(this.input,"awesomplete-open")},destroy:function(){i.unbind(this.input,this._events.input),i.unbind(this.input.form,this._events.form);var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=e.all.indexOf(this);-1!==n&&e.all.splice(n,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.index-1;this.goto(this.selected&&-1!==t?t:this.ul.children.length-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=i.siblingIndex(t):t=this.ul.children[this.index],t){var n=this.suggestions[this.index];i.fire(this.input,"awesomplete-select",{text:n,origin:e||t})&&(this.replace(n),this.close({reason:"select"}),i.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(r){return new n(t.data(r,e))}).filter(function(n){return t.filter(n,e)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(n){t.ul.appendChild(t.item(n,e))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},e.all=[],e.FILTER_CONTAINS=function(t,e){return RegExp(i.regExpEscape(e.trim()),"i").test(t)},e.FILTER_STARTSWITH=function(t,e){return RegExp("^"+i.regExpEscape(e.trim()),"i").test(t)},e.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},e.ITEM=function(t,e){var n=""===e.trim()?t:t.replace(RegExp(i.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:n,"aria-selected":"false"})},e.REPLACE=function(t){this.input.value=t.value},e.DATA=function(t){return t},Object.defineProperty(n.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),n.prototype.toString=n.prototype.valueOf=function(){return""+this.label};var r=Array.prototype.slice;function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t,e){return r.call((e||document).querySelectorAll(t))}function a(){o("input.awesomplete").forEach(function(t){new e(t)})}i.create=function(t,e){var n=document.createElement(t);for(var r in e){var o=e[r];if("inside"===r)i(o).appendChild(n);else if("around"===r){var a=i(o);a.parentNode.insertBefore(n,a),n.appendChild(a)}else r in n?n[r]=o:n.setAttribute(r,o)}return n},i.bind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,r)})}},i.unbind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach(function(e){t.removeEventListener(e,r)})}},i.fire=function(t,e,n){var r=document.createEvent("HTMLEvents");for(var i in r.initEvent(e,!0,!0),n)r[i]=n[i];return t.dispatchEvent(r)},i.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)),e.$=i,e.$$=o,"undefined"!=typeof self&&(self.Awesomplete=e),"object"==typeof t&&t.exports&&(t.exports=e)}()},"9WsI":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("mrSG"),i=n("K9Ia"),o=function(){function t(t){var e;this._sources=[],this._changed=new i.a,t&&(e=this._sources).push.apply(e,t)}return Object.defineProperty(t.prototype,"sources",{get:function(){return this._sources.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),t.prototype.raiseChangedEvent=function(){this._changed.next(this)},t.prototype.add=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this._sources).push.apply(t,e),this._changed.next(this)},t.prototype.remove=function(t){this._sources.splice(t,1),this._changed.next(this)},t.prototype.move=function(t,e){var n=this._sources[t];this._sources.splice(t,1),this._sources.splice(e,0,n),this._changed.next(this)},t.prototype.replace=function(t,e){var n;(n=this._sources).splice.apply(n,[t,1].concat(e)),this._changed.next(this)},t.prototype.replaceAll=function(t,e){for(var n=t.length-1;n>=0;--n)0===n?this._sources.splice(t[n],1,e):this._sources.splice(t[n],1);this._changed.next(this)},t}(),a=function(){function t(t,e){void 0===e&&(e=!0),this._loader=t,this.isVisible=e}return t.prototype.getSourceMetadata=function(){return this._loader.getSourceMetadata()},t.prototype.getChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){var i;return r.e(this,function(r){switch(r.label){case 0:return[4,this._loader.getChannelData(t,e,n)];case 1:if(!(i=r.sent()))throw new Error("No channel data returned from getChannelData.");return[2,i]}})})},t.prototype.getMultipleChannelData=function(t,e,n){return this._loader.getMultipleChannelData(t,e,n)},t.prototype.getRequestableChannels=function(t,e){return this._loader.getRequestableChannels(t,e)},t.prototype.getConfig=function(t){return this._loader.getConfig(t)},Object.defineProperty(t.prototype,"id",{get:function(){return this._loader.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inner",{get:function(){return this._loader},enumerable:!0,configurable:!0}),t}()},ABYF:function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,(function(e){return t[e]}).bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.DT=o.DT;var a=function(t){},s=!0,u=(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]"),c="text/plain";function l(t){return r(this,void 0,void 0,function(){var e;return i(this,function(n){if(s&&!t.getData(c)&&u("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),y()){if(function(t){var e=t.getData(c);if(void 0!==e)return window.clipboardData.setData("Text",e);throw"No `text/plain` value was specified."}(t))return[2];throw"Copying failed, possibly because the user rejected it."}if(d(t))return a("regular execCopy worked"),[2];if(navigator.userAgent.indexOf("Edge")>-1)return a('UA "Edge" => assuming success'),[2];if(p(document.body,t))return a("copyUsingTempSelection worked"),[2];if(function(t){var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important"),e.textContent="temporary element",document.body.appendChild(e);var n=p(e,t);return document.body.removeChild(e),n}(t))return a("copyUsingTempElem worked"),[2];if(void 0!==(e=t.getData(c))&&function(t){a("copyTextUsingDOM");var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important");var n=e;e.attachShadow&&(a("Using shadow DOM."),n=e.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=t,n.appendChild(r),document.body.appendChild(e),m(r);var i=document.execCommand("copy");return g(),document.body.removeChild(e),i}(e))return a("copyTextUsingDOM worked"),[2];throw"Copy command failed."})})}function h(){return r(this,void 0,void 0,function(){return i(this,function(t){if(navigator.clipboard&&navigator.clipboard.readText)return a("Using `navigator.clipboard.readText()`."),[2,navigator.clipboard.readText()];if(y())return a("Reading text using IE strategy."),[2,function(){return r(this,void 0,void 0,function(){var t;return i(this,function(e){if(""===(t=window.clipboardData.getData("Text")))throw"Empty clipboard or could not read plain text from clipboard";return[2,t]})})}()];throw"Read is not supported in your browser."})})}e.setDebugLog=function(t){a=t},e.suppressWarnings=function(){s=!1,o.suppressDTWarnings()},e.write=l,e.writeText=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){return navigator.clipboard&&navigator.clipboard.writeText?(a("Using `navigator.clipboard.writeText()`."),[2,navigator.clipboard.writeText(t)]):[2,l(v(t))]})})},e.read=function(){return r(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return t=v,[4,h()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},e.readText=h;var f=function(){this.success=!1};function d(t){var e=new f,n=(function(t,e,n){a("listener called"),t.success=!0,e.forEach(function(e,r){n.clipboardData.setData(r,e),r===c&&n.clipboardData.getData(r)!=e&&(a("setting text/plain failed"),t.success=!1)}),n.preventDefault()}).bind(this,e,t);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return e.success}function p(t,e){m(t);var n=d(e);return g(),n}function m(t){var e=document.getSelection();if(e){var n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}function g(){var t=document.getSelection();t&&t.removeAllRanges()}function v(t){var e=new o.DT;return e.setData(c,t),e}function y(){return"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["text/plain","text/html"],i=(function(){(console.warn||console.log).call(arguments)}).bind(console,"[clipboard-polyfill]"),o=!0;e.suppressDTWarnings=function(){o=!1};var a=function(){function t(){this.m={}}return t.prototype.setData=function(t,e){o&&-1===r.indexOf(t)&&i("Unknown data type: "+t,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[t]=e},t.prototype.getData=function(t){return this.m[t]},t.prototype.forEach=function(t){for(var e in this.m)t(this.m[e],e)},t}();e.DT=a}])},AKyF:function(t,e,n){var r=n("vYjF");t.exports={wrapMethod:function(t,e,n){var i=t[e],o=t;if(e in t){var a="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),s=r.safeJoin(t," "),u={level:a,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(s="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),u.extra.arguments=t.slice(1),n&&n(s,u)):n&&n(s,u),i&&Function.prototype.apply.call(i,o,t)}}}}},AQUW:function(t,e,n){"use strict";n.d(e,"f",function(){return L}),n.d(e,"d",function(){return S}),n.d(e,"a",function(){return A}),n.d(e,"e",function(){return _}),n.d(e,"g",function(){return M}),n.d(e,"b",function(){return T}),n.d(e,"c",function(){return P}),n.d(e,"i",function(){return h}),n.d(e,"h",function(){return m});var r=n("mrSG"),i=n("CcnG"),o=n("gIcY"),a=n("P6uZ"),s=n("Gi3i"),u=n("VnD/"),c=n("67Y/"),l=n("ihYY"),h=function(){function t(){}return t.prototype.transform=function(t,e){if(!e.trim())return t;try{var n=new RegExp("("+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")","i");return t.replace(n,"<b>$1</b>")}catch(e){return t}},t}(),f="keydown",d="keyup",p={8:"DELETE",37:"SWITCH_PREV",39:"SWITCH_NEXT",9:"TAB"},m=function(){function t(){this.state={dragging:!1,dropping:!1,index:void 0}}return t.prototype.setDraggedItem=function(t,e){t.dataTransfer.setData("Text",JSON.stringify(e))},t.prototype.getDraggedItem=function(t){var e=t.dataTransfer.getData("Text");try{return JSON.parse(e)}catch(t){return}},t.prototype.setSender=function(t){this.sender=t},t.prototype.setReceiver=function(t){this.receiver=t},t.prototype.onTagDropped=function(t,e,n){this.onDragEnd(),this.sender.onRemoveRequested(t,e),this.receiver.onAddingRequested(!1,t,n)},t.prototype.setState=function(t){this.state=Object.assign({},this.state,t)},t.prototype.getState=function(t){return t?this.state[t]:this.state},t.prototype.onDragEnd=function(){this.setState({dragging:!1,dropping:!1,index:void 0})},t}(),g={tagInput:{separatorKeys:[],separatorKeyCodes:[],maxItems:1/0,placeholder:"+ Tag",secondaryPlaceholder:"Enter a new tag",validators:[],asyncValidators:[],onlyFromAutocomplete:!1,errorMessages:{},theme:"",onTextChangeDebounce:250,inputId:null,inputClass:"",clearOnBlur:!1,hideForm:!1,addOnBlur:!1,addOnPaste:!1,pasteSplitPattern:",",blinkIfDupe:!0,removable:!0,editable:!1,allowDupes:!1,modelAsStrings:!1,trimTags:!0,ripple:!0,tabIndex:"",disable:!1,dragZone:"",onRemoving:void 0,onAdding:void 0,displayBy:"display",identifyBy:"value",animationDuration:{enter:"250ms",leave:"150ms"}},dropdown:{displayBy:"display",identifyBy:"value",appendToBody:!0,offset:"50 0",focusFirstElement:!1,showDropdownIfEmpty:!1,minimumTextLength:1,limitItemsTo:1/0,keepOpen:!0,dynamicUpdate:!0,zIndex:1e3,matchingFn:function(t,e){var n=e[this.displayBy].toString();return n&&n.toLowerCase().indexOf(t.toLowerCase())>=0}}},v=function(){function t(){}return t.prototype.setOptions=function(e){t.defaults.tagInput=Object.assign({},g.tagInput,e.tagInput),t.defaults.dropdown=Object.assign({},g.dropdown,e.dropdown)},t.defaults=g,t}();function y(t){return t===Object(t)}var b=function(){function t(){this._items=[],this.displayBy=v.defaults.tagInput.displayBy,this.identifyBy=v.defaults.tagInput.identifyBy}return Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t,this._onChangeCallback(this._items)},enumerable:!0,configurable:!0}),t.prototype.onTouched=function(){this._onTouchedCallback()},t.prototype.writeValue=function(t){this._items=t||[]},t.prototype.registerOnChange=function(t){this._onChangeCallback=t},t.prototype.registerOnTouched=function(t){this._onTouchedCallback=t},t.prototype.getItemValue=function(t,e){void 0===e&&(e=!1);var n=e&&this.dropdown?this.dropdown.identifyBy:this.identifyBy;return y(t)?t[n]:t},t.prototype.getItemDisplay=function(t,e){void 0===e&&(e=!1);var n=e&&this.dropdown?this.dropdown.displayBy:this.displayBy;return y(t)?t[n]:t},t.prototype.getItemsWithout=function(t){return this.items.filter(function(e,n){return n!==t})},t}();function w(t,e,n){if(void 0===n&&(n=!0),!this.listeners.hasOwnProperty(t))throw new Error("The event entered may be wrong");n&&this.listeners[t].push(e)}var _=function(){function t(){this.onSubmit=new i.n,this.onBlur=new i.n,this.onFocus=new i.n,this.onKeyup=new i.n,this.onKeydown=new i.n,this.inputTextChange=new i.n,this.validators=[],this.asyncValidators=[],this.tabindex="",this.disabled=!1,this.item=new o.f({value:"",disabled:this.disabled})}return Object.defineProperty(t.prototype,"inputText",{get:function(){return this.item.value},set:function(t){this.item.setValue(t),this.inputTextChange.emit(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.item.setValidators(this.validators),this.item.setAsyncValidators(this.asyncValidators),this.form=new o.i({item:this.item})},t.prototype.ngOnChanges=function(t){t.disabled&&!t.disabled.firstChange&&(t.disabled.currentValue?this.form.controls.item.disable():this.form.controls.item.enable())},Object.defineProperty(t.prototype,"value",{get:function(){return this.form.get("item")},enumerable:!0,configurable:!0}),t.prototype.isInputFocused=function(){var t="undefined"!=typeof document?document:void 0;return!!t&&t.activeElement===this.input.nativeElement},t.prototype.getErrorMessages=function(t){var e=this;return Object.keys(t).filter(function(t){return e.value.hasError(t)}).map(function(e){return t[e]})},t.prototype.hasErrors=function(){var t=this.form;return t.dirty&&t.value.item&&!t.valid},t.prototype.focus=function(){this.input.nativeElement.focus()},t.prototype.blur=function(){this.input.nativeElement.blur()},t.prototype.getElementPosition=function(){return this.input.nativeElement.getBoundingClientRect()},t.prototype.destroy=function(){var t=this.input.nativeElement;t.parentElement.removeChild(t)},t.prototype.onKeyDown=function(t){return this.inputText=this.value.value,"Enter"===t.key&&(this.submit(t),this.inputText=""),this.onKeydown.emit(t)},t.prototype.onKeyUp=function(t){return this.inputText=this.value.value,this.onKeyup.emit(t)},t.prototype.submit=function(t){t.preventDefault(),this.form.valid&&this.onSubmit.emit(t)},t}(),x=Object(i.Z)(function(){return v.defaults.dropdown}),S=function(){function t(t){var e=this;this.injector=t,this.offset=(new x).offset,this.focusFirstElement=(new x).focusFirstElement,this.showDropdownIfEmpty=(new x).showDropdownIfEmpty,this.minimumTextLength=(new x).minimumTextLength,this.limitItemsTo=(new x).limitItemsTo,this.displayBy=(new x).displayBy,this.identifyBy=(new x).identifyBy,this.matchingFn=(new x).matchingFn,this.appendToBody=(new x).appendToBody,this.keepOpen=(new x).keepOpen,this.dynamicUpdate=(new x).dynamicUpdate,this.zIndex=(new x).zIndex,this.items=[],this.tagInput=this.injector.get(P),this._autocompleteItems=[],this.show=function(){var t=e.tagInput.items.length===e.tagInput.maxItems,n=e.getFormValue(),r=n.trim().length>=e.minimumTextLength,i=e.calculatePosition(),o=e.getMatchingItems(n),a=o.length>0,s=e.tagInput.disable,u=!1===e.isVisible&&(a&&r||e.showDropdownIfEmpty&&a&&!n),c=e.isVisible&&!a;return e.autocompleteObservable&&r?e.getItemsFromObservable(n):!e.showDropdownIfEmpty&&!n||t||s?e.dropdown.hide():(e.setItems(o),void(u?e.dropdown.show(i):c&&e.hide()))},this.requestAdding=function(t){return Object(r.b)(e,void 0,void 0,function(){var e;return Object(r.e)(this,function(n){switch(n.label){case 0:return e=this.createTagModel(t),[4,this.tagInput.onAddingRequested(!0,e).catch(function(){})];case 1:return n.sent(),[2]}})})},this.resetItems=function(){e.items=[]},this.getItemsFromObservable=function(t){e.setLoadingState(!0),e.autocompleteObservable(t).pipe(Object(a.a)()).subscribe(function(n){e.setLoadingState(!1).populateItems(n),e.setItems(e.getMatchingItems(t)),e.items.length?e.dropdown.show(e.calculatePosition()):e.dropdown.hide()},function(){return e.setLoadingState(!1)})}}return Object.defineProperty(t.prototype,"autocompleteItems",{get:function(){var t=this,e=this._autocompleteItems;return e?e.map(function(e){return"string"==typeof e?((n={})[t.displayBy]=e,n[t.identifyBy]=e,n):e;var n}):[]},set:function(t){this._autocompleteItems=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.onItemClicked().subscribe(function(e){t.requestAdding(e)}),this.onHide().subscribe(this.resetItems);var e=this.keepOpen;this.tagInput.onTextChange.asObservable().pipe(Object(s.a)(200),Object(u.a)(function(t){return!1!==e||t.length>0})).subscribe(this.show)},t.prototype.updatePosition=function(){var t=this.tagInput.inputForm.getElementPosition();this.dropdown.menu.updatePosition(t,this.dynamicUpdate)},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.dropdown.menu.state.menuState.isVisible},enumerable:!0,configurable:!0}),t.prototype.onHide=function(){return this.dropdown.onHide},t.prototype.onItemClicked=function(){return this.dropdown.onItemClicked},Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.dropdown.menu.state.dropdownState.selectedItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.dropdown.menu.state},enumerable:!0,configurable:!0}),t.prototype.hide=function(){this.resetItems(),this.dropdown.hide()},t.prototype.scrollListener=function(){this.isVisible&&this.dynamicUpdate&&this.updatePosition()},t.prototype.onWindowBlur=function(){this.dropdown.hide()},t.prototype.getFormValue=function(){var t=this.tagInput.formValue;return t?t.toString().trim():""},t.prototype.calculatePosition=function(){return this.tagInput.inputForm.getElementPosition()},t.prototype.createTagModel=function(t){var e,n="string"==typeof t.value?t.value:t.value[this.identifyBy];return Object.assign({},t.value,((e={})[this.tagInput.displayBy]="string"==typeof t.value?t.value:t.value[this.displayBy],e[this.tagInput.identifyBy]=n,e))},t.prototype.getMatchingItems=function(t){var e=this;if(!t&&!this.showDropdownIfEmpty)return[];var n=this.tagInput.allowDupes;return this.autocompleteItems.filter(function(r){var i=!n&&e.tagInput.tags.some(function(t){return("string"==typeof t.model?t.model:t.model[e.tagInput.identifyBy])===r[e.identifyBy]});return e.matchingFn(t,r)&&!1===i})},t.prototype.setItems=function(t){this.items=t.slice(0,this.limitItemsTo||t.length)},t.prototype.populateItems=function(t){var e=this;return this.autocompleteItems=t.map(function(t){return"string"==typeof t?((n={})[e.displayBy]=t,n[e.identifyBy]=t,n):t;var n}),this},t.prototype.setLoadingState=function(t){return this.tagInput.isLoading=t,this},t}(),M=function(){this.state="none"},C="undefined"!=typeof window?window.navigator:{userAgent:"Chrome",vendor:"Google Inc"},E=/Chrome/.test(C.userAgent)&&/Google Inc/.test(C.vendor),T=function(){function t(t,e,n){this.element=t,this.renderer=e,this.cdRef=n,this.disabled=!1,this.onSelect=new i.n,this.onRemove=new i.n,this.onBlur=new i.n,this.onKeyDown=new i.n,this.onTagEdited=new i.n,this.editing=!1,this.rippleState="none"}return Object.defineProperty(t.prototype,"readonly",{get:function(){return"string"!=typeof this.model&&!0===this.model.readonly},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this.readonly||this.disabled||(t&&t.stopPropagation(),this.focus(),this.onSelect.emit(this.model))},t.prototype.remove=function(t){t.stopPropagation(),this.onRemove.emit(this)},t.prototype.focus=function(){this.element.nativeElement.focus()},t.prototype.move=function(){this.moving=!0},t.prototype.keydown=function(t){if(this.editing&&13===t.keyCode)return this.disableEditMode(t);this.onKeyDown.emit({event:t,model:this.model})},t.prototype.blink=function(){var t=this.element.nativeElement.classList;t.add("blink"),setTimeout(function(){return t.remove("blink")},50)},t.prototype.toggleEditMode=function(){if(this.editable)return this.editing?void 0:this.activateEditMode()},t.prototype.onBlurred=function(t){if(this.editable){this.disableEditMode();var e,n=t.target.innerText,r="string"==typeof this.model?n:Object.assign({},this.model,((e={})[this.displayBy]=n,e));this.onBlur.emit(r)}},t.prototype.getDisplayValue=function(t){return"string"==typeof t?t:t[this.displayBy]},Object.defineProperty(t.prototype,"isRippleVisible",{get:function(){return!this.readonly&&!this.editing&&E&&this.hasRipple},enumerable:!0,configurable:!0}),t.prototype.disableEditMode=function(t){var e=this.element.nativeElement.classList,n=this.getContentEditableText();this.editing=!1,e.remove("tag--editing"),n?(this.storeNewValue(n),this.cdRef.detectChanges(),t&&t.preventDefault()):this.setContentEditableText(this.model)},t.prototype.isDeleteIconVisible=function(){return!this.readonly&&!this.disabled&&this.removable&&!this.editing},t.prototype.getContentEditableText=function(){var t=this.getContentEditable();return t?t.innerText.trim():""},t.prototype.setContentEditableText=function(t){var e=this.getContentEditable(),n=this.getDisplayValue(t);e.innerText=n},t.prototype.activateEditMode=function(){this.element.nativeElement.classList.add("tag--editing"),this.editing=!0},t.prototype.storeNewValue=function(t){if("string"==typeof(e=this.model)?e!==t:e[this.displayBy]!==t){var e,n,r="string"==typeof this.model?t:((n={index:this.index})[this.identifyBy]=this.model[this.identifyBy]!==this.model[this.displayBy]?this.model[this.identifyBy]:t,n[this.displayBy]=t,n);this.canAddTag(r)?this.onTagEdited.emit({tag:r,index:this.index}):this.setContentEditableText(this.model)}},t.prototype.getContentEditable=function(){return this.element.nativeElement.querySelector("[contenteditable]")},t}(),O=(Object(l.k)("animation",[Object(l.h)("in",Object(l.i)({opacity:1})),Object(l.h)("out",Object(l.i)({opacity:0})),Object(l.j)(":enter",[Object(l.e)("{{ enter }}",Object(l.f)([Object(l.i)({opacity:0,offset:0,transform:"translate(0px, 20px)"}),Object(l.i)({opacity:.3,offset:.3,transform:"translate(0px, -10px)"}),Object(l.i)({opacity:.5,offset:.5,transform:"translate(0px, 0px)"}),Object(l.i)({opacity:.75,offset:.75,transform:"translate(0px, 5px)"}),Object(l.i)({opacity:1,offset:1,transform:"translate(0px, 0px)"})]))]),Object(l.j)(":leave",[Object(l.e)("{{ leave }}",Object(l.f)([Object(l.i)({opacity:1,transform:"translateX(0)",offset:0}),Object(l.i)({opacity:1,transform:"translateX(-15px)",offset:.7}),Object(l.i)({opacity:0,transform:"translateX(100%)",offset:1})]))])]),window,Object(i.Z)(function(){return P}),Object(i.Z)(function(){return v.defaults.tagInput})),P=function(t){function e(e,n){var o,a=t.call(this)||this;return a.renderer=e,a.dragProvider=n,a.separatorKeys=(new O).separatorKeys,a.separatorKeyCodes=(new O).separatorKeyCodes,a.placeholder=(new O).placeholder,a.secondaryPlaceholder=(new O).secondaryPlaceholder,a.maxItems=(new O).maxItems,a.validators=(new O).validators,a.asyncValidators=(new O).asyncValidators,a.onlyFromAutocomplete=(new O).onlyFromAutocomplete,a.errorMessages=(new O).errorMessages,a.theme=(new O).theme,a.onTextChangeDebounce=(new O).onTextChangeDebounce,a.inputId=(new O).inputId,a.inputClass=(new O).inputClass,a.clearOnBlur=(new O).clearOnBlur,a.hideForm=(new O).hideForm,a.addOnBlur=(new O).addOnBlur,a.addOnPaste=(new O).addOnPaste,a.pasteSplitPattern=(new O).pasteSplitPattern,a.blinkIfDupe=(new O).blinkIfDupe,a.removable=(new O).removable,a.editable=(new O).editable,a.allowDupes=(new O).allowDupes,a.modelAsStrings=(new O).modelAsStrings,a.trimTags=(new O).trimTags,a.ripple=(new O).ripple,a.tabindex=(new O).tabIndex,a.disable=(new O).disable,a.dragZone=(new O).dragZone,a.onRemoving=(new O).onRemoving,a.onAdding=(new O).onAdding,a.animationDuration=(new O).animationDuration,a.onAdd=new i.n,a.onRemove=new i.n,a.onSelect=new i.n,a.onFocus=new i.n,a.onBlur=new i.n,a.onTextChange=new i.n,a.onPaste=new i.n,a.onValidationError=new i.n,a.onTagEdited=new i.n,a.isLoading=!1,a.listeners=((o={})[f]=[],o[d]=[],o),a.inputTextChange=new i.n,a.inputTextValue="",a.errors=[],a.appendTag=function(t,e){void 0===e&&(e=a.items.length);var n=a.items,i=a.modelAsStrings?t[a.identifyBy]:t;a.items=Object(r.i)(n.slice(0,e),[i],n.slice(e,n.length))},a.createTag=function(t){var e,n=function(t,e){return"string"==typeof t?t.trim():t[e]};return Object.assign({},"string"!=typeof t?t:{},((e={})[a.displayBy]=a.trimTags?n(t,a.displayBy):t,e[a.identifyBy]=a.trimTags?n(t,a.identifyBy):t,e))},a.isTagValid=function(t,e){void 0===e&&(e=!1);var n=a.dropdown?a.dropdown.selectedItem:void 0,r=a.getItemDisplay(t).trim();if(n&&!e||!r)return!1;var i=a.findDupe(t,e);if(!a.allowDupes&&i&&a.blinkIfDupe){var o=a.tags.find(function(t){return a.getItemValue(t.model)===a.getItemValue(i)});o&&o.blink()}var s=[!i||a.allowDupes,!a.maxItemsReached,e&&a.onlyFromAutocomplete||!a.onlyFromAutocomplete];return s.filter(Boolean).length===s.length},a.onPasteCallback=function(t){return Object(r.b)(a,void 0,void 0,function(){var e,n,i,o=this;return Object(r.e)(this,function(r){return a=Boolean(window.clipboardData),e=(a?window.clipboardData:t.clipboardData).getData(a?"Text":"text/plain")||"",n=e.split(this.pasteSplitPattern).map(function(t){var e=o.createTag(t);return o.setInputValue(e[o.displayBy]),o.onAddingRequested(!1,e)}),i=function(){return setTimeout(function(){return o.setInputValue("")},50)},Promise.all(n).then(function(){o.onPaste.emit(e),i()}).catch(i),[2];var a})})},a}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"inputText",{get:function(){return this.inputTextValue},set:function(t){this.inputTextValue=t,this.inputTextChange.emit(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindexAttr",{get:function(){return""!==this.tabindex?"-1":""},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this;this.setUpKeypressListeners(),this.setupSeparatorKeysListener(),this.setUpInputKeydownListeners(),this.onTextChange.observers.length&&this.setUpTextChangeSubscriber(),(this.clearOnBlur||this.addOnBlur)&&this.setUpOnBlurSubscriber(),this.addOnPaste&&this.setUpOnPasteListener();var e=this.inputForm.form.statusChanges;e.pipe(Object(u.a)(function(t){return"PENDING"!==t})).subscribe(function(){t.errors=t.inputForm.getErrorMessages(t.errorMessages)}),this.isProgressBarVisible$=e.pipe(Object(c.a)(function(e){return"PENDING"===e||t.isLoading})),this.hideForm&&this.inputForm.destroy()},e.prototype.ngOnInit=function(){void 0!==this.maxItems&&this.items&&this.items.length>this.maxItems&&(this.maxItems=this.items.length,console.warn("The number of items specified was greater than the property max-items.")),this.editable=!this.onlyFromAutocomplete&&this.editable,this.setAnimationMetadata()},e.prototype.onRemoveRequested=function(t,e){var n=this;return new Promise(function(r){var i=function(i){n.removeItem(i,e),r(t)};n.onRemoving?n.onRemoving(t).pipe(Object(a.a)()).subscribe(i):i(t)})},e.prototype.onAddingRequested=function(t,e,n){var r=this;return new Promise(function(i,o){var s=function(e){return r.addItem(t,e,n).then(i).catch(o)};return r.onAdding?r.onAdding(e).pipe(Object(a.a)()).subscribe(s,o):s(e)})},e.prototype.selectItem=function(t,e){void 0===e&&(e=!0),t&&"string"!=typeof t&&t.readonly||this.selectedTag===t||(this.selectedTag=t,e&&this.onSelect.emit(t))},e.prototype.fireEvents=function(t,e){var n=this;this.listeners[t].forEach(function(t){return t.call(n,e)})},e.prototype.handleKeydown=function(t){var e=t.event,n=e.shiftKey||!1;switch(p[e.keyCode||e.which]){case"DELETE":if(this.selectedTag&&this.removable){var r=this.items.indexOf(this.selectedTag);this.onRemoveRequested(this.selectedTag,r)}break;case"SWITCH_PREV":this.moveToTag(t.model,"PREV");break;case"SWITCH_NEXT":this.moveToTag(t.model,"NEXT");break;case"TAB":if(n){if(this.isFirstTag(t.model))return;this.moveToTag(t.model,"PREV")}else{if(this.isLastTag(t.model)&&(this.disable||this.maxItemsReached))return;this.moveToTag(t.model,"NEXT")}break;default:return}e.preventDefault()},e.prototype.onFormSubmit=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.e)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.onAddingRequested(!1,this.formValue)];case 1:return t.sent(),[3,3];case 2:return t.sent(),[2];case 3:return[2]}})})},e.prototype.setInputValue=function(t,e){void 0===e&&(e=!0),this.getControl().setValue(t,{emitEvent:e})},e.prototype.getControl=function(){return this.inputForm.value},e.prototype.focus=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.dragProvider.getState("dragging")||(this.selectItem(void 0,!1),t&&(this.inputForm.focus(),this.onFocus.emit(this.formValue)))},e.prototype.blur=function(){this.onTouched(),this.onBlur.emit(this.formValue)},e.prototype.hasErrors=function(){return this.inputForm&&this.inputForm.hasErrors()},e.prototype.isInputFocused=function(){return this.inputForm&&this.inputForm.isInputFocused()},e.prototype.hasCustomTemplate=function(){var t=this.templates?this.templates.first:void 0;return Boolean(t&&t!==(this.dropdown&&this.dropdown.templates?this.dropdown.templates.first:void 0))},Object.defineProperty(e.prototype,"maxItemsReached",{get:function(){return void 0!==this.maxItems&&this.items.length>=this.maxItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formValue",{get:function(){var t=this.inputForm.value;return t?t.value:""},enumerable:!0,configurable:!0}),e.prototype.onDragStarted=function(t,e,n){t.stopPropagation();var r={zone:this.dragZone,tag:e,index:n};this.dragProvider.setSender(this),this.dragProvider.setDraggedItem(t,r),this.dragProvider.setState({dragging:!0,index:n})},e.prototype.onDragOver=function(t,e){this.dragProvider.setState({dropping:!0}),this.dragProvider.setReceiver(this),t.preventDefault()},e.prototype.onTagDropped=function(t,e){var n=this.dragProvider.getDraggedItem(t);n&&n.zone===this.dragZone&&(this.dragProvider.onTagDropped(n.tag,n.index,e),t.preventDefault(),t.stopPropagation())},e.prototype.isDropping=function(){var t=this.dragProvider.receiver===this,e=this.dragProvider.getState("dropping");return Boolean(t&&e)},e.prototype.onTagBlurred=function(t,e){this.items[e]=t,this.blur()},e.prototype.trackBy=function(t,e){return e[this.identifyBy]},e.prototype.updateEditedTag=function(t){this.onTagEdited.emit(t.tag)},e.prototype.moveToTag=function(t,e){var n=this.isLastTag(t),r=this.isFirstTag(t);if(!("NEXT"===e&&n||"PREV"===e&&r)){var i="NEXT"===e?1:-1,o=this.getTagIndex(t)+i,a=this.getTagAtIndex(o);return a.select.call(a)}this.focus(!0)},e.prototype.isFirstTag=function(t){return this.tags.first.model===t},e.prototype.isLastTag=function(t){return this.tags.last.model===t},e.prototype.getTagIndex=function(t){return this.tags.toArray().findIndex(function(e){return e.model===t})},e.prototype.getTagAtIndex=function(t){return this.tags.toArray()[t]},e.prototype.removeItem=function(t,e){this.items=this.getItemsWithout(e),this.selectedTag===t&&this.selectItem(void 0,!1),this.focus(!0,!1),this.onRemove.emit(t)},e.prototype.addItem=function(t,e,n){var r=this;void 0===t&&(t=!1);var i=this.getItemDisplay(e),o=this.createTag(e);return t&&this.setInputValue(this.getItemValue(e,!0)),new Promise(function(e,s){var c=function(){r.setInputValue(""),r.focus(!0,!1),e(i)},l=function(){r.appendTag(o,n),r.onAdd.emit(o),r.dropdown&&(r.dropdown.hide(),r.dropdown.showDropdownIfEmpty&&r.dropdown.show())},h=r.inputForm.form.status,f=r.isTagValid(o,t),d=function(){return r.onValidationError.emit(o),s()};return"VALID"===h&&f?(l(),c()):"INVALID"!==h&&f?"PENDING"===h?r.inputForm.form.statusChanges.pipe(Object(u.a)(function(t){return"PENDING"!==t}),Object(a.a)()).subscribe(function(t){"VALID"===t&&f?(l(),e()):d()}):void 0:(c(),d())})},e.prototype.setupSeparatorKeysListener=function(){var t=this;w.call(this,f,function(e){var n=t.separatorKeyCodes.indexOf(e.keyCode)>=0,r=t.separatorKeys.indexOf(e.key)>=0;(n||r&&229!==e.keyCode)&&(e.preventDefault(),t.onAddingRequested(!1,t.formValue).catch(function(){}))},this.separatorKeyCodes.length>0||this.separatorKeys.length>0)},e.prototype.setUpKeypressListeners=function(){var t=this;w.call(this,f,function(e){(37===e.keyCode||8===e.keyCode)&&!t.formValue&&t.items.length&&t.tags.last.select.call(t.tags.last)})},e.prototype.setUpInputKeydownListeners=function(){var t=this;this.inputForm.onKeydown.subscribe(function(e){t.fireEvents("keydown",e),"Backspace"===e.key&&""===t.formValue.trim()&&e.preventDefault()})},e.prototype.setUpOnPasteListener=function(){var t=this;this.renderer.listen(this.inputForm.input.nativeElement,"paste",function(e){return t.onPasteCallback(e),e.preventDefault(),!0})},e.prototype.setUpTextChangeSubscriber=function(){var t=this;this.inputForm.form.valueChanges.pipe(Object(s.a)(this.onTextChangeDebounce)).subscribe(function(e){t.onTextChange.emit(e.item)})},e.prototype.setUpOnBlurSubscriber=function(){var t=this;this.inputForm.onBlur.pipe(Object(s.a)(100),Object(u.a)(function(){return!(t.dropdown&&t.dropdown.isVisible||!t.formValue)})).subscribe(function(){var e=function(){return t.setInputValue("")};if(t.addOnBlur)return t.onAddingRequested(!1,t.formValue).then(e).catch(e);e()})},e.prototype.findDupe=function(t,e){var n=this,r=t[e?this.dropdown.identifyBy:this.identifyBy];return this.items.find(function(t){return n.getItemValue(t)===r})},e.prototype.setAnimationMetadata=function(){this.animationMetadata={value:"in",params:Object.assign({},this.animationDuration)}},e}(b),A=function(){},k=new v,L=function(){function t(){}return t.withDefaults=function(t){k.setOptions(t)},t}()},Aze8:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),i=n("8i/y"),o=n("/8X3"),a=n("ixgt");function s(t,e,n){return"Scalar "+t+" mapped to "+e+" domain. "+(n||"")}var u=function(){function t(t,e,n){this.urlFileLoader=t,this.getLegacyChannelMappings=e,this.channelDataTransforms=n}return t.create=function(e,n){return new t(e,new o.a,n)},t.prototype.execute=function(t,e,n,i){return r.b(this,void 0,void 0,function(){var o,s,u,h,f,d,p,m,g,v,y,b;return r.e(this,function(w){switch(w.label){case 0:return[4,this.urlFileLoader.loadVectorMetadata(t,e,n)];case 1:if(o=w.sent(),s=new c,h=[],!o)return[3,3];for(f=[],d=0,p=o;d<p.length;d++)m=this.channelDataTransforms.getTransformedName(b=(y=p[d]).xDomainName),b!==m&&(y=r.a({},y,{xDomainName:m})),f.push(y);for((o=f).length&&(u=o[0].xDomainName),h=Object(a.a)(o.map(function(t){return t.xDomainName}),function(t){return t}),g=0,v=o;g<v.length;g++)(b=(y=v[g]).xDomainName)&&i&&-1===i.indexOf(b)||s.add(y);return this.addDummyChannelsIfRequired(s),this.addTransformsTargetDomainsIfRequired(s),[4,this.loadScalarChannels(t,e,n,i||h,s)];case 2:w.sent(),w.label=3;case 3:return[2,new l(s.channelList,s.channelsByName,u,h)]}})})},t.prototype.loadScalarChannels=function(t,e,n,o,a){return r.b(this,void 0,void 0,function(){var u,c,l,h,f,d,p,m;return r.e(this,function(r){switch(r.label){case 0:return[4,this.urlFileLoader.loadScalarResultsForSim(t,e,n)];case 1:if(!(u=r.sent()))return[2];for(c=o.map(function(t){return a.channelsByName[Object(i.a)(t,n)]}).filter(function(t){return!!t}).filter(function(t){return!!t.binaryFormat}),l=0,h=u;l<h.length;l++)for(f=h[l],d=0,p=c;d<p.length;d++)a.addIfNew({name:f.name,simType:n,description:s(f.name,(m=p[d]).name,f.description),units:f.units,xDomainName:m.name,binaryFormat:m.binaryFormat,loaderMetadata:{scalarName:f.name,isScalarResult:!0}});return[2]}})})},t.prototype.addTransformsTargetDomainsIfRequired=function(t){for(var e=0,n=this.channelDataTransforms.transforms;e<n.length;e++)this.addTransformTargetDomainsIfRequired(t,n[e])},t.prototype.addTransformTargetDomainsIfRequired=function(t,e){for(var n=new Set,r=0,o=t.channelList;r<o.length;r++){var a=o[r];a.xDomainName===e.targetDomain&&(n.has(a.simType)||(n.add(a.simType),t.channelsByName[Object(i.a)(e.targetDomain,a.simType)]||t.add({name:e.targetDomain,simType:a.simType,description:"",units:"()",xDomainName:e.targetDomain,binaryFormat:a.binaryFormat})))}},t.prototype.addDummyChannelsIfRequired=function(t){for(var e=0,n=this.getLegacyChannelMappings.execute();e<n.length;e++){var r=n[e];this.addDummyChannelIfRequired(t,r.currentName,r.legacyName)}},t.prototype.addDummyChannelIfRequired=function(t,e,n){var i=t.channelsByName[n];if(i&&!t.channelsByName[e]){var o=r.a({},i,{name:e});t.add(o)}},t}(),c=function(){function t(){this.channelList=[],this.channelsByName={}}return t.prototype.addIfNew=function(t){this.channelsByName[t.name]||this.add(t)},t.prototype.add=function(t){this.channelList.push(t),this.channelsByName[t.name]=t,this.channelsByName[Object(i.a)(t.name,t.simType)]=t},t}(),l=function(t,e,n,r){this.list=t,this.map=e,this.defaultDomainName=n,this.allDomainNames=r}},B1Qi:function(t,e,n){"use strict";var r=n("mrSG"),i=n("lFWV"),o=n("vRuM"),a=n("9CsZ"),s=n("K9Ia"),u=n("pugT"),c=n("KFNO"),l=n("6EN/"),h=n("pDbJ"),f=n("mS5I"),d=function(t){function e(e){var n=t.call(this,e)||this;return n.svgPadding=new f.a(43,10,10,10),n.chartMargin=new f.a(n.chartMargin.top,n.chartMargin.right,16,n.chartMargin.left),n}return r.d(e,t),e.build=function(t){return new e(t)},Object.defineProperty(e.prototype,"spaceBetweenPlots",{get:function(){return 0},enumerable:!0,configurable:!0}),e}(h.a),p=n("gozj"),m=n("eh5z"),g=n("liD0"),v=n("HLL/"),y=n("JW5y"),b=n("rzGS"),w=n("aEMu"),_=n("soU0"),x=function(){function t(t,e,n){this.allDimensions=t,this.plot=e,this._calculatedPosition=0,this.dragOffset=0,Object(_.b)(this.outputDimensionIndex)&&(this.outputDimensionIndex=n);var r=e.column.processed.channels.find(function(t){return t.isVisible});if(!r)throw new y.a("No visible channels found for dimension.");this.channel=r,this.id=Object(b.a)(this.channel.name),this.scale=m.scaleLinear(),this.zoomToDomain(this.zoomDomain),this.updatePlotSizes()}return t.prototype.updatePlotSizes=function(){var t=this.plot.column.processed,e=this.plot.row.processed;this._calculatedPosition=t.offset+t.size/2,this.scale.range(t.scale.range().map(function(n){return n===t.plotSize?e.plotSize:n}).reverse())},Object.defineProperty(t.prototype,"isZoomedToFilter",{get:function(){var t=this.scale.domain();if(this.filter)return m.min(t)===this.filter.minimum&&m.max(t)===this.filter.maximum;var e=this.plot.column.processed.scale.domain();return t[0]===e[0]&&t[1]===e[1]},enumerable:!0,configurable:!0}),t.prototype.zoomToFilter=function(){if(this.filter&&!this.isZoomedToFilter){var t=[this.filter.minimum,this.filter.maximum];this.zoomDomain=t,this.zoomToDomain(t)}else this.zoomDomain=void 0,this.resetZoom()},t.prototype.zoomToDomain=function(t){t?this.scale.domain(t):this.resetZoom()},t.prototype.resetZoom=function(){this.scale.domain(this.dataDomain)},Object.defineProperty(t.prototype,"dataDomain",{get:function(){return this.plot.column.processed.scale.domain()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"explorationData",{get:function(){return this.channel.sources[0].getSourceData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInputDimension",{get:function(){return this.explorationData.channelType===w.a.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calculatedPosition",{get:function(){return this._calculatedPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderPosition",{get:function(){if(this.dragOffset)return this._calculatedPosition+this.dragOffset;var t=this.allDimensions.find(function(t){return!!t.dragOffset});if(t){var e=t.renderPosition;if(t.plot.plotIndex<this.plot.plotIndex&&e>=this.plot.absoluteRenderArea.x)return this.allDimensions[this.plot.plotIndex-1].calculatedPosition;if(t.plot.plotIndex>this.plot.plotIndex&&e<=this.plot.absoluteRenderArea.x+this.plot.absoluteRenderArea.width)return this.allDimensions[this.plot.plotIndex+1].calculatedPosition}return this._calculatedPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAxisReversing",{get:function(){return this.channel.unprocessed.transient.flags.isAxisReversing},set:function(t){this.channel.unprocessed.transient.flags.isAxisReversing=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBrushing",{get:function(){return this.channel.unprocessed.transient.flags.isBrushing},set:function(t){this.channel.unprocessed.transient.flags.isBrushing=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAxisZooming",{get:function(){return this.channel.unprocessed.transient.flags.isAxisZooming},set:function(t){this.channel.unprocessed.transient.flags.isAxisZooming=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomDomain",{get:function(){return this.plot.column.transient.custom.zoomDomain},set:function(t){this.plot.column.transient.custom.zoomDomain=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputDimensionIndex",{get:function(){return this.plot.column.transient.custom.outputDimensionIndex},set:function(t){this.plot.column.transient.custom.outputDimensionIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this.channel.unprocessed.transient.filter},set:function(t){this.channel.unprocessed.transient.filter=t},enumerable:!0,configurable:!0}),t}(),S=n("MtUu"),M=n("2fsI"),C=n("7c6v"),E=n("4zky"),T="parallel-coordinates-canvas-background",O="parallel-coordinates-canvas-foreground",P=function(t){function e(e){var n=t.call(this)||this;return n.redrawAllData=e,n}return r.d(e,t),e.prototype.getTargetCanvasContexts=function(t){return this.redrawAllData||t?this.canvases.all.map(function(t){return t.canvasContext}):[this.canvases.getByCssClass(O).canvasContext]},e}(S.c),A=function(t){function e(e,n,r){var i=t.call(this,"parallel-coordinates-data-renderer",[T,O],n,r)||this;return i.sharedState=e,i.listeners=m.dispatch("mouseover","mouseout","click"),i}return r.d(e,t),e.prototype.setData=function(t){this.data=t},e.prototype.render=function(e){t.prototype.performRender.call(this,new P(e))},e.prototype.renderContext=function(t,e){var n=this;if(this.container&&this.svg&&this.data){var r=this.definedSettings;if(this.container.attr("transform","translate("+r.svgPadding.left+","+r.svgPadding.top+")"),this.updateMatchedPath(this.svg,-1),this.sharedState.isFirstSourceVisible){var i=e.canvases.getByCssClass(T).canvasContext,o=e.canvases.getByCssClass(O).canvasContext,a=this.getOrderedDimensions();if(a.length){var s=a[0],u=a[a.length-1],c=m.extentStrict(s.scale.range()),l=new E.a(r.svgPadding.left+s.renderPosition,r.svgPadding.top,u.renderPosition-s.renderPosition,c[1]-c[0]);t.forEach(function(t){return t.beginPath()}),t.forEach(function(t){return t.rect(l.x,l.y,l.width,l.height)}),t.forEach(function(t){return t.clip()}),t.forEach(function(t){return t.translate(r.svgPadding.left,r.svgPadding.top)}),t.forEach(function(t){return t.lineWidth=.5}),i.strokeStyle="#ccc",i.globalAlpha=.4;for(var h=function(e){var r=f.createLine(e);o.strokeStyle=f.data.colorScale(e[f.data.colorDimensionIndex]),t.forEach(function(t){(t!==o||n.shouldShowData(e))&&(r.context(t),t.beginPath(),r(e),t.stroke())})},f=this,d=0,p=this.data.lines;d<p.length;d++)h(p[d])}}}},e.prototype.getMatchedDataIndex=function(t,e){for(var n=this.data?this.data.lines:[],r=this.definedSettings,i=-1,o=1e3,a=-1,s=1e3,u=function(u){for(var l=n[u],h=l.map(function(e,n){var i=t[n];return new C.a(r.svgPadding.left+i.renderPosition,r.svgPadding.top+i.scale(l[i.plot.plotIndex]))}),f=0;f<l.length-1;++f){var d=Math.sqrt(function(t,e,n){var r=L(e,n);if(0===r)return L(t,e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i=Math.max(0,Math.min(1,i)),L(t,new C.a(e.x+i*(n.x-e.x),e.y+i*(n.y-e.y)))}(e,h[f],h[f+1]));d<4&&(c.shouldShowData(l)?d<o&&(o=d,i=u):d<s&&(s=d,a=u))}},c=this,l=0;l<n.length;++l)u(l);return-1===i?a:i},e.prototype.updateMatchedPath=function(t,e){var n=-1!==e&&this.sharedState.isFirstSourceVisible?[e]:[];this.updateMatchedPathInner(250,n,"canvas-selected-line"),this.updateMatchedPathInner(250,n,"canvas-selected-line-outline","rgba(0,0,0,0.5)")},e.prototype.updateMatchedPathInner=function(t,e,n,r){var i=this;if(this.svg&&this.data){var o=this.data,a=this.svg.select("g").selectAll("."+n).data(e),s=a.enter().append("path").attr("class",n).lower();s.style("opacity",0),a.merge(s).transition().duration(50).ease(m.easeLinear).style("stroke",function(t){return r||(i.shouldShowData(o.lines[t])?o.colorScale(o.lines[t][o.colorDimensionIndex]):"#ccc")}).style("opacity",1).attr("d",function(t){return i.createLine(o.lines[t])(o.lines[t])}),a.exit().transition().duration(t).style("opacity",0).remove()}},e.prototype.attachCanvasMouseMoveHandler=function(t){var e=this,n=-1;t.on("mousemove",function(){var r=M.event,i=new C.a(r.offsetX,r.offsetY),o=e.getOrderedDimensions(),a=e.getMatchedDataIndex(o,i);-1!==n&&e.dispatchEvent("mouseout",n),n!==a&&e.updateMatchedPath(t,a),-1!==a?(t.attr("clickable","true"),e.dispatchEvent("mouseover",a)):t.attr("clickable",null),n=a}).on("mouseout",function(){-1!==n&&(e.dispatchEvent(M.event.type,n),e.updateMatchedPath(t,-1),n=-1)}).on("click",function(){var t=M.event,n=new C.a(t.offsetX,t.offsetY),r=e.getOrderedDimensions(),i=e.getMatchedDataIndex(r,n);-1!==i&&e.dispatchEvent("click",i)})},e.prototype.createLine=function(t){var e=this.getOrderedDimensions();return m.line().curve(m.curveLinear).defined(function(t){return!isNaN(t)}).x(function(t,n){return e[n].renderPosition}).y(function(n,r){return e[r].scale(t[e[r].plot.plotIndex])})},e.prototype.getOrderedDimensions=function(){if(!this.data)return[];var t=this.data.dimensionList.slice();return t.sort(function(t,e){return t.renderPosition-e.renderPosition}),t},e.prototype.shouldShowData=function(t){if(!this.data)return!1;for(var e=0,n=this.data.dimensionList;e<n.length;e++){var r=n[e],i=r.channel.unprocessed.transient.filter;if(i&&!(i.minimum<=t[r.plot.plotIndex]&&t[r.plot.plotIndex]<=i.maximum))return!1}return!0},e.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.listeners.on.apply(this.listeners,t),this},e.prototype.dispatchEvent=function(t,e){var n=new function(t,e,n){this.type=t,this.lineIndex=e,this.sourceEvent=n}(t,e,M.event);m.customEvent(n,this.listeners.apply,this.listeners,[t,this,n])},e}(S.a);function k(t){return t*t}function L(t,e){return k(t.x-e.x)+k(t.y-e.y)}var R=n("DUrn"),D=n("wBcM"),N=n("fyiX"),I=n("zBeG"),j=n("IRoh"),z=function(){function t(t,e){this.settings=t,this.siteHooks=e,this.listeners=m.dispatch("dragging","reordered","reversed","filtered","zoomed"),this.isDragging=!1,this.isFirstRender=!0}return t.prototype.setData=function(t){this.data=t},t.prototype.render=function(t){if(this.data){var e=t.selectAll(".axis-renderer").data([null]),n=e.enter().append("g").attr("class","axis-renderer").attr("transform","translate("+this.settings.svgPadding.left+","+this.settings.svgPadding.top+")").merge(e).selectAll(".dimension").data(this.data.dimensionList,function(t){return t.id});n.exit().remove();var r=n.enter().append("g").attr("class","dimension").attr("id",function(t){return t.id+"-dimension"}),i=n.merge(r);(this.isDragging||this.isFirstRender?i:i.transition().duration(300)).attr("transform",function(t){return"translate("+t.renderPosition+")"}),this.renderAxis(t,r,i),this.renderAxisLabel(t,r,i),this.renderAxisFlipButton(r,i),this.renderAxisFilterBrush(r,i),this.renderAxisZoomButton(r,i),this.isFirstRender=!1}},t.prototype.renderAxis=function(t,e,n){var r=this,i=this;e.append("g").attr("class","axis"),n.select(".axis").each(function(t){var e=m.axisLeft(t.scale);D.a.formatAxis(e,t.plot.column,10),t.isAxisReversing||t.isAxisZooming?m.select(this).transition().duration(300).on("end",function(){t.isAxisReversing=!1,t.isAxisZooming=!1}).call(e):m.select(this).call(e)}),n.select(".axis path").attr("stroke",function(t){return r.getColor(t)}),n.each(function(t){m.select(this).selectAll(".axis line").attr("stroke",function(){return i.getColor(t)}),m.select(this).selectAll(".axis text").attr("fill",function(){return i.getColor(t)})})},t.prototype.renderAxisLabel=function(t,e,n){var r=this;if(this.data){var i=this.data,o=function(){var e=M.event.subject;return m.mouse(t.node())[0]-e.initialMousePosition},a=m.drag().subject(function(e){var n=m.mouse(t.node())[0];return new F(e,n)}).on("start",function(t){r.isDragging=!0,t.dragOffset=o(),r.listeners.call("dragging")}).on("drag",function(t){t.dragOffset=o(),r.listeners.call("dragging")}).on("end",function(t){r.isDragging=!1;var e=t.allDimensions.slice().sort(function(t,e){return t.renderPosition-e.renderPosition});i.layout.columns=e.map(function(t){return t.plot.column}),t.dragOffset=0,r.listeners.call("reordered")});e.append("text").attr("class","axis-label").style("text-anchor","left").attr("transform","rotate(-8)").attr("y",-2).attr("fill",function(t){return r.getColor(t)}).on("click",function(t){return r.siteHooks.editChannelUnits(t.channel.genericName,t.channel.units)}).call(a),n.select(".axis-label").text(function(t){return p.b.condenseDimension(t.channel.name)+(Object(N.a)(t.channel.units)?"":" ("+t.channel.units+")")})}},t.prototype.renderAxisFlipButton=function(t,e){var n=this;t.append("g").attr("class","flip-switch").attr("id",function(t){return t.id+"-flipper"}).on("click",function(t){M.event.stopPropagation(),t.channel.unprocessed.reverseAxis=!t.channel.unprocessed.reverseAxis,t.isAxisReversing=!0,n.listeners.call("reversed")}).append("text").attr("class","flip-switch-icon").attr("font-family","FontAwesome"),e.select(".flip-switch").attr("transform","translate(0, "+this.axisButtonY+")"),e.select(".flip-switch-icon").text(function(t){return t.channel.reverseAxis?"\uf162":"\uf163"})},t.prototype.renderAxisZoomButton=function(t,e){var n=this;t.append("g").attr("class","zoom-button disabled-zoom-button").attr("id",function(t){return t.id+"-zoom-button"}).on("click",function(t){M.event.stopPropagation(),t.zoomToFilter(),t.isAxisZooming=!0,n.listeners.call("zoomed")}).append("text").attr("class","zoom-button-icon").attr("font-family","FontAwesome"),e.select(".zoom-button").attr("class",function(t){return t.zoomDomain||t.filter?"zoom-button":"zoom-button disabled-zoom-button"}).attr("transform","translate(-15, "+this.axisButtonY+")"),e.select(".zoom-button-icon").text(function(t){return t.filter&&!t.isZoomedToFilter?"\uf00e":"\uf010"})},t.prototype.renderAxisFilterBrush=function(t,e){var n=this,r=function(t){if(!t.isAxisReversing&&!t.isAxisZooming){var e=M.event;e.sourceEvent&&e.sourceEvent.stopPropagation&&e.sourceEvent.stopPropagation();var r=e.selection;if(r){var i=m.extentStrict(r.map(function(e){return t.scale.invert(e)}));t.filter=new I.a(i[0],i[1])}else t.filter=void 0;n.listeners.call("filtered")}},i=m.brushY().extent(function(t){return[[t.isInputDimension?1:-8,m.minStrict(t.scale.range())],[16+(t.isInputDimension?1:-8),m.maxStrict(t.scale.range())]]}).on("start",function(t){t.isBrushing=!0;var e=M.event;e.sourceEvent&&e.sourceEvent.stopPropagation&&e.sourceEvent.stopPropagation()}).on("brush",function(t){r(t)}).on("end",function(t){r(t),t.isBrushing=!1});t.append("g").attr("class","brush").attr("id",function(t){return t.id+"-brush"}).on("click mousemove",function(){M.event.stopPropagation()}),e.select(".brush").call(i).each(function(t){if(!t.isBrushing){var e,n,r,o=m.select(this),a=m.brushSelection(o.node()),s=void 0,u=t.filter;u&&(s=m.extentStrict([t.scale(u.minimum),t.scale(u.maximum)])),r=function(t,e){return t===e},(e=a)===(n=s)||Object(j.a)(e)&&Object(j.a)(n)||!Object(j.a)(e)&&!Object(j.a)(n)&&e.length===n.length&&e.every(function(t,e){return r(t,n[e])})||(s?m.select(this).transition().duration(300).call(i.move,s):m.select(this).call(i.move,null))}}),t.append("g").attr("class","clear-brush-button disabled-clear-brush-button").attr("id",function(t){return t.id+"-clear-brush-button"}).on("click",function(t){M.event.stopPropagation(),m.select("#"+t.id+"-brush").call(i.move,null)}).append("text").attr("class","clear-brush-button-icon").attr("font-family","FontAwesome"),e.select(".clear-brush-button").attr("class",function(t){return t.filter?"clear-brush-button":"clear-brush-button disabled-clear-brush-button"}).each(function(t){(t.isAxisReversing||t.isAxisZooming?m.select(this).transition().duration(300):m.select(this)).attr("transform",function(){return"translate("+(16+(t.isInputDimension?1:-8)+2)+", "+(t.filter?m.extentStrict([t.scale(t.filter.minimum),t.scale(t.filter.maximum)])[1]-2:0)+")"})}),e.select(".clear-brush-button-icon").text(function(t){return"\uf00d"})},Object.defineProperty(t.prototype,"axisButtonY",{get:function(){return this.settings.chartSize.height+17},enumerable:!0,configurable:!0}),t.prototype.getColor=function(t){return t.isInputDimension?"#000":this.settings.getChannelColor(t.outputDimensionIndex,0)},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.listeners.on.apply(this.listeners,t),this},t}(),F=function(t,e){this.dimension=t,this.initialMousePosition=e},V=function(){function t(t,e,n,r,i,o){var a=this;this.errorHandler=t,this.svg=e,this.sharedState=n,this.siteHooks=r,this.settings=i,this.dataRenderer=o,this.tooltips=[],this.dataRenderer.on("mouseover",function(){return a.handleMouseOver()}).on("mouseout",function(){return a.handleMouseOut()}).on("click",function(){return a.handleClick()})}return t.prototype.setData=function(t){this.data=t},t.prototype.handleMouseOver=function(){if(this.data&&!this.data.dimensionList.some(function(t){return t.isBrushing})){var t=this.getStudyData();if(t){var e=M.event;this.sharedState&&this.sharedState.getDomainNews(v.j).raise(new a.c(this.sharedState.sourceLoaderSet.sources.map(function(t){return e.lineIndex})));var n=e.sourceEvent,r=t.data.explorationData.explorationMap.jobNames[e.lineIndex];r&&this.tooltips.push(new B(n.offsetX,n.offsetY,r)),this.render()}}},t.prototype.render=function(){var t=this.svg.selectAll(".job-tooltip").data(this.tooltips);t.exit().remove();var e=t.enter().append("g").attr("id","job-tooltip").attr("class","job-tooltip"),n=t.merge(e);n.attr("transform",function(t){return"translate("+(t.x+10)+","+(t.y-20)+")"}),e.append("rect").attr("class","tooltip-box").attr("height",15).attr("rx",5).attr("ry",5),n.select(".tooltip-box").attr("width",function(t){return 5.2*t.label.length}),e.append("text").attr("fill","black").attr("x",2).attr("y",11).attr("text-anchor","start"),n.select("text").text(function(t){return t.label});var r=this.svg.selectAll(".mouse-click-helper").data([null]),i=r.enter().append("g").attr("class","mouse-click-helper"),o=r.merge(i);i.attr("transform","translate("+(this.settings.svgSize.width-4)+", 11)").append("text").attr("text-anchor","end").style("opacity",0).text("Click to view job, or Control+Click to add to Compare Results area."),o.select(".mouse-click-helper text").transition().duration(this.tooltips.length?0:200).style("opacity",this.tooltips.length)},t.prototype.handleMouseOut=function(){this.tooltips.length=0,this.render()},t.prototype.handleClick=function(){this.showStudyJob(M.event.lineIndex)},t.prototype.getStudyData=function(){if(0!==this.sharedState.sourceLoaderSet.sources.length){var t=this.sharedState.sourceLoaderSet.sources[0].inner;if(t instanceof w.c)return t.underlyingStudyData}},t.prototype.showStudyJob=function(t){return r.b(this,void 0,void 0,function(){var e,n;return r.e(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),(e=this.getStudyData())?[4,this.siteHooks.showStudyJob(e.studyId,e.data.explorationData.scalarData.lineIndexToJobIndexMap[t])]:[2];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),this.errorHandler.setError(this.siteHooks.getFriendlyErrorAndLog(n)),[3,3];case 3:return[2]}})})},t}(),B=function(t,e,n){this.x=t,this.y=e,this.label=n},U=n("T/I+"),H=n("YJNB"),G=n("xm4w"),W=n("uahL"),q=function(){function t(t,e,n,r,i){var o=this;this.settings=t,this.svg=e,this.dataRenderer=n,this.sharedState=r,this.channelInterpolator=i,this.subscriptions=new u.a,this.subscriptions.add(this.sharedState.definedDimensions.rCoordinatesNews.subscribe(function(){return o.onrCoordinatesNews()}))}return t.prototype.dispose=function(){this.subscriptions.unsubscribe()},t.prototype.onrCoordinatesNews=function(){this.render()},t.prototype.setData=function(t){this.data=t},t.prototype.render=function(){var t=!this.sharedState.isFirstSourceVisible;this.renderInterpolationLine(t),this.renderSliders(t)},t.prototype.renderSliders=function(t){if(this.data){var e=this.svg.selectAll(".interpolation-sliders-container").data([null]),n=e.enter().append("g").attr("class","interpolation-sliders-container").attr("transform","translate("+this.settings.svgPadding.left+","+this.settings.svgPadding.top+")"),r=e.merge(n).selectAll(".slider-container").data(t?[]:this.data.dimensionList.filter(function(t){return t.isInputDimension}));r.exit().remove();var i=r.enter().append("g").attr("class","slider-container"),o=r.merge(i);o.attr("transform",function(t){return"translate("+t.renderPosition+")"});var a=this;i.each(function(t){this.__cs_slider=Object(G.b)()}),o.each(function(t){var e=a.getSliderTrackLength(t),n=a.getSliderPosition(t),r=this.__cs_slider;r.trackLength(e).on("moved",function(){var e=t.scale.invert(M.event.position),n=a.rCoordinateFromData(e,t.dataDomain,t.channel);a.sharedState.definedDimensions.rCoordinatesSet(t.explorationData.inputDimensionIndex,n)}),t.isAxisReversing?m.select(this).call(r.reposition,n,300):(r.position(n),m.select(this).call(r))})}},t.prototype.getSliderTrackLength=function(t){return m.maxStrict(t.scale.range())-m.minStrict(t.scale.range())},t.prototype.getSliderPosition=function(t){var e=this.rCoordinateToData(this.sharedState.definedDimensions.rCoordinates[t.explorationData.inputDimensionIndex],t.dataDomain,t.channel);return t.scale(e)},t.prototype.renderInterpolationLine=function(t){var e=this,n=this.sharedState.definedDimensions.rCoordinates.slice(),r=this.getInterpolationData(n),i=this.svg.selectAll(".interpolation-line-container").data(t?[]:[r]);i.exit().remove();var o=i.enter().append("g").attr("class","interpolation-line-container").attr("transform","translate("+this.settings.svgPadding.left+","+this.settings.svgPadding.top+")"),a=i.merge(o);o.append("path").attr("class","interpolation-line").on("click mousemove",function(){M.event.stopPropagation()}),a.select(".interpolation-line").attr("d",function(t){return e.dataRenderer.createLine(t)(t)})},t.prototype.getInterpolationData=function(t){var e=this.getInterpolatedPoint(t),n=[];if(this.data)for(var r=0,i=this.data.dimensionList;r<i.length;r++){var o=i[r];n.push(o.isInputDimension?this.rCoordinateToData(t[o.explorationData.inputDimensionIndex],o.dataDomain,o.channel):e[o.channel.name])}return n},t.prototype.getInterpolatedPoint=function(t){if(!this.data)return{};for(var e=this.data.dimensionList.filter(function(t){return!t.isInputDimension}),n=e.map(function(t){return t.channel.name}),r=this.interpolationFunction(n,t.map(function(t){return[t]})),i={},o=0,a=e;o<a.length;o++){var s=a[o],u=s.channel.units;if(!Object(j.a)(u)){var c=s.channel.name;i[c]=H.a.convertValueFromSi(r[c][0],u)}}return i},t.prototype.rCoordinateToData=function(t,e,n){var r=W.a.fromProcessedMultiPlotChannel(n);return r&&(t=r.toNormalized(t)),t*p.b.diff(e)+e[0]},t.prototype.rCoordinateFromData=function(t,e,n){var r=(t-e[0])/p.b.diff(e),i=W.a.fromProcessedMultiPlotChannel(n);return i&&(r=i.fromNormalized(r)),r},t.prototype.interpolationFunction=function(t,e){var n=U.a.fromArray(e);return this.channelInterpolator.execute(t,n)},t}(),Y=function(){function t(t,e,n,r,i,o){this.layout=t,this.channelNameStyle=e,this.multiPlotUtilities=n,this.sharedState=r,this.siteHooks=i,this.channelInterpolator=o,this.errorEvent=new s.a,this.subscriptions=new u.a,this.sourceLoaderSet=this.sharedState.sourceLoaderSet}return t.create=function(e,n,r,i,o){var a=new R.a;return new t(e,n,c.a.create(v.j,i,r.sourceLoaderSet,n,a),r,i,o)},Object.defineProperty(t.prototype,"populatedLayout",{get:function(){return this.layout},enumerable:!0,configurable:!0}),t.prototype.build=function(t){return r.b(this,void 0,void 0,function(){var e=this;return r.e(this,function(n){switch(n.label){case 0:return this.elementId=t,[4,this.loadFromLayout(this.layout)];case 1:return n.sent(),this.exists&&this.sourceData?(this.settings=d.build(this.sourceData.length),this.settings.svgSize=p.b.getRequiredSvgSize(this.elementId,this.settings.svgSize),this.processLayout(),this.parent=this.select().append("div").attr("class","parallel-coordinates-viewer-container canvas-viewer"),this.svg=this.parent.append("svg").attr("width",this.settings.svgSize.width).attr("height",this.settings.svgSize.height).attr("class","parallel-coordinates-viewer").attr("id","svg"),this.dataRenderer=new A(this.sharedState,this.settings,{parent:this.parent,settings:this.settings}),this.dataEventHandler=new V(this,this.svg,this.sharedState,this.siteHooks,this.settings,this.dataRenderer),this.axisRenderer=new z(this.settings,this.siteHooks),this.axisRenderer.on("dragging",function(){return e.renderAll(!1,!0)}).on("reordered",function(){return e.renderAll(!0,!0)}).on("reversed",function(){return e.renderAll(!0,!0)}).on("filtered",function(){return e.renderAll(!1,!1)}).on("zoomed",function(){return e.renderAll(!0,!0)}),this.interpolationLineRenderer=new q(this.settings,this.svg,this.dataRenderer,this.sharedState,this.channelInterpolator),this.renderAll(!0,!0),this.subscriptions.add(this.sharedState.windowResizeNews.subscribe(function(t){return e.resizeChart()})),this.subscriptions.add(this.sourceLoaderSet.changed.subscribe(function(){return e.handleSourcesChanged()})),[2]):[2]}})})},t.prototype.renderAll=function(t,e,n){void 0===n&&(n=!1),this.exists&&this.svg&&(t&&(this.processLayout(),this.setAllData()),this.updatePlotSizes(),this.dataRenderer&&this.dataRenderer.render(e),this.axisRenderer&&this.axisRenderer.render(this.svg),this.interpolationLineRenderer&&this.interpolationLineRenderer.render())},t.prototype.updatePlotSizes=function(){if(this.settings&&this.parallelCoordinatesData){this.multiPlotUtilities.updatePlotSizes(this.populatedLayout,this.settings);for(var t=0,e=this.parallelCoordinatesData.dimensionList;t<e.length;t++)e[t].updatePlotSizes()}},t.prototype.setAllData=function(){this.parallelCoordinatesData&&(this.dataRenderer&&this.dataRenderer.setData(this.parallelCoordinatesData),this.dataEventHandler&&this.dataEventHandler.setData(this.parallelCoordinatesData),this.axisRenderer&&this.axisRenderer.setData(this.parallelCoordinatesData),this.interpolationLineRenderer&&this.interpolationLineRenderer.setData(this.parallelCoordinatesData))},t.prototype.createParallelCoordinatesData=function(){for(var t=this.populatedLayout.processed.plots.length,e=[],n={},r=0,i=0;i<t;i++){var o=new x(e,this.populatedLayout.processed.plots[i],r);e.push(o),n[o.channel.name]=o,o.explorationData.channelType===w.a.output&&(r+=1)}for(var a=e.map(function(t){return t.channel.sources[0].data}),s=a[0].length,u=new Array(s),c=0;c<s;++c){var l=new Array(t);for(i=0;i<t;i++)l[i]=a[i][c];u[c]=l}var h=e.find(function(t){return t.channel.sources[0].getSourceData().channelType===w.a.output})||e[0],f=h.plot.plotIndex,d=h.zoomDomain,p=d?d.slice():[h.channel.minimum,h.channel.maximum],g=m.scaleLinear().domain(p).range([v.g,v.a]).interpolate(X);this.parallelCoordinatesData=new function(t,e,n,r,i,o){this.layout=t,this.dimensionList=e,this.dimensionsByName=n,this.lines=r,this.colorScale=i,this.colorDimensionIndex=o}(this.layout,e,n,u,g,f)},t.prototype.handleSourcesChanged=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.settings&&this.sourceData?[4,this.loadFromLayout()]:[2];case 1:return e.sent(),this.settings.sourceCount=this.sourceData.length,this.renderAll(!0,!0),[3,3];case 2:return t=e.sent(),this.setError(this.siteHooks.getFriendlyErrorAndLog(t)),[3,3];case 3:return[2]}})})},t.prototype.processLayout=function(){if(0===this.layout.columns.length)throw new y.a("No columns specified.");if(0===this.layout.rows.length)throw new y.a("No row specified.");if(this.sourceData){if(this.multiPlotUtilities.processLayout(this.layout,this.sourceData),this.filteredLayout!==this.layout){this.filteredLayout=this.layout;for(var t=0,e=this.populatedLayout.columns;t<e.length;t++){var n=e[t];n.transient.isHidden=!(n.channels.length&&n.processed.channels[0].sources.length&&n.processed.channels[0].sources[0].data&&n.processed.channels[0].sources[0].data.length)||n.processed.channels[0].sources[0].getSourceData().channelType===w.a.input&&!p.b.containsUnique(n.processed.channels[0].sources[0].data,2)}this.multiPlotUtilities.processLayout(this.layout,this.sourceData)}this.createParallelCoordinatesData()}},t.prototype.resizeChart=function(){try{if(!this.settings||!this.elementId||!this.svg)return;this.settings.svgSize=p.b.getRequiredSvgSize(this.elementId,this.settings.svgSize),this.svg.attr("width",this.settings.svgSize.width),this.svg.attr("height",this.settings.svgSize.height),this.layout&&this.layout.processed&&this.renderAll(!0,!0)}catch(t){this.setError(this.siteHooks.getFriendlyErrorAndLog(t))}},t.prototype.dispose=function(){this.subscriptions.unsubscribe(),this.interpolationLineRenderer&&this.interpolationLineRenderer.dispose()},t.prototype.getLayout=function(){var t=this.multiPlotUtilities.getUnprocessedLayout(this.layout);return this.removeInputColumnsFromLayout(t),t},t.prototype.setLayout=function(t){return r.b(this,void 0,void 0,function(){return r.e(this,function(e){switch(e.label){case 0:return[4,this.loadFromLayout(t)];case 1:return e.sent(),this.renderAll(!0,!0),[2]}})})},t.prototype.loadFromLayout=function(t){return r.b(this,void 0,void 0,function(){var e,n;return r.e(this,function(r){switch(r.label){case 0:return t?(delete(i=t).name,delete i.xDomain,i.columns||(i.rows=[],i.columns=i.panes.filter(function(t){return t.channels&&t.channels.length}),i.columns.forEach(function(t){if(-1===t.direction)for(var e=0;e<t.channels.length;++e)"string"==typeof t.channels[e]&&(t.channels[e]={name:t.channels[e]}),t.channels[e].reverseAxis=!0;delete t.direction}),delete i.panes,delete i.xDomains),[4,this.addInputColumnsToLayout(t)]):[3,3];case 1:return r.sent(),e=this,[4,this.multiPlotUtilities.getValidatedLayout(t)];case 2:e.layout=r.sent(),r.label=3;case 3:return n=this,[4,this.multiPlotUtilities.loadChannelData(this.layout)];case 4:return n.sourceData=r.sent(),[2]}var i})})},t.prototype.addInputColumnsToLayout=function(t){return r.b(this,void 0,void 0,function(){var e,n,i,o;return r.e(this,function(r){switch(r.label){case 0:return this.sourceLoaderSet.sources.length?[4,this.sourceLoaderSet.sources[0].getRequestableChannels(this.channelNameStyle,v.j)]:[2];case 1:for(e=r.sent(),(n=e.filter(function(t){var e=t.getSourceData();return e&&e.channelType===w.a.input&&0===e.inputDimensionParameterIndex})).reverse(),i=0,o=n;i<o.length;i++)t.columns.unshift({channels:[{name:o[i].name}],relativeSize:1});return[2]}})})},t.prototype.removeInputColumnsFromLayout=function(t){if(this.parallelCoordinatesData)for(var e=t.columns.length-1;e>=0;--e){var n=this.parallelCoordinatesData.dimensionsByName[t.columns[e].channels[0].name];n&&n.isInputDimension&&t.columns.splice(e,1)}},t.prototype.getEditChannelsOptions=function(t){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return t=this.getLayout(),[4,g.a.getDistinctRequestableChannels(this.sourceLoaderSet.sources,this.channelNameStyle,v.j)];case 1:return[2,{channels:e.sent(),panes:t.columns,oneChannelPerPane:!0}]}})})},t.prototype.getEditChannelsTypes=function(){return[{name:"Edit",icon:"navicon fa-rotate-90",id:l.b}]},t.prototype.setEditChannelsResult=function(t,e){return r.b(this,void 0,void 0,function(){var t,n;return r.e(this,function(r){switch(r.label){case 0:return t=this.getLayout(),n=e.map(function(t){return{channels:t.channels,relativeSize:t.relativeSize||1,processed:void 0}}),t.columns=n,[4,this.setLayout(t)];case 1:return r.sent(),[2]}})})},t.prototype.canExportData=function(){return!1},t.prototype.canImportData=function(){return!1},t.prototype.canStackDiagonals=function(){return!1},t.prototype.importCsvData=function(t,e){},t.prototype.exportCsvData=function(){return Promise.resolve()},t.prototype.setError=function(t){this.errorEvent.next(t)},t.prototype.select=function(t){return void 0===t&&(t=""),m.select("#"+this.elementId+" "+t)},Object.defineProperty(t.prototype,"exists",{get:function(){return!(!this.elementId||!document.getElementById(this.elementId))},enumerable:!0,configurable:!0}),t}();function X(t,e){var n=m.interpolateHcl(t,e);return function(t){return t<0&&(t=0),t>1&&(t=1),n(t)}}var Z=n("LXbF"),J=n("YjDc"),K=n("BOjs"),Q=n("9WsI"),$=n("tcJB"),tt=n("BcC1"),et=n("TTnQ");n.d(e,"a",function(){return nt});var nt=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return r.d(e,t),e.prototype.build=function(){return r.b(this,void 0,void 0,function(){var t,e,n,o,s,u,c,l,h,f,d,p,m,g,v,y=this;return r.e(this,function(r){switch(r.label){case 0:return[4,this.load()];case 1:if(r.sent(),!this.explorationAndScalarDataCache)throw new Error("Builder not initialized.");return e=this.explorationAndScalarDataCache,n=this.simTypes&&this.simTypes.length?"Default-"+this.simTypes[0]:"Default",o=new a.a(this.rCoordinates,this.rDomainExtents),s=new a.e(void 0,o),u=this.studyJobs.map(function(t){return new Q.b(w.c.create(y.siteHooks,y.fileLoader,t.studyId,e))}),(t=s.sourceLoaderSet).add.apply(t,u),c={channelNameStyle:Z.a.FullyQualified,sharedStates:[s],views:[]},l=new $.a,[4,this.explorationAndScalarDataCache.get()];case 2:return(h=r.sent())?(f=l.create(h),[4,this.resolveViewerLayout(tt.b,new i.c(J.b))]):[2,c];case 3:d=r.sent(),p=0,r.label=4;case 4:return p<this.numberOfDimensions?(m={x:6*Object(et.a)(p+1,2),y:7+6*Math.floor((p+1)/2),width:6,height:6},[4,this.createDimensionViewer(o,p,f,c,d,!0,m)]):[3,7];case 5:r.sent(),r.label=6;case 6:return p++,[3,4];case 7:return[4,this.resolveViewerLayout(K.a,new i.c(n))];case 8:return g=r.sent(),c.views.unshift({title:"Scatter Plots",viewerType:K.a,layout:g,viewer:K.c.create("index",g.resolvedLayout.getConfigCopy(),c.channelNameStyle,s,this.siteHooks),grid:{x:0,y:7,width:6,height:6}}),[4,this.resolveViewerLayout("parallelCoordinatesViewer",new i.c(n))];case 9:return v=r.sent(),c.views.unshift({title:"All Dimensions",viewerType:"parallelCoordinatesViewer",layout:v,viewer:Y.create(v.resolvedLayout.getConfigCopy(),c.channelNameStyle,s,this.siteHooks,f),grid:{x:0,y:0,width:12,height:7}}),[2,c]}})})},e}(o.a)},BOjs:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.build=function(t){return new e(t)},e}(n("5dG8").a),o=n("eh5z"),a=n("fNPK"),s=n("DUrn"),u=function(t){function e(e){return t.call(this,e)||this}return r.d(e,t),e.create=function(){return new e(new c("scatter-plot",new s.a))},e}(a.d),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.prototype.drawChannelData=function(t,n,r){var i=r.xCoordinates,o=r.yCoordinates;t.fillStyle=this.definedSettings.getChannelColor?this.definedSettings.getChannelColor(r.yChannel.channelIndex,r.sourceIndex):"green";for(var a=e.getScatterPlotPointSize(i.length),s=0;s<i.length;++s)t.beginPath(),t.arc(i[s],o[s],a,0,2*Math.PI),t.fill()},e.prototype.drawPlotFeatures=function(t,e){},e.getScatterPlotPointSize=function(t){return o.maxStrict([1,o.minStrict([1,1-0*(t-50)/150])])},e}(a.e),l=n("KFNO"),h=n("6EN/");n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return p});var f="lineScatterPlotViewer",d="pointScatterPlotViewer",p=function(t){function e(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)||this}return r.d(e,t),e.create=function(t,n,r,i,o){var a=new s.a;return new e(t,n,r,l.a.create(t,o,i.sourceLoaderSet,r,a),i,o)},e.prototype.getCssClass=function(){return"scatter-plot-viewer"},e.prototype.createSettings=function(t){return i.build(t)},e.prototype.createDataRenderer=function(){return u.create()},e}(h.d)},BcC1:function(t,e,n){"use strict";var r=n("mrSG"),i=n("OzDC"),o=n("KFNO"),a=n("YBAz"),s=n("xm4w"),u=n("2fsI"),c=n("K9Ia"),l=n("vpYX"),h=n("OBMz"),f=n("FFOo"),d=n("T1DM"),p=(n("MGBS"),n("zotm"),{leading:!0,trailing:!1}),m=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new g(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),g=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return r.d(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(v,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(f.a);function v(t){t.subscriber.clearThrottle()}var y=n("uahL"),b=function(){function t(t,e,n,r){this.sharedState=t,this.dimensionIndex=e,this.xDomainNames=n,this.svg=r,this.sourcesChangedEvent=new c.a,this.areSourcesChanging=!1}return Object.defineProperty(t.prototype,"sourcesChanged",{get:function(){return this.sourcesChangedEvent},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.dimensionSubscriptions&&this.dimensionSubscriptions.unsubscribe()},t.prototype.build=function(){var t,e,n=this,r=this.sharedState.definedDimensions;this.slider=Object(s.a)().on("moved",function(){return n.onSliderMoved()}),this.dimensionSubscriptions=r.rCoordinatesNews.subscribe(function(){return n.onrCoordinatesNews()}),this.dimensionSubscriptions.add(r.rCoordinatesNews.pipe((void 0===t&&(t=d.a),void 0===e&&(e=p),function(n){return n.lift(new m(200,t,e.leading,e.trailing))})).subscribe(function(){return n.onrCoordinatesNewsThrottled()}))},t.prototype.onrCoordinatesNews=function(){this.render()},t.prototype.onrCoordinatesNewsThrottled=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){switch(t.label){case 0:if(this.areSourcesChanging)return[2];this.areSourcesChanging=!0,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,l.a.yield()];case 2:return t.sent(),this.sourcesChangedEvent.next(),[3,4];case 3:return this.areSourcesChanging=!1,[7];case 4:return[2]}})})},t.prototype.setData=function(t,e){this.layout=t,this.settings=e},t.prototype.render=function(){var t=this;if(this.settings&&this.slider){var e=this.settings,n=this.updateSlider(),r=this.svg.selectAll(".dimension-sliders").data([null]),i=r.enter().append("g").attr("class","dimension-sliders").merge(r),o=n?[n]:[],a=i.selectAll(".slider-group").data(o);a.exit().remove();var s=a.enter().append("g").attr("class","slider-group").attr("clip-path",function(t){return"url(#"+h.a.getPlotXAxisClipPathId(e.uniqueId,t.plotIndex)+")"}),u=s.merge(a).select(".slider-container"),c=s.append("g").attr("class","slider-container").merge(u);c.attr("transform",function(e){var n=e.column.processed.scale,r=t.sharedState.sourceLoaderSet.sources.map(function(t){return t.isVisible}),i=e.column.processed.getVisibleMinimum(r);return"translate("+(e.absoluteRenderArea.x+n(i))+","+(e.absoluteRenderArea.y+e.absoluteRenderArea.height)+")"}),c.call(this.slider)}},t.prototype.updateSlider=function(){if(this.slider){var t=this.getXDomainPlot();if(t){var e=this.getVisibleChannel(t);if(e){var n=t.column.processed.scale,r=this.sharedState.definedDimensions.rCoordinates[this.dimensionIndex],i=y.a.fromProcessedMultiPlotChannel(e);i&&(r=i.toNormalized(r));var o=this.sharedState.sourceLoaderSet.sources.map(function(t){return t.isVisible}),a=t.column.processed.getVisibleMinimum(o),s=t.column.processed.getVisibleMaximum(o),u=n(a),c=n(s)-u,l=n(r*(s-a)+a)-u;return this.slider.trackLength(c).position(l),t}}}},t.prototype.onSliderMoved=function(){var t=this.getXDomainPlot();if(t){var e=this.getVisibleChannel(t);if(e){var n=t.column.processed.scale,r=this.sharedState.sourceLoaderSet.sources.map(function(t){return t.isVisible}),i=t.column.processed.getVisibleMinimum(r),o=t.column.processed.getVisibleMaximum(r)-i,a=n(i),s=(n.invert(a+u.event.position)-i)/o,c=y.a.fromProcessedMultiPlotChannel(e);c&&(s=c.fromNormalized(s)),this.sharedState.definedDimensions.rCoordinatesSet(this.dimensionIndex,s)}}},t.prototype.getXDomainPlot=function(){var t=this;if(this.layout){var e=this.layout.processed.plots.filter(function(e){var n=t.getVisibleChannel(e);if(!n)return!1;var r=n.name;return!!t.xDomainNames.find(function(t){return t===r})});return e.length?e[e.length-1]:void 0}},t.prototype.getVisibleChannel=function(t){return t.column.processed.channels.find(function(t){return t.isVisible})},t}(),w=n("6EN/");n.d(e,"b",function(){return _}),n.d(e,"a",function(){return x});var _="lineMultiPlotViewer",x=function(t){function e(e,n,r,i,o,a,s,u,c,l){var h=t.call(this,i,o,a,s,u,c,l)||this;return h.dimensionIndex=e,h.xDomainNames=n,h.showDimensionSlider=r,h}return r.d(e,t),e.createDimensionLinePlotViewer=function(t,n,r,i,s,u,c,l){var h=new a.b;return new e(t,n,r,i,s,u,o.a.create(i,l,c.sourceLoaderSet,u,h),c,l,h)},e.prototype.loadFromLayout=function(e){return r.b(this,void 0,void 0,function(){return r.e(this,function(n){return e&&(Object(w.e)(e),e.columns=[{channels:this.xDomainNames.map(function(t){return{name:t}}),relativeSize:1}]),[2,t.prototype.loadFromLayout.call(this,e)]})})},e.prototype.onBuilt=function(){var e=this;t.prototype.onBuilt.call(this),this.svg&&this.showDimensionSlider&&(this.slider=new b(this.sharedState,this.dimensionIndex,this.xDomainNames,this.svg),this.dimensionSubscriptions=this.slider.sourcesChanged.subscribe(function(){return e.handleSourcesChanged()}),this.slider.build())},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.slider&&this.slider.dispose(),this.dimensionSubscriptions&&this.dimensionSubscriptions.unsubscribe()},e.prototype.onDataSet=function(){t.prototype.onDataSet.call(this),this.settings&&this.slider&&this.slider.setData(this.layout,this.settings)},e.prototype.onRendered=function(){t.prototype.onRendered.call(this),this.slider&&this.slider.render()},e.prototype.getEditChannelsTypes=function(){return[{name:"Edit Rows",icon:"navicon",id:w.c}]},e}(i.a)},BjAV:function(t,e){function n(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function r(t,e){var r=[],i=[];return null==e&&(e=function(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,e)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=e.call(this,o,a))}else r.push(a);return null==t?a instanceof Error?function(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(a):a:t.call(this,o,a)}}(t.exports=function(t,e,n,i){return JSON.stringify(t,r(e,i),n)}).getSerialize=r},Bpm0:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("HLL/"),i=[r.t,r.A,r.s,r.z,r.e,r.y,r.B];function o(t){return t.xDomainNames.length>0&&t.xDomainNames.some(function(t){return-1!==i.indexOf(t)})}function a(t,e){for(var n=!1,r=0,i=e;r<i.length;r++){var a=i[r].simTypes.find(function(e){return e.name===t});a&&(n=n||o(a))}return n}},CcnG:function(t,e,n){"use strict";n.d(e,"nb",function(){return An}),n.d(e,"ob",function(){return kn}),n.d(e,"pb",function(){return Ln}),n.d(e,"mb",function(){return Gt}),n.d(e,"g",function(){return ze}),n.d(e,"Y",function(){return ke}),n.d(e,"cb",function(){return Le}),n.d(e,"W",function(){return De}),n.d(e,"B",function(){return Re}),n.d(e,"c",function(){return Ht}),n.d(e,"F",function(){return qt}),n.d(e,"E",function(){return Yt}),n.d(e,"b",function(){return Xt}),n.d(e,"d",function(){return Bt}),n.d(e,"e",function(){return Ut}),n.d(e,"ab",function(){return an}),n.d(e,"R",function(){return Se}),n.d(e,"eb",function(){return Ce}),n.d(e,"x",function(){return Pn}),n.d(e,"f",function(){return Rn}),n.d(e,"n",function(){return me}),n.d(e,"m",function(){return Tt}),n.d(e,"K",function(){return or}),n.d(e,"L",function(){return ir}),n.d(e,"a",function(){return v}),n.d(e,"h",function(){return y}),n.d(e,"p",function(){return w}),n.d(e,"u",function(){return b}),n.d(e,"U",function(){return yt}),n.d(e,"S",function(){return bt}),n.d(e,"X",function(){return c}),n.d(e,"Z",function(){return z}),n.d(e,"r",function(){return vt}),n.d(e,"bb",function(){return ft}),n.d(e,"t",function(){return J}),n.d(e,"s",function(){return l}),n.d(e,"q",function(){return V}),n.d(e,"D",function(){return B}),n.d(e,"M",function(){return U}),n.d(e,"N",function(){return H}),n.d(e,"o",function(){return G}),n.d(e,"C",function(){return ge}),n.d(e,"G",function(){return Ve}),n.d(e,"H",function(){return He}),n.d(e,"I",function(){return Be}),n.d(e,"J",function(){return Ue}),n.d(e,"j",function(){return Kt}),n.d(e,"k",function(){return ae}),n.d(e,"l",function(){return Ge}),n.d(e,"y",function(){return le}),n.d(e,"A",function(){return ce}),n.d(e,"z",function(){return We}),n.d(e,"O",function(){return Ze}),n.d(e,"P",function(){return Ye}),n.d(e,"Q",function(){return Ke}),n.d(e,"T",function(){return Qe}),n.d(e,"i",function(){return $e}),n.d(e,"v",function(){return Sn}),n.d(e,"w",function(){return Mn}),n.d(e,"V",function(){return cn}),n.d(e,"db",function(){return On}),n.d(e,"xb",function(){return hn}),n.d(e,"hb",function(){return Zt}),n.d(e,"fb",function(){return Ot}),n.d(e,"gb",function(){return se}),n.d(e,"ib",function(){return $n}),n.d(e,"jb",function(){return rr}),n.d(e,"kb",function(){return jn}),n.d(e,"vb",function(){return C}),n.d(e,"Ab",function(){return A}),n.d(e,"Lb",function(){return k}),n.d(e,"yb",function(){return Vt}),n.d(e,"zb",function(){return Ft}),n.d(e,"lb",function(){return Qr}),n.d(e,"qb",function(){return yi}),n.d(e,"rb",function(){return Ta}),n.d(e,"sb",function(){return Sr}),n.d(e,"tb",function(){return Ui}),n.d(e,"ub",function(){return $r}),n.d(e,"wb",function(){return Jr}),n.d(e,"Bb",function(){return ci}),n.d(e,"Cb",function(){return ui}),n.d(e,"Db",function(){return lo}),n.d(e,"Eb",function(){return Pi}),n.d(e,"Gb",function(){return Hi}),n.d(e,"Jb",function(){return Gi}),n.d(e,"Fb",function(){return po}),n.d(e,"Hb",function(){return mo}),n.d(e,"Ib",function(){return fo}),n.d(e,"Kb",function(){return oo}),n.d(e,"Mb",function(){return vo}),n.d(e,"Nb",function(){return wr}),n.d(e,"Ob",function(){return wo});var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),s=n("p0ib"),u=n("S1nX");function c(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}var l=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?c({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),h="__annotations__",f="__parameters__",d="__prop__metadata__";function p(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.i)(e));for(var o in i)this[o]=i[o]}}}function m(t,e,n){var i=p(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.i)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(f)?t[f]:Object.defineProperty(t,f,{value:[]})[f];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function g(t,e,n){var i=p(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.i)([void 0],e)));return function(t,e){var n=t.constructor,r=n.hasOwnProperty(d)?n[d]:Object.defineProperty(n,d,{value:{}})[d];r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(a)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var v=new l("AnalyzeForEntryComponents"),y=m("Attribute",function(t){return{attributeName:t}}),b=g("Input",function(t){return{bindingPropertyName:t}}),w=g("HostBinding",function(t){return{hostPropertyName:t}}),_=Function;function x(t){return"function"==typeof t}var S="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,C="undefined"!=typeof global&&global||S||M,E=Promise.resolve(0),T=null;function O(){if(!T){var t=C.Symbol;if(t&&t.iterator)T=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(T=r)}}return T}function P(t){"undefined"==typeof Zone?E.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function A(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function k(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var L=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,R=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,D=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/,N=function(){function t(t){this._reflect=t||C.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.i)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(L.exec(n)||R.exec(n)&&!D.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&I(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(f)&&t[f],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!x(t))return[];var e=j(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?I(t.decorators):t.hasOwnProperty(h)?t[h]:null},t.prototype.annotations=function(t){if(!x(t))return[];var e=j(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=I(r[t])}),i}return t.hasOwnProperty(d)?t[d]:null},t.prototype.propMetadata=function(t){if(!x(t))return{};var e=j(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.i)(n[t])),e.push.apply(e,Object(r.i)(o[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof _&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+k(t)},t.prototype.resourceUri=function(t){return"./"+k(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function I(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.i)([void 0],n)))}):[]}function j(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function z(t){return t.__forward_ref__=z,t.toString=function(){return k(this())},t}function F(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===z?t():t}var V=m("Inject",function(t){return{token:t}}),B=m("Optional"),U=m("Self"),H=m("SkipSelf"),G=m("Host"),W="__source",q=new Object,Y=q,X=new l("INJECTOR"),Z=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=q),e===q)throw new Error("NullInjectorError: No provider for "+k(t)+"!");return e},t}(),J=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new at(t,e):new at(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=q,t.NULL=new Z,t.ngInjectableDef=c({providedIn:"any",factory:function(){return ft(X)}}),t}(),K=function(t){return t},Q=[],$=K,tt=function(){return Array.prototype.slice.call(arguments)},et={},nt=function(t){for(var e in t)if(t[e]===et)return e;throw Error("!prop")}({provide:String,useValue:et}),rt=J.NULL,it=/\n/gm,ot="\u0275",at=function(){function t(t,e,n){void 0===e&&(e=rt),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(J,{token:J,fn:K,deps:Q,value:this,useNew:!1}),r.set(X,{token:X,fn:K,deps:Q,value:this,useNew:!1}),function t(e,n){if(n)if((n=F(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ct("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ct("Unexpected provider",n);var i=F(n.provide),o=function(t){var e=function(t){var e=Q,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=F(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof B||s==B?i|=1:s instanceof H||s==H?i&=-3:s instanceof U||s==U?i&=-5:u=s instanceof V?s.token:F(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=F(t.useExisting),options:6}]}else if(!(n||nt in t))throw ct("'deps' required",t);return e}(t),n=K,r=Q,i=!1,o=F(t.provide);if(nt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=F(t.useClass);else{if("function"!=typeof o)throw ct("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==tt)throw st(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:tt,value:Q});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==tt)throw st(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,c;if(!n||4&s)2&s||(c=o.get(e,a,0));else{if((c=n.value)==$)throw Error(ot+"Circular dependency");if(c===Q){n.value=$;var l=n.useNew,h=n.fn,f=n.deps,d=Q;if(f.length){d=[];for(var p=0;p<f.length;p++){var m=f[p],g=m.options,v=2&g?i.get(m.token):void 0;d.push(t(m.token,v,i,v||4&g?o:rt,1&g?null:J.THROW_IF_NOT_FOUND,0))}}n.value=c=l?new((u=h).bind.apply(u,Object(r.i)([void 0],d))):h.apply(void 0,d)}}return c}(e,n,i,o,a,s)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==$&&(n.value=Q),t}}(t,i,this._records,this.parent,e,n)}catch(e){var o=e.ngTempTokenPath;throw t[W]&&o.unshift(t[W]),e.message=ut("\n"+e.message,o,this.source),e.ngTokenPath=o,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(k(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function st(t){return ct("Cannot mix multi providers and regular providers",t)}function ut(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==ot?t.substr(2):t;var r=k(e);if(e instanceof Array)r=e.map(k).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):k(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(it,"\n  ")}function ct(t,e){return new Error(ut(t,e))}var lt=void 0;function ht(t){var e=lt;return lt=t,e}function ft(t,e){if(void 0===e&&(e=0),void 0===lt)throw new Error("inject() must be called from an injection context");if(null===lt){var n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&e)return null;throw new Error("Injector: NOT_FOUND ["+k(t)+"]")}return lt.get(t,8&e?null:void 0,e)}function dt(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=0,a=0;a<r.length;a++){var s=r[a];s instanceof B||"Optional"===s.ngMetadataName?o|=8:s instanceof H||"SkipSelf"===s.ngMetadataName?o|=4:s instanceof U||"Self"===s.ngMetadataName?o|=2:i=s instanceof V?s.token:s}e.push(ft(i,o))}else e.push(ft(r))}return e}var pt={},mt=function(t,e){for(var n in t)if(t[n]===e)return n;throw Error("Could not find renamed property on target object.")}({provide:String,useValue:pt},pt),gt=[],vt=function(t,e,n,i,o){var a=p(void 0);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return a.call.apply(a,Object(r.i)([this],e)),this;var u=new((t=s).bind.apply(t,Object(r.i)([void 0],e))),c=function(t){return o&&o.apply(void 0,Object(r.i)([t],e)),(t.hasOwnProperty(h)?t[h]:Object.defineProperty(t,h,{value:[]})[h]).push(u),t};return i&&i(c),c}return s.prototype.ngMetadataName="Injectable",s.annotationCls=s,s}(0,0,0,void 0,function(t,e){return n=t,void((i=e)&&void 0!==i.providedIn&&void 0===n.ngInjectableDef&&(n.ngInjectableDef=c({providedIn:i.providedIn,factory:function(t,e){if(!e){var n=(c=new N).parameters(t);return function(){return new(t.bind.apply(t,Object(r.i)([void 0],dt(n))))}}if(mt in e){var i=e;return function(){return i.useValue}}if(e.useExisting){var o=e;return function(){return ft(o.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.i)(dt(a.deps||gt)))}}if(e.useClass){var s=e,u=e.deps;if(!u){var c=new N;u=c.parameters(t)}return function(){var t;return new((t=s.useClass).bind.apply(t,Object(r.i)([void 0],dt(u))))}}var l=e.deps;return l||(c=new N,l=c.parameters(t)),function(){return new(t.bind.apply(t,Object(r.i)([void 0],dt(l))))}}(n,i)})));var n,i}),yt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),bt=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},wt=new bt("6.1.9"),_t="ngDebugContext",xt="ngOriginalError",St="ngErrorLogger";function Mt(t){return t[_t]}function Ct(t){return t[xt]}function Et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.i)(e))}var Tt=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[St]||Et}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Mt(t)?Mt(t):this._findContext(Ct(t)):null},t.prototype._findOriginalError=function(t){for(var e=Ct(t);e&&Ct(e);)e=Ct(e);return e},t}(),Ot=new l("The presence of this token marks an injector as being the root injector."),Pt={},At={},kt=[],Lt=void 0;function Rt(){return void 0===Lt&&(Lt=new Z),Lt}var Dt=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,jt([t],function(t){return r.processInjectorType(t,new Set)}),e&&jt(e,function(t){return r.processProvider(t)}),this.records.set(X,It(void 0,this)),this.isRootInjector=this.records.has(Ot),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=Y),void 0===n&&(n=0),this.assertNotDestroyed();var r,i=ht(this);try{if(!(4&n)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof l)&&t.ngInjectableDef||void 0;void 0!==a&&this.injectableDefInScope(a)&&(o=Nt(t),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return 2&n&&Rt(),this.parent.get(t,e)}finally{ht(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e){var n=this,r=(t=F(t)).ngInjectorDef,i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,a=void 0!==i&&t.providers||kt;if(void 0!==i&&(r=i.ngInjectorDef),null!=r){if(e.has(o))throw new Error("Circular dependency: type "+k(o)+" ends up importing itself.");if(this.injectorDefTypes.add(o),this.records.set(o,It(r.factory)),null!=r.imports){e.add(o);try{jt(r.imports,function(t){return n.processInjectorType(t,e)})}finally{e.delete(o)}}null!=r.providers&&jt(r.providers,function(t){return n.processProvider(t)}),jt(a,function(t){return n.processProvider(t)})}},t.prototype.processProvider=function(t){var e=zt(t=F(t))?t:F(t.provide),n=function(t){var e=F(t),n=Pt,i=void 0;if(zt(t))return Nt(t);if(e=F(t.provide),nt in t)n=t.useValue;else if(t.useExisting)i=function(){return ft(t.useExisting)};else if(t.useFactory)i=function(){return t.useFactory.apply(t,Object(r.i)(dt(t.deps||[])))};else{var o=t.useClass||e;if(!t.deps)return Nt(o);i=function(){return new(o.bind.apply(o,Object(r.i)([void 0],dt(t.deps))))}}return It(i,n)}(t);if(zt(t)||!0!==t.multi){var i=this.records.get(e);if(i&&void 0!==i.multi)throw new Error("Mixed multi-provider for "+k(e))}else{var o=this.records.get(e);if(o){if(void 0===o.multi)throw new Error("Mixed multi-provider for "+e+".")}else(o=It(void 0,Pt,!0)).factory=function(){return dt(o.multi)},this.records.set(e,o);e=t,o.multi.push(t)}this.records.set(e,n)},t.prototype.hydrate=function(t,e){if(e.value===At)throw new Error("Circular dep for "+k(t));var n;return e.value===Pt&&(e.value=At,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Nt(t){var e=t.ngInjectableDef;if(void 0===e){if(t instanceof l)throw new Error("Token "+k(t)+" is missing an ngInjectableDef definition.");return It(function(){return new t})}return It(e.factory)}function It(t,e,n){return void 0===e&&(e=Pt),void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function jt(t,e){t.forEach(function(t){return Array.isArray(t)?jt(t,e):e(t)})}function zt(t){return"function"==typeof t}function Ft(t){return!!t&&"function"==typeof t.then}function Vt(t){return!!t&&"function"==typeof t.subscribe}var Bt=new l("Application Initializer"),Ut=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ft(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},Object(r.c)([Object(r.g)(0,V(Bt)),Object(r.g)(0,B())],t)}(),Ht=new l("AppId");function Gt(){return""+Wt()+Wt()+Wt()}function Wt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var qt=new l("Platform Initializer"),Yt=new l("Platform ID"),Xt=new l("appBootstrapListener"),Zt=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function Jt(){throw new Error("Runtime compiler is not loaded")}var Kt=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Jt()},t.prototype.compileModuleAsync=function(t){throw Jt()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Jt()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Jt()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Qt=function(){},$t=function(){},te=function(){};function ee(t){var e=Error("No component factory found for "+k(t)+". Did you add it to @NgModule.entryComponents?");return e[ie]=t,e}var ne,re,ie="ngComponent",oe=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw ee(t)},t}(),ae=function(){function t(){}return t.NULL=new oe,t}(),se=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw ee(t);return new ue(e,this._ngModule)},t}(),ue=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.d)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(te),ce=function(){},le=function(){},he=function(){var t=C.wtf;return!(!t||!(ne=t.trace)||(re=ne.events,0))}();function fe(t,e){return null}var de=he?function(t,e){return void 0===e&&(e=null),re.createScope(t,e)}:function(t,e){return fe},pe=he?function(t,e){return ne.leaveScope(t,e),e}:function(t,e){return e},me=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.d)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(u),u},e}(o.a),ge=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return we(e),t.invokeTask(r,i,o,a)}finally{_e(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return we(e),t.invoke(r,i,o,a,s)}finally{_e(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,be(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ye,ve,ve);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function ve(){}var ye={};function be(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function we(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _e(t){t._nesting--,be(t)}var xe=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Se=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){ge.assertNotInAngularZone(),P(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())P(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Me=function(){function t(){this._applications=new Map,Te.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Te.findTestabilityInTree(this,t,e)},Object(r.c)([Object(r.f)("design:paramtypes",[])],t)}();function Ce(t){Te=t}var Ee,Te=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Oe=!0,Pe=!1,Ae=new l("AllowMultipleToken");function ke(){if(Pe)throw new Error("Cannot enable prod mode after platform setup.");Oe=!1}function Le(){return Pe=!0,Oe}var Re=function(t,e){this.name=t,this.token=e};function De(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new l(r);return function(e){void 0===e&&(e=[]);var o=Ne();if(!o||o.injector.get(Ae,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Ee&&!Ee.destroyed&&!Ee.injector.get(Ae,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ee=t.get(Ie);var e=t.get(qt,null);e&&e.forEach(function(t){return t()})}(J.create({providers:a,name:r}))}return function(t){var e=Ne();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ne(){return Ee&&!Ee.destroyed?Ee:null}var Ie=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new xe:("zone.js"===n?void 0:n)||new ge({enableLongStackTrace:Le()}),o=[{provide:ge,useValue:i}];return i.run(function(){var e=J.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(Tt,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Fe(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(Ut)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Ft(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Qt),i=je({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(ze);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+k(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function je(t,e){return Array.isArray(e)?e.reduce(je,t):Object(r.a)({},t,e)}var ze=function(){function t(t,e,n,r,i,o){var c=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Le(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new a.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),h=new a.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){ge.assertNotInAngularZone(),P(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){ge.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(Object(u.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof te?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof ue?null:this._injector.get(ce),o=n.create(J.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Se,null);return a&&o.injector.get(Me).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Le()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,pe(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Fe(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xt,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Fe(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=de("ApplicationRef#tick()"),t}();function Fe(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ve=function(){},Be=function(){},Ue=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),He=function(){},Ge=function(t){this.nativeElement=t},We=function(){},qe=function(){function t(){this.dirty=!0,this._results=[],this.changes=new me,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[O()]=function(){return this._results[O()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Ye=function(){},Xe={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ze=function(){function t(t,e){this._compiler=t,this._config=e||Xe}return t.prototype.load=function(t){return this._compiler instanceof Kt?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.h)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return Je(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.h)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Je(t,i,o)})},Object(r.c)([Object(r.g)(1,B())],t)}();function Je(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Ke=function(){},Qe=function(){},$e=function(){},tn=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof en?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),en=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.d)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.i)([o+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return nn(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return rn(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(tn);function nn(t,e,n){t.childNodes.forEach(function(t){t instanceof en&&(e(t)&&n.push(t),nn(t,e,n))})}function rn(t,e,n){t instanceof en&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof en&&rn(t,e,n)})}var on=new Map;function an(t){return on.get(t)||null}function sn(t){on.set(t.nativeNode,t)}function un(t,e){var n=hn(t),r=hn(e);return n&&r?function(t,e,n){for(var r=t[O()](),i=e[O()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,un):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||A(t,e)}var cn=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),ln=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function hn(t){return!!fn(t)&&(Array.isArray(t)||!(t instanceof Map)&&O()in t)}function fn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var dn=function(){function t(){}return t.prototype.supports=function(t){return hn(t)},t.prototype.create=function(t){return new mn(t)},t}(),pn=function(t,e){return e},mn=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<bn(n,r,i)?e:n,a=bn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!hn(t))throw new Error("Error trying to diff '"+k(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&A(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),A(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[O()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&A(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),A(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(A(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(A(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new gn(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new yn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),gn=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},vn=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&A(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),yn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new vn,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function bn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var wn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||fn(t)},t.prototype.create=function(){return new _n},t}(),_n=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||fn(t)))throw new Error("Error trying to diff '"+k(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new xn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){A(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),xn=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Sn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new H,new B]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=c({providedIn:"root",factory:function(){return new t([new dn])}}),t}(),Mn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new H,new B]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Cn=[new wn],En=new Sn([new dn]),Tn=new Mn(Cn),On=De(null,"core",[{provide:Yt,useValue:"unknown"},{provide:Ie,deps:[J]},{provide:Me,deps:[]},{provide:Zt,deps:[]}]),Pn=new l("LocaleId");function An(){return En}function kn(){return Tn}function Ln(t){return t||"en-US"}var Rn=function(t){},Dn=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),Nn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,In=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jn(t){return(t=String(t)).match(Nn)||t.match(In)?t:(Le()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function zn(t){var e,n,i={};try{for(var o=Object(r.j)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Fn(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.j)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var c in u)u.hasOwnProperty(c)&&(o[c]=!0)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Vn,Bn=zn("area,br,col,hr,img,wbr"),Un=zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hn=zn("rp,rt"),Gn=Fn(Hn,Un),Wn=Fn(Bn,Fn(Un,zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fn(Hn,zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gn),qn=zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yn=zn("srcset"),Xn=Fn(qn,Yn,zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Zn=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(Wn.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Xn.hasOwnProperty(s)){var u=o.value;qn[s]&&(u=jn(u)),Yn[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return jn(t.trim())}).join(", ")),this.buf.push(" ",a,'="',Qn(u),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Wn.hasOwnProperty(e)&&!Bn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Qn(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Jn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kn=/([^\#-~ |!])/g;function Qn(t){return t.replace(/&/g,"&amp;").replace(Jn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Kn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $n(t,e){var n=null;try{Vn=Vn||new Dn(t);var r=e?String(e):"";n=Vn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Vn.getInertBodyElement(r)}while(r!==o);var a=new Zn,s=a.sanitizeChildren(tr(n)||n);return Le()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var u=tr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function tr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var er=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),nr=/^url\(([^)]+)\)$/;function rr(t){if(!(t=String(t).trim()))return"";var e=t.match(nr);return e&&jn(e[1])===e[1]||t.match(er)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Le()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var ir=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),or=function(){};function ar(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function sr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ur(t,e){return t.nodes[e]}function cr(t,e){return t.nodes[e]}function lr(t,e){return t.nodes[e]}function hr(t,e){return t.nodes[e]}function fr(t,e){return t.nodes[e]}var dr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function pr(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return mr(n,e),n}(i,t)}function mr(t,e){t[_t]=e,t[St]=e.logError.bind(e)}function gr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var vr=function(){},yr=new Map;function br(t){var e=yr.get(t);return e||(e=k(t)+"_"+yr.size,yr.set(t,e)),e}function wr(t,e,n,r){if(cn.isWrapped(r)){r=cn.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=cn.unwrap(t.oldValues[i]);t.oldValues[i]=new cn(o)}return r}var _r="$$undefined",xr="$$empty";function Sr(t){return{id:_r,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Mr=0;function Cr(t,e,n,r){return!(!(2&t.state)&&A(t.oldValues[e.bindingIndex+n],r))}function Er(t,e,n,r){return!!Cr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Tr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!un(i,r)){var o=e.bindings[n].name;throw pr(dr.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Or(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Pr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Ar(t,e,n,r){try{return Or(33554432&t.def.nodes[e].flags?cr(t,e).componentView:t),dr.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function kr(t){return t.parent?cr(t.parent,t.parentNodeDef.nodeIndex):null}function Lr(t){return t.parent?t.parentNodeDef.parent:null}function Rr(t,e){switch(201347067&e.flags){case 1:return cr(t,e.nodeIndex).renderElement;case 2:return ur(t,e.nodeIndex).renderText}}function Dr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Nr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Ir(t){return 1<<t%32}function jr(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.h)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=Ir(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function zr(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.h)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,W,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:br(i)}})}function Fr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===yt.Native?cr(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Vr=new WeakMap;function Br(t){var e=Vr.get(t);return e||((e=t(function(){return vr})).factory=t,Vr.set(t,e)),e}function Ur(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Rr(t,t.def.lastRenderRootNode))),Hr(t,e,0,t.def.nodes.length-1,n,r,i)}function Hr(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&Wr(t,u,e,i,o,a),s+=u.childCount}}function Gr(t,e,n,r,i,o){for(var a=t;a&&!Dr(a);)a=a.parent;for(var s=a.parent,u=Lr(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&Wr(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(l=0;l<f.length;l++)qr(t,f[l],n,r,i,o)}}function Wr(t,e,n,r,i,o){if(8&e.flags)Gr(t,e.ngContent.index,n,r,i,o);else{var a=Rr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&qr(t,a,n,r,i,o),32&e.bindingFlags&&qr(cr(t,e.nodeIndex).componentView,a,n,r,i,o)):qr(t,a,n,r,i,o),16777216&e.flags)for(var s=cr(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Ur(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Hr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function qr(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Yr=/^:([^:]+):(.+)$/;function Xr(t){if(":"===t[0]){var e=t.match(Yr);return[e[1],e[2]]}return["",t]}function Zr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Jr(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b){switch(t){case 1:return e+Kr(n)+r;case 2:return e+Kr(n)+r+Kr(i)+o;case 3:return e+Kr(n)+r+Kr(i)+o+Kr(a)+s;case 4:return e+Kr(n)+r+Kr(i)+o+Kr(a)+s+Kr(u)+c;case 5:return e+Kr(n)+r+Kr(i)+o+Kr(a)+s+Kr(u)+c+Kr(l)+h;case 6:return e+Kr(n)+r+Kr(i)+o+Kr(a)+s+Kr(u)+c+Kr(l)+h+Kr(f)+d;case 7:return e+Kr(n)+r+Kr(i)+o+Kr(a)+s+Kr(u)+c+Kr(l)+h+Kr(f)+d+Kr(p)+m;case 8:return e+Kr(n)+r+Kr(i)+o+Kr(a)+s+Kr(u)+c+Kr(l)+h+Kr(f)+d+Kr(p)+m+Kr(g)+v;case 9:return e+Kr(n)+r+Kr(i)+o+Kr(a)+s+Kr(u)+c+Kr(l)+h+Kr(f)+d+Kr(p)+m+Kr(g)+v+Kr(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Kr(t){return null!=t?t.toString():""}function Qr(t,e,n,r,i,o){t|=1;var a=jr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Br(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||vr},provider:null,text:null,query:null,ngContent:null}}function $r(t,e,n,i,o,a,s,u,c,l,h,f){var d;void 0===s&&(s=[]),l||(l=vr);var p=jr(n),m=p.matchedQueries,g=p.references,v=p.matchedQueryIds,y=null,b=null;a&&(y=(d=Object(r.h)(Xr(a),2))[0],b=d[1]),u=u||[];for(var w=new Array(u.length),_=0;_<u.length;_++){var x=Object(r.h)(u[_],3),S=x[0],M=x[1],C=x[2],E=Object(r.h)(Xr(M),2),T=E[0],O=E[1],P=void 0,A=void 0;switch(15&S){case 4:A=C;break;case 1:case 8:P=C}w[_]={flags:S,ns:T,name:O,nonMinifiedName:O,securityContext:P,suffix:A}}c=c||[];var k=new Array(c.length);for(_=0;_<c.length;_++){var L=Object(r.h)(c[_],2);k[_]={type:0,target:L[0],eventName:L[1],propName:null}}var R=(s=s||[]).map(function(t){var e=Object(r.h)(t,2),n=e[0],i=e[1],o=Object(r.h)(Xr(n),2);return[o[0],o[1],i]});return f=function(t){if(t&&t.id===_r){var e=null!=t.encapsulation&&t.encapsulation!==yt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Mr++:xr}return t&&t.id===xr&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:v,references:g,ngContentIndex:i,childCount:o,bindings:w,bindingFlags:Zr(w),outputs:k,element:{ns:y,name:b,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||vr},provider:null,text:null,query:null,ngContent:null}}function ti(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=Fr(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a);if(o.attrs)for(var c=0;c<o.attrs.length;c++){var l=Object(r.h)(o.attrs[c],3);s.setAttribute(i,l[1],l[2],l[0])}return i}function ei(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=ni(t,n.nodeIndex,(h=o.eventName,(l=o.target)?l+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var c=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=c}var l,h}function ni(t,e,n){return function(r){return Ar(t,e,n,r)}}function ri(t,e,n,r){if(!Er(t,e,n,r))return!1;var i=e.bindings[n],o=cr(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(ir.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var ii=new Object,oi=br(J),ai=br(X),si=br(ce);function ui(t,e,n,r){return n=F(n),{index:-1,deps:zr(r,k(e)),flags:t,token:e,value:n}}function ci(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Ot&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[br(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function li(t,e,n){void 0===n&&(n=J.THROW_IF_NOT_FOUND);var r,i,o=ht(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case oi:case ai:case si:return t}var s=t._def.providersByKey[a];if(s){var u=t._providers[s.index];return void 0===u&&(u=t._providers[s.index]=hi(t,s)),u===ii?void 0:u}if(e.token.ngInjectableDef&&(r=t,null!=(i=e.token.ngInjectableDef).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:c,token:e.token},t._providers[c]=ii,t._providers[c]=hi(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{ht(o)}}function hi(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(li(t,n[0]));case 2:return new e(li(t,n[0]),li(t,n[1]));case 3:return new e(li(t,n[0]),li(t,n[1]),li(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=li(t,n[a]);return new(e.bind.apply(e,Object(r.i)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(li(t,n[0]));case 2:return e(li(t,n[0]),li(t,n[1]));case 3:return e(li(t,n[0]),li(t,n[1]),li(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=li(t,n[a]);return e.apply(void 0,Object(r.i)(o))}}(t,e.value,e.deps);break;case 2048:n=li(t,e.deps[0]);break;case 256:n=e.value}return n===ii||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?ii:n}function fi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,gi(n,e),dr.dirtyParentQueries(r),pi(r),r}function di(t,e,n){var r=e?Rr(e,e.def.lastRenderRootNode):t.renderElement;Ur(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function pi(t){Ur(t,3,null,null,void 0)}function mi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gi(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var vi=new Object;function yi(t,e,n,r,i,o){return new bi(t,e,n,r,i,o)}var bi=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Br(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=dr.createRootView(t,e||[],n,i,r,vi),s=lr(a,o).instance;return n&&a.renderer.setAttribute(cr(a,0).renderElement,"ng-version",wt.full),new wi(a,new Mi(a),s)},e}(te),wi=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Ge(cr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Oi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}($t);function _i(t,e,n){return new xi(t,e,n)}var xi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Ge(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Oi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Lr(t),t=t.parent;return t?new Oi(t,e):new Oi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=fi(this._data,t);dr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Mi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof ue||(i=o.get(ce));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return i=a._view,o=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=o.length),i.viewContainerParent=this._view,mi(o,r,i),function(t,e){var n=kr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),dr.dirtyParentQueries(i),di(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],gi(o,r),null==i&&(i=o.length),mi(o,i,a),dr.dirtyParentQueries(a),pi(a),di(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=fi(this._data,t);e&&dr.destroyView(e)},t.prototype.detach=function(t){var e=fi(this._data,t);return e?new Mi(e):null},t}();function Si(t){return new Mi(t)}var Mi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Ur(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Or(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{dr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){dr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),dr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,pi(this._view),dr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Ci(t,e){return new Ei(t,e)}var Ei=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.d)(e,t),e.prototype.createEmbeddedView=function(t){return new Mi(dr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Ge(cr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Ke);function Ti(t,e){return new Oi(t,e)}var Oi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=J.THROW_IF_NOT_FOUND),dr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:br(t)},e)},t}();function Pi(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=cr(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return ur(t,n.nodeIndex).renderText;if(20240&n.flags)return lr(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Ai(t){return new ki(t.renderer)}var ki=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.h)(Xr(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.h)(Xr(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Li(t,e,n,r){return new Ri(t,e,n,r)}var Ri=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=hi(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=J.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),li(this,{token:t,tokenKey:br(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(ae)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+k(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==ii){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Di=br(Ve),Ni=br(He),Ii=br(Ge),ji=br(Qe),zi=br(Ke),Fi=br($e),Vi=br(J),Bi=br(X);function Ui(t,e,n,i,o,a,s,u){var c=[];if(s)for(var l in s){var h=Object(r.h)(s[l],2);c[h[0]]={flags:8,name:l,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var d in u)f.push({type:1,propName:d,target:null,eventName:u[d]});return Wi(t,e|=16384,n,i,o,o,a,c,f)}function Hi(t,e,n){return Wi(-1,t|=16,null,0,e,e,n)}function Gi(t,e,n,r,i){return Wi(-1,t,e,0,n,r,i)}function Wi(t,e,n,r,i,o,a,s,u){var c=jr(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=F(o);var d=zr(a,k(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Zr(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function qi(t,e){return Ji(t,e)}function Yi(t,e){for(var n=t;n.parent&&!Dr(n);)n=n.parent;return Ki(n.parent,Lr(n),!0,e.provider.value,e.provider.deps)}function Xi(t,e){var n=Ki(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(Zi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function Zi(t,e,n){return function(r){return Ar(t,e,n,r)}}function Ji(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Ki(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i($i(t,e,n,o[0]));case 2:return i($i(t,e,n,o[0]),$i(t,e,n,o[1]));case 3:return i($i(t,e,n,o[0]),$i(t,e,n,o[1]),$i(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=$i(t,e,n,o[u]);return i.apply(void 0,Object(r.i)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return $i(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Ki(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i($i(t,e,n,o[0]));case 2:return new i($i(t,e,n,o[0]),$i(t,e,n,o[1]));case 3:return new i($i(t,e,n,o[0]),$i(t,e,n,o[1]),$i(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=$i(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.i)([void 0],s)))}}var Qi={};function $i(t,e,n,r,i){if(void 0===i&&(i=J.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Fi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case Di:return Ai(to(s,e,n));case Ni:return to(s,e,n).renderer;case Ii:return new Ge(cr(s,e.nodeIndex).renderElement);case ji:return cr(s,e.nodeIndex).viewContainer;case zi:if(e.element.template)return cr(s,e.nodeIndex).template;break;case Fi:return Si(to(s,e,n));case Vi:case Bi:return Ti(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=lr(s,u.nodeIndex);return c||(c={instance:Ji(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=Dr(s),e=Lr(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,Qi);return l!==Qi||i===Qi?l:o.root.ngModule.injector.get(r.token,i)}function to(t,e,n){var r;if(n)r=cr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Dr(r);)r=r.parent;return r}function eo(t,e,n,r,i,o){if(32768&n.flags){var a=cr(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=cn.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new ln(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function no(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&io(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=ro(t,a,e,r)),a=a.parent}}function ro(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&io(t,i,o.flags&n,r++),i+=o.childCount}return r}function io(t,e,n,r){var i=lr(t,e);if(i){var o=i.instance;o&&(dr.setCurrentNode(t,e),1048576&n&&sr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&sr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function oo(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Ir(e),bindings:r},ngContent:null}}function ao(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Nr(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&fr(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&fr(t,i).setDirty(),i+=o.childCount}}function so(t,e){var n=fr(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=uo(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=lr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=uo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function uo(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(co(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=cr(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(uo(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=kr(h);f&&f===u&&uo(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(l=0;l<d.length;l++){var p=d[l];uo(p,0,p.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function co(t,e,n){if(null!=n)switch(n){case 1:return cr(t,e.nodeIndex).renderElement;case 0:return new Ge(cr(t,e.nodeIndex).renderElement);case 2:return cr(t,e.nodeIndex).template;case 3:return cr(t,e.nodeIndex).viewContainer;case 4:return lr(t,e.nodeIndex).instance}}function lo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ho(t,e,n){var r=Fr(t,e,n);r&&Gr(t,n.ngContent.index,1,r,null,void 0)}function fo(t,e){return go(128,t,new Array(e+1))}function po(t,e){return go(32,t,new Array(e))}function mo(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return go(64,t,i)}function go(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Zr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function vo(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function yo(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Fr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function bo(t,e){return(null!=t?t.toString():"")+e.suffix}function wo(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var m=e[p];if(m.nodeIndex=p,m.parent=c,m.bindingIndex=i,m.outputIndex=o,m.renderParent=l,a|=m.flags,u|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=c?c.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(xo(c,m,e.length),i+=m.bindings.length,o+=m.outputs.length,!l&&3&m.flags&&(d=m),20224&m.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(32768&m.flags);0==(8192&m.flags)||v?c.element.publicProviders[br(m.provider.token)]=m:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[br(m.provider.token)]=m),v&&(c.element.componentProvider=m)}if(c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)c=m,_o(m)||(l=m);else for(;c&&p===c.nodeIndex+c.childCount;){var y=c.parent;y&&(y.childFlags|=c.childFlags,y.childMatchedQueries|=c.childMatchedQueries),l=(c=y)&&_o(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||vr,updateRenderer:r||vr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function _o(t){return 0!=(1&t.flags)&&null===t.element.name}function xo(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function So(t,e,n,r){var i=Eo(t.root,t.renderer,t,e,n);return To(i,t.component,r),Oo(i),i}function Mo(t,e,n){var r=Eo(t,t.renderer,null,null,e);return To(r,n,n),Oo(r),r}function Co(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Eo(t.root,i,t,e.element.componentProvider,n)}function Eo(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function To(t,e,n){t.component=e,t.context=n}function Oo(t){var e;Dr(t)&&(e=cr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];dr.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=ti(t,e,o),u=void 0;if(33554432&o.flags){var c=Br(o.element.componentView);u=dr.createComponentView(t,o,c,s)}ei(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Ci(t,o):void 0},16777216&o.flags&&(a.viewContainer=_i(t,o,a));break;case 2:a=yo(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:qi(t,o)});break;case 16:a={instance:Yi(t,o)};break;case 16384:(a=r[i])||(a={instance:Xi(t,o)}),32768&o.flags&&To(cr(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new qe;break;case 8:ho(t,e,o),a=void 0}r[i]=a}jo(t,Io.CreateViewNodes),Bo(t,201326592,268435456,0)}function Po(t){Lo(t),dr.updateDirectives(t,1),zo(t,Io.CheckNoChanges),dr.updateRenderer(t,1),jo(t,Io.CheckNoChanges),t.state&=-97}function Ao(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ar(t,0,256),Lo(t),dr.updateDirectives(t,0),zo(t,Io.CheckAndUpdate),Bo(t,67108864,536870912,0);var e=ar(t,256,512);no(t,2097152|(e?1048576:0)),dr.updateRenderer(t,0),jo(t,Io.CheckAndUpdate),Bo(t,134217728,536870912,0),no(t,8388608|((e=ar(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ar(t,768,1024)}function ko(t,e,n,i,o,a,s,u,c,l,h,f,d){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length,d=!1;return f>0&&ri(t,e,0,n)&&(d=!0),f>1&&ri(t,e,1,r)&&(d=!0),f>2&&ri(t,e,2,i)&&(d=!0),f>3&&ri(t,e,3,o)&&(d=!0),f>4&&ri(t,e,4,a)&&(d=!0),f>5&&ri(t,e,5,s)&&(d=!0),f>6&&ri(t,e,6,u)&&(d=!0),f>7&&ri(t,e,7,c)&&(d=!0),f>8&&ri(t,e,8,l)&&(d=!0),f>9&&ri(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,a,s,u,c,l,h);case 2:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&Er(t,e,0,n)&&(f=!0),p>1&&Er(t,e,1,r)&&(f=!0),p>2&&Er(t,e,2,i)&&(f=!0),p>3&&Er(t,e,3,o)&&(f=!0),p>4&&Er(t,e,4,a)&&(f=!0),p>5&&Er(t,e,5,s)&&(f=!0),p>6&&Er(t,e,6,u)&&(f=!0),p>7&&Er(t,e,7,c)&&(f=!0),p>8&&Er(t,e,8,l)&&(f=!0),p>9&&Er(t,e,9,h)&&(f=!0),f){var m=e.text.prefix;p>0&&(m+=bo(n,d[0])),p>1&&(m+=bo(r,d[1])),p>2&&(m+=bo(i,d[2])),p>3&&(m+=bo(o,d[3])),p>4&&(m+=bo(a,d[4])),p>5&&(m+=bo(s,d[5])),p>6&&(m+=bo(u,d[6])),p>7&&(m+=bo(c,d[7])),p>8&&(m+=bo(l,d[8])),p>9&&(m+=bo(h,d[9]));var g=ur(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return f}(t,e,n,r,i,o,a,s,u,c,l,h);case 16384:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=lr(t,e.nodeIndex),d=f.instance,p=!1,m=void 0,g=e.bindings.length;return g>0&&Cr(t,e,0,n)&&(p=!0,m=eo(t,f,e,0,n,m)),g>1&&Cr(t,e,1,r)&&(p=!0,m=eo(t,f,e,1,r,m)),g>2&&Cr(t,e,2,i)&&(p=!0,m=eo(t,f,e,2,i,m)),g>3&&Cr(t,e,3,o)&&(p=!0,m=eo(t,f,e,3,o,m)),g>4&&Cr(t,e,4,a)&&(p=!0,m=eo(t,f,e,4,a,m)),g>5&&Cr(t,e,5,s)&&(p=!0,m=eo(t,f,e,5,s,m)),g>6&&Cr(t,e,6,u)&&(p=!0,m=eo(t,f,e,6,u,m)),g>7&&Cr(t,e,7,c)&&(p=!0,m=eo(t,f,e,7,c,m)),g>8&&Cr(t,e,8,l)&&(p=!0,m=eo(t,f,e,8,l,m)),g>9&&Cr(t,e,9,h)&&(p=!0,m=eo(t,f,e,9,h,m)),m&&d.ngOnChanges(m),65536&e.flags&&sr(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&Er(t,e,0,n)&&(d=!0),p>1&&Er(t,e,1,r)&&(d=!0),p>2&&Er(t,e,2,i)&&(d=!0),p>3&&Er(t,e,3,o)&&(d=!0),p>4&&Er(t,e,4,a)&&(d=!0),p>5&&Er(t,e,5,s)&&(d=!0),p>6&&Er(t,e,6,u)&&(d=!0),p>7&&Er(t,e,7,c)&&(d=!0),p>8&&Er(t,e,8,l)&&(d=!0),p>9&&Er(t,e,9,h)&&(d=!0),d){var m=hr(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(f.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=a),p>5&&(g[5]=s),p>6&&(g[6]=u),p>7&&(g[7]=c),p>8&&(g[8]=l),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[f[0].name]=n),p>1&&(g[f[1].name]=r),p>2&&(g[f[2].name]=i),p>3&&(g[f[3].name]=o),p>4&&(g[f[4].name]=a),p>5&&(g[f[5].name]=s),p>6&&(g[f[6].name]=u),p>7&&(g[f[7].name]=c),p>8&&(g[f[8].name]=l),p>9&&(g[f[9].name]=h);break;case 128:var v=n;switch(p){case 1:g=v.transform(n);break;case 2:g=v.transform(r);break;case 3:g=v.transform(r,i);break;case 4:g=v.transform(r,i,o);break;case 5:g=v.transform(r,i,o,a);break;case 6:g=v.transform(r,i,o,a,s);break;case 7:g=v.transform(r,i,o,a,s,u);break;case 8:g=v.transform(r,i,o,a,s,u,c);break;case 9:g=v.transform(r,i,o,a,s,u,c,l);break;case 10:g=v.transform(r,i,o,a,s,u,c,l,h)}}m.value=g}return d}(t,e,n,r,i,o,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,i,o,a,s,u,c,l,h,f,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)ri(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Er(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=bo(n[o],r[o]);a=e.text.prefix+a;var s=ur(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=lr(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Cr(t,e,s,n[s])&&(o=!0,a=eo(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&sr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Er(t,e,a,n[a])&&(o=!0);if(o){var s=hr(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var c=n[0],l=n.slice(1);u=c.transform.apply(c,Object(r.i)(l))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Lo(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=cr(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Pr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ro(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length;f>0&&Tr(t,e,0,n),f>1&&Tr(t,e,1,r),f>2&&Tr(t,e,2,i),f>3&&Tr(t,e,3,o),f>4&&Tr(t,e,4,a),f>5&&Tr(t,e,5,s),f>6&&Tr(t,e,6,u),f>7&&Tr(t,e,7,c),f>8&&Tr(t,e,8,l),f>9&&Tr(t,e,9,h)}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Tr(t,e,r,n[r])}(t,e,r),!1}function Do(t,e){if(fr(t,e.nodeIndex).dirty)throw pr(dr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function No(t){if(!(128&t.state)){if(zo(t,Io.Destroy),jo(t,Io.Destroy),no(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=kr(t);if(e){var n=e.template._projectedViews;n&&(gi(n,n.indexOf(t)),dr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(cr(t,n).renderElement):2&r.flags?t.renderer.destroyNode(ur(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&fr(t,n).destroy()}}(t),Dr(t)&&t.renderer.destroy(),t.state|=128}}var Io=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function jo(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Fo(cr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function zo(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=cr(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Fo(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Fo(t,e){var n=t.state;switch(e){case Io.CheckNoChanges:0==(128&n)&&(12==(12&n)?Po(t):64&n&&Vo(t,Io.CheckNoChangesProjectedViews));break;case Io.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Po(t):64&n&&Vo(t,e));break;case Io.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ao(t):64&n&&Vo(t,Io.CheckAndUpdateProjectedViews));break;case Io.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ao(t):64&n&&Vo(t,e));break;case Io.Destroy:No(t);break;case Io.CreateViewNodes:Oo(t)}}function Vo(t,e){zo(t,e),jo(t,e)}function Bo(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(dr.setCurrentNode(t,a.nodeIndex),r){case 0:so(t,a);break;case 1:Do(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Uo=!1;function Ho(t,e,n,r,i,o){return Mo(Wo(t,i,i.injector.get(Be),e,n),r,o)}function Go(t,e,n,r,i,o){var a=i.injector.get(Be),s=Wo(t,i,new Ca(a),e,n),u=ea(r);return Sa(la.create,Mo,null,[s,u,o])}function Wo(t,e,n,r,i){var o=e.injector.get(or),a=e.injector.get(Tt);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function qo(t,e,n,r){var i=ea(n);return Sa(la.create,So,null,[t,e,i,r])}function Yo(t,e,n,r){return n=Ko.get(e.element.componentProvider.provider.token)||ea(n),Sa(la.create,Co,null,[t,e,n,r])}function Xo(t,e,n,r){return Li(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Zo.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Zo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Jo.forEach(function(r,i){i.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Zo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=zr(i.deps),r.value=i.value)}if(Jo.size>0){var o=new Set(t.modules);Jo.forEach(function(e,r){if(o.has(r.ngInjectableDef.providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:zr(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[br(r)]=i}})}}(t=t.factory(function(){return vr})),t):t}(r))}var Zo=new Map,Jo=new Map,Ko=new Map;function Qo(t){Zo.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&Jo.set(t.token,t)}function $o(t,e){var n=Br(Br(e.viewDefFactory).nodes[0].element.componentView);Ko.set(t,n)}function ta(){Zo.clear(),Jo.clear(),Ko.clear()}function ea(t){if(0===Zo.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Zo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return vr});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Zo.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=zr(o.deps),i.value=o.value)}}}}function na(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return ko(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?hr(t,e).value:void 0}function ra(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return Ro(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?hr(t,e).value:void 0}function ia(t){return Sa(la.detectChanges,Ao,null,[t])}function oa(t){return Sa(la.checkNoChanges,Po,null,[t])}function aa(t){return Sa(la.destroy,No,null,[t])}var sa,ua,ca,la=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function ha(t,e){ua=t,ca=e}function fa(t,e,n,r){return ha(t,e),Sa(la.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function da(t,e){if(128&t.state)throw gr(la[sa]);return ha(t,ba(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ma(t,a,r,i):ga(t,a,r,i),16384&a.flags&&ha(t,ba(t,n)),224&a.flags?hr(t,a.nodeIndex).value:void 0},t)}function pa(t,e){if(128&t.state)throw gr(la[sa]);return ha(t,wa(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ma(t,a,r,i):ga(t,a,r,i),3&a.flags&&ha(t,wa(t,n)),224&a.flags?hr(t,a.nodeIndex).value:void 0},t)}function ma(t,e,n,i){if(ko.apply(void 0,Object(r.i)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],c=o[s];8&u.flags&&(a[(d=u.nonMinifiedName,"ng-reflect-"+(d=d.replace(/[$@]/g,"_").replace(va,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=ya(c))}var l=e.parent,h=cr(t,l.nodeIndex).renderElement;if(l.element.name)for(var f in a)null!=(c=a[f])?t.renderer.setAttribute(h,f,c):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var d}function ga(t,e,n,i){Ro.apply(void 0,Object(r.i)([t,e,n],i))}var va=/([A-Z])/g;function ya(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ba(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function wa(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var _a=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Lr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return cr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Ti(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){xa(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&xa(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Dr(t);)t=t.parent;return t.parent?cr(t.parent,Lr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Rr(this.view,this.nodeDef):Rr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.i)([t],i)):vr}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.i)(i)))},t}();function xa(t,e,n){for(var r in e.references)n[r]=co(t,e,e.references[r])}function Sa(t,e,n,r){var i=sa,o=ua,a=ca;try{sa=t;var s=e.apply(n,r);return ua=o,ca=a,sa=i,s}catch(t){if(Mt(t)||!ua)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),mr(t,e),t}(t,Ma())}}function Ma(){return ua?new _a(ua,ca):null}var Ca=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Ea(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Ea=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){on.delete(t.nativeNode)}(an(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Ma();if(r){var i=new en(n,null,r);i.name=t,sn(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Ma();return n&&sn(new tn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Ma();return n&&sn(new tn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=an(t),r=an(e);n&&r&&n instanceof en&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=an(t),i=an(e),o=an(n);r&&i&&r instanceof en&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=an(t),r=an(e);n&&r&&n instanceof en&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Ma();return n&&sn(new en(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=an(t);i&&i instanceof en&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=an(t);r&&r instanceof en&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=an(t);n&&n instanceof en&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=an(t);n&&n instanceof en&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=an(t);i&&i instanceof en&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=an(t);r&&r instanceof en&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=an(t);r&&r instanceof en&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=an(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Ta(t,e,n){return new Oa(t,e,n)}var Oa=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.d)(e,t),e.prototype.create=function(t){!function(){if(!Uo){Uo=!0;var t=Le()?{setCurrentNode:ha,createRootView:Go,createEmbeddedView:qo,createComponentView:Yo,createNgModuleRef:Xo,overrideProvider:Qo,overrideComponentView:$o,clearOverrides:ta,checkAndUpdateView:ia,checkNoChangesView:oa,destroyView:aa,createDebugContext:function(t,e){return new _a(t,e)},handleEvent:fa,updateDirectives:da,updateRenderer:pa}:{setCurrentNode:function(){},createRootView:Ho,createEmbeddedView:So,createComponentView:Co,createNgModuleRef:Li,overrideProvider:vr,overrideComponentView:vr,clearOverrides:vr,checkAndUpdateView:Ao,checkNoChangesView:Po,destroyView:No,createDebugContext:function(t,e){return new _a(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?na:ra,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?na:ra,t)}};dr.setCurrentNode=t.setCurrentNode,dr.createRootView=t.createRootView,dr.createEmbeddedView=t.createEmbeddedView,dr.createComponentView=t.createComponentView,dr.createNgModuleRef=t.createNgModuleRef,dr.overrideProvider=t.overrideProvider,dr.overrideComponentView=t.overrideComponentView,dr.clearOverrides=t.clearOverrides,dr.checkAndUpdateView=t.checkAndUpdateView,dr.checkNoChangesView=t.checkNoChangesView,dr.destroyView=t.destroyView,dr.resolveDep=$i,dr.createDebugContext=t.createDebugContext,dr.handleEvent=t.handleEvent,dr.updateDirectives=t.updateDirectives,dr.updateRenderer=t.updateRenderer,dr.dirtyParentQueries=ao}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Br(this._ngModuleDefFactory));return dr.createNgModuleRef(this.moduleType,t||J.NULL,this._bootstrapComponents,e)},e}(le),Pa=16,Aa=0,ka=1,La=2,Ra=3,Da=4,Na=5,Ia=6,ja=7,za=8,Fa=9,Va=10,Ba=11,Ua=14;function Ha(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function Ga(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function Wa(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function qa(t,e,n){16&t[Da]&&(Ya(t[ja],e.initHooks,e.checkHooks,n),t[Da]&=-17)}function Ya(t,e,n,r){var i=r?e:n;i&&Xa(t,i)}function Xa(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var Za=0,Ja=4,Ka="ngProjectAs";function Qa(t){return!!t.listen}var $a={createRenderer:function(t,e){return document}};function ts(t){return Array.isArray(t)?t[0]:t}function es(t){if(2===t.tNode.type){var e=t.data;return e[La]?e[La][Na]:null}return t.tNode.next?t.view[t.tNode.next.index]:null}function ns(t){return t.tNode.child?ts((2===t.tNode.type?t.data:t.view)[t.tNode.child.index]):null}function rs(t){if(-1===t.tNode.index&&2===t.tNode.type){var e=t.data[Ua];return-1===e?null:t.view[e].dynamicLContainerNode}var n=t.tNode.parent;return ts(n?t.view[n.index]:t.view[Na])}var is=[];function os(t){for(var e=t[Na];2===e.tNode.type;)e=(t=t[ka])[Na];return e}function as(t,e,n,r,i){0===t?Qa(e)?e.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===t?Qa(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function ss(t){if(-1===t[Aa].childIndex)return null;var e=t[t[Aa].childIndex];return e.data?e.data:e.dynamicLContainerNode.data}function us(t,e){var n;return(n=t[Na])&&2===n.tNode.type?rs(n).data:t[ka]===e?null:t[ka]}function cs(t){if(t[Aa]){var e=t;!function(t){var e=t[Aa].cleanup;if(null!=e){for(var n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(ts(t[e[n+1]]).native.removeEventListener(e[n],t[za][e[n+2]],e[n+3]),n+=2):"number"==typeof e[n]?(0,t[za][e[n]])():e[n].call(t[za][e[n+1]]);t[za]=null}}(e),function(t){var e,n=t[Aa];null!=n&&null!=(e=n.destroyHooks)&&Xa(t[ja],e)}(e),(r=(n=e)[Aa]&&n[Aa].pipeDestroyHooks)&&Xa(n,r),-1===e[Aa].id&&Qa(e[Ba])&&e[Ba].destroy()}var n,r}var ls,hs,fs,ds,ps,ms,gs,vs,ys,bs="__ngHostLNode__",ws=Promise.resolve(null),_s=[0,0],xs=new Array(Pa).fill(null),Ss=!1,Ms=!0;function Cs(t,e){var n=vs;return ys=t&&t[ja],ps=t&&t[Aa],gs=t&&1==(1&t[Da]),Ms=t&&ps.firstTemplatePass,ls=t&&t[Ba],null!=e&&(fs=e,ds=!0),vs=t,ms=t&&t[Ra],n}function Es(t,e){e||(Ss||Ya(ys,ps.viewHooks,ps.viewCheckHooks,gs),vs[Da]&=-6),vs[Da]|=16,vs[Ia]=-1,Cs(t,null)}function Ts(){Ss||qa(vs,ps,gs),function(t){for(var e=ss(vs);null!==e;e=e[La])if(e.length<Pa&&null===e[Za])for(var n=e,r=0;r<n[Ja].length;r++){var i=n[Ja][r],o=i.data;ks(i,o[Aa],o[Fa],2)}}(),Ss||Ya(ys,ps.contentHooks,ps.contentCheckHooks,gs),ps.firstTemplatePass=Ms=!1,Os(ps.hostBindings),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.directives[n].contentQueriesRefresh(n,t.contentQueries[e+1])}}(ps),function(t){if(null!=t)for(var e=0;e<t.length;e+=2)Fs(t[e],t[e+1])}(ps.components)}function Os(t){if(null!=t)for(var e=ps.directives,n=0;n<t.length;n+=2){var r=t[n],i=e[r];i.hostBindings&&i.hostBindings(r,t[n+1])}}function Ps(t,e,n,r,i){return[e,vs,null,null,25|r,null,-1,null,null,n,vs&&vs[Va],t,i||null,null,-1,null]}function As(t,e,n,r,i,o){var a=ds?fs:fs&&rs(fs),s=a&&a.view===vs?a.tNode:null,u=(ds?ms:fs&&fs.queries)||a&&a.queries&&a.queries.child(),c=null!=o,l=function(t,e,n,r,i,o){return{native:r,view:vs,nodeInjector:n?n.nodeInjector:null,data:i,queries:o,tNode:null,dynamicLContainerNode:null}}(0,0,a,n,c?o:null,u);if(-1===t||2===e)l.tNode=(o?o[Aa].node:null)||zs(e,t,null,null,s,null);else{var h=t+Pa,f=ps.data;if(vs[h]=l,h>=f.length){var d=f[h]=zs(e,h,r,i,s,null);if(!ds&&fs){var p=fs.tNode;p.next=d,p.dynamicContainerNode&&(p.dynamicContainerNode.next=d)}}l.tNode=f[h],ds&&(ms=null,(null==fs.tNode.child&&fs.view===vs||2===fs.tNode.type)&&(fs.tNode.child=l.tNode))}if(2==(2&e)&&c){var m=o;m[Na]=l,Ms&&(m[Aa].node=l.tNode)}return fs=l,ds=!0,l}function ks(t,e,n,r){var i,o=ds,a=fs;if(null==t.data[ka]&&t.data[Fa]&&!e.template)Bs(t.data[Fa]);else try{ds=!0,fs=null,i=Cs(t.data,t),Ns(),e.template(r,n),2&r?Ts():t.data[Aa].firstTemplatePass=Ms=!1}finally{Es(i,1==(1&r)),ds=o,fs=a}return t}function Ls(t,e,n,r){var i=Cs(e,t);try{hs.begin&&hs.begin(),r?(Ns(),r(Rs(e),n),Ts()):(Ss||(qa(vs,ps,gs),Ya(ys,ps.contentHooks,ps.contentCheckHooks,gs)),Os(_s),Fs(0,Pa))}finally{hs.end&&hs.end(),Es(i)}}function Rs(t){return 1&t[Da]?3:2}var Ds=null;function Ns(){Ds=null}function Is(t,e,n,r,i){return{id:t,template:e,viewQuery:i,node:null,data:xs.slice(),childIndex:-1,bindingStartIndex:-1,directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,hostBindings:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof n?n():n,pipeRegistry:"function"==typeof r?r():r,currentMatches:null}}function js(t,e){hs=t;var n=t.createRenderer(null,null);return"string"==typeof e?Qa(n)?n.selectRootElement(e):n.querySelector(e):e}function zs(t,e,n,r,i,o){return{type:t,index:e,flags:0,tagName:n,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:i,dynamicContainerNode:null,detached:null,stylingTemplate:null,projection:null}}function Fs(t,e){var n=vs[e],r=n.data;Vs(r)&&6&r[Da]&&Gs(r,n,ys[t])}function Vs(t){return 8==(8&t[Da])}function Bs(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];Ls(Ws(n),Us(n),n)}}function Us(t){for(var e=Ws(t).view;e[ka];)e=e[ka];return e}function Hs(t){var e=Ws(t);Gs(e.data,e,t)}function Gs(t,e,n){var r=Cs(t,e),i=t[Aa],o=i.template,a=i.viewQuery;try{Ns(),function(e,n,r){e&&1&t[Da]&&e(1,r)}(a,0,n),o(Rs(t),n),Ts(),function(t,e){t&&t(2,e)}(a,n)}finally{Es(r)}}function Ws(t){return t[bs]}var qs=ws;function Ys(t){return{components:[],scheduler:t,clean:qs}}var Xs=function(){function t(t,e){this._view=t,this._appRef=null,this._viewContainerRef=null,this._lViewNode=null,this.context=e}return t.prototype._setComponentContext=function(t,e){this._view=t,this.context=e},Object.defineProperty(t.prototype,"destroyed",{get:function(){return 32==(32&this._view[Da])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t,e;this._viewContainerRef&&Vs(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),Qa(e=(t=this._view)[Ba])&&e.destroyNode&&function(e,n,r,i,o,a){for(var s=t[Na],u=-1;s;){var c=null,l=s.tNode.type;if(3===l)as(2,i,null,s.native,a),s.dynamicLContainerNode&&as(2,i,null,s.dynamicLContainerNode.native,a);else if(0===l){as(2,i,null,s.native,a);var h=s,f=h.dynamicLContainerNode?h.dynamicLContainerNode.data:h.data;(c=f[Ja].length?ns(f[Ja][0]):null)&&(a=h.dynamicLContainerNode?h.dynamicLContainerNode.native:h.native)}else if(1===l){var d=os(s.view),p=d.tNode.projection[s.tNode.projection];is[++u]=s,c=p?d.data[ka][p.index]:null}else c=ns(s);if(null===c)for(null===(c=es(s))&&8192&s.tNode.flags&&(c=es(is[u--]));s&&!c;){if(null===(s=rs(s))||s===n)return null;s.tNode.next||0!==l||(a=s.native),c=es(s)}s=c}}(0,t[Na],0,e),function(t){if(-1===t[Aa].childIndex)return cs(t);for(var e=ss(t);e;){var n=null;if(e.length>=Pa?e[Aa].childIndex>-1&&(n=ss(e)):e[Ja].length&&(n=e[Ja][0].data),null==n){for(;e&&!e[La]&&e!==t;)cs(e),e=us(e,t);cs(e||t),n=e&&e[La]}e=n}}(t),t[Da]|=32},t.prototype.onDestroy=function(t){var e,n;n=t,function(t){return t[za]||(t[za]=[])}(e=this._view).push(n),e[Aa].firstTemplatePass&&function(t){return t[Aa].cleanup||(t[Aa].cleanup=[])}(e).push(e[za].length-1,null)},t.prototype.markForCheck=function(){!function(t){for(var e=t;null!=e[ka];)e[Da]|=4,e=e[ka];var n,r;e[Da]|=4,(n=e[Fa]).clean==ws&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){Bs(n),r(null),n.clean=ws}))}(this._view)},t.prototype.detach=function(){this._view[Da]&=-9},t.prototype.reattach=function(){this._view[Da]|=8},t.prototype.detectChanges=function(){Hs(this.context)},t.prototype.checkNoChanges=function(){!function(t){Ss=!0;try{Hs(t)}finally{Ss=!1}}(this.context)},t.prototype.attachToViewContainerRef=function(t){this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){this._appRef=t},t}(),Zs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.resolveComponentFactory=function(t){return new $s(t.ngComponentDef)},e}(ae);function Js(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ks=new l("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Ys(ft(Qs))}}),Qs=new l("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return requestAnimationFrame.bind(window)}}),$s=function(t){function e(e){var n=t.call(this)||this;return n.componentDef=e,n.componentType=e.type,n.selector=e.selectors[0][0],n.ngContentSelectors=[],n}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return Js(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return Js(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i,o,a=void 0===n,s=r?r.injector.get(Be):$a,u=a?(i=this.selector,Qa(o=s.createRenderer(null,this.componentDef.rendererType)||ls)?o.createElement(i,Ds):null===Ds?o.createElement(i):o.createElementNS(Ds,i)):js(s,n),c=r&&!a?r.injector.get(Ks):Ys(requestAnimationFrame.bind(window)),l=Ps(s.createRenderer(u,this.componentDef.rendererType),Is(-1,null,null,null,null),c,this.componentDef.onPush?4:2);l[Va]=r&&r.injector||null;var h,f,d=Cs(l,null);try{if(s.begin&&s.begin(),f=function(t,e,n,r){ds=!1,fs=null;var i,o=As(0,3,e,null,null,Ps(ls,(i=n.template).ngPrivateData||(i.ngPrivateData=Is(-1,i,n.directiveDefs,n.pipeDefs,n.viewQuery)),null,n.onPush?4:2,r));return Ms&&(o.tNode.flags=4096,n.diPublic&&n.diPublic(n),ps.directives=[n]),o}(0,u,this.componentDef),c.components.push(h=function(t,e,n){if(Object.defineProperty(e,bs,{enumerable:!1,value:fs}),null==ys&&(vs[ja]=ys=[]),ys[t]=e,Ms){var r=fs.tNode.flags;0==(4095&r)?fs.tNode.flags=t<<14|4096&r|1:fs.tNode.flags++}else{var i=n.diPublic;i&&i(n)}return null!=n.attributes&&3==fs.tNode.type&&function(t,e){for(var n=Qa(ls),r=0;r<e.length;){var i=e[r];if(1===i)break;if(i===Ka)r+=2;else if(0===i){var o=e[r+1],a=e[r+2],s=e[r+3];n?ls.setAttribute(t,a,s,o):t.setAttributeNS(o,a,s),r+=4}else s=e[r+1],n?ls.setAttribute(t,i,s):t.setAttribute(i,s),r+=2}}(fs.native,n.attributes),e}(0,this.componentDef.factory(),this.componentDef)),function(t,e,n){t&&null!=t.changeDetectorRef&&t.changeDetectorRef._setComponentContext(f.data,h)}(f.nodeInjector),function(t,e){var n=Ws(t),r=n.view[Aa];(function(t,e,n,r){e&&(r.initHooks||(r.initHooks=[])).push(0,e),n&&((r.initHooks||(r.initHooks=[])).push(0,n),(r.checkHooks||(r.checkHooks=[])).push(0,n))})(0,e.onInit,e.doCheck,r),function(t,e){if(e.firstTemplatePass)for(var n=t>>14,r=n+(4095&t),i=n;i<r;i++){var o=e.directives[i];Ha(o,e,i),Ga(o,e,i),Wa(o,e,i)}}(n.tNode.flags,r)}(h,this.componentDef),e)for(var p=0,m=f.tNode.projection=[],g=0;g<e.length;g++){for(var v=e[g],y=null,b=null,w=0;w<v.length;w++){var _=As(++p,3,v[w],null,null);b?b.next=_.tNode:y=_.tNode,b=_.tNode}m.push(y)}ks(f,f.data[Aa],h,1),f.data[Da]&=-2}finally{Cs(d,null),s.end&&s.end()}var x=new tu(this.componentType,h,l,t,u);return a&&(x.hostView._lViewNode.tNode.child=f.tNode),x},e}(te),tu=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new Xs(r,n),a.hostView._lViewNode=As(-1,2,null,null,null,r),a.injector=i,a.location=new Ge(o),a.componentType=e,a}return Object(r.d)(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}($t),eu={provide:ae,useFactory:function(){return new Zs},deps:[]},nu=function(t){function e(e,n){var r=t.call(this)||this;return r._bootstrapComponents=[],r.destroyCbs=[],r._bootstrapComponents=e.ngModuleDef.bootstrap,r.injector=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Rt(),new Dt(t,n,e)}(e,n,[eu,{provide:ce,useValue:r}]),r.instance=r.injector.get(e),r.componentFactoryResolver=new Zs,r}return Object(r.d)(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(ce);!function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}Object(r.d)(e,t),e.prototype.create=function(t){return new nu(this.moduleType,t)}}(le)},Cjpe:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.hashset={},this.sortedValues=[],this.isDirty=!0}return t.prototype.add=function(t){this.hashset[t]=!0,this.isDirty=!0},t.prototype.get=function(){return this.isDirty&&(this.buildSortedValues(),this.isDirty=!1),this.sortedValues},t.prototype.buildSortedValues=function(){for(var t in this.sortedValues=[],this.hashset)this.hashset.hasOwnProperty(t)&&this.sortedValues.push(+t);this.sortedValues.sort(function(t,e){return t-e})},t}()},Cm6k:function(t,e){var n="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},r=function(t){if(t.left!==t.right)if(void 0!==t.left)if(void 0!==t.right){if("function"==typeof t.left||"function"==typeof t.right)throw new Error("functions are not supported");if(t.leftType=null===t.left?"null":typeof t.left,t.rightType=null===t.right?"null":typeof t.right,t.leftType===t.rightType)if("boolean"!==t.leftType&&"number"!==t.leftType)if("object"===t.leftType&&(t.leftIsArray=n(t.left)),"object"===t.rightType&&(t.rightIsArray=n(t.right)),t.leftIsArray===t.rightIsArray){if(t.left instanceof RegExp){if(!(t.right instanceof RegExp))return void t.setResult([t.left,t.right]).exit();t.setResult([t.left.toString(),t.right.toString()]).exit()}}else t.setResult([t.left,t.right]).exit();else t.setResult([t.left,t.right]).exit();else t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit();else{if("function"==typeof t.right)throw new Error("functions are not supported");t.setResult([t.right]).exit()}else t.setResult(void 0).exit()};r.filterName="trivial";var i=function(t){if(void 0!==t.delta){if(t.nested=!n(t.delta),!t.nested)if(1!==t.delta.length)if(2!==t.delta.length)3!==t.delta.length||0!==t.delta[2]||t.setResult(void 0).exit();else{if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}t.setResult(t.delta[1]).exit()}else t.setResult(t.delta[0]).exit()}else t.setResult(t.left).exit()};i.filterName="trivial";var o=function(t){void 0!==t.delta?(t.nested=!n(t.delta),t.nested||(1!==t.delta.length?2!==t.delta.length?3!==t.delta.length||0!==t.delta[2]||t.setResult([t.delta[0]]).exit():t.setResult([t.delta[1],t.delta[0]]).exit():t.setResult([t.delta[0],0,0]).exit())):t.setResult(t.delta).exit()};o.filterName="trivial",e.diffFilter=r,e.patchFilter=i,e.reverseFilter=o},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},DUrn:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("LBxW"),i=n("gozj"),o=function(){function t(){}return t.prototype.execute=function(t,e,n,o){if(!t||!n)return NaN;var a;if(o===r.a.Decreasing)a=i.b.findIndexInMonotonicallyDecreasingData(n,e,i.a.Forwards);else{if(o!==r.a.Increasing)return NaN;a=i.b.findIndexInMonotonicallyIncreasingData(n,e,i.a.Forwards)}return this.executeAtIndex(t,e,n,a)},t.prototype.executeAtIndex=function(t,e,n,r){return-1===r?t[t.length-1]:0===r?t[0]:t[r-1]+(e-n[r-1])/(n[r]-n[r-1])*(t[r]-t[r-1])},t}()},DlQD:function(t,e,n){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function r(t){this.tokens=[],this.tokens.links={},this.options=t||v.defaults,this.rules=n.normal,this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}n._label=/(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",n.html=h(n.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,n._tag).getRegex(),n.paragraph=h(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag","<"+n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=g({},n),n.gfm=g({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=h(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=g({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),r.rules=n,r.lex=function(t,e){return new r(e).lex(t)},r.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},r.prototype.token=function(t,e){var r,i,o,a,s,u,c,l,h,f,d;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},l=0;l<u.align.length;l++)u.align[l]=/^ *-+: *$/.test(u.align[l])?"right":/^ *:-+: *$/.test(u.align[l])?"center":/^ *:-+ *$/.test(u.align[l])?"left":null;for(l=0;l<u.cells.length;l++)u.cells[l]=u.cells[l].split(/ *\| */);this.tokens.push(u)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),this.tokens.push({type:"list_start",ordered:d=(a=o[2]).length>1,start:d?+a:""}),r=!1,f=(o=o[0].match(this.rules.item)).length,l=0;l<f;l++)c=(u=o[l]).length,~(u=u.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=u.length,u=u.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&l!==f-1&&(a===(s=n.bullet.exec(o[l+1])[0])||a.length>1&&s.length>1||(t=o.slice(l+1).join("\n")+t,l=f-1)),i=r||/\n\n(?!\s*$)/.test(u),l!==f-1&&(r="\n"===u.charAt(u.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(u,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),h=o[1].toLowerCase(),this.tokens.links[h]||(this.tokens.links[h]={href:o[2],title:o[3]});else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<u.align.length;l++)u.align[l]=/^ *-+: *$/.test(u.align[l])?"right":/^ *:-+: *$/.test(u.align[l])?"center":/^ *:-+ *$/.test(u.align[l])?"left":null;for(l=0;l<u.cells.length;l++)u.cells[l]=u.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(u)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:m,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function o(t,e){if(this.options=e||v.defaults,this.links=t,this.rules=i.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?i.breaks:i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function a(t){this.options=t||{}}function s(){}function u(t){this.tokens=[],this.token=null,this.options=t||v.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function c(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function h(t,e){return t=t.source,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function f(t,e){return d[" "+t]||(d[" "+t]=/^[^:]+:\/*[^/]*$/.test(t)?t+"/":t.replace(/[^/]*$/,"")),t=d[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=h(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,i.link=h(i.link).replace("inside",i._inside).replace("href",i._href).getRegex(),i.reflink=h(i.reflink).replace("inside",i._inside).getRegex(),i.normal=g({},i),i.pedantic=g({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=g({},i.normal,{escape:h(i.escape).replace("])","~|])").getRegex(),url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",i._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:h(i.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),i.breaks=g({},i.gfm,{br:h(i.br).replace("{2,}","*").getRegex(),text:h(i.gfm.text).replace("{2,}","*").getRegex()}),o.rules=i,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,r,i,o="";t;)if(i=this.rules.escape.exec(t))t=t.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(t))t=t.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=c(this.mangle(i[1]))):n=c(i[1]),o+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(t))){if(i=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),t=t.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):c(i[0]):i[0];else if(i=this.rules.link.exec(t))t=t.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(t))||(i=this.rules.nolink.exec(t))){if(t=t.substring(i[0].length),e=(i[2]||i[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=i[0].charAt(0),t=i[0].substring(1)+t;continue}this.inLink=!0,o+=this.outputLink(i,e),this.inLink=!1}else if(i=this.rules.strong.exec(t))t=t.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(t))t=t.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(t))t=t.substring(i[0].length),o+=this.renderer.codespan(c(i[2].trim(),!0));else if(i=this.rules.br.exec(t))t=t.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(t))t=t.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),o+=this.renderer.text(c(this.smartypants(i[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],t=t.substring(i[0].length),"@"===i[2]?r="mailto:"+(n=c(i[0])):(n=c(i[0]),r="www."===i[1]?"http://"+n:n),o+=this.renderer.link(r,null,n);return o},o.prototype.outputLink=function(t,e){var n=c(e.href),r=e.title?c(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,c(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},a.prototype.code=function(t,e,n){if(this.options.highlight){var r=this.options.highlight(t,e);null!=r&&r!==t&&(n=!0,t=r)}return e?'<pre><code class="'+this.options.langPrefix+c(e,!0)+'">'+(n?t:c(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:c(t,!0))+"\n</code></pre>"},a.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},a.prototype.html=function(t){return t},a.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},a.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},a.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},a.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},a.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},a.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},a.prototype.strong=function(t){return"<strong>"+t+"</strong>"},a.prototype.em=function(t){return"<em>"+t+"</em>"},a.prototype.codespan=function(t){return"<code>"+t+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(t){return"<del>"+t+"</del>"},a.prototype.link=function(t,e,n){if(this.options.sanitize){try{var r=decodeURIComponent(l(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!p.test(t)&&(t=f(this.options.baseUrl,t));var i='<a href="'+t+'"';return e&&(i+=' title="'+e+'"'),i+">"+n+"</a>"},a.prototype.image=function(t,e,n){this.options.baseUrl&&!p.test(t)&&(t=f(this.options.baseUrl,t));var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},a.prototype.text=function(t){return t},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(t){return t},s.prototype.link=s.prototype.image=function(t,e,n){return""+n},s.prototype.br=function(){return""},u.parse=function(t,e){return new u(e).parse(t)},u.prototype.parse=function(t){this.inline=new o(t.links,this.options),this.inlineText=new o(t.links,g({},this.options,{renderer:new s})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},u.prototype.next=function(){return this.token=this.tokens.pop()},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},u.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var d={},p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function g(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function v(t,e,n){if(void 0===t||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null);var i,o,a=(e=g({},v.defaults,e||{})).highlight,s=0;try{i=r.lex(t,e)}catch(t){return n(t)}o=i.length;var l=function(t){if(t)return e.highlight=a,n(t);var r;try{r=u.parse(i,e)}catch(e){t=e}return e.highlight=a,t?n(t):n(null,r)};if(!a||a.length<3)return l();if(delete e.highlight,!o)return l();for(;s<i.length;s++)!function(t){"code"!==t.type?--o||l():a(t.text,t.lang,function(e,n){return e?l(e):null==n||n===t.text?--o||l():(t.text=n,t.escaped=!0,void(--o||l()))})}(i[s])}else try{return e&&(e=g({},v.defaults,e)),u.parse(r.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||v.defaults).silent)return"<p>An error occurred:</p><pre>"+c(t.message+"",!0)+"</pre>";throw t}}m.exec=m,v.options=v.setOptions=function(t){return g(v.defaults,t),v},v.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new a,xhtml:!1,baseUrl:null},v.Parser=u,v.parser=u.parse,v.Renderer=a,v.TextRenderer=s,v.Lexer=r,v.lexer=r.lex,v.InlineLexer=o,v.inlineLexer=o.output,v.parse=v,t.exports=v}(this||("undefined"!=typeof window?window:global))},Dmvi:function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},DwkR:function(t,e,n){var r=n("lrVJ"),i=n("s847"),o=function(t){for(var e=(t=t.slice()).length-1;e>=0;e--)t[e]||t.splice(e,1);return t.join(" ")};function a(t,e,n){this.classes=t||[],this.children=e||[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={},this.attributes={},n&&(n.style.isTight()&&this.classes.push("mtight"),n.getColor()&&(this.style.color=n.getColor()))}function s(t){this.children=t||[],this.height=0,this.depth=0,this.maxFontSize=0}a.prototype.setAttribute=function(t,e){this.attributes[t]=e},a.prototype.tryCombine=function(t){return!1},a.prototype.toNode=function(){var t=document.createElement("span");for(var e in t.className=o(this.classes),this.style)Object.prototype.hasOwnProperty.call(this.style,e)&&(t.style[e]=this.style[e]);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t},a.prototype.toMarkup=function(){var t="<span";this.classes.length&&(t+=' class="',t+=i.escape(o(this.classes)),t+='"');var e="";for(var n in this.style)this.style.hasOwnProperty(n)&&(e+=i.hyphenate(n)+":"+this.style[n]+";");for(var r in e&&(t+=' style="'+i.escape(e)+'"'),this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=i.escape(this.attributes[r]),t+='"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+"</span>"},s.prototype.toNode=function(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t},s.prototype.toMarkup=function(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t};var u={"\xee":"\u0131\u0302","\xef":"\u0131\u0308","\xed":"\u0131\u0301","\xec":"\u0131\u0300"};function c(t,e,n,i,o,a,s){this.value=t||"",this.height=e||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0,r.cjkRegex.test(t)&&(r.hangulRegex.test(t)?this.classes.push("hangul_fallback"):this.classes.push("cjk_fallback")),/[\xee\xef\xed\xec]/.test(this.value)&&(this.value=u[this.value])}c.prototype.tryCombine=function(t){if(!t||!(t instanceof c)||this.italic>0||o(this.classes)!==o(t.classes)||this.skew!==t.skew||this.maxFontSize!==t.maxFontSize)return!1;for(var e in this.style)if(this.style.hasOwnProperty(e)&&this.style[e]!==t.style[e])return!1;for(e in t.style)if(t.style.hasOwnProperty(e)&&this.style[e]!==t.style[e])return!1;return this.value+=t.value,this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this.italic=t.italic,!0},c.prototype.toNode=function(){var t=document.createTextNode(this.value),e=null;for(var n in this.italic>0&&((e=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((e=e||document.createElement("span")).className=o(this.classes)),this.style)this.style.hasOwnProperty(n)&&((e=e||document.createElement("span")).style[n]=this.style[n]);return e?(e.appendChild(t),e):t},c.prototype.toMarkup=function(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=i.escape(o(this.classes)),e+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=i.hyphenate(r)+":"+this.style[r]+";");n&&(t=!0,e+=' style="'+i.escape(n)+'"');var a=i.escape(this.value);return t?(e+=">",e+=a,e+="</span>"):a},t.exports={span:a,documentFragment:s,symbolNode:c}},E0m9:function(t,e){function n(t,e){var r,i,o="KaTeX parse error: "+t;if(e&&e.lexer&&e.start<=e.end){var a=e.lexer.input;i=e.end,o+=(r=e.start)===a.length?" at end of input: ":" at position "+(r+1)+": ";var s=a.slice(r,i).replace(/[^]/g,"$&\u0332");o+=(r>15?"\u2026"+a.slice(r-15,r):a.slice(0,r))+s+(i+15<a.length?a.slice(i,i+15)+"\u2026":a.slice(i))}var u=new Error(o);return u.name="ParseError",u.__proto__=n.prototype,u.position=r,u}n.prototype.__proto__=Error.prototype,t.exports=n},Ehmk:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n("eihs");function o(){try{return r.apply(this,arguments)}catch(t){return i.a.e=t,i.a}}function a(t){return r=t,o}},"En8+":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},"F/XL":function(t,e,n){"use strict";var r=n("nkY7"),i=n("IUTb"),o=n("G5J1"),a=n("6blF");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,s,u=t[t.length-1];switch(Object(r.a)(u)?t.pop():u=void 0,t.length){case 0:return Object(o.b)(u);case 1:return u?Object(i.a)(t,u):(n=t[0],(s=new a.a(function(t){t.next(n),t.complete()}))._isScalar=!0,s.value=n,s);default:return Object(i.a)(t,u)}}n.d(e,"a",function(){return s})},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),c=n("DKTb"),l=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.d(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.d(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},FdGB:function(t,e){function n(e,n,r,i,o){t.exports[e][o]={font:n,group:r,replace:i}}t.exports={math:{},text:{}};var r,i,o="math",a="text",s="main",u="ams",c="accent",l="bin",h="close",f="mathord",d="op",p="open",m="rel",g="spacing",v="textord";for(n(o,s,m,"\u2261","\\equiv"),n(o,s,m,"\u227a","\\prec"),n(o,s,m,"\u227b","\\succ"),n(o,s,m,"\u223c","\\sim"),n(o,s,m,"\u22a5","\\perp"),n(o,s,m,"\u2aaf","\\preceq"),n(o,s,m,"\u2ab0","\\succeq"),n(o,s,m,"\u2243","\\simeq"),n(o,s,m,"\u2223","\\mid"),n(o,s,m,"\u226a","\\ll"),n(o,s,m,"\u226b","\\gg"),n(o,s,m,"\u224d","\\asymp"),n(o,s,m,"\u2225","\\parallel"),n(o,s,m,"\u22c8","\\bowtie"),n(o,s,m,"\u2323","\\smile"),n(o,s,m,"\u2291","\\sqsubseteq"),n(o,s,m,"\u2292","\\sqsupseteq"),n(o,s,m,"\u2250","\\doteq"),n(o,s,m,"\u2322","\\frown"),n(o,s,m,"\u220b","\\ni"),n(o,s,m,"\u221d","\\propto"),n(o,s,m,"\u22a2","\\vdash"),n(o,s,m,"\u22a3","\\dashv"),n(o,s,m,"\u220b","\\owns"),n(o,s,"punct",".","\\ldotp"),n(o,s,"punct","\u22c5","\\cdotp"),n(o,s,v,"#","\\#"),n(a,s,v,"#","\\#"),n(o,s,v,"&","\\&"),n(a,s,v,"&","\\&"),n(o,s,v,"\u2135","\\aleph"),n(o,s,v,"\u2200","\\forall"),n(o,s,v,"\u210f","\\hbar"),n(o,s,v,"\u2203","\\exists"),n(o,s,v,"\u2207","\\nabla"),n(o,s,v,"\u266d","\\flat"),n(o,s,v,"\u2113","\\ell"),n(o,s,v,"\u266e","\\natural"),n(o,s,v,"\u2663","\\clubsuit"),n(o,s,v,"\u2118","\\wp"),n(o,s,v,"\u266f","\\sharp"),n(o,s,v,"\u2662","\\diamondsuit"),n(o,s,v,"\u211c","\\Re"),n(o,s,v,"\u2661","\\heartsuit"),n(o,s,v,"\u2111","\\Im"),n(o,s,v,"\u2660","\\spadesuit"),n(o,s,v,"\u2020","\\dag"),n(o,s,v,"\u2021","\\ddag"),n(o,s,h,"\u23b1","\\rmoustache"),n(o,s,p,"\u23b0","\\lmoustache"),n(o,s,h,"\u27ef","\\rgroup"),n(o,s,p,"\u27ee","\\lgroup"),n(o,s,l,"\u2213","\\mp"),n(o,s,l,"\u2296","\\ominus"),n(o,s,l,"\u228e","\\uplus"),n(o,s,l,"\u2293","\\sqcap"),n(o,s,l,"\u2217","\\ast"),n(o,s,l,"\u2294","\\sqcup"),n(o,s,l,"\u25ef","\\bigcirc"),n(o,s,l,"\u2219","\\bullet"),n(o,s,l,"\u2021","\\ddagger"),n(o,s,l,"\u2240","\\wr"),n(o,s,l,"\u2a3f","\\amalg"),n(o,s,m,"\u27f5","\\longleftarrow"),n(o,s,m,"\u21d0","\\Leftarrow"),n(o,s,m,"\u27f8","\\Longleftarrow"),n(o,s,m,"\u27f6","\\longrightarrow"),n(o,s,m,"\u21d2","\\Rightarrow"),n(o,s,m,"\u27f9","\\Longrightarrow"),n(o,s,m,"\u2194","\\leftrightarrow"),n(o,s,m,"\u27f7","\\longleftrightarrow"),n(o,s,m,"\u21d4","\\Leftrightarrow"),n(o,s,m,"\u27fa","\\Longleftrightarrow"),n(o,s,m,"\u21a6","\\mapsto"),n(o,s,m,"\u27fc","\\longmapsto"),n(o,s,m,"\u2197","\\nearrow"),n(o,s,m,"\u21a9","\\hookleftarrow"),n(o,s,m,"\u21aa","\\hookrightarrow"),n(o,s,m,"\u2198","\\searrow"),n(o,s,m,"\u21bc","\\leftharpoonup"),n(o,s,m,"\u21c0","\\rightharpoonup"),n(o,s,m,"\u2199","\\swarrow"),n(o,s,m,"\u21bd","\\leftharpoondown"),n(o,s,m,"\u21c1","\\rightharpoondown"),n(o,s,m,"\u2196","\\nwarrow"),n(o,s,m,"\u21cc","\\rightleftharpoons"),n(o,u,m,"\u226e","\\nless"),n(o,u,m,"\ue010","\\nleqslant"),n(o,u,m,"\ue011","\\nleqq"),n(o,u,m,"\u2a87","\\lneq"),n(o,u,m,"\u2268","\\lneqq"),n(o,u,m,"\ue00c","\\lvertneqq"),n(o,u,m,"\u22e6","\\lnsim"),n(o,u,m,"\u2a89","\\lnapprox"),n(o,u,m,"\u2280","\\nprec"),n(o,u,m,"\u22e0","\\npreceq"),n(o,u,m,"\u22e8","\\precnsim"),n(o,u,m,"\u2ab9","\\precnapprox"),n(o,u,m,"\u2241","\\nsim"),n(o,u,m,"\ue006","\\nshortmid"),n(o,u,m,"\u2224","\\nmid"),n(o,u,m,"\u22ac","\\nvdash"),n(o,u,m,"\u22ad","\\nvDash"),n(o,u,m,"\u22ea","\\ntriangleleft"),n(o,u,m,"\u22ec","\\ntrianglelefteq"),n(o,u,m,"\u228a","\\subsetneq"),n(o,u,m,"\ue01a","\\varsubsetneq"),n(o,u,m,"\u2acb","\\subsetneqq"),n(o,u,m,"\ue017","\\varsubsetneqq"),n(o,u,m,"\u226f","\\ngtr"),n(o,u,m,"\ue00f","\\ngeqslant"),n(o,u,m,"\ue00e","\\ngeqq"),n(o,u,m,"\u2a88","\\gneq"),n(o,u,m,"\u2269","\\gneqq"),n(o,u,m,"\ue00d","\\gvertneqq"),n(o,u,m,"\u22e7","\\gnsim"),n(o,u,m,"\u2a8a","\\gnapprox"),n(o,u,m,"\u2281","\\nsucc"),n(o,u,m,"\u22e1","\\nsucceq"),n(o,u,m,"\u22e9","\\succnsim"),n(o,u,m,"\u2aba","\\succnapprox"),n(o,u,m,"\u2246","\\ncong"),n(o,u,m,"\ue007","\\nshortparallel"),n(o,u,m,"\u2226","\\nparallel"),n(o,u,m,"\u22af","\\nVDash"),n(o,u,m,"\u22eb","\\ntriangleright"),n(o,u,m,"\u22ed","\\ntrianglerighteq"),n(o,u,m,"\ue018","\\nsupseteqq"),n(o,u,m,"\u228b","\\supsetneq"),n(o,u,m,"\ue01b","\\varsupsetneq"),n(o,u,m,"\u2acc","\\supsetneqq"),n(o,u,m,"\ue019","\\varsupsetneqq"),n(o,u,m,"\u22ae","\\nVdash"),n(o,u,m,"\u2ab5","\\precneqq"),n(o,u,m,"\u2ab6","\\succneqq"),n(o,u,m,"\ue016","\\nsubseteqq"),n(o,u,l,"\u22b4","\\unlhd"),n(o,u,l,"\u22b5","\\unrhd"),n(o,u,m,"\u219a","\\nleftarrow"),n(o,u,m,"\u219b","\\nrightarrow"),n(o,u,m,"\u21cd","\\nLeftarrow"),n(o,u,m,"\u21cf","\\nRightarrow"),n(o,u,m,"\u21ae","\\nleftrightarrow"),n(o,u,m,"\u21ce","\\nLeftrightarrow"),n(o,u,m,"\u25b3","\\vartriangle"),n(o,u,v,"\u210f","\\hslash"),n(o,u,v,"\u25bd","\\triangledown"),n(o,u,v,"\u25ca","\\lozenge"),n(o,u,v,"\u24c8","\\circledS"),n(o,u,v,"\xae","\\circledR"),n(o,u,v,"\u2221","\\measuredangle"),n(o,u,v,"\u2204","\\nexists"),n(o,u,v,"\u2127","\\mho"),n(o,u,v,"\u2132","\\Finv"),n(o,u,v,"\u2141","\\Game"),n(o,u,v,"k","\\Bbbk"),n(o,u,v,"\u2035","\\backprime"),n(o,u,v,"\u25b2","\\blacktriangle"),n(o,u,v,"\u25bc","\\blacktriangledown"),n(o,u,v,"\u25a0","\\blacksquare"),n(o,u,v,"\u29eb","\\blacklozenge"),n(o,u,v,"\u2605","\\bigstar"),n(o,u,v,"\u2222","\\sphericalangle"),n(o,u,v,"\u2201","\\complement"),n(o,u,v,"\xf0","\\eth"),n(o,u,v,"\u2571","\\diagup"),n(o,u,v,"\u2572","\\diagdown"),n(o,u,v,"\u25a1","\\square"),n(o,u,v,"\u25a1","\\Box"),n(o,u,v,"\u25ca","\\Diamond"),n(o,u,v,"\xa5","\\yen"),n(o,u,v,"\u2713","\\checkmark"),n(o,u,v,"\u2136","\\beth"),n(o,u,v,"\u2138","\\daleth"),n(o,u,v,"\u2137","\\gimel"),n(o,u,v,"\u03dd","\\digamma"),n(o,u,v,"\u03f0","\\varkappa"),n(o,u,p,"\u250c","\\ulcorner"),n(o,u,h,"\u2510","\\urcorner"),n(o,u,p,"\u2514","\\llcorner"),n(o,u,h,"\u2518","\\lrcorner"),n(o,u,m,"\u2266","\\leqq"),n(o,u,m,"\u2a7d","\\leqslant"),n(o,u,m,"\u2a95","\\eqslantless"),n(o,u,m,"\u2272","\\lesssim"),n(o,u,m,"\u2a85","\\lessapprox"),n(o,u,m,"\u224a","\\approxeq"),n(o,u,l,"\u22d6","\\lessdot"),n(o,u,m,"\u22d8","\\lll"),n(o,u,m,"\u2276","\\lessgtr"),n(o,u,m,"\u22da","\\lesseqgtr"),n(o,u,m,"\u2a8b","\\lesseqqgtr"),n(o,u,m,"\u2251","\\doteqdot"),n(o,u,m,"\u2253","\\risingdotseq"),n(o,u,m,"\u2252","\\fallingdotseq"),n(o,u,m,"\u223d","\\backsim"),n(o,u,m,"\u22cd","\\backsimeq"),n(o,u,m,"\u2ac5","\\subseteqq"),n(o,u,m,"\u22d0","\\Subset"),n(o,u,m,"\u228f","\\sqsubset"),n(o,u,m,"\u227c","\\preccurlyeq"),n(o,u,m,"\u22de","\\curlyeqprec"),n(o,u,m,"\u227e","\\precsim"),n(o,u,m,"\u2ab7","\\precapprox"),n(o,u,m,"\u22b2","\\vartriangleleft"),n(o,u,m,"\u22b4","\\trianglelefteq"),n(o,u,m,"\u22a8","\\vDash"),n(o,u,m,"\u22aa","\\Vvdash"),n(o,u,m,"\u2323","\\smallsmile"),n(o,u,m,"\u2322","\\smallfrown"),n(o,u,m,"\u224f","\\bumpeq"),n(o,u,m,"\u224e","\\Bumpeq"),n(o,u,m,"\u2267","\\geqq"),n(o,u,m,"\u2a7e","\\geqslant"),n(o,u,m,"\u2a96","\\eqslantgtr"),n(o,u,m,"\u2273","\\gtrsim"),n(o,u,m,"\u2a86","\\gtrapprox"),n(o,u,l,"\u22d7","\\gtrdot"),n(o,u,m,"\u22d9","\\ggg"),n(o,u,m,"\u2277","\\gtrless"),n(o,u,m,"\u22db","\\gtreqless"),n(o,u,m,"\u2a8c","\\gtreqqless"),n(o,u,m,"\u2256","\\eqcirc"),n(o,u,m,"\u2257","\\circeq"),n(o,u,m,"\u225c","\\triangleq"),n(o,u,m,"\u223c","\\thicksim"),n(o,u,m,"\u2248","\\thickapprox"),n(o,u,m,"\u2ac6","\\supseteqq"),n(o,u,m,"\u22d1","\\Supset"),n(o,u,m,"\u2290","\\sqsupset"),n(o,u,m,"\u227d","\\succcurlyeq"),n(o,u,m,"\u22df","\\curlyeqsucc"),n(o,u,m,"\u227f","\\succsim"),n(o,u,m,"\u2ab8","\\succapprox"),n(o,u,m,"\u22b3","\\vartriangleright"),n(o,u,m,"\u22b5","\\trianglerighteq"),n(o,u,m,"\u22a9","\\Vdash"),n(o,u,m,"\u2223","\\shortmid"),n(o,u,m,"\u2225","\\shortparallel"),n(o,u,m,"\u226c","\\between"),n(o,u,m,"\u22d4","\\pitchfork"),n(o,u,m,"\u221d","\\varpropto"),n(o,u,m,"\u25c0","\\blacktriangleleft"),n(o,u,m,"\u2234","\\therefore"),n(o,u,m,"\u220d","\\backepsilon"),n(o,u,m,"\u25b6","\\blacktriangleright"),n(o,u,m,"\u2235","\\because"),n(o,u,m,"\u22d8","\\llless"),n(o,u,m,"\u22d9","\\gggtr"),n(o,u,l,"\u22b2","\\lhd"),n(o,u,l,"\u22b3","\\rhd"),n(o,u,m,"\u2242","\\eqsim"),n(o,s,m,"\u22c8","\\Join"),n(o,u,m,"\u2251","\\Doteq"),n(o,u,l,"\u2214","\\dotplus"),n(o,u,l,"\u2216","\\smallsetminus"),n(o,u,l,"\u22d2","\\Cap"),n(o,u,l,"\u22d3","\\Cup"),n(o,u,l,"\u2a5e","\\doublebarwedge"),n(o,u,l,"\u229f","\\boxminus"),n(o,u,l,"\u229e","\\boxplus"),n(o,u,l,"\u22c7","\\divideontimes"),n(o,u,l,"\u22c9","\\ltimes"),n(o,u,l,"\u22ca","\\rtimes"),n(o,u,l,"\u22cb","\\leftthreetimes"),n(o,u,l,"\u22cc","\\rightthreetimes"),n(o,u,l,"\u22cf","\\curlywedge"),n(o,u,l,"\u22ce","\\curlyvee"),n(o,u,l,"\u229d","\\circleddash"),n(o,u,l,"\u229b","\\circledast"),n(o,u,l,"\u22c5","\\centerdot"),n(o,u,l,"\u22ba","\\intercal"),n(o,u,l,"\u22d2","\\doublecap"),n(o,u,l,"\u22d3","\\doublecup"),n(o,u,l,"\u22a0","\\boxtimes"),n(o,u,m,"\u21e2","\\dashrightarrow"),n(o,u,m,"\u21e0","\\dashleftarrow"),n(o,u,m,"\u21c7","\\leftleftarrows"),n(o,u,m,"\u21c6","\\leftrightarrows"),n(o,u,m,"\u21da","\\Lleftarrow"),n(o,u,m,"\u219e","\\twoheadleftarrow"),n(o,u,m,"\u21a2","\\leftarrowtail"),n(o,u,m,"\u21ab","\\looparrowleft"),n(o,u,m,"\u21cb","\\leftrightharpoons"),n(o,u,m,"\u21b6","\\curvearrowleft"),n(o,u,m,"\u21ba","\\circlearrowleft"),n(o,u,m,"\u21b0","\\Lsh"),n(o,u,m,"\u21c8","\\upuparrows"),n(o,u,m,"\u21bf","\\upharpoonleft"),n(o,u,m,"\u21c3","\\downharpoonleft"),n(o,u,m,"\u22b8","\\multimap"),n(o,u,m,"\u21ad","\\leftrightsquigarrow"),n(o,u,m,"\u21c9","\\rightrightarrows"),n(o,u,m,"\u21c4","\\rightleftarrows"),n(o,u,m,"\u21a0","\\twoheadrightarrow"),n(o,u,m,"\u21a3","\\rightarrowtail"),n(o,u,m,"\u21ac","\\looparrowright"),n(o,u,m,"\u21b7","\\curvearrowright"),n(o,u,m,"\u21bb","\\circlearrowright"),n(o,u,m,"\u21b1","\\Rsh"),n(o,u,m,"\u21ca","\\downdownarrows"),n(o,u,m,"\u21be","\\upharpoonright"),n(o,u,m,"\u21c2","\\downharpoonright"),n(o,u,m,"\u21dd","\\rightsquigarrow"),n(o,u,m,"\u21dd","\\leadsto"),n(o,u,m,"\u21db","\\Rrightarrow"),n(o,u,m,"\u21be","\\restriction"),n(o,s,v,"\u2018","`"),n(o,s,v,"$","\\$"),n(a,s,v,"$","\\$"),n(o,s,v,"%","\\%"),n(a,s,v,"%","\\%"),n(o,s,v,"_","\\_"),n(a,s,v,"_","\\_"),n(o,s,v,"\u2220","\\angle"),n(o,s,v,"\u221e","\\infty"),n(o,s,v,"\u2032","\\prime"),n(o,s,v,"\u25b3","\\triangle"),n(o,s,v,"\u0393","\\Gamma"),n(o,s,v,"\u0394","\\Delta"),n(o,s,v,"\u0398","\\Theta"),n(o,s,v,"\u039b","\\Lambda"),n(o,s,v,"\u039e","\\Xi"),n(o,s,v,"\u03a0","\\Pi"),n(o,s,v,"\u03a3","\\Sigma"),n(o,s,v,"\u03a5","\\Upsilon"),n(o,s,v,"\u03a6","\\Phi"),n(o,s,v,"\u03a8","\\Psi"),n(o,s,v,"\u03a9","\\Omega"),n(o,s,v,"\xac","\\neg"),n(o,s,v,"\xac","\\lnot"),n(o,s,v,"\u22a4","\\top"),n(o,s,v,"\u22a5","\\bot"),n(o,s,v,"\u2205","\\emptyset"),n(o,u,v,"\u2205","\\varnothing"),n(o,s,f,"\u03b1","\\alpha"),n(o,s,f,"\u03b2","\\beta"),n(o,s,f,"\u03b3","\\gamma"),n(o,s,f,"\u03b4","\\delta"),n(o,s,f,"\u03f5","\\epsilon"),n(o,s,f,"\u03b6","\\zeta"),n(o,s,f,"\u03b7","\\eta"),n(o,s,f,"\u03b8","\\theta"),n(o,s,f,"\u03b9","\\iota"),n(o,s,f,"\u03ba","\\kappa"),n(o,s,f,"\u03bb","\\lambda"),n(o,s,f,"\u03bc","\\mu"),n(o,s,f,"\u03bd","\\nu"),n(o,s,f,"\u03be","\\xi"),n(o,s,f,"o","\\omicron"),n(o,s,f,"\u03c0","\\pi"),n(o,s,f,"\u03c1","\\rho"),n(o,s,f,"\u03c3","\\sigma"),n(o,s,f,"\u03c4","\\tau"),n(o,s,f,"\u03c5","\\upsilon"),n(o,s,f,"\u03d5","\\phi"),n(o,s,f,"\u03c7","\\chi"),n(o,s,f,"\u03c8","\\psi"),n(o,s,f,"\u03c9","\\omega"),n(o,s,f,"\u03b5","\\varepsilon"),n(o,s,f,"\u03d1","\\vartheta"),n(o,s,f,"\u03d6","\\varpi"),n(o,s,f,"\u03f1","\\varrho"),n(o,s,f,"\u03c2","\\varsigma"),n(o,s,f,"\u03c6","\\varphi"),n(o,s,l,"\u2217","*"),n(o,s,l,"+","+"),n(o,s,l,"\u2212","-"),n(o,s,l,"\u22c5","\\cdot"),n(o,s,l,"\u2218","\\circ"),n(o,s,l,"\xf7","\\div"),n(o,s,l,"\xb1","\\pm"),n(o,s,l,"\xd7","\\times"),n(o,s,l,"\u2229","\\cap"),n(o,s,l,"\u222a","\\cup"),n(o,s,l,"\u2216","\\setminus"),n(o,s,l,"\u2227","\\land"),n(o,s,l,"\u2228","\\lor"),n(o,s,l,"\u2227","\\wedge"),n(o,s,l,"\u2228","\\vee"),n(o,s,v,"\u221a","\\surd"),n(o,s,p,"(","("),n(o,s,p,"[","["),n(o,s,p,"\u27e8","\\langle"),n(o,s,p,"\u2223","\\lvert"),n(o,s,p,"\u2225","\\lVert"),n(o,s,h,")",")"),n(o,s,h,"]","]"),n(o,s,h,"?","?"),n(o,s,h,"!","!"),n(o,s,h,"\u27e9","\\rangle"),n(o,s,h,"\u2223","\\rvert"),n(o,s,h,"\u2225","\\rVert"),n(o,s,m,"=","="),n(o,s,m,"<","<"),n(o,s,m,">",">"),n(o,s,m,":",":"),n(o,s,m,"\u2248","\\approx"),n(o,s,m,"\u2245","\\cong"),n(o,s,m,"\u2265","\\ge"),n(o,s,m,"\u2265","\\geq"),n(o,s,m,"\u2190","\\gets"),n(o,s,m,">","\\gt"),n(o,s,m,"\u2208","\\in"),n(o,s,m,"\u2209","\\notin"),n(o,s,m,"\u2282","\\subset"),n(o,s,m,"\u2283","\\supset"),n(o,s,m,"\u2286","\\subseteq"),n(o,s,m,"\u2287","\\supseteq"),n(o,u,m,"\u2288","\\nsubseteq"),n(o,u,m,"\u2289","\\nsupseteq"),n(o,s,m,"\u22a8","\\models"),n(o,s,m,"\u2190","\\leftarrow"),n(o,s,m,"\u2264","\\le"),n(o,s,m,"\u2264","\\leq"),n(o,s,m,"<","\\lt"),n(o,s,m,"\u2260","\\ne"),n(o,s,m,"\u2260","\\neq"),n(o,s,m,"\u2192","\\rightarrow"),n(o,s,m,"\u2192","\\to"),n(o,u,m,"\u2271","\\ngeq"),n(o,u,m,"\u2270","\\nleq"),n(o,s,g,null,"\\!"),n(o,s,g,"\xa0","\\ "),n(o,s,g,"\xa0","~"),n(o,s,g,null,"\\,"),n(o,s,g,null,"\\:"),n(o,s,g,null,"\\;"),n(o,s,g,null,"\\enspace"),n(o,s,g,null,"\\qquad"),n(o,s,g,null,"\\quad"),n(o,s,g,"\xa0","\\space"),n(o,s,"punct",",",","),n(o,s,"punct",";",";"),n(o,s,"punct",":","\\colon"),n(o,u,l,"\u22bc","\\barwedge"),n(o,u,l,"\u22bb","\\veebar"),n(o,s,l,"\u2299","\\odot"),n(o,s,l,"\u2295","\\oplus"),n(o,s,l,"\u2297","\\otimes"),n(o,s,v,"\u2202","\\partial"),n(o,s,l,"\u2298","\\oslash"),n(o,u,l,"\u229a","\\circledcirc"),n(o,u,l,"\u22a1","\\boxdot"),n(o,s,l,"\u25b3","\\bigtriangleup"),n(o,s,l,"\u25bd","\\bigtriangledown"),n(o,s,l,"\u2020","\\dagger"),n(o,s,l,"\u22c4","\\diamond"),n(o,s,l,"\u22c6","\\star"),n(o,s,l,"\u25c3","\\triangleleft"),n(o,s,l,"\u25b9","\\triangleright"),n(o,s,p,"{","\\{"),n(a,s,v,"{","\\{"),n(o,s,h,"}","\\}"),n(a,s,v,"}","\\}"),n(o,s,p,"{","\\lbrace"),n(o,s,h,"}","\\rbrace"),n(o,s,p,"[","\\lbrack"),n(o,s,h,"]","\\rbrack"),n(o,s,p,"\u230a","\\lfloor"),n(o,s,h,"\u230b","\\rfloor"),n(o,s,p,"\u2308","\\lceil"),n(o,s,h,"\u2309","\\rceil"),n(o,s,v,"\\","\\backslash"),n(o,s,v,"\u2223","|"),n(o,s,v,"\u2223","\\vert"),n(o,s,v,"\u2225","\\|"),n(o,s,v,"\u2225","\\Vert"),n(o,s,m,"\u2191","\\uparrow"),n(o,s,m,"\u21d1","\\Uparrow"),n(o,s,m,"\u2193","\\downarrow"),n(o,s,m,"\u21d3","\\Downarrow"),n(o,s,m,"\u2195","\\updownarrow"),n(o,s,m,"\u21d5","\\Updownarrow"),n(o,o,d,"\u2210","\\coprod"),n(o,o,d,"\u22c1","\\bigvee"),n(o,o,d,"\u22c0","\\bigwedge"),n(o,o,d,"\u2a04","\\biguplus"),n(o,o,d,"\u22c2","\\bigcap"),n(o,o,d,"\u22c3","\\bigcup"),n(o,o,d,"\u222b","\\int"),n(o,o,d,"\u222b","\\intop"),n(o,o,d,"\u222c","\\iint"),n(o,o,d,"\u222d","\\iiint"),n(o,o,d,"\u220f","\\prod"),n(o,o,d,"\u2211","\\sum"),n(o,o,d,"\u2a02","\\bigotimes"),n(o,o,d,"\u2a01","\\bigoplus"),n(o,o,d,"\u2a00","\\bigodot"),n(o,o,d,"\u222e","\\oint"),n(o,o,d,"\u2a06","\\bigsqcup"),n(o,o,d,"\u222b","\\smallint"),n(a,s,"inner","\u2026","\\textellipsis"),n(o,s,"inner","\u2026","\\mathellipsis"),n(a,s,"inner","\u2026","\\ldots"),n(o,s,"inner","\u2026","\\ldots"),n(o,s,"inner","\u22ef","\\cdots"),n(o,s,"inner","\u22f1","\\ddots"),n(o,s,v,"\u22ee","\\vdots"),n(o,s,c,"\xb4","\\acute"),n(o,s,c,"`","\\grave"),n(o,s,c,"\xa8","\\ddot"),n(o,s,c,"~","\\tilde"),n(o,s,c,"\xaf","\\bar"),n(o,s,c,"\u02d8","\\breve"),n(o,s,c,"\u02c7","\\check"),n(o,s,c,"^","\\hat"),n(o,s,c,"\u20d7","\\vec"),n(o,s,c,"\u02d9","\\dot"),n(o,s,f,"\u0131","\\imath"),n(o,s,f,"\u0237","\\jmath"),n(a,s,v,"\u2013","--"),n(a,s,v,"\u2014","---"),n(a,s,v,"\u2018","`"),n(a,s,v,"\u2019","'"),n(a,s,v,"\u201c","``"),n(a,s,v,"\u201d","''"),n(o,s,v,"\xb0","\\degree"),n(a,s,v,"\xb0","\\degree"),n(o,s,f,"\xa3","\\pounds"),n(o,u,v,"\u2720","\\maltese"),n(a,u,v,"\u2720","\\maltese"),n(a,s,g,"\xa0","\\ "),n(a,s,g,"\xa0"," "),n(a,s,g,"\xa0","~"),r=0;r<'0123456789/@."'.length;r++)n(o,s,v,i='0123456789/@."'.charAt(r),i);for(r=0;r<'0123456789!@*()-=+[]";:?/.,'.length;r++)n(a,s,v,i='0123456789!@*()-=+[]";:?/.,'.charAt(r),i);var y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(r=0;r<y.length;r++)n(o,s,f,i=y.charAt(r),i),n(a,s,v,i,i);for(r=192;r<=214;r++)n(a,s,v,i=String.fromCharCode(r),i);for(r=216;r<=246;r++)n(a,s,v,i=String.fromCharCode(r),i);for(r=248;r<=255;r++)n(a,s,v,i=String.fromCharCode(r),i);for(r=1040;r<=1103;r++)n(a,s,v,i=String.fromCharCode(r),i);n(a,s,v,"\u2013","\u2013"),n(a,s,v,"\u2014","\u2014"),n(a,s,v,"\u2018","\u2018"),n(a,s,v,"\u2019","\u2019"),n(a,s,v,"\u201c","\u201c"),n(a,s,v,"\u201d","\u201d")},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),c=n("/WYv"),l=n("McSo"),h=n("En8+"),f=n("xTla"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},Gi3i:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("FFOo"),o=n("T1DM");function a(t,e){return void 0===e&&(e=o.a),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.dueTime,this.scheduler))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.d(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.a);function c(t){t.debouncedNext()}},HJBe:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t){return void 0===t&&(t=null),function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.d(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.a)},"HLL/":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"p",function(){return i}),n.d(e,"o",function(){return o}),n.d(e,"i",function(){return a}),n.d(e,"h",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"k",function(){return c}),n.d(e,"m",function(){return l}),n.d(e,"s",function(){return h}),n.d(e,"t",function(){return f}),n.d(e,"r",function(){return d}),n.d(e,"A",function(){return p}),n.d(e,"z",function(){return m}),n.d(e,"B",function(){return g}),n.d(e,"y",function(){return v}),n.d(e,"e",function(){return y}),n.d(e,"j",function(){return b}),n.d(e,"l",function(){return w}),n.d(e,"n",function(){return _}),n.d(e,"g",function(){return x}),n.d(e,"a",function(){return S}),n.d(e,"q",function(){return M}),n.d(e,"u",function(){return C}),n.d(e,"v",function(){return E}),n.d(e,"w",function(){return T}),n.d(e,"x",function(){return O}),n.d(e,"d",function(){return P}),n.d(e,"c",function(){return A});var r="Channel not present.",i=100,o=250,a="Import",s="Channel from import.",u="Channel from any available simulation.",c="Study input dimension.",l="",h="sLap",f="sRun",d="sLapCentreLine",p="tRun",m="tLap",g="t",v="time",y="distance",b="index",w="NLap",_="()",x="hsl(120, 100%, 50%)",S="hsl(240, 100%, 50%)",M="GenerateRacingLine",C="generateRacingLine",E="quasiStaticLap",T="quasiStaticLapWithGenerateRacingLine",O="trackConverter",P="track",A="car"},HNUh:function(t,e,n){"use strict";var r=n("mrSG"),i=n("8/63"),o=n("lFWV"),a=n("8i/y"),s=n("HLL/"),u=n("LXbF"),c=n("HrTc"),l=n("Aze8"),h=function(){function t(t,e,n){this.studyJob=t,this.simType=e,this.loadVectorMetadataMap=n}return t.prototype.get=function(){return this.cache||(this.cache=this.loadVectorMetadataMap.execute(this.studyJob.studyId,this.studyJob.jobIndex,this.simType)),Promise.resolve(this.cache)},t}(),f=n("/8X3"),d=n("eh5z"),p=function(){function t(t,e,n){this.urlFileLoader=t,this.getLegacyChannelMappings=e,this.channelDataTransforms=n}return t.prototype.execute=function(t,e,n,r,i,o){return o&&o.isScalarResult?this.executeForScalar(t,e,n,r,i,o):this.executeForVector(t,e,n,r,i)},t.prototype.executeForVector=function(t,e,n,i,o){return r.b(this,void 0,void 0,function(){var a,s,u,c,l,h,f,p,m;return r.e(this,function(r){switch(r.label){case 0:return[4,this.urlFileLoader.loadChannelData(t,e,n,i,o)];case 1:if(a=r.sent())return[3,8];s=0,u=this.channelDataTransforms.transforms,r.label=2;case 2:if(!(s<u.length))return[3,8];if(i!==(c=u[s]).targetDomain)return[3,6];l=0,h=c.sourceDomains,r.label=3;case 3:return l<h.length?[4,this.urlFileLoader.loadChannelData(t,e,n,h[l],o)]:[3,6];case 4:if(f=r.sent())return a=d.range(f.length),[3,6];r.label=5;case 5:return l++,[3,3];case 6:if(a)return[3,8];r.label=7;case 7:return s++,[3,2];case 8:if(a)return[3,11];p=this.getLegacyChannelMappings.execute(),r.label=9;case 9:return a?[3,11]:(m=p.find(function(t){return t.currentName===i}))&&i!==m.legacyName?[4,this.urlFileLoader.loadChannelData(t,e,n,i=m.legacyName,o)]:[3,11];case 10:return a=r.sent(),[3,9];case 11:return[2,a]}})})},t.prototype.executeForScalar=function(t,e,n,i,o,a){return r.b(this,void 0,void 0,function(){var i,s,u;return r.e(this,function(r){switch(r.label){case 0:return o&&a&&a.scalarName?[4,this.urlFileLoader.loadScalarResultsForSim(t,e,n)]:[2,void 0];case 1:return(i=r.sent())?(s=a.scalarName,(u=i.find(function(t){return t.name===s}))?[2,Array(o.pointsCount).fill(u.value)]:[2,void 0]):[2,void 0]}})})},t}(),m=function(){function t(t){this.channelDataFactory=t}return t.prototype.execute=function(t,e,n,r,i){var o=this.loadChannelMetadata(t,e,n,i),a=this.channelDataFactory.createChannelMetadata(t,o,r);return new g(o,a)},t.prototype.loadChannelMetadata=function(t,e,n,r){var i=n.map[t];if(i){if(r!==i.xDomainName){if(-1!==n.allDomainNames.indexOf(r))return;if(i.xDomainName!==n.defaultDomainName)return}return new c.b(i.name,Object(a.a)(i.name,e),i.description,i.units,i.binaryFormat,i.loaderMetadata)}},t}(),g=function(t,e){this.loadedMetadata=t,this.viewerMetadata=e},v=n("21LU");n.d(e,"a",function(){return y});var y=function(t){function e(e,n,r,i,o,a,s,u){var c=t.call(this)||this;return c.siteHooks=e,c.urlFileLoader=n,c.studyJob=r,c.simType=i,c.getStudyJobChannelMetadata=o,c.channelDataFactory=a,c.cache=s,c.loadStudyJobChannelData=u,c}return r.d(e,t),e.create=function(t,n,r,i,o){void 0===o&&(o=v.b.none);var a=new c.c(t),s=new f.a;return new e(t,n,r,i,new m(a),a,new h(r,i,l.a.create(n,o)),new p(n,s,o))},e.prototype.getSourceMetadata=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return[4,this.siteHooks.getStudyJobName(this.studyJob.studyId,this.studyJob.jobIndex)];case 1:return t=e.sent(),[2,new i.c(t+" / "+this.simType)]}})})},e.prototype.getChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o,a;return r.e(this,function(r){switch(r.label){case 0:return[4,this.cache.get()];case 1:return i=r.sent(),(o=this.getStudyJobChannelMetadata.execute(t,this.simType,i,e,n)).loadedMetadata?[4,this.loadStudyJobChannelData.execute(this.studyJob.studyId,this.studyJob.jobIndex,this.simType,o.loadedMetadata.genericName,o.loadedMetadata.binaryFormat,o.loadedMetadata.loaderMetadata)]:[3,3];case 2:a=r.sent(),r.label=3;case 3:return[2,this.channelDataFactory.createChannelDataFromMetadata(o.viewerMetadata,a)]}})})},e.prototype.getRequestableChannels=function(t,e){return r.b(this,void 0,void 0,function(){var n,i,c=this;return r.e(this,function(r){switch(r.label){case 0:return[4,this.cache.get()];case 1:switch(n=r.sent(),i=n.list.filter(function(t){return e===t.xDomainName}),t){case u.a.FullyQualified:return[2,i.map(function(t){return new o.a(t.name,s.f)}).concat(i.map(function(t){return new o.a(Object(a.a)(t.name,c.simType),t.description)}))];case u.a.Generic:return[2,i.map(function(t){return new o.a(t.name,t.description)})]}return[2,[]]}})})},e.prototype.getConfig=function(e){switch(e){case s.d:return this.urlFileLoader.loadTrackForStudyJob(this.studyJob.studyId,this.studyJob.jobIndex);case s.c:return this.urlFileLoader.loadCarForStudyJob(this.studyJob.studyId,this.studyJob.jobIndex)}return t.prototype.getConfig.call(this,e)},e}(i.b)},HrTc:function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("LBxW"),o=n("LXbF"),a=n("HLL/"),s=n("YJNB"),u=function(){function t(t){this.siteHooks=t}return t.prototype.createChannelDataWithModifiers=function(t,e,n){var r=new c(e(t.genericName),e(t.fullName),t.description,t.units,t.binaryFormat),i=t.name===t.fullName?o.a.FullyQualified:o.a.Generic,a=e(t.requestedName),s=this.createChannelMetadata(a,r,i);return this.createChannelDataFromMetadata(s,n,r.units)},t.prototype.createChannelData=function(t,e,n){return this.createSourceChannelData(void 0,t,e,n)},t.prototype.createSourceChannelData=function(t,e,n,r){var i=this.createSourceChannelMetadata(t,e,n,r);return n?this.createSourceChannelDataFromMetadata(i,n.values,n.units,n.valueLabels):i},t.prototype.createChannelMetadata=function(t,e,n){return this.createSourceChannelMetadata(void 0,t,e,n)},t.prototype.createSourceChannelMetadata=function(t,e,n,r){var s=e,u=e,c=a.b,l=void 0,h="()",f=void 0,d=void 0;return n&&(s=n.genericName,u=n.fullName,c=n.description||"",l=n.binaryFormat,h=n.units||h,f=this.siteHooks.getUserChannelUnitsSynchronous(s),d=n.loaderMetadata),new i.b(t,r===o.a.Generic?s:u,s,u,e,c,f||h,!!f,l,void 0,void 0,void 0,d)},t.prototype.createChannelDataFromMetadata=function(t,e,n,r){return e?(e=this.getValuesForSpecifiedUnits(e,n,t),t.clone(e,t.units,t.isUserSpecifiedUnits,r)):t},t.prototype.createSourceChannelDataFromMetadata=function(t,e,n,r){return e?(e=this.getValuesForSpecifiedUnits(e,n,t),t.cloneTyped(e,t.units,t.isUserSpecifiedUnits,r)):t},t.prototype.getValuesForSpecifiedUnits=function(t,e,n){return e?s.a.convertValuesBetweenUnits(t,e,n.units,!0):s.a.convertValuesFromSi(t,n.units,!0)},t}(),c=function(t,e,n,r,i,o){this.genericName=t,this.fullName=e,this.description=n,this.units=r,this.binaryFormat=i,this.loaderMetadata=o},l=function(t){function e(e,n,r,i,o,a,s,u){var c=t.call(this,e,n,r,i,o,u)||this;return c.values=a,c.valueLabels=s,c}return r.d(e,t),e}(c)},IRoh:function(t,e,n){"use strict";function r(t){return void 0===t||null===t}n.d(e,"a",function(){return r})},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},Ilow:function(t,e){e.isBrowser="undefined"!=typeof window},Ip0R:function(t,e,n){"use strict";n.d(e,"y",function(){return q}),n.d(e,"m",function(){return X}),n.d(e,"n",function(){return Y}),n.d(e,"z",function(){return Z}),n.d(e,"c",function(){return mt}),n.d(e,"j",function(){return J}),n.d(e,"k",function(){return Q}),n.d(e,"l",function(){return tt}),n.d(e,"o",function(){return st}),n.d(e,"p",function(){return it}),n.d(e,"q",function(){return ot}),n.d(e,"r",function(){return at}),n.d(e,"s",function(){return ut}),n.d(e,"d",function(){return gt}),n.d(e,"b",function(){return dt}),n.d(e,"e",function(){return pt}),n.d(e,"x",function(){return vt}),n.d(e,"w",function(){return bt}),n.d(e,"v",function(){return wt}),n.d(e,"u",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"i",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return h}),n.d(e,"t",function(){return f}),n.d(e,"h",function(){return c});var r=n("CcnG"),i=n("mrSG"),o=function(){},a=new r.s("Location Initialized"),s=function(){},u=new r.s("appBaseHref"),c=function(){function t(t){var n=this;this._subject=new r.n,this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(l(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,l(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function l(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},Object(i.c)([Object(i.g)(1,Object(r.D)()),Object(i.g)(1,Object(r.q)(u))],e)}(s),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return c.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},Object(i.c)([Object(i.g)(1,Object(r.D)()),Object(i.g)(1,Object(r.q)(u))],e)}(s),d=void 0,p=["en",[["a","p"],["AM","PM"],d],[["AM","PM"],d,d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",d,"{1} 'at' {0}",d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],m={},g=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),v=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),y=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),b=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),w=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function _(t,e){return E(O(t)[10],e)}function x(t,e){return E(O(t)[11],e)}function S(t,e){return E(O(t)[12],e)}function M(t,e){var n=O(t),r=n[13][e];if(void 0===r){if(e===w.CurrencyDecimal)return n[13][w.Decimal];if(e===w.CurrencyGroup)return n[13][w.Group]}return r}function C(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function E(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function T(t){var e=Object(i.h)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function O(t){var e=t.toLowerCase().replace(/_/g,"-"),n=m[e];if(n)return n;var r=e.split("-")[0];if(n=m[r])return n;if("en"===r)return p;throw new Error('Missing locale data for the locale "'+t+'".')}var P=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,A={},k=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,L=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),R=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),D=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function N(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function I(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function j(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,u=function(t,e){switch(t){case R.FullYear:return e.getFullYear();case R.Month:return e.getMonth();case R.Date:return e.getDate();case R.Hours:return e.getHours();case R.Minutes:return e.getMinutes();case R.Seconds:return e.getSeconds();case R.FractionalSeconds:return e.getMilliseconds();case R.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||u>-n)&&(u+=n),t===R.Hours)0===u&&-12===n&&(u=12);else if(t===R.FractionalSeconds)return s=e,I(u,3).substr(0,s);var c=M(a,w.MinusSign);return I(u,e,c,r,i)}}function z(t,e,n,r){return void 0===n&&(n=v.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case D.Months:return function(t,e,n){var r=O(t);return E(E([r[5],r[6]],e),n)}(e,i,r)[t.getMonth()];case D.Days:return function(t,e,n){var r=O(t);return E(E([r[3],r[4]],e),n)}(e,i,r)[t.getDay()];case D.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var u,c=function(t){var e=O(t);return C(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?T(t):[T(t[0]),T(t[1])]})}(e),l=function(t,e,n){var r=O(t);return C(r),E(E([r[19][0],r[19][1]],e)||[],n)||[]}(e,i,r);if(c.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(u=l[e])}else t.hours===a&&t.minutes===s&&(u=l[e])}),u)return u}return function(t,e,n){var r=O(t);return E(E([r[1],r[2]],e),n)}(e,i,r)[a<12?0:1];case D.Eras:return function(t,e){return E(O(t)[7],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function F(t){return function(e,n,r){var i=-1*r,o=M(n,w.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case L.Short:return(i>=0?"+":"")+I(a,2,o)+I(Math.abs(i%60),2,o);case L.ShortGMT:return"GMT"+(i>=0?"+":"")+I(a,1,o);case L.Long:return"GMT"+(i>=0?"+":"")+I(a,2,o)+":"+I(Math.abs(i%60),2,o);case L.Extended:return 0===r?"Z":(i>=0?"+":"")+I(a,2,o)+":"+I(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var V=0,B=4;function U(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(a=n.getFullYear(),s=new Date(a,V,1).getDay(),new Date(a,0,1+(s<=B?B:B+7)-s)),h=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(B-o.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return I(i,t,M(r,w.MinusSign))}}var H={};function G(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function W(t){return t instanceof Date&&!isNaN(t.valueOf())}var q=new r.s("UseV4Plurals"),Y=function(){},X=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.d)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return O(t)[18]}(e||this.locale)(t)){case g.Zero:return"zero";case g.One:return"one";case g.Two:return"two";case g.Few:return"few";case g.Many:return"many";default:return"other"}},Object(i.c)([Object(i.g)(0,Object(r.q)(r.x)),Object(i.g)(1,Object(r.D)()),Object(i.g)(1,Object(r.q)(q))],e)}(Y);function Z(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.j)(t.split(";")),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.indexOf("="),c=Object(i.h)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),l=c[1];if(c[0].trim()===e)return decodeURIComponent(l)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var J=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.xb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Lb)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),K=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Q=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.cb)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new K(null,e._ngForOf,-1,-1),i),a=new $(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new $(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),$=function(t,e){this.record=t,this.view=e},tt=function(){function t(t,e){this._viewContainer=t,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){nt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){nt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),et=function(){this.$implicit=null,this.ngIf=null};function nt(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r.Lb)(e)+"'.")}var rt=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),it=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),ot=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new rt(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},Object(i.c)([Object(i.g)(2,Object(r.o)())],t)}(),at=function(){return Object(i.c)([Object(i.g)(2,Object(r.o)())],function(t,e,n){n._addDefault(new rt(t,e))})}(),st=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(i.h)(t.split("."),2),r=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),ut=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(r.length===o.length){try{for(var a=Object(i.j)(o),s=a.next();!s.done;s=a.next())if(-1===r.indexOf(s.value))return!0}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=Object(i.j)(Object.keys(t)),o=r.next();!o.done;o=r.next()){var a=o.value;this._viewRef.context[a]=this.ngTemplateOutletContext[a]}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}();function ct(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r.Lb)(t)+"'")}var lt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),ht=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),ft=new lt,dt=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.V.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(t){if(Object(r.zb)(t))return ht;if(Object(r.yb)(t))return ft;throw ct(e,t)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),pt=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,o){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return function(t,e,n,r){var o=function(t){if(W(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(i.h)(t.split("-").map(function(t){return+t}),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(P))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(e)}var o=new Date(t);if(!W(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=function(t){return O(t)[0]}(e);if(A[r]=A[r]||{},A[r][n])return A[r][n];var i="";switch(n){case"shortDate":i=_(e,b.Short);break;case"mediumDate":i=_(e,b.Medium);break;case"longDate":i=_(e,b.Long);break;case"fullDate":i=_(e,b.Full);break;case"shortTime":i=x(e,b.Short);break;case"mediumTime":i=x(e,b.Medium);break;case"longTime":i=x(e,b.Long);break;case"fullTime":i=x(e,b.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=N(S(e,b.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");i=N(S(e,b.Medium),[s,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");i=N(S(e,b.Long),[c,l]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=N(S(e,b.Full),[h,f])}return i&&(A[r][n]=i),i}(n,e)||e;for(var a,s=[];e;){if(!(a=k.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var c=o.getTimezoneOffset();r&&(c=G(r,c),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(G(e,r)-r))}(o,r));var l="";return s.forEach(function(t){var e=function(t){if(H[t])return H[t];var e;switch(t){case"G":case"GG":case"GGG":e=z(D.Eras,y.Abbreviated);break;case"GGGG":e=z(D.Eras,y.Wide);break;case"GGGGG":e=z(D.Eras,y.Narrow);break;case"y":e=j(R.FullYear,1,0,!1,!0);break;case"yy":e=j(R.FullYear,2,0,!0,!0);break;case"yyy":e=j(R.FullYear,3,0,!1,!0);break;case"yyyy":e=j(R.FullYear,4,0,!1,!0);break;case"M":case"L":e=j(R.Month,1,1);break;case"MM":case"LL":e=j(R.Month,2,1);break;case"MMM":e=z(D.Months,y.Abbreviated);break;case"MMMM":e=z(D.Months,y.Wide);break;case"MMMMM":e=z(D.Months,y.Narrow);break;case"LLL":e=z(D.Months,y.Abbreviated,v.Standalone);break;case"LLLL":e=z(D.Months,y.Wide,v.Standalone);break;case"LLLLL":e=z(D.Months,y.Narrow,v.Standalone);break;case"w":e=U(1);break;case"ww":e=U(2);break;case"W":e=U(1,!0);break;case"d":e=j(R.Date,1);break;case"dd":e=j(R.Date,2);break;case"E":case"EE":case"EEE":e=z(D.Days,y.Abbreviated);break;case"EEEE":e=z(D.Days,y.Wide);break;case"EEEEE":e=z(D.Days,y.Narrow);break;case"EEEEEE":e=z(D.Days,y.Short);break;case"a":case"aa":case"aaa":e=z(D.DayPeriods,y.Abbreviated);break;case"aaaa":e=z(D.DayPeriods,y.Wide);break;case"aaaaa":e=z(D.DayPeriods,y.Narrow);break;case"b":case"bb":case"bbb":e=z(D.DayPeriods,y.Abbreviated,v.Standalone,!0);break;case"bbbb":e=z(D.DayPeriods,y.Wide,v.Standalone,!0);break;case"bbbbb":e=z(D.DayPeriods,y.Narrow,v.Standalone,!0);break;case"B":case"BB":case"BBB":e=z(D.DayPeriods,y.Abbreviated,v.Format,!0);break;case"BBBB":e=z(D.DayPeriods,y.Wide,v.Format,!0);break;case"BBBBB":e=z(D.DayPeriods,y.Narrow,v.Format,!0);break;case"h":e=j(R.Hours,1,-12);break;case"hh":e=j(R.Hours,2,-12);break;case"H":e=j(R.Hours,1);break;case"HH":e=j(R.Hours,2);break;case"m":e=j(R.Minutes,1);break;case"mm":e=j(R.Minutes,2);break;case"s":e=j(R.Seconds,1);break;case"ss":e=j(R.Seconds,2);break;case"S":e=j(R.FractionalSeconds,1);break;case"SS":e=j(R.FractionalSeconds,2);break;case"SSS":e=j(R.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=F(L.Short);break;case"ZZZZZ":e=F(L.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=F(L.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=F(L.Long);break;default:return null}return H[t]=e,e}(t);l+=e?e(o,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,n,o||this.locale,r)}catch(t){throw ct(e,t.message)}},e=Object(i.c)([Object(i.g)(0,Object(r.q)(r.x))],t)}(),mt=function(){},gt=new r.s("DocumentToken"),vt="browser",yt="server";function bt(t){return t===yt}var wt=function(){function t(){}return t.ngInjectableDef=Object(r.X)({providedIn:"root",factory:function(){return new _t(Object(r.bb)(gt),window)}}),t}(),_t=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},Iss5:function(t,e,n){var r=n("fARj").DiffContext,i=n("MmxI").PatchContext,o=n("+i0I").ReverseContext,a=n("gbwj"),s="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},u="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]===e)return r;return-1};function c(t,e,n,r,i){var o=t[n],a=e[r];if(o===a)return!0;if("object"!=typeof o||"object"!=typeof a)return!1;var s,u,c=i.objectHash;return c?("number"==typeof n?(i.hashCache1=i.hashCache1||[],void 0===(s=i.hashCache1[n])&&(i.hashCache1[n]=s=c(o,n))):s=c(o),void 0!==s&&("number"==typeof r?(i.hashCache2=i.hashCache2||[],void 0===(u=i.hashCache2[r])&&(i.hashCache2[r]=u=c(a,r))):u=c(a),void 0!==u&&s===u)):i.matchByPosition&&n===r}var l=function(t){if(t.leftIsArray){var e,n,i,o,s,l={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},h=0,f=0,d=t.left,p=t.right,m=d.length,g=p.length;for(m>0&&g>0&&!l.objectHash&&"boolean"!=typeof l.matchByPosition&&(l.matchByPosition=!function(t,e,n,r){for(var i=0;i<n;i++)for(var o=t[i],a=0;a<r;a++)if(i!==a&&o===e[a])return!0}(d,p,m,g));h<m&&h<g&&c(d,p,h,h,l);)o=new r(t.left[e=h],t.right[e]),t.push(o,e),h++;for(;f+h<m&&f+h<g&&c(d,p,m-1-f,g-1-f,l);)o=new r(t.left[n=m-1-f],t.right[i=g-1-f]),t.push(o,i),f++;if(h+f!==m)if(h+f!==g){delete l.hashCache1,delete l.hashCache2;var v=d.slice(h,m-f),y=p.slice(h,g-f),b=a.get(v,y,c,l),w=[];for(s=s||{_t:"a"},e=h;e<m-f;e++)u(b.indices1,e-h)<0&&(s["_"+e]=[d[e],0,0],w.push(e));var _=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(_=!1);var x=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(x=!0);var S=w.length;for(e=h;e<g-f;e++){var M=u(b.indices2,e-h);if(M<0){var C=!1;if(_&&S>0)for(var E=0;E<S;E++)if(c(v,y,(n=w[E])-h,e-h,l)){s["_"+n].splice(1,2,e,3),x||(s["_"+n][0]=""),o=new r(t.left[n],t.right[i=e]),t.push(o,i),w.splice(E,1),C=!0;break}C||(s[e]=[p[e]])}else o=new r(t.left[n=b.indices1[M]+h],t.right[i=b.indices2[M]+h]),t.push(o,i)}t.setResult(s).exit()}else{for(s=s||{_t:"a"},e=h;e<m-f;e++)s["_"+e]=[d[e],0,0];t.setResult(s).exit()}else{if(m===g)return void t.setResult(void 0).exit();for(s=s||{_t:"a"},e=h;e<g-f;e++)s[e]=[p[e]];t.setResult(s).exit()}}};l.filterName="arrays";var h=function(t,e){return t-e},f=function(t){if(t.nested&&"a"===t.delta._t){var e,n,r=t.delta,o=t.left,a=[],s=[],u=[];for(e in r)if("_t"!==e)if("_"===e[0]){if(0!==r[e][2]&&3!==r[e][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+r[e][2]);a.push(parseInt(e.slice(1),10))}else 1===r[e].length?s.push({index:parseInt(e,10),value:r[e][0]}):u.push({index:parseInt(e,10),delta:r[e]});for(e=(a=a.sort(h)).length-1;e>=0;e--){var c=r["_"+(n=a[e])],l=o.splice(n,1)[0];3===c[2]&&s.push({index:c[1],value:l})}var f=(s=s.sort(("index",function(t,e){return t.index-e.index}))).length;for(e=0;e<f;e++){var d=s[e];o.splice(d.index,0,d.value)}var p,m=u.length;if(m>0)for(e=0;e<m;e++){var g=u[e];p=new i(t.left[g.index],g.delta),t.push(p,g.index)}t.children?t.exit():t.setResult(t.left).exit()}};f.filterName="arrays";var d=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e,n=t.children.length,r=0;r<n;r++)t.left[(e=t.children[r]).childName]=e.result;t.setResult(t.left).exit()}};d.filterName="arraysCollectChildren";var p=function(t){if(t.nested){if("a"===t.delta._t){var e,n;for(e in t.delta)"_t"!==e&&(n=new o(t.delta[e]),t.push(n,e));t.exit()}}else 3===t.delta[2]&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),3]).exit())};p.filterName="arrays";var m=function(t,e,n){if("string"==typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(s(n)&&0===n[2])return"_"+e;var r=+e;for(var i in t){var o=t[i];if(s(o))if(3===o[2]){var a=parseInt(i.substr(1),10),u=o[1];if(u===+e)return a;a<=r&&u>r?r++:a>=r&&u<r&&r--}else 0===o[2]?parseInt(i.substr(1),10)<=r&&r++:1===o.length&&i<=r&&r--}return r},g=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e,n=t.children.length,r={_t:"a"},i=0;i<n;i++){var o=(e=t.children[i]).newName;void 0===o&&(o=m(t.delta,e.childName,e.result)),r[o]!==e.result&&(r[o]=e.result)}t.setResult(r).exit()}};g.filterName="arraysCollectChildren",e.diffFilter=l,e.patchFilter=f,e.collectChildrenPatchFilter=d,e.reverseFilter=p,e.collectChildrenReverseFilter=g},JSe9:function(t,e){var n="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};t.exports=function t(e){if("object"!=typeof e)return e;if(null===e)return null;if(n(e))return e.map(t);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return r=/^\/(.*)\/([gimyu]*)$/.exec(e.toString()),new RegExp(r[1],r[2]);var r,i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=t(e[o]));return i}},JSrw:function(t,e,n){"use strict";var r,i=n("mrSG"),o=n("Womt"),a=function(){function t(t,e,n){this.x=t,this.y=e,this.z=n}return Object.defineProperty(t.prototype,"worldVector",{get:function(){return new o.Vector3(this.x,-this.z,this.y)},enumerable:!0,configurable:!0}),t.prototype.withOffset=function(e){return new t(this.x+e[0],this.y+e[1],this.z+e[2])},t.prototype.equals=function(t){return!!t&&this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.isCloseTo=function(t){return!!t&&this.isDimensionCloseTo(this.x,t.x)&&this.isDimensionCloseTo(this.y,t.y)&&this.isDimensionCloseTo(this.z,t.z)},t.prototype.isDimensionCloseTo=function(t,e){return Math.abs(t-e)<1e-5},t}(),s=new(function(){function t(){}return t.prototype.fromArray=function(t,e){return void 0===e&&(e=[0,0,0]),new a(t[0]+e[0],t[1]+e[1],t[2]+e[2])},t}()),u=n("MCLT");!function(t){t.frontExternal="Front External",t.frontExternalL="Front External Left",t.rearExternal="Rear External",t.rearExternalL="Rear External Left",t.frontInternal="Front Internal",t.frontInternalL="Front Internal Left",t.rearInternal="Rear Internal",t.rearInternalL="Rear Internal Left",t.chassis="Chassis",t.chassisL="Chassis Left"}(r||(r={}));var c=[r.frontExternal,r.frontExternalL,r.rearExternal,r.rearExternalL,r.frontInternal,r.frontInternalL,r.rearInternal,r.rearInternalL,r.chassis,r.chassisL],l=function(t){return t[t.line=0]="line",t[t.circle=1]="circle",t}({}),h=function(){return function(t,e,n){void 0===n&&(n=l.line),this.name=t,this.coordinates=e,this.type=n}}(),f=function(t,e,n,r,i){this.name=t,this.memberNames=e,this.map=n,this.list=r,this.raw=i},d=function(){function t(t,e,n,i,o,a,s,u,c,l){this.frontExternal=t,this.frontExternalL=e,this.rearExternal=n,this.rearExternalL=i,this.frontInternal=o,this.frontInternalL=a,this.rearInternal=s,this.rearInternalL=u,this.chassis=c,this.chassisL=l,this.verifySuspensionData(r.frontExternal,t),this.verifySuspensionData(r.frontExternalL,e),this.verifySuspensionData(r.rearExternal,n),this.verifySuspensionData(r.rearExternalL,i),this.verifySuspensionData(r.frontInternal,o),this.verifySuspensionData(r.frontInternalL,a),this.verifySuspensionData(r.rearInternal,s),this.verifySuspensionData(r.rearInternalL,u),this.verifySuspensionData(r.chassis,c),this.verifySuspensionData(r.chassisL,l)}return t.prototype.getArea=function(t){switch(t){case r.frontExternal:return this.frontExternal;case r.frontExternalL:return this.frontExternalL;case r.rearExternal:return this.rearExternal;case r.rearExternalL:return this.rearExternalL;case r.frontInternal:return this.frontInternal;case r.frontInternalL:return this.frontInternalL;case r.rearInternal:return this.rearInternal;case r.rearInternalL:return this.rearInternalL;case r.chassis:return this.chassis;case r.chassisL:return this.chassisL}},t.prototype.verifySuspensionData=function(t,e){if(e.name!==t)throw new Error("Incorrect suspension area. Expected "+t+" but got "+e.name+".")},t}(),p=function(){function t(t){this.car=t}return Object.defineProperty(t.prototype,"frontSuspension",{get:function(){return new m(this.car&&this.car.suspension&&this.car.suspension.front)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rearSuspension",{get:function(){return new m(this.car&&this.car.suspension&&this.car.suspension.rear)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chassis",{get:function(){return this.car&&this.car.chassis||{}},enumerable:!0,configurable:!0}),t}(),m=function(){function t(t){this.suspension=t,this.suspension||(this.suspension={})}return Object.defineProperty(t.prototype,"suspensionOffset",{get:function(){return this.suspension.rSuspensionDatumOffset||[0,0,0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"externalPickUpPoints",{get:function(){return this.suspension.external&&this.suspension.external.pickUpPts||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"externalPickUpPointsL",{get:function(){return this.suspension.external&&this.suspension.external.pickUpPtsL||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"internalPickUpPoints",{get:function(){return this.suspension.internal&&this.suspension.internal.pickUpPts||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"internalPickUpPointsL",{get:function(){return this.suspension.internal&&this.suspension.internal.pickUpPtsL||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheel",{get:function(){return new g(this.suspension.rWheelDesign,this.suspension.rWheelSetup)},enumerable:!0,configurable:!0}),t}(),g=function(t,e){this.rWheelDesign=t,this.rWheelSetup=e},v=function(){function t(){}return t.prototype.execute=function(t){var e=new p(t),n=e.frontSuspension,i=e.rearSuspension,o=this.getExternalMembers(r.frontExternal,n.externalPickUpPoints,n.wheel,n.suspensionOffset),a=this.getExternalMembers(r.frontExternalL,n.externalPickUpPointsL,n.wheel,n.suspensionOffset),s=this.getExternalMembers(r.rearExternal,i.externalPickUpPoints,i.wheel,i.suspensionOffset),u=this.getExternalMembers(r.rearExternalL,i.externalPickUpPointsL,i.wheel,i.suspensionOffset),c=this.getInternalMembers(r.frontInternal,n.internalPickUpPoints,n.suspensionOffset),l=this.getInternalMembers(r.frontInternalL,n.internalPickUpPointsL,n.suspensionOffset),h=this.getInternalMembers(r.rearInternal,i.internalPickUpPoints,i.suspensionOffset),f=this.getInternalMembers(r.rearInternalL,i.internalPickUpPointsL,i.suspensionOffset),m=this.getChassisMembers(r.chassis,e.chassis),g=this.getChassisMembers(r.chassisL,e.chassis,"L");return new d(o,a,s,u,c,l,h,f,m,g)},t.prototype.getChassisMembers=function(t,e,n){void 0===n&&(n="");for(var r={"Ride Height":["rRideF","rRideR"],Undertray:["rUndertrayFront","rUndertrayMid","rUndertrayRear"]},i=Object.keys(r),o=[],a=0,u=i;a<u.length;a++){var c=u[a];n&&r[c].every(function(t){return!e[t+n]})?o.push(new h(c,void 0)):r[c].some(function(t){return!e[t+n]&&!e[t]})?o.push(new h(c,void 0)):o.push(new h(c,r[c].map(function(t){return s.fromArray(e[t+n]||e[t])})))}var l=this.getMemberMap(e);return new f(t,i,l,o,e)},t.prototype.getExternalMemberNames=function(t){return"Abstract set of mechanical advantages"===t.name?[]:t.rPRO?["FUWB","RUWB","FLWB","RLWB","PR","TR"]:["FUWB","RUWB","FLWB","RLWB","TR"]},t.prototype.getExternalMembers=function(t,e,n,r){for(var i=this.getExternalMemberNames(e).concat(["DamperStrut"]),o=[],a=0,u=i;a<u.length;a++){var c=u[a];o.push(new h(c,e["r"+c+"I"]&&e["r"+c+"O"]||e["r"+c+"Inboard"]&&e["r"+c+"Outboard"]?[s.fromArray(e["r"+c+"I"]||e["r"+c+"Inboard"],r),s.fromArray(e["r"+c+"O"]||e["r"+c+"Outboard"],r)]:void 0))}var d=this.getMemberMap(e,r);if(d.rRockerC||(d.rRLWBI&&(d.rRockerC=d.rRLWBI),d.rFLWBI&&(d.rRockerAxis=d.rFLWBI)),d.rRockerC&&o.push(new h("Rocker Axis",[d.rRockerC])),d.rAxleC){var p=d.rAxleC;o.push(new h("Hub Centre",[p])),n.rWheelDesign&&o.push(new h("Wheel Design Radius",[p,s.fromArray([p.x,p.y,p.z-n.rWheelDesign])],l.circle)),n.rWheelSetup&&o.push(new h("Wheel Setup Radius",[p,s.fromArray([p.x,p.y,p.z-n.rWheelSetup])],l.circle))}return this.getArbMembers(o,e,r),o=this.removeMembersAtOrigin(o,r),new f(t,i,d,o,e)},t.prototype.getInternalMembers=function(t,e,n){for(var r=["Spring","BumpStop","Damper","Inerter"],i=r.map(function(t){return"Corner"+t}),o=r.map(function(t){return"Tri"+t}),a=i.concat(o),u=[],c=0,l=i;c<l.length;c++){var d=l[c];u.push(new h(d,e["r"+d+"Chassis"]&&e["r"+d]?[s.fromArray(e["r"+d+"Chassis"],n),s.fromArray(e["r"+d],n)]:void 0))}for(var p=0,m=o;p<m.length;p++){var g=m[p],v=e["r"+g];u.push(new h(g,v?[s.fromArray([v[0],0,v[2]],n),s.fromArray(v,n)]:"TriSpring"===g&&e.rTriSpringTBar&&e.rTriSpringAnchor?[s.fromArray(e.rTriSpringTBar,n),s.fromArray(e.rTriSpringAnchor,n)]:void 0))}this.getArbMembers(u,e,n),u=this.removeMembersAtOrigin(u,n);var y=this.getMemberMap(e,n);return new f(t,a,y,u,e)},t.prototype.getArbMembers=function(t,e,n){var r=e.rARBRockerPickup||e.rARBSuspensionPickup,i=e.rARBPickupInboard,o=e.rARBAxis,a=e.rARBAnchor;o&&(a?(t.push(new h("ARB Lever Arm",[s.fromArray([i[0],0,i[2]],n),s.fromArray(i,n)])),t.push(new h("ARB Torsion Element",[s.fromArray([i[0],0,i[2]],n),s.fromArray(a,n)]))):(t.push(new h("ARB Lever Arm",[s.fromArray([o[0],i[1],o[2]],n),s.fromArray(i,n)])),t.push(new h("ARB Torsion Element",[s.fromArray([o[0],i[1],o[2]],n),s.fromArray([o[0],0,o[2]],n)])))),r&&i&&t.push(new h("ARB Pickups",[s.fromArray(r,n),s.fromArray(i,n)]))},t.prototype.removeMembersAtOrigin=function(t,e){return t.map(function(t){return t.coordinates&&t.coordinates.every(function(t){return t.x===e[0]&&t.y===e[1]&&t.z===e[2]})?new h(t.name,void 0):t})},t.prototype.getMemberMap=function(t,e){var n={};for(var r in t){var i=t[r];Object(u.isArray)(i)&&(n[r]=s.fromArray(i,e))}return n},t}(),y=n("pDbJ"),b=n("mS5I"),w=function(t){function e(e){var n=t.call(this,e)||this;return n.svgPadding=new b.a(5,5,18,5),n}return i.d(e,t),e.build=function(t){return new e(t)},e}(y.a),_=n("XTo3"),x=function(){function t(t){this.inner=new S(t)}return t.prototype.render=function(t){return this.inner.render(t),this},t.prototype.selectedComponents=function(t){return this.inner.selectedComponents=t,this},t}(),S=function(){function t(t){this.settings=t,this.selectedComponents=[]}return t.prototype.render=function(t){var e=this,n=t.selectAll(".selected-components").data([null]),r=n.enter().append("g").attr("class","selected-components").merge(n);r.attr("transform","translate("+(this.settings.svgSize.width-this.settings.svgPadding.right-this.settings.chartMargin.right)+", "+(this.settings.svgPadding.top+this.settings.chartMargin.top+this.settings.chartSize.height)+")");var i=r.selectAll(".selected-component").data(function(){return(e.selectedComponents||[]).map(function(t){return t.userData.model})});i.exit().remove();var o=i.enter().append("g").attr("class","selected-component"),a=o.merge(i);a.attr("transform",function(t,e){return"translate(0, "+-15*e+")"}),o.append("text").attr("font-size","12px"),a.select("text").attr("fill",function(t){return t.colorString}).text(function(t){return t.suspensionArea.name+" - "+t.suspensionMember.name})},t}(),M=n("ixgt"),C=n("d7hM"),E=function(t,e,n){this.suspensionArea=t,this.suspensionMember=e,this.colorString=n},T=function(t){function e(e,n){var r=t.call(this,e)||this;return r.extractSuspensionDataFromCar=n,r}return i.d(e,t),e.prototype.performBuild=function(){this.selectedComponentsRenderer=new x(this.settings)},e.prototype.performUpdate=function(t){if(this.selectedComponentsRenderer&&t){var e=this.getIntersectionGroups(t);if(this.highlightedGroups&&!this.areIntersectionGroupsEqual(this.highlightedGroups,e)){for(var n=0,r=this.highlightedGroups;n<r.length;n++){var i=r[n];i.userData.model&&this.setMemberColor(i,void 0)}this.highlightedGroups=void 0}if(e&&!this.areIntersectionGroupsEqual(e,this.highlightedGroups)){this.highlightedGroups=e;for(var o=0,a=e;o<a.length;o++){var s=a[o];s.userData.model&&this.setMemberColor(s,function(t){return t.multiplyScalar(.75)})}this.selectedComponentsRenderer.selectedComponents(this.highlightedGroups).render(this.svg)}}},e.prototype.areIntersectionGroupsEqual=function(t,e){return!t&&!e||!(!t||!e)&&t.length===e.length&&t.every(function(t){return-1!==e.indexOf(t)})&&e.every(function(e){return-1!==t.indexOf(e)})},e.prototype.getIntersectionGroups=function(t){if(t){var e=t.intersectObjects(this.group.children,!0);if((e=e.filter(function(t){if(t.object.userData.ignoreIntersection)return!1;var e=!0;return t.object.traverseAncestors(function(t){return e=e&&t.visible}),e}))&&e.length)return Object(M.a)(e.map(function(t){return t.object.parent}),function(t){return t})}return[]},e.prototype.setMemberColor=function(t,e){t.traverse(function(t){if(t.userData.originalColor){var n=t.material;if(n){var r=n.color;r&&r.set(e?e(new o.Color(t.userData.originalColor)):t.userData.originalColor)}}})},e.prototype.renderConfig=function(t,e){for(var n=this.extractSuspensionDataFromCar.execute(e),r=new o.Group,i=0,a=c;i<a.length;i++){var s=n.getArea(a[i]);this.addSuspensionAreaToScene(r,t,s)}return new C.b(t,r)},e.prototype.addSuspensionAreaToScene=function(t,e,n){for(var r=0,i=0,a=n.list;i<a.length;i++){var s=a[i],u=this.settings.getChannelColor(r,e);if(++r,s.coordinates&&s.coordinates.length){var c=new o.Group;t.add(c);var h=new o.Color(u);switch(c.userData.model=new E(n,s,u),s.type){case l.line:this.addSuspensionMemberAsLine(h,s,c);break;case l.circle:this.addSuspensionMemberAsCircle(h,s,c)}}}},e.prototype.addSuspensionMemberAsCircle=function(t,e,n){if(e.coordinates&&2===e.coordinates.length){for(var r=e.coordinates[0].worldVector,i=r.distanceTo(e.coordinates[1].worldVector),a=new o.Geometry,s=new o.LineBasicMaterial({color:t,linewidth:1}),u=0;u<=32;u++){var c=u/32*Math.PI*2;a.vertices.push(new o.Vector3(r.x+Math.cos(c)*i,r.y+Math.sin(c)*i,r.z))}n.add(new o.Line(a,s))}},e.prototype.addSuspensionMemberAsLine=function(t,e,n){if(e.coordinates)for(var r=new o.MeshPhongMaterial({color:t,flatShading:!1,specular:4473924,overdraw:.5}),i=new o.MeshPhongMaterial({color:t,flatShading:!1,specular:4473924,overdraw:.5,wireframe:!0,wireframeLinewidth:.1}),a=new o.LineBasicMaterial({color:t,linewidth:1}),s=new o.LineDashedMaterial({color:14540253,dashSize:.02,gapSize:.02}),u=0;u<e.coordinates.length;++u){var c=e.coordinates[u];if(0===u){var l=new o.SphereGeometry(.012,16,16),h=new o.Mesh(l,r);h.position.copy(c.worldVector),h.userData.originalColor=t,n.add(h);var f=new o.Geometry;f.vertices.push(c.worldVector),f.vertices.push(c.worldVector.setY(0));var d=new o.Line(f,s);d.computeLineDistances(),d.userData.originalColor=14540253,n.add(d)}else{var p=e.coordinates[u-1],m=new o.Geometry;m.vertices.push(p.worldVector),m.vertices.push(c.worldVector);var g=new o.Line(m,a);g.userData.originalColor=t,n.add(g);var v=new o.Geometry;v.vertices.push(c.worldVector),v.vertices.push(c.worldVector.setY(0));var y=new o.Line(v,s);y.computeLineDistances(),y.userData.originalColor=14540253,n.add(y);var b=new o.SphereGeometry(.012,10,10),w=new o.Mesh(b,i);w.position.copy(c.worldVector),w.userData.originalColor=t,n.add(w)}}},e}(C.a),O=n("TDx+"),P=n("LXWq"),A=n("oaYw"),k=n("OkkV"),L=n("HLL/");n.d(e,"a",function(){return R}),n.d(e,"b",function(){return D});var R="suspensionViewer",D=function(t){function e(e,n,r){var i=t.call(this,0,e,n)||this;return i.suspensionRenderer=r,i.loadedCars=[],i.cameraNear=.01,i.cameraFar=100,i}return i.d(e,t),e.create=function(t,n){return new e(t,n,new T(n,new v))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.suspensionRenderer.dispose()},e.prototype.build=function(e){return i.b(this,void 0,void 0,function(){var n,r,a,s,u,c=this;return i.e(this,function(i){switch(i.label){case 0:return this.settings=w.build(this.sharedState.sourceLoaderSet.sources.length),[4,this.loadCurrentCars()];case 1:return i.sent(),[4,t.prototype.build.call(this,e,this.settings)];case 2:return i.sent()&&this.scene&&this.sceneParent&&this.cameraState&&this.svg&&this.element?(this.suspensionRendererGroup=this.suspensionRenderer.build(this.settings,this.svg,this.loadedCars),this.scene.add(this.suspensionRendererGroup),n=this.suspensionRenderer.groupWithoutIgnoredObjects(this.suspensionRendererGroup),r=(new o.Box3).setFromObject(n),s=new o.Vector3(a=(r.max.x+r.min.x)/2,1.5,-2.2),u=new o.Vector3(a,0,0),this.orbitControlsRenderer=new O.a(this.settings,this.element,this.svg,this.sceneParent,this.scene,this.cameraState),this.orbitControlsRenderer.build(s,u),this.isRenderingManually&&this.orbitControlsRenderer.addEventListener("change",function(){return c.render3d()}),this.lightingRenderer=new P.a(this.scene),this.lightingRenderer.build(),this.floorRenderer=new A.a(this.scene,10,-.001),this.floorRenderer.build(this.suspensionRendererGroup),this.beginRender(),[2]):[2]}})})},e.prototype.loadCurrentCars=function(){return i.b(this,void 0,void 0,function(){var t,e;return i.e(this,function(n){switch(n.label){case 0:return[4,Object(k.a)(this.sharedState,L.c,!0)];case 1:return e=n.sent(),this.loadedCars.length=0,(t=this.loadedCars).push.apply(t,e),[2]}})})},e.prototype.performSourcesChanged=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){switch(t.label){case 0:return[4,this.loadCurrentCars()];case 1:return t.sent(),[2]}})})},e.prototype.processLayout=function(){},e.prototype.performBuild2d=function(){},e.prototype.performSetData2d=function(){},e.prototype.performRender2d=function(){this.orbitControlsRenderer&&this.orbitControlsRenderer.render2d()},e.prototype.performAnimate3d=function(t){this.lightingRenderer&&this.lightingRenderer.animate(),this.orbitControlsRenderer&&this.orbitControlsRenderer.animate(),this.suspensionRenderer.update(t)&&this.floorRenderer.update()},e.prototype.getLayout=function(){},e.prototype.setLayout=function(t){return Promise.resolve()},e.prototype.canImportData=function(){return!1},e.prototype.canExportData=function(){return!1},e.prototype.canStackDiagonals=function(){return!1},e.prototype.importCsvData=function(t,e){},e.prototype.exportCsvData=function(){return Promise.resolve()},e.prototype.getEditChannelsTypes=function(){return[]},e.prototype.getEditChannelsOptions=function(t){return Promise.resolve(void 0)},e.prototype.setEditChannelsResult=function(t,e){return Promise.resolve()},e}(_.a)},JW5y:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e){var n=t.call(this,e)||this;return n.message=e,n.isDisplayable=!0,n.stack=(new Error).stack,n}return r.d(e,t),e}(Error)},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.d(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),c=n("L/V9");n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.d(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.d(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.d(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},KFNO:function(t,e,n){"use strict";var r=n("mrSG"),i=n("eh5z"),o=n("gozj"),a=n("k4pR"),s=n("fyiX"),u=n("YJNB"),c=function(){function t(){}return t.prototype.executeForChannel=function(t){this.execute({channels:[t]})},t.prototype.execute=function(t){var e=t.channels.map(function(t){return t.isUserSpecifiedUnits}).some(function(t){return t}),n=i.minStrict(t.channels.map(function(t){return i.minStrict(t.sources.map(function(t){return t.minimum}))})),r=i.maxStrict(t.channels.map(function(t){return i.maxStrict(t.sources.map(function(t){return t.maximum}))}));if(!e){var o={endOfRange:i.maxStrict([Math.abs(n),Math.abs(r)]),exponent:0,divisor:1};0!==o.endOfRange&&(o.exponent=3*Math.floor(Math.log10(o.endOfRange)/3),o.divisor=Math.pow(10,o.exponent));for(var a=function(t){var e=t.units;if(Object(s.a)(e)){e="()";var n=i.maxStrict(t.sources.map(function(t){return t.maximum}));t.units=0===o.exponent||isNaN(n)?"":"e"+o.exponent}else t.units=i.format(".0s")(o.divisor).slice(1,2)+e;u.a.addConversion(t.units,e,o.divisor,0),t.sources=t.sources.map(function(e){return e&&e.units!==t.units?e.clone(e.data?e.data.map(function(t){return t/o.divisor}):void 0,t.units):e})},c=0,l=t.channels;c<l.length;c++)a(l[c])}},t}(),l=function(){function t(){}return t.prototype.execute=function(t){if(!t.length)return t;var e=t.find(function(t){return t.isUserSpecifiedUnits});e||(e=t.find(function(t){return!!t.data})),e||(e=t[0]);for(var n=e.units,r=e.isUserSpecifiedUnits,i=[],o=0,a=t;o<a.length;o++){var s=a[o];if(s!==e)if(s.data&&s.data.length){var c=u.a.convertValuesBetweenUnits(s.data,s.units,n,!0);i.push(s.clone(c,n,r))}else i.push(s.clone(s.data,n,r));else i.push(s)}return i},t}(),h=n("4zky"),f=n("7c6v"),d=function(){function t(t,e){this.viewerChannelDataFactory=t,this.getInterpolatedChannelValueAtDomainValue=e}return t.prototype.executeForChannelName=function(t,e){var n=this;return e.map(function(e){return n.executeForChannelNameForDomain(t,e)})},t.prototype.execute=function(t,e,n){var r=this;return n.map(function(n){return r.executeForDomain(t,e,n)})},t.prototype.executeForChannelNameForDomain=function(t,e){return new g("\u0394"+t+"_"+e,e)},t.prototype.executeForDomain=function(t,e,n){var r=this,i=this.executeForChannelNameForDomain(t,n.channelName),o=n.channelData;if(0===e.length||0===o.length)return new m(i.channelName,i.renderOnlyForDomain,[]);for(var a=e[0].data,s=o[0],u=s.data,c=[],l=0;l<e.length;++l){var h=e[l],f=o[l],d=f?f.data:void 0,p=void 0;h&&h.data&&(p=!(0!==l&&d&&s&&a&&u&&s.isMonotonic)||h.dataLabels&&h.dataLabels.length?h.data.map(function(){return NaN}):this.calculateDeltaValues(h.data,d,a,u,s.monotonicStatus));var g=this.viewerChannelDataFactory.createChannelDataWithModifiers(h,function(t){return r.executeForChannelNameForDomain(t,n.channelName).channelName},p);c.push(g)}return new m(i.channelName,i.renderOnlyForDomain,c)},t.prototype.calculateDeltaValues=function(t,e,n,r,i){var o=this;return t.map(function(t,a){return t-o.getInterpolatedChannelValueAtDomainValue.execute(n,e[a],r,i)})},t}(),p=function(){function t(t){this.applyDeltaChannelModifier=t}return t.create=function(e,n){return new t(new d(e,n))},t.prototype.executeForChannelName=function(t,e,n){return e.isDelta?this.applyDeltaChannelModifier.executeForChannelName(t,n):[new g(t,void 0)]},t.prototype.execute=function(t,e,n,r){return n.length&&e.isDelta&&r?this.applyDeltaChannelModifier.execute(t,n,r):[]},t}(),m=function(t,e,n){this.channelName=t,this.renderOnlyForDomain=e,this.sourcesData=n},g=function(t,e){this.channelName=t,this.renderOnlyForDomain=e},v=n("HrTc"),y=n("ixgt"),b=n("HLL/"),w=n("JW5y"),_=n("soU0"),x=function(t,e){this.channelName=t,this.channelData=e},S=n("IRoh"),M=[new function(t,e){this.primaryDomainName=b.t,this.secondaryDomainName=e}(0,b.r)],C=function(){function t(){}return t.prototype.execute=function(){return M},t.prototype.executeForChannel=function(t){for(var e=0,n=M;e<n.length;e++){var r=n[e];if(r.primaryDomainName===t)return r.secondaryDomainName}},t}();n.d(e,"a",function(){return T});var E=function(t){return t[t.horizontal=0]="horizontal",t[t.vertical=1]="vertical",t}({}),T=function(){function t(t,e,n,r,i,o,a,s,u){this.primaryDomainName=t,this.secondaryDomainName=e,this.siteHooks=n,this.sourceLoaderSet=r,this.channelNameStyle=i,this.autoScaleChannelData=o,this.processedDataFactory=a,this.normalizeUnitsForChannelSources=s,this.applyChannelModifiers=u,this.autoScaleChannelsIndividually=!1}return t.create=function(e,n,r,i,o){return new t(e,(new C).executeForChannel(e),n,r,i,new c,new a.d,new l,p.create(new v.c(n),o))},t.prototype.getUnprocessedLayout=function(t){return o.b.deepClone(t,function(t,e){if("processed"!==t&&"transient"!==t)return e})},t.prototype.updatePlotSizes=function(t,e){var n=this.getColumnSizes(t,e.chartSize);this.updateSideSizes(t.columns,e,n);var r=this.getRowSizes(t,e.chartSize);if(this.updateSideSizes(t.rows,e,r),t.columns!==t.processed.columns){var i=this.getProcessedColumnSizes(t,e.chartSize);this.updateSideSizes(t.processed.columns,e,i)}if(t.rows!==t.processed.rows){var o=this.getProcessedRowSizes(t,e.chartSize);this.updateSideSizes(t.processed.rows,e,o)}this.updateProcessedPlotSizes(t,e)},t.prototype.updateProcessedPlotSizes=function(t,e){for(var n=e.svgPadding,r=e.chartMargin,i=new f.a(n.left+r.left,n.top+r.top),o=0,a=t.processed.plots;o<a.length;o++){var s=a[o],u=new h.a(i.x+(s.column.processed.offset+e.spaceBetweenPlots),i.y+s.row.processed.offset,s.column.processed.plotSize,s.row.processed.plotSize);s.updateRenderArea(u)}},t.prototype.getSideSizes=function(t,e){var n=t.reduce(function(t,e){return t+(e.transient.isHidden?0:e.relativeSize)},0);return t.map(function(t){return t.transient.isHidden?0:t.relativeSize/n}).map(function(t){return t*e})},t.prototype.getRowSizes=function(t,e){return this.getSideSizes(t.rows,e.height)},t.prototype.getColumnSizes=function(t,e){return this.getSideSizes(t.columns,e.width)},t.prototype.getProcessedRowSizes=function(t,e){return this.getSideSizes(t.processed.rows,e.height)},t.prototype.getProcessedColumnSizes=function(t,e){return this.getSideSizes(t.processed.columns,e.width)},t.prototype.updateSideSizes=function(t,e,n){for(var r=0,i=0;i<t.length;++i){var o=n[i];t[i].processed.updateSize(r,o,e.spaceBetweenPlots),r+=o}},t.prototype.processLayout=function(t,e){this.createTransientDataForLayout(t);var n=this.getChannelIndexMap(t),r=this.getProcessedPrimaryDomain(t,e,n);this.processLayoutSides(t.columns,e,n,a.j.column,t.columns),this.processLayoutSides(t.rows,e,n,a.j.row,t.columns),this.processLayoutRoot(t,e,n,r)},t.prototype.createTransientDataForLayout=function(t){if(Object(_.b)(t.transient)&&(t.transient=new a.m),t.rows)for(var e=0,n=t.rows;e<n.length;e++)this.createTransientDataForSide(n[e]);if(t.columns)for(var r=0,i=t.columns;r<i.length;r++)this.createTransientDataForSide(i[r])},t.prototype.createTransientDataForSide=function(t){if(Object(_.b)(t.transient)&&(t.transient=new a.n),t.channels)for(var e=0,n=t.channels;e<n.length;e++){var r=n[e];Object(_.b)(r.transient)&&(r.transient=new a.l)}},t.prototype.getProcessedPrimaryDomain=function(t,e,n){var r=this.getProcessedChannel(this.getValidatedChannel(this.primaryDomainName),n,e);return r.isVisible=!1,this.autoScaleChannelData.executeForChannel(r),r},t.prototype.getProcessedRenderChannel=function(t,e,n){if(t){var r=this.getProcessedChannel(t,n,e);return this.autoScaleChannelData.executeForChannel(r),r}},t.prototype.processLayoutRoot=function(t,e,n,r){var i,o=this.createProcessedPlots(t,e),s=this.getProcessedRenderChannel(t.colorChannel,e,n),u=this.getProcessedRenderChannel(t.sizeChannel,e,n);this.secondaryDomainName&&(i=this.getProcessedRenderChannel({name:this.secondaryDomainName},e,n)),t.processed=new a.e(r,i,s,u,o.plots,o.columns,o.rows,e)},t.prototype.createProcessedPlots=function(t,e){var n=[],r=t.rows.length%t.columns.length==0||t.columns.length%t.rows.length==0,o=0,s=[];if(r){o=Math.min(t.rows.length,t.columns.length);var u=Math.max(t.rows.length,t.columns.length)/o;s=i.range(u).map(function(t){return[]})}for(var c=-1,l=0,h=t.columns;l<h.length;l++){var f=h[l];if(++c,!f.transient.isHidden)for(var d=-1,p=0,m=t.rows;p<m.length;p++){var g=m[p];if(++d,!g.transient.isHidden){for(var v=n.length,y=[],b=0;b<e.length;++b){var _=[],x=e[b];if(x&&x.isVisible){for(var S=0,M=f.processed.channels;S<M.length;S++){var C=M[S];if(C.isVisible){var E=C.sources[b];if(E&&E.data&&E.data.length)for(var T=function(t){if(!t.isVisible)return"continue";var e=t.sources[b];if(!e||!e.data||!e.data.length)return"continue";if(t.renderOnlyForDomain){var n=f.processed.channels.find(function(e){return e.name===t.renderOnlyForDomain});if(!n||!n.isVisible)return"continue"}if(E.data.length!==e.data.length)throw new w.a("Data length of "+C.name+" ("+E.data.length+") did not match length of "+t.name+" ("+e.data.length+").");_.push(new a.i(v,b,C,t))},O=0,P=g.processed.channels;O<P.length;O++)T(P[O])}}y.push(new a.h(_))}}var A=new a.f(v,f,g,y);n.push(A),r&&c%o==d%o&&s[Math.floor(Math.max(c,d)/o)].push(A)}}}return r&&(t.stackDiagonalsHorizontally||t.stackDiagonalsVertically)?this.createPlotsFromDiagonals(t,e,s):new a.g(n,t.columns,t.rows)},t.prototype.createPlotsFromDiagonals=function(t,e,n){var r=t.columns.length>t.rows.length?E.horizontal:E.vertical,i=this.createColumnsFromDiagonals(n,r,t,e),o=this.createRowsFromDiagonals(n,r,t,e),s=[];if(t.stackDiagonalsHorizontally&&!t.stackDiagonalsVertically)for(var u=0;u<n.length;++u)for(var c=n[u],l=function(t){var e=s.length;s.push(new a.f(e,r===E.horizontal?i[e]:i[t],r===E.horizontal?o[0]:o[u],c[t].sources.map(function(t){return new a.h(t.channels.map(function(t){return new a.i(e,t.sourceIndex,t.xChannel,t.yChannel)}))})))},h=0;h<c.length;++h)l(h);if(!t.stackDiagonalsHorizontally&&t.stackDiagonalsVertically)for(u=0;u<n.length;++u){c=n[u];var f=function(t){var e=s.length;s.push(new a.f(e,r===E.horizontal?i[u]:i[0],r===E.horizontal?o[t]:o[e],c[t].sources.map(function(t){return new a.h(t.channels.map(function(t){return new a.i(e,t.sourceIndex,t.xChannel,t.yChannel)}))})))};for(h=0;h<c.length;++h)f(h)}if(t.stackDiagonalsHorizontally&&t.stackDiagonalsVertically){var d=function(t){for(var e=n[t],u=s.length,c=[],l=function(t){var n=e.reduce(function(e,n){return e.push.apply(e,n.sources[t].channels),e},[]);c.push(new a.h(n.map(function(t){return new a.i(u,t.sourceIndex,t.xChannel,t.yChannel)})))},h=0;h<e[0].sources.length;++h)l(h);s.push(new a.f(u,r===E.horizontal?i[t]:i[0],r===E.horizontal?o[0]:o[t],c))};for(u=0;u<n.length;++u)d(u)}return new a.g(s,i,o)},t.prototype.createColumnsFromDiagonals=function(t,e,n,r){var i=this;return e===E.vertical&&(t=[t[0]]),n.stackDiagonalsVertically?t.map(function(t){return i.mergeSides(t.map(function(t){return t.column}),r,a.j.column)}):t.reduce(function(t,e){return t.push.apply(t,e),t},[]).map(function(t){return t.column})},t.prototype.createRowsFromDiagonals=function(t,e,n,r){var i=this;return e===E.horizontal&&(t=[t[0]]),n.stackDiagonalsHorizontally?t.map(function(t){return i.mergeSides(t.map(function(t){return t.row}),r,a.j.row)}):t.reduce(function(t,e){return t.push.apply(t,e),t},[]).map(function(t){return t.row})},t.prototype.mergeSides=function(t,e,n){var r=t.reduce(function(t,e){return t.push.apply(t,e.channels),t},[]),i=t.reduce(function(t,e){return t.push.apply(t,e.processed.channels),t},[]);return{relativeSize:1,channels:r,processed:this.getProcessedSide(i,e,n),transient:new a.n}},t.prototype.processLayoutSides=function(t,e,n,r,i){for(var o=0,a=t;o<a.length;o++)this.processLayoutSide(a[o],e,n,r,i)},t.prototype.getXDomainNamesFromColumnSides=function(t){for(var e=[],n=0,r=t;n<r.length;n++)for(var i=0,o=r[n].channels;i<o.length;i++){var a=o[i],s=this.applyChannelModifiers.executeForChannelName(a.name,a,[this.primaryDomainName]);e.push.apply(e,s.map(function(t){return t.channelName}))}return Object(y.a)(e,function(t){return t})},t.prototype.processLayoutSide=function(t,e,n,r,i){var o,s=this;if(r===a.j.row){o=[];for(var u=this.getXDomainNamesFromColumnSides(i),c=0,l=t.channels;c<l.length;c++)for(var h=0,f=this.getProcessedChannels(l[c],n,e,u);h<f.length;h++){var d=f[h],p=!1;if(d.renderOnlyForDomain)for(var m=0,g=i;m<g.length;m++){var v=g[m];if(v.processed)for(var y=0,b=v.processed.channels;y<b.length;y++){var w=b[y];w.name===d.renderOnlyForDomain&&w.isVisible&&(p=!0)}}else p=!0;p&&o.push(d)}}else o=t.channels.map(function(t){return s.getProcessedChannel(t,n,e)});t.processed=this.getProcessedSide(o,e,r)},t.prototype.getProcessedSide=function(t,e,n){var r=this,i=this.processedDataFactory.createSide(t,n);n===a.j.column&&t.length&&t.every(function(t){return!t.isVisible})&&(t[0].isVisible=!0),n!==a.j.row||this.autoScaleChannelsIndividually?i.channels.forEach(function(t){return r.autoScaleChannelData.executeForChannel(t)}):this.autoScaleChannelData.execute(i);var o=e.map(function(t){return t.isVisible}),s=i.getVisibleMinimum(o)||0,u=i.getVisibleMaximum(o)||0;return s===u&&(s-=1,u+=1),i.scale.domain([s,u]),i},t.prototype.getProcessedChannel=function(t,e,n){return this.getProcessedChannels(t,e,n,[this.primaryDomainName])[0]},t.prototype.getProcessedChannels=function(t,e,n,r){for(var i=[],o=function(r){var o=r.channelName,s=e[o]||0,u=n.map(function(t){return t.channels.get(o)}),c=o,l=o,h=b.n,f=!1;if(u.length){var d=u[0];d&&(c=d.name,l=d.genericName,h=d.units,f=d.isUserSpecifiedUnits)}i.push(a.processedDataFactory.createChannel(t,c,l,s,u,h,f,r.renderOnlyForDomain))},a=this,s=0,u=this.applyChannelModifiers.executeForChannelName(t.name,t,r);s<u.length;s++)o(u[s]);return i},t.prototype.getChannelIndexMap=function(t){var e={};return 0===this.getChannelIndexMapForSides(e,t.rows,t.columns)&&this.getChannelIndexMapForSides(e,t.columns,void 0),e},t.prototype.getChannelIndexMapForSides=function(t,e,n){for(var r=n?this.getXDomainNamesFromColumnSides(n):[this.primaryDomainName],i=0,o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].channels;s<u.length;s++){var c=u[s],l=this.applyChannelModifiers.executeForChannelName(c.name,c,r);if(l.length&&!t.hasOwnProperty(l[0].channelName)){for(var h=0,f=l;h<f.length;h++)t[f[h].channelName]=i;i++}}return i},t.prototype.loadChannelData=function(t){return r.b(this,void 0,void 0,function(){var e,n,i,o,s,u,c,l,h,f;return r.e(this,function(r){switch(r.label){case 0:return[4,this.siteHooks.ensureUnitsLoaded()];case 1:return r.sent(),[4,this.getFeatureChannelNames()];case 2:e=r.sent(),n=this.getDistinctChannelNames(t,e),i=[],o=0,s=0,u=this.sourceLoaderSet.sources,r.label=3;case 3:return s<u.length?[4,this.loadSourceChannelDataMap(c=u[s],n)]:[3,7];case 4:return l=r.sent(),[4,c.getSourceMetadata()];case 5:h=r.sent(),f=this.getSourceFeatureChannels(l,e[o]),i.push(new a.k(h.name,l,f,c)),++o,r.label=6;case 6:return s++,[3,3];case 7:return this.normalizeSourcesChannelData(n,i),this.applyModifiersToSourcesChannelData(t,i),[2,i]}})})},t.prototype.normalizeSourcesChannelData=function(t,e){for(var n=function(t){var n=e.map(function(e){return e.channels.get(t)}),i=r.normalizeUnitsForChannelSources.execute(n);i&&e.forEach(function(e,n){e.channels.set(t,i[n])})},r=this,i=0,o=t;i<o.length;i++)n(o[i])},t.prototype.getSourceFeatureChannels=function(t,e){var n=this.getSiFeatureChannel(t,e.integrationChannel),r=this.getSiFeatureChannel(t,e.splitChannel);return n&&!n.isMonotonic&&console.warn("Integration channel "+n.fullName+" is not monotonic."),new a.b(n,r)},t.prototype.getSiFeatureChannel=function(t,e){if(e){var n=t.get(e);if(n.data)return this.cloneAsSiChannelData(n)}},t.prototype.getFeatureChannelNames=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i,o,a=this;return r.e(this,function(r){switch(r.label){case 0:t=this.sourceLoaderSet.sources.map(function(t){return a.getSourceFeatureChannelNames(t)}),e=[],n=0,i=t,r.label=1;case 1:return n<i.length?[4,i[n]]:[3,4];case 2:o=r.sent(),e.push(o),r.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},t.prototype.getSourceFeatureChannelNames=function(t){return r.b(this,void 0,void 0,function(){var e,n,i;return r.e(this,function(r){switch(r.label){case 0:return[4,t.getRequestableChannels(this.channelNameStyle,this.primaryDomainName)];case 1:return e=r.sent(),n=this.getFirstChannelName(e,["tRun","tLap","t"])||this.primaryDomainName,i=this.getFirstChannelName(e,[b.l]),[2,new a.a(n,i)]}})})},t.prototype.getFirstChannelName=function(t,e){for(var n=function(e){var n=t.find(function(t){return t.name===e});if(n)return{value:n.name}},r=0,i=e;r<i.length;r++){var o=n(i[r]);if("object"==typeof o)return o.value}},t.prototype.cloneAsSiChannelData=function(t){return t.clone(t.data?u.a.convertValuesToSi(t.data,t.units):void 0,u.a.getSiUnit(t.units),!1)},t.prototype.applyModifiersToSourcesChannelData=function(t,e){for(var n=this,r=e.map(function(t){return t.channels.get(n.primaryDomainName)}),i=[new x(this.primaryDomainName,r)],o=[],s=function(t,n){if(t===a.j.column&&!o.some(function(t){return t.channelName===n})){var r=e.map(function(t){return t.channels.get(n)});o.push(new x(n,r))}},u=0,c=t.columns.map(function(t){return{sideType:a.j.column,side:t}}).concat(t.rows.map(function(t){return{sideType:a.j.row,side:t}}));u<c.length;u++)for(var l=c[u],h=function(t){var n=e.map(function(e){return e.channels.get(t.name)}),r=f.applyChannelModifiers.execute(t.name,t,n,l.sideType===a.j.column?i:o);if(r.length)for(var u=0,c=r;u<c.length;u++){for(var h=c[u],d=0;d<e.length;++d){var p=e[d];p&&p.channels&&p.channels.set(h.channelName,h.sourcesData[d])}s(l.sideType,h.channelName)}else s(l.sideType,t.name)},f=this,d=0,p=l.side.channels;d<p.length;d++)h(p[d])},t.prototype.getDistinctChannelNames=function(t,e){var n=t.columns.concat(t.rows).map(function(t){return t.channels.map(function(t){return t.name})}).reduce(function(t,e){return t.concat(e)},[]);n.push(this.primaryDomainName),this.secondaryDomainName&&n.push(this.secondaryDomainName),t.colorChannel&&n.push(t.colorChannel.name),t.sizeChannel&&n.push(t.sizeChannel.name);for(var r=0,i=e;r<i.length;r++)n.push.apply(n,i[r].allChannelNames);return Object(y.a)(n,function(t){return t})},t.prototype.loadSourceChannelDataMap=function(t,e){return r.b(this,void 0,void 0,function(){return r.e(this,function(n){switch(n.label){case 0:return[4,t.getMultipleChannelData(e,this.channelNameStyle,this.primaryDomainName)];case 1:return[2,n.sent()]}})})},t.prototype.getValidatedLayout=function(e){return r.b(this,void 0,void 0,function(){var n,i,a,s,u,c,l;return r.e(this,function(r){if(e=o.b.deepClone(e),!this.primaryDomainName)throw new Error("No primary domain specified.");for(e.rows&&e.rows.length||(e.rows=[{channels:[],relativeSize:1}]),e.columns&&e.columns.length||(e.columns=o.b.deepClone(e.rows),e.columns.reverse()),this.removeUndefinedItems(e.columns),this.removeUndefinedItems(e.rows),n=0,i=e.columns;n<i.length;n++)if(this.validateSide(a=i[n]),a.channels.length)if(0===(s=a.channels.filter(function(t){return t.isVisible})).length)a.channels[0].isVisible=!0;else if(s.length>1)for(u=1;u<s.length;++u)s[u].isVisible=!1;for(c=0,l=e.rows;c<l.length;c++)this.validateSide(l[c]);return t.canStackDiagonals(e.rows.length,e.columns.length)||(delete e.stackDiagonalsHorizontally,delete e.stackDiagonalsVertically),e.colorChannel&&(e.colorChannel=this.getValidatedChannel(e.colorChannel)),e.sizeChannel&&(e.sizeChannel=this.getValidatedChannel(e.sizeChannel)),[2,e]})})},t.canStackDiagonals=function(t,e){if(1!==t&&1!==e){if(t===e)return!0;if(t%e==0)return!0;if(t%e==0)return!0}return!1},t.prototype.removeUndefinedItems=function(t){for(var e=t.length-1;e>=0;--e)Object(S.a)(t[e])&&t.splice(e,1)},t.prototype.validateSide=function(t){t.channels=t.channels||[],t.relativeSize=t.relativeSize||1;for(var e=0;e<t.channels.length;++e)t.channels[e]=this.getValidatedChannel(t.channels[e])},t.prototype.getValidatedChannel=function(t){return"string"==typeof t&&(t={name:t}),void 0===t.isVisible&&(t.isVisible=!0),void 0===t.isDelta&&(t.isDelta=!1),void 0===t.reverseAxis&&(t.reverseAxis=!1),t},t}()},KHOH:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return u});var r=n("eh5z"),i=n("soU0");function o(t){var e=r.min(t);return Object(i.b)(e)?NaN:e}function a(t){var e=r.max(t);return Object(i.b)(e)?NaN:e}function s(t){var e=r.mean(t);return Object(i.b)(e)?NaN:e}function u(t){var e=r.extent(t);return function(t){return!Object(i.b)(t[0])&&!Object(i.b)(t[1])}(e)?e:[NaN,NaN]}},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},L0sa:function(t,e,n){"use strict";n.d(e,"c",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h});var r=n("pugT"),i=n("fNPK"),o=n("HLL/"),a=n("YJNB"),s=n("gozj"),u=n("eh5z"),c="legendChanged",l="domainEventProcessed",h=function(){function t(t,e){this.sharedState=t,this.primaryDomainName=e,this.subscriptions=new r.a,this.lastDomainEvents={},this.listeners=u.dispatch(c,l)}return t.prototype.dispose=function(){this.subscriptions.unsubscribe()},t.prototype.addSubscription=function(t){var e=this;this.subscriptions.add(this.sharedState.getDomainNews(t).observable.subscribe(function(n){return e.handleDomainEvent(n,t)}))},t.prototype.build=function(){this.sharedState&&this.primaryDomainName&&this.addSubscription(this.primaryDomainName)},t.prototype.setLayout=function(t){return this.layout=t,this},t.prototype.setSourceData=function(t){return this.sourceData=t,this},t.prototype.setXLegendList=function(t){return this.xLegendList=t,this},t.prototype.setDomainSnapBehaviour=function(t){return this.domainSnapBehaviour=t,this},t.prototype.render=function(){this.primaryDomainName&&this.lastDomainEvents[this.primaryDomainName]&&this.handleDomainEvent(this.lastDomainEvents[this.primaryDomainName],this.primaryDomainName)},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.listeners.on.apply(this.listeners,t),this},t.prototype.handleDomainEvent=function(t,e){if(this.lastDomainEvents[e]=t,this.xLegendList&&this.sourceData){this.xLegendList.clearChannels();for(var n=[],r=0;r<this.sourceData.length;++r){var u=void 0,h=t.getSourceValue(r);if(e===o.j){var d=g=Math.ceil(h),p=g,m=1;g>0&&(p=g-1,(y=h-(g-1))<(v=g-h)&&(d=g-1),m=v/(v+y)),u=new i.b(d,p,m)}else{var g,v,y,b=this.sourceData[r].channels.get(e);if(t.secondary&&t.secondary.domainName===o.r){var w=this.sourceData[r].channels.get(t.secondary.domainName);w.hasData&&(b=w,e=t.secondary.domainName,h=t.secondary.event.getSourceValue(r))}b&&b.data&&b.data.length&&(h=a.a.convertValueFromSi(h,b.units),-1===(g=s.b.findIndexInMonotonicallyIncreasingData(b.data,h,s.a.Forwards))&&(g=b.data[b.data.length-1]),d=g,p=g,m=1,g>0&&((y=h-b.data[p=g-1])<(v=b.data[g]-h)&&(d=g-1),m=v/(v+y)),u=new i.b(d,p,m))}u&&this.handleDomainEventForSource(r,u,n)}this.listeners.call(c),this.listeners.call(l,void 0,new f(t,n))}},t.prototype.handleDomainEventForSource=function(t,e,n){if(this.xLegendList&&this.layout)for(var r=0,o=0,a=this.layout.processed.plots;o<a.length;o++)for(var s=a[o],u=function(o){c.xLegendList.channels.find(function(t){return t.name===o.name})||c.xLegendList.addChannel(o);var a=o.sources[t];if(!a||!a.data)return"continue";var u=void 0,l=(u=c.domainSnapBehaviour===i.c.linearInterpolation?function(t,e){return t[e.previousIndex]*e.ratio+t[e.previousIndex+1]*(1-e.ratio)}:function(t,n){return t[e.nearestIndex]})(a.data,e);o.legendValues[t]=l;for(var h=0,f=s.row.processed.channels;h<f.length;h++){var d=f[h],p=d.sources[t];if(p&&p.data){var m=u(p.data,e);if(d.legendValues[t]=m,s.hasChannelPair(o.name,d.name)){var g=new i.a(s.column.processed.scale(l),s.row.processed.scale(m),d,t);isNaN(g.x)||isNaN(g.y)||o.isVisible&&d.isVisible&&n.push(new i.f("point-"+t+"-"+r++,s,g))}}}},c=this,l=0,h=s.column.processed.channels;l<h.length;l++)u(h[l])},t}(),f=function(t,e){this.event=t,this.plotCursorDataPoints=e}},L5ty:function(t,e,n){"use strict";n.r(e);var r=n("t+Vl"),i=n("2fsI");function o(){i.event.stopImmediatePropagation()}var a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},s=function(t){var e=t.document.documentElement,n=Object(i.select)(t).on("dragstart.drag",a,!0);"onselectstart"in e?n.on("selectstart.drag",a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function u(t,e){var n=t.document.documentElement,r=Object(i.select)(t).on("dragstart.drag",null);e&&(r.on("click.drag",a,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var c=function(t){return function(){return t}};function l(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function h(){return!i.event.button}function f(){return this.parentNode}function d(t){return null==t?{x:i.event.x,y:i.event.y}:t}function p(){return"ontouchstart"in this}l.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var m=function(){var t,e,n,m,g=h,v=f,y=d,b=p,w={},_=Object(r.dispatch)("start","drag","end"),x=0,S=0;function M(t){t.on("mousedown.drag",C).filter(b).on("touchstart.drag",O).on("touchmove.drag",P).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function C(){if(!m&&g.apply(this,arguments)){var r=k("mouse",v.apply(this,arguments),i.mouse,this,arguments);r&&(Object(i.select)(i.event.view).on("mousemove.drag",E,!0).on("mouseup.drag",T,!0),s(i.event.view),o(),n=!1,t=i.event.clientX,e=i.event.clientY,r("start"))}}function E(){if(a(),!n){var r=i.event.clientX-t,o=i.event.clientY-e;n=r*r+o*o>S}w.mouse("drag")}function T(){Object(i.select)(i.event.view).on("mousemove.drag mouseup.drag",null),u(i.event.view,n),a(),w.mouse("end")}function O(){if(g.apply(this,arguments)){var t,e,n=i.event.changedTouches,r=v.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=k(n[t].identifier,r,i.touch,this,arguments))&&(o(),e("start"))}}function P(){var t,e,n=i.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=w[n[t].identifier])&&(a(),e("drag"))}function A(){var t,e,n=i.event.changedTouches,r=n.length;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),t=0;t<r;++t)(e=w[n[t].identifier])&&(o(),e("end"))}function k(t,e,n,r,o){var a,s,u,c=n(e,t),h=_.copy();if(Object(i.customEvent)(new l(M,"beforestart",a,t,x,c[0],c[1],0,0,h),function(){return null!=(i.event.subject=a=y.apply(r,o))&&(s=a.x-c[0]||0,u=a.y-c[1]||0,!0)}))return function f(d){var p,m=c;switch(d){case"start":w[t]=f,p=x++;break;case"end":delete w[t],--x;case"drag":c=n(e,t),p=x}Object(i.customEvent)(new l(M,d,a,t,p,c[0]+s,c[1]+u,c[0]-m[0],c[1]-m[1],h),h.apply,h,[d,r,o])}}return M.filter=function(t){return arguments.length?(g="function"==typeof t?t:c(!!t),M):g},M.container=function(t){return arguments.length?(v="function"==typeof t?t:c(t),M):v},M.subject=function(t){return arguments.length?(y="function"==typeof t?t:c(t),M):y},M.touchable=function(t){return arguments.length?(b="function"==typeof t?t:c(!!t),M):b},M.on=function(){var t=_.on.apply(_,arguments);return t===_?M:t},M.clickDistance=function(t){return arguments.length?(S=(t=+t)*t,M):Math.sqrt(S)},M};n.d(e,"drag",function(){return m}),n.d(e,"dragDisable",function(){return s}),n.d(e,"dragEnable",function(){return u})},LBxW:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("soU0"),o=n("zBeG"),a=n("YJNB"),s=n("x4dx"),u=function(){function t(t,e,n,r,i,o,a,u,c,h,f,d,p){if(this.sourceData=t,this.name=e,this.genericName=n,this.fullName=r,this.requestedName=i,this.description=o,this.units=a,this.isUserSpecifiedUnits=u,this.binaryFormat=c,this.data=h,this.dataLabels=f,this.options=d,this.loaderMetadata=p,this.minimum=NaN,this.maximum=NaN,this.calculatedMinimum=NaN,this.calculatedMaximum=NaN,this.monotonicStatus=l.Unknown,this.data&&this.data.length){var m=this.data.findIndex(function(t){return Object(s.a)(t)});if(-1!==m){var g=this.data[m];this.minimum=g,this.maximum=g;for(var v=m+1;v<this.data.length;++v){var y=this.data[v];if(y<this.minimum&&(this.minimum=y),y>this.maximum&&(this.maximum=y),y>g)switch(this.monotonicStatus){case l.Unknown:this.monotonicStatus=l.Increasing;break;case l.Decreasing:this.monotonicStatus=l.None}else if(y<g)switch(this.monotonicStatus){case l.Unknown:this.monotonicStatus=l.Decreasing;break;case l.Increasing:this.monotonicStatus=l.None}g=y}}}this.calculatedMinimum=this.minimum,this.calculatedMaximum=this.maximum,this.options&&this.options.overrideExtents&&(this.minimum=this.options.overrideExtents.minimum,this.maximum=this.options.overrideExtents.maximum)}return Object.defineProperty(t.prototype,"hasData",{get:function(){return!(!this.data||!this.data.length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMonotonic",{get:function(){return this.monotonicStatus===l.Decreasing||this.monotonicStatus===l.Increasing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataChangeIndices",{get:function(){if(!this._dataChangeIndices){var t=[],e=this.data;if(e&&e.length>1)for(var n=1;n<e.length;++n)e[n]!==e[n-1]&&t.push(n);this._dataChangeIndices=t}return this._dataChangeIndices},enumerable:!0,configurable:!0}),t.prototype.clone=function(t,e,n,r,i){return this.cloneTyped(t,e,n,r,i)},t.prototype.cloneTyped=function(e,n,r,o,a){a||(a=this.cloneOptions(n));var s=e||this.data,u=o||this.dataLabels;return new t(this.sourceData,this.name,this.genericName,this.fullName,this.requestedName,this.description,n||this.units,Object(i.b)(r)?this.isUserSpecifiedUnits:r,this.binaryFormat,s?s.slice():this.data,u?u.slice():this.dataLabels,a||this.options,this.loaderMetadata)},t.prototype.cloneOptions=function(t){if(!this.options)return this.options;var e=r.a({},this.options);return t&&t!==this.units&&e.overrideExtents&&(e.overrideExtents=new o.a(a.a.convertValueBetweenUnits(e.overrideExtents.minimum,this.units,t),a.a.convertValueBetweenUnits(e.overrideExtents.maximum,this.units,t))),e},t.prototype.getSourceData=function(){return this.sourceData||{}},t.createBasicTyped=function(e,n,r,i){return new t(e,n,n,n,n,"",r,!1,void 0,i,void 0,void 0,void 0)},t}(),c=function(t){function e(e,n,r,i,o,a,s,u,c,l,h,f){return t.call(this,void 0,e,n,r,i,o,a,s,u,c,l,h,f)||this}return r.d(e,t),e.createBasic=function(t,e,n){return u.createBasicTyped(void 0,t,e,n)},e}(u),l=function(t){return t[t.Unknown=0]="Unknown",t[t.Increasing=1]="Increasing",t[t.Decreasing=2]="Decreasing",t[t.None=3]="None",t}({})},LXWq:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Womt"),i=function(){function t(t){this.scene=t}return t.prototype.build=function(){var t=new r.AmbientLight(13684944);this.scene.add(t);var e=new r.DirectionalLight(7829367);e.position.set(100,100,-100).normalize(),this.scene.add(e);var n=new r.DirectionalLight(5592405);n.position.set(-100,100,100).normalize(),this.scene.add(n)},t.prototype.animate=function(){},t}()},LXbF:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t[t.Generic=0]="Generic",t[t.FullyQualified=1]="FullyQualified",t}({})},LZlT:function(t,e,n){t.exports=function(t){"use strict";function e(){return document.createElement("canvas")}function n(t){return void 0===t}return function(r){function i(n){void 0===n&&(n={});var i=n.autoRedraw;void 0===i&&(i=!0);var o=n.text;void 0===o&&(o="");var a=n.textAlign;void 0===a&&(a="center");var s=n.textLineHeight;void 0===s&&(s=1.15);var u=n.fontFamily;void 0===u&&(u="sans-serif");var c=n.fontSize;void 0===c&&(c=16);var l=n.fontWeight;void 0===l&&(l="normal");var h=n.fontVariant;void 0===h&&(h="normal");var f=n.fontStyle;void 0===f&&(f="normal");var d=n.fillStyle;void 0===d&&(d="white");var p=n.lineWidth;void 0===p&&(p=0);var m=n.strokeStyle;void 0===m&&(m="black");var g=n.padding;void 0===g&&(g=.25);var v=n.magFilter;void 0===v&&(v=t.LinearFilter);var y=n.minFilter;void 0===y&&(y=t.LinearFilter);var b=n.mapping,w=n.wrapS,_=n.wrapT,x=n.format,S=n.type,M=n.anisotropy;r.call(this,e(),b,w,_,v,y,x,S,M),this.autoRedraw=i,this._text=o,this._textAlign=a,this._textLineHeight=s,this._fontFamily=u,this._fontSize=c,this._fontWeight=l,this._fontVariant=h,this._fontStyle=f,this._fillStyle=d,this._lineWidth=p,this._strokeStyle=m,this._padding=g,this.redraw()}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={text:{configurable:!0},textAlign:{configurable:!0},textLines:{configurable:!0},textLineHeight:{configurable:!0},textLineHeightInPixels:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontWeight:{configurable:!0},fontVariant:{configurable:!0},fontStyle:{configurable:!0},font:{configurable:!0},fillStyle:{configurable:!0},lineWidth:{configurable:!0},lineWidthInPixels:{configurable:!0},strokeStyle:{configurable:!0},textWidthInPixels:{configurable:!0},textHeight:{configurable:!0},textHeightInPixels:{configurable:!0},padding:{configurable:!0},paddingInPixels:{configurable:!0},imageWidthInPixels:{configurable:!0},imageHeight:{configurable:!0},imageHeightInPixels:{configurable:!0},imageAspect:{configurable:!0}};return i.prototype.redraw=function(){var t=this,e=this.image.getContext("2d");if(e.clearRect(0,0,e.canvas.width,e.canvas.height),this.textWidthInPixels&&this.textHeightInPixels){var n;switch(e.canvas.width=this.imageWidthInPixels,e.canvas.height=this.imageHeightInPixels,e.font=this.font,e.textBaseline="middle",this.textAlign){case"left":e.textAlign="left",n=this.paddingInPixels+this.lineWidthInPixels/2;break;case"right":e.textAlign="right",n=this.paddingInPixels+this.lineWidthInPixels/2+this.textWidthInPixels;break;case"center":e.textAlign="center",n=this.paddingInPixels+this.lineWidthInPixels/4+this.textWidthInPixels/2}var r=this.paddingInPixels+this.lineWidthInPixels/2+this.fontSize/2;e.fillStyle=this.fillStyle,e.miterLimit=1,e.lineWidth=this.lineWidthInPixels,e.strokeStyle=this.strokeStyle,this.textLines.forEach(function(i){t.lineWidth&&e.strokeText(i,n,r),e.fillText(i,n,r),r+=t.textLineHeightInPixels})}else e.canvas.width=e.canvas.height=1;this.needsUpdate=!0},i.prototype._redrawIfAuto=function(){this.autoRedraw&&this.redraw()},o.text.get=function(){return this._text},o.text.set=function(t){this._text!==t&&(this._text=t,this._textLines=void 0,this._textWidthInPixels=void 0,this._redrawIfAuto())},o.textAlign.get=function(){return this._textAlign},o.textAlign.set=function(t){this._textAlign!==t&&(this._textAlign=t,this._redrawIfAuto())},o.textLines.get=function(){return n(this._textLines)&&(this._textLines=(t=this.text)?t.split("\n"):[]),this._textLines;var t},o.textLineHeight.get=function(){return this._textLineHeight},o.textLineHeight.set=function(t){this._textLineHeight!==t&&(this._textLineHeight=t,this._redrawIfAuto())},o.textLineHeightInPixels.get=function(){return this.fontSize*this.textLineHeight},o.fontFamily.get=function(){return this._fontFamily},o.fontFamily.set=function(t){this._fontFamily!==t&&(this._fontFamily=t,this._textWidthInPixels=void 0,this._redrawIfAuto())},o.fontSize.get=function(){return this._fontSize},o.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this._textWidthInPixels=void 0,this._redrawIfAuto())},o.fontWeight.get=function(){return this._fontWeight},o.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this._textWidthInPixels=void 0,this._redrawIfAuto())},o.fontVariant.get=function(){return this._fontVariant},o.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this._textWidthInPixels=void 0,this._redrawIfAuto())},o.fontStyle.get=function(){return this._fontStyle},o.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this._textWidthInPixels=void 0,this._redrawIfAuto())},o.font.get=function(){return function(t,e,n,r,i){return[t,e,n,r+"px",i].join(" ")}(this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily)},o.fillStyle.get=function(){return this._fillStyle},o.fillStyle.set=function(t){this._fillStyle!==t&&(this._fillStyle=t,this._redrawIfAuto())},o.lineWidth.get=function(){return this._lineWidth},o.lineWidth.set=function(t){this._lineWidth!==t&&(this._lineWidth=t,this._redrawIfAuto())},o.lineWidthInPixels.get=function(){return this._lineWidth*this.fontSize},o.strokeStyle.get=function(){return this._strokeStyle},o.strokeStyle.set=function(t){this._strokeStyle!==t&&(this._strokeStyle=t,this._redrawIfAuto())},o.textWidthInPixels.get=function(){return n(this._textWidthInPixels)&&(this._textWidthInPixels=function(t,n){if(t.length){var r=e().getContext("2d");return r.font=n,function(t){return t.reduce(function(t,e){return Math.max(t,e)})}(t.map(function(t){return r.measureText(t).width}))}return 0}(this.textLines,this.font)),this._textWidthInPixels},o.textHeight.get=function(){return this.textLineHeight*(this.textLines.length-1)+1},o.textHeightInPixels.get=function(){return this.textHeight*this.fontSize},o.padding.get=function(){return this._padding},o.padding.set=function(t){this._padding!==t&&(this._padding=t,this._redrawIfAuto())},o.paddingInPixels.get=function(){return this.padding*this.fontSize},o.imageWidthInPixels.get=function(){return this.textWidthInPixels+this.lineWidthInPixels+2*this.paddingInPixels},o.imageHeight.get=function(){return this.textHeight+this.lineWidth+2*this.padding},o.imageHeightInPixels.get=function(){return this.imageHeight*this.fontSize},o.imageAspect.get=function(){return this.image.width&&this.image.height?this.image.width/this.image.height:1},Object.defineProperties(i.prototype,o),i}(t.Texture)}(n("Womt"))},"M9y/":function(t,e,n){var r=n("0xj5"),i=n("5oZ/"),o=n("ybOZ"),a=n("Wjn4"),s=n("okAn"),u=n("aNjz"),c=o.makeSpan;t.exports=function(t,e,n){n=n||new s({});var o=u.TEXT;n.displayMode&&(o=u.DISPLAY);var l=new a({style:o,size:"size5"}),h=i(t,e,l),f=r(t,l),d=c(["katex"],[h,f]);return n.displayMode?c(["katex-display"],[d]):d}},MCLT:function(t,e,n){var r=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),u=i[n];n<o;u=i[++n])p(u)||!b(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(t,n){if(v(global.process))return function(){return e.deprecate(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var i,o={};function a(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),c(r,t,r.depth)}function s(t,e){var n=a.styles[e];return n?"\x1b["+a.colors[n][0]+"m"+t+"\x1b["+a.colors[n][1]+"m":t}function u(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=c(t,i,r)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):p(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var a,s=Object.keys(n),u=(a={},s.forEach(function(t,e){a[t]=!0}),a);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(x(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return l(n)}var b,S="",M=!1,C=["{","}"];return f(n)&&(M=!0,C=["[","]"]),x(n)&&(S=" [Function"+(n.name?": "+n.name:"")+"]"),y(n)&&(S=" "+RegExp.prototype.toString.call(n)),w(n)&&(S=" "+Date.prototype.toUTCString.call(n)),_(n)&&(S=" "+l(n)),0!==s.length||M&&0!=n.length?r<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),b=M?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)E(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}(t,n,r,u,s):s.map(function(e){return h(t,n,r,u,e,M)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(b,S,C)):C[0]+S+C[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),E(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=p(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function f(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function p(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===S(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===S(t)}function _(t){return b(t)&&("[object Error]"===S(t)||t instanceof Error)}function x(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(v(i)&&(i=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=process.pid;o[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else o[t]=function(){};return o[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=y,e.isObject=b,e.isDate=w,e.isError=_,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("1gqn");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(n=[M((t=new Date).getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":"),[t.getDate(),C[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n("P7XM"),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},MT3l:function(t,e){var n=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};n.filterName="dates",e.diffFilter=n},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},Me36:function(t,e,n){"use strict";var r=n("mrSG"),i=n("8/63"),o=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.source=e,o.subsetName=n,o.startIndexInclusive=r,o.endIndexExclusive=i,o._id=o.source.id+"-"+o.subsetName,o}return r.d(e,t),e.prototype.getSourceMetadata=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return[4,this.source.getSourceMetadata()];case 1:return t=e.sent(),[2,new i.c(t.name+" ("+this.subsetName+")")]}})})},e.prototype.getChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o,a,s,u;return r.e(this,function(r){switch(r.label){case 0:return[4,this.source.getChannelData(t,e,n)];case 1:if(i=r.sent(),o=i.data?i.data.slice(this.startIndexInclusive,this.endIndexExclusive):i.data,a=i.dataLabels?i.dataLabels.slice(this.startIndexInclusive,this.endIndexExclusive):i.dataLabels,i.isMonotonic&&o&&o.length&&i.data)for(s=i.data[0]-o[0],u=0;u<o.length;++u)o[u]+=s;return[2,i.clone(o,i.units,i.isUserSpecifiedUnits,a)]}})})},e.prototype.getRequestableChannels=function(t,e){return this.source.getRequestableChannels(t,e)},Object.defineProperty(e.prototype,"subsetSourceOrigin",{get:function(){return this.source},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(t){return this.source.getConfig(t)},e}(i.b);n.d(e,"a",function(){return a});var a=function(){function t(){}return t.prototype.hasSplitIndices=function(t){return!(!t||!t.data||t.data.length<2||!t.dataChangeIndices.length)},t.prototype.getSplitIndices=function(t){if(!this.hasSplitIndices(t))return[];var e=t.dataChangeIndices.slice();return e.length&&e[e.length-1]!==t.data.length-1&&e.push(t.data.length),e},t.prototype.splitSource=function(t,e){var n=this.getSplitIndices(e);if(!n||!n.length)return[t];for(var r=[],i=0,a=1,s=0,u=n;s<u.length;s++){var c=u[s];r.push(new o(t,""+a,i,c)),i=c,++a}return r},t.prototype.canMergeSource=function(t){return!!t.inner.subsetSourceOrigin},t.prototype.getMergeSourceInformation=function(t,e){var n=t.inner;if(n.subsetSourceOrigin){for(var r=[],i=0;i<e.length;++i)e[i].inner.subsetSourceOrigin===n.subsetSourceOrigin&&r.push(i);return new s(n.subsetSourceOrigin,r)}},t}(),s=function(t,e){this.originSource=t,this.sourceIndices=e}},MmxI:function(t,e,n){var r=n("uEMh").Context,i=function(t,e){this.left=t,this.delta=e,this.pipe="patch"};i.prototype=new r,e.PatchContext=i},MtUu:function(t,e,n){"use strict";var r=n("mrSG"),i=n("a8jH"),o=function(){function t(){this.previousSvgSize=void 0}return t.prototype.getCanvas=function(t,e){var n=t.parent.selectAll("."+e).data([null]),r=n.enter().insert("canvas","svg").attr("class",e),i=r.merge(n),o=t.settings.canvasRetinaSize,a=t.settings.svgSize;return this.previousSvgSize&&this.previousSvgSize.width===a.width&&this.previousSvgSize.height===a.height||i.attr("width",o.width).attr("height",o.height).style("width",a.width+"px").style("height",a.height+"px"),[n,r,i]},t.prototype.updateSvgSize=function(t){this.previousSvgSize=new i.a(t.svgSize.width,t.svgSize.height)},t.prototype.resetTransform=function(t,e,n){t.setTransform(1,0,0,1,0,0),t.scale(e,e),n&&t.translate(n.x,n.y)},t}(),a=n("JW5y");n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c});var s=function(){function t(t,e,n,r){this.containerCssPrefix=t,this.canvasCssClasses=e,this.settings=n,this.canvasData=r,this.canvasUtilities=new o}return Object.defineProperty(t.prototype,"definedSettings",{get:function(){if(!this.settings)throw new Error("Settings are not defined.");return this.settings},enumerable:!0,configurable:!0}),t.prototype.performRender=function(t){if(this.settings&&this.canvasData&&this.canvasCssClasses){this.svg=this.canvasData.parent.select("svg");var e=this.canvasCssClasses.join("-")+"-data-renderer",n=this.svg.selectAll("."+e).data([null]),r=n.enter().append("g").attr("class",e+" "+this.containerCssPrefix);this.container=n.merge(r);for(var i=0,o=this.canvasCssClasses;i<o.length;i++){var s=o[i],u=this.canvasUtilities.getCanvas(this.canvasData,s),c=u[0],l=u[1],f=u[2],d=f.node();if(!d)throw new a.a("Unable to get canvas.");var p=d.getContext("2d");if(!p)throw new a.a("Unable to write to canvas.");t.canvases.add(new h(s,c,l,f,p))}var m=!r.empty();m&&this.attachCanvasMouseMoveHandler(this.svg),this.canvasUtilities.updateSvgSize(this.canvasData.settings);var g=t.getTargetCanvasContexts(m);g.forEach(function(t){return t.save()});try{var v=this.canvasData.settings.pixelRatio;g.forEach(function(t){return t.scale(v,v)});var y=this.canvasData.settings.svgSize;g.forEach(function(t){return t.clearRect(0,0,y.width,y.height)}),this.renderContext(g,t)}finally{g.forEach(function(t){return t.restore()})}}},t}(),u=function(){return function(){this.canvases=new l}}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvases=new l,e}return r.d(e,t),e.prototype.getTargetCanvasContexts=function(t){return this.canvases.all.map(function(t){return t.canvasContext})},e}(u),l=function(){function t(){this.list=[],this.map={}}return t.prototype.add=function(t){this.list.push(t),this.map[t.cssClass]=t},Object.defineProperty(t.prototype,"count",{get:function(){return this.list.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"all",{get:function(){return this.list.slice()},enumerable:!0,configurable:!0}),t.prototype.getByIndex=function(t){return this.list[t]},t.prototype.getByCssClass=function(t){return this.map[t]},Object.defineProperty(t.prototype,"first",{get:function(){return this.list[0]},enumerable:!0,configurable:!0}),t}(),h=function(t,e,n,r,i){this.cssClass=t,this.canvasUpdate=e,this.canvasEnter=n,this.canvas=r,this.canvasContext=i}},NSYL:function(t,e,n){"use strict";n.d(e,"a",function(){return T}),n.d(e,"c",function(){return vt}),n.d(e,"g",function(){return yt}),n.d(e,"e",function(){return E}),n.d(e,"b",function(){return qt}),n.d(e,"d",function(){return oe}),n.d(e,"f",function(){return se}),n.d(e,"h",function(){return ue});var r=n("mrSG"),i=n("ihYY");function o(){return"undefined"!=typeof process}function a(t){switch(t.length){case 0:return new i.d;case 1:return t[0];default:return new i.l(t)}}function s(t,e,n,r,o,a){void 0===o&&(o={}),void 0===a&&(a={});var s=[],u=[],c=-1,l=null;if(r.forEach(function(t){var n=t.offset,r=n==c,h=r&&l||{};Object.keys(t).forEach(function(n){var r=n,u=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),u){case i.m:u=o[n];break;case i.a:u=a[n];break;default:u=e.normalizeStyleValue(n,r,u,s)}h[r]=u}),r||u.push(h),l=h,c=n}),s.length)throw new Error("Unable to animate due to the following errors:\n - "+s.join("\n - "));return u}function u(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&c(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&c(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&c(n,"destroy",t))})}}function c(t,e,n){var r=n.totalTime,i=l(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,void 0==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function l(t,e,n,r,i,o,a){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function h(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function f(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var d=function(t,e){return!1},p=function(t,e){return!1},m=function(t,e,n){return[]},g=o();if(g||"undefined"!=typeof Element){if(d=function(t,e){return t.contains(e)},g||Element.prototype.matches)p=function(t,e){return t.matches(e)};else{var v=Element.prototype,y=v.matchesSelector||v.mozMatchesSelector||v.msMatchesSelector||v.oMatchesSelector||v.webkitMatchesSelector;y&&(p=function(t,e){return y.apply(t,[e])})}m=function(t,e,n){var i=[];if(n)i.push.apply(i,Object(r.i)(t.querySelectorAll(e)));else{var o=t.querySelector(e);o&&i.push(o)}return i}}var b=null,w=!1;function _(t){b||(b=("undefined"!=typeof document?document.body:null)||{},w=!!b.style&&"WebkitAppearance"in b.style);var e=!0;return b.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in b.style)&&w&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in b.style),e}var x=p,S=d,M=m;function C(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var E=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return _(t)},t.prototype.matchesElement=function(t,e){return x(t,e)},t.prototype.containsElement=function(t,e){return S(t,e)},t.prototype.query=function(t,e,n){return M(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,o,a,s){return void 0===a&&(a=[]),new i.d(n,r)},t}(),T=function(){function t(){}return t.NOOP=new E,t}(),O=1e3;function P(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:A(parseFloat(e[1]),e[2])}function A(t,e){switch(e){case"s":return t*O;default:return t}}function k(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=A(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=A(Math.floor(parseFloat(s)),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function L(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function R(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else L(t,n);return n}function D(t,e,n){return n?e+":"+n+";":""}function N(t){for(var e="",n=0;n<t.style.length;n++)e+=D(0,r=t.style.item(n),t.style.getPropertyValue(r));for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=D(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function I(t,e){t.style&&(Object.keys(e).forEach(function(n){var r=G(n);t.style[r]=e[n]}),o()&&N(t))}function j(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=G(e);t.style[n]=""}),o()&&N(t))}function z(t){return Array.isArray(t)?1==t.length?t[0]:Object(i.g)(t):t}var F=new RegExp("{{\\s*(.+?)\\s*}}","g");function V(t){var e=[];if("string"==typeof t){for(var n=t.toString(),r=void 0;r=F.exec(n);)e.push(r[1]);F.lastIndex=0}return e}function B(t,e,n){var r=t.toString(),i=r.replace(F,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function U(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var H=/-+([a-z0-9])/g;function G(t){return t.replace(H,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function W(t,e){return 0===t||0===e}function q(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=X(t,e)})},s=1;s<e.length;s++)a()}return e}function Y(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function X(t,e){return window.getComputedStyle(t)[e]}var Z="*",J=new Set(["true","1"]),K=new Set(["false","0"]);function Q(t,e){var n=J.has(t)||K.has(t),r=J.has(e)||K.has(e);return function(i,o){var a=t==Z||t==i,s=e==Z||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?J.has(t):K.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?J.has(e):K.has(e)),a&&s}}var $=new RegExp("s*:selfs*,?","g");function tt(t,e,n){return new et(t).build(e,n)}var et=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new nt(e);return this._resetContextStyleTimingState(n),Y(this,z(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(rt(t)){var e=t;Object.keys(e).forEach(function(t){V(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=U(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Y(this,z(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push(Q(o,s)),"<"!=a[0]||o==Z&&s==Z||e.push(Q(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:it(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return Y(n,t,e)}),options:it(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=Y(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:it(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ot(k(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=ot(0,0,"");return i.dynamic=!0,i.strValue=r,i}return ot((n=n||k(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var o=t.styles?t.styles:Object(i.i)({});if(5==o.type)n=this.visitKeyframes(o,e);else{var a=t.styles,s=!1;if(!a){s=!0;var u={};r.easing&&(u.easing=r.easing),a=Object(i.i)(u)}e.currentTime+=r.duration+r.delay;var c=this.visitStyle(a,e);c.isEmptyStep=s,n=c}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==i.a?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)}):n.push(t.styles);var r=!1,o=null;return n.forEach(function(t){if(rt(t)){var e=t,n=e.easing;if(n&&(o=n,delete e.easing),!r)for(var i in e)if(e[i].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c=e.collectedStyles[e.currentQuerySelector],l=c[r],h=!0;l&&(o!=i&&o>=l.startTime&&i<=l.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+l.startTime+'ms" and "'+l.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),h=!1),o=l.startTime),h&&(c[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,s=e.options.params||{},(u=V(t[r])).length&&u.forEach(function(t){s.hasOwnProperty(t)||a.push("Unable to resolve the local animation param "+t+" in the given list of values")}))}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(rt(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(rt(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return c.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*m;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:Y(this,z(t.animation),e),options:it(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:it(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:it(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var o=Object(r.h)(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace($,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];e.currentQuerySelector=n.length?n+" "+a:a,h(e.collectedStyles,e.currentQuerySelector,{});var u=Y(this,z(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:it(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:k(t.timings,e.errors,!0);return{type:12,animation:Y(this,z(t.animation),e),timings:n,options:null}},t}(),nt=function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function rt(t){return!Array.isArray(t)&&"object"==typeof t}function it(t){var e;return t?(t=L(t)).params&&(t.params=(e=t.params)?L(e):null):t={},t}function ot(t,e,n){return{duration:t,delay:e,easing:n}}function at(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var st=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,Object(r.i)(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),ut=new RegExp(":enter","g"),ct=new RegExp(":leave","g");function lt(t,e,n,r,i,o,a,s,u,c){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===c&&(c=[]),(new ht).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var ht=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,u,c){void 0===c&&(c=[]),u=u||new st;var l=new dt(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Y(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[at(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?P(n.duration):null,o=null!=n.delay?P(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),Y(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ft);var a=P(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return Y(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?P(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Y(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return k(e.params?B(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?P(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ft);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Y(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Y(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)},t}(),ft={},dt=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ft,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new pt(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=P(r.duration)),null!=r.delay&&(i.delay=P(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=B(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=ft,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new mt(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,i,o,a){var s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(ut,"."+this._enterClassName)).replace(ct,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,Object(r.i)(u))}return o||0!=s.length||a.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),s},t}(),pt=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||i.a,e._currentKeyframe[t]=i.a}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var o=this;e&&(this._previousKeyframe.easing=e);var a=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]=i.a}):R(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(s).forEach(function(t){var e=B(s[t],a,n);o._pendingStyles[t]=e,o._localTimelineStyles.hasOwnProperty(t)||(o._backFill[t]=o._globalTimelineStyles.hasOwnProperty(t)?o._globalTimelineStyles[t]:i.a),o._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(a,s){var u=R(a,!0);Object.keys(u).forEach(function(t){var r=u[t];r==i.m?e.add(t):r==i.a&&n.add(t)}),r||(u.offset=s/t.duration),o.push(u)});var a=e.size?U(e.values()):[],s=n.size?U(n.values()):[];if(r){var u=o[0],c=L(u);u.offset=0,c.offset=1,o=[u,c]}return at(this.element,o,a,s,this.duration,this.startTime,this.easing,!1)},t}(),mt=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var u=t.call(this,e,n,a.delay)||this;return u.element=n,u.keyframes=r,u.preStyleProps=i,u.postStyleProps=o,u._stretchStartingKeyframe=s,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return Object(r.d)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=R(t[0],!1);u.offset=0,o.push(u);var c=R(t[0],!1);c.offset=gt(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=R(t[h],!1);f.offset=gt((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return at(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(pt);function gt(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var vt=function(){},yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.normalizePropertyName=function(t,e){return G(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(bt[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(vt),bt=function(t){var e={};return"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",").forEach(function(t){return e[t]=!0}),e}();function wt(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var _t={},xt=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,i,o,a,s,u,c,l){var f=[],d=this.ast.options&&this.ast.options.params||_t,p=this.buildStyles(n,s&&s.params||_t,f),m=u&&u.params||_t,g=this.buildStyles(i,m,f),v=new Set,y=new Map,b=new Map,w="void"===i,_={params:Object(r.a)({},d,m)},x=l?[]:lt(t,e,this.ast.animation,o,a,p,g,_,c,f),S=0;if(x.forEach(function(t){S=Math.max(t.duration+t.delay,S)}),f.length)return wt(e,this._triggerName,n,i,w,p,g,[],[],y,b,S,f);x.forEach(function(t){var n=t.element,r=h(y,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=h(b,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&v.add(n)});var M=U(v.values());return wt(e,this._triggerName,n,i,w,p,g,x,M,y,b,S)},t}(),St=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=L(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=B(o,r,e)),n[t]=o})}}),n},t}(),Mt=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new St(t.style,t.options&&t.options.params||{})}),Ct(this.states,"true","1"),Ct(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new xt(t,e,n.states))}),this.fallbackTransition=new xt(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function Ct(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Et=new st,Tt=function(){function t(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=tt(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=s(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var o,s=[],u=this._animations[t],c=new Map;if(u?(o=lt(this._driver,e,u,"ng-enter","ng-leave",{},{},n,Et,s)).forEach(function(t){var e=h(c,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error("Unable to create the animation due to the following errors: "+s.join("\n"));c.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,i.a)})});var l=a(o.map(function(t){var e=c.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(function(){return r.destroy(t)}),this.players.push(l),l},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=l(e,"","","");return u(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),Ot=[],Pt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},At={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kt="__ng_removed",Lt=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=L(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),Rt=new Lt("void"),Dt=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ut(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var a=h(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=h(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Ut(t,"ng-trigger"),Ut(t,"ng-trigger-"+e),u[e]=Rt),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new It(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ut(t,"ng-trigger"),Ut(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new Lt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=Rt),"void"===c.value||u.value!==c.value){var l=h(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var f=o.matchTransition(u.value,c.value,t,c.params),d=!1;if(!f){if(!r)return;f=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:u,toState:c,player:a,isFallbackTransition:d}),d||(Ut(t,"ng-animate-queued"),a.onStart(function(){Ht(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var p=[],m=o.matchStyles(u.value,u.params,p),g=o.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){j(t,m),I(t,g)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach(function(t){if(!t[kt]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)}})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&a(s).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Rt,s=new Lt("void"),u=new It(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){Ut(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=l(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,u(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},t}(),Nt=function(){function t(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new Dt(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(jt(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(jt(e)){var i=e[kt];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ut(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ht(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,n){if(jt(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[kt]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return jt(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return a(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[kt];if(n&&n.setForRemoval){if(t[kt]=Pt,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(n){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Ut(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?a(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,o=new st,s=[],u=new Map,c=[],l=new Map,f=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(function(t){p.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)p.add(e[r])});var m=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=Vt(g,this.collectedEnterElements),y=new Map,b=0;v.forEach(function(t,e){var n="ng-enter"+b++;y.set(e,n),t.forEach(function(t){return Ut(t,n)})});for(var w=[],_=new Set,x=new Set,S=0;S<this.collectedLeaveElements.length;S++)(U=(B=this.collectedLeaveElements[S])[kt])&&U.setForRemoval&&(w.push(B),_.add(B),U.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach(function(t){return _.add(t)}):x.add(B));var M=new Map,C=Vt(g,Array.from(_));C.forEach(function(t,e){var n="ng-leave"+b++;M.set(e,n),t.forEach(function(t){return Ut(t,n)})}),t.push(function(){v.forEach(function(t,e){var n=y.get(e);t.forEach(function(t){return Ht(t,n)})}),C.forEach(function(t,e){var n=M.get(e);t.forEach(function(t){return Ht(t,n)})}),w.forEach(function(t){n.processLeaveNode(t)})});for(var E=[],T=[],O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(function(t){var e=t.player,r=t.element;if(E.push(e),n.collectedEnterElements.length){var i=r[kt];if(i&&i.setForMove)return void e.destroy()}var a=!m||!n.driver.containsElement(m,r),u=M.get(r),p=y.get(r),g=n._buildInstruction(t,o,p,u,a);if(g.errors&&g.errors.length)T.push(g);else{if(a)return e.onStart(function(){return j(r,g.fromStyles)}),e.onDestroy(function(){return I(r,g.toStyles)}),void s.push(e);if(t.isFallbackTransition)return e.onStart(function(){return j(r,g.fromStyles)}),e.onDestroy(function(){return I(r,g.toStyles)}),void s.push(e);g.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),o.append(r,g.timelines),c.push({instruction:g,player:e,element:r}),g.queriedElements.forEach(function(t){return h(l,t,[]).push(e)}),g.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=f.get(e);r||f.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),g.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=d.get(e);r||d.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(T.length){var P=[];T.forEach(function(t){P.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach(function(t){return P.push("- "+t+"\n")})}),E.forEach(function(t){return t.destroy()}),this.reportError(P)}var A=new Map,k=new Map;c.forEach(function(t){var e=t.element;o.has(e)&&(k.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))}),s.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){h(A,e,[]).push(t),t.destroy()})});var L=w.filter(function(t){return Wt(t,f,d)}),R=new Map;Ft(R,this.driver,x,d,i.a).forEach(function(t){Wt(t,f,d)&&L.push(t)});var D=new Map;v.forEach(function(t,e){Ft(D,n.driver,new Set(t),f,i.m)}),L.forEach(function(t){var e=R.get(t),n=D.get(t);R.set(t,Object(r.a)({},e,n))});var N=[],z=[],F={};c.forEach(function(t){var e=t.element,r=t.player,i=t.instruction;if(o.has(e)){if(p.has(e))return r.onDestroy(function(){return I(e,i.toStyles)}),r.disabled=!0,r.overrideTotalTime(i.totalTime),void s.push(r);var c=F;if(k.size>1){for(var l=e,h=[];l=l.parentNode;){var f=k.get(l);if(f){c=f;break}h.push(l)}h.forEach(function(t){return k.set(t,c)})}var d=n._buildAnimation(r.namespaceId,i,A,u,D,R);if(r.setRealPlayer(d),c===F)N.push(r);else{var m=n.playersByElement.get(c);m&&m.length&&(r.parentPlayer=a(m)),s.push(r)}}else j(e,i.fromStyles),r.onDestroy(function(){return I(e,i.toStyles)}),z.push(r),p.has(e)&&s.push(r)}),z.forEach(function(t){var e=u.get(t.element);if(e&&e.length){var n=a(e);t.setRealPlayer(n)}}),s.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var V=0;V<w.length;V++){var B,U=(B=w[V])[kt];if(Ht(B,"ng-leave"),!U||!U.hasAnimation){var H=[];if(l.size){var G=l.get(B);G&&G.length&&H.push.apply(H,Object(r.i)(G));for(var W=this.driver.query(B,".ng-animating",!0),q=0;q<W.length;q++){var Y=l.get(W[q]);Y&&Y.length&&H.push.apply(H,Object(r.i)(Y))}}var X=H.filter(function(t){return!t.destroyed});X.length?Gt(this,B,X):this.processLeaveNode(B)}}return w.length=0,N.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),N},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[kt];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){var i,o,a=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=function(t){var r=t.element,i=r!==a,o=h(n,r,[]);l._getPreviousPlayers(r,i,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),o.push(t)})},l=this;try{for(var f=Object(r.j)(e.timelines),d=f.next();!d.done;d=f.next())c(d.value)}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}j(a,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,o,u){var c=this,l=e.triggerName,f=e.element,d=[],p=new Set,m=new Set,g=e.timelines.map(function(e){var a=e.element;p.add(a);var h=a[kt];if(h&&h.removedBeforeQueried)return new i.d(e.duration,e.delay);var g,v,y=a!==f,b=(g=(n.get(a)||Ot).map(function(t){return t.getRealPlayer()}),v=[],function t(e,n){for(var r=0;r<e.length;r++){var o=e[r];o instanceof i.l?t(o.players,n):n.push(o)}}(g,v),v).filter(function(t){return!!t.element&&t.element===a}),w=o.get(a),_=u.get(a),x=s(0,c._normalizer,0,e.keyframes,w,_),S=c._buildPlayer(e,x,b);if(e.subTimeline&&r&&m.add(a),y){var M=new It(t,l,a);M.setRealPlayer(S),d.push(M)}return S});d.forEach(function(t){h(c.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(c.playersByQueriedElement,t.element,t)})}),p.forEach(function(t){return Ut(t,"ng-animating")});var v=a(g);return v.onDestroy(function(){p.forEach(function(t){return Ht(t,"ng-animating")}),I(f,e.toStyles)}),m.forEach(function(t){h(r,t,[]).push(v)}),v},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new i.d(t.duration,t.delay)},t}(),It=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new i.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return u(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){h(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function jt(t){return t&&1===t.nodeType}function zt(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ft(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(zt(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[kt]=At,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return zt(t,o[s++])}),a}function Vt(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach(function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}var Bt="$$classes";function Ut(t,e){if(t.classList)t.classList.add(e);else{var n=t[Bt];n||(n=t[Bt]={}),n[e]=!0}}function Ht(t,e){if(t.classList)t.classList.remove(e);else{var n=t[Bt];n&&delete n[e]}}function Gt(t,e,n){a(n).onDone(function(){return t.processLeaveNode(e)})}function Wt(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var qt=function(){function t(t,e,n){var r=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Nt(t,e,n),this._timelineEngine=new Tt(t,e,n),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=tt(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=function(t,e){return new Mt(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n){this._transitionEngine.removeNode(t,e,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,i){if("@"==n.charAt(0)){var o=Object(r.h)(f(n),2);this._timelineEngine.command(o[0],e,o[1],i)}else this._transitionEngine.trigger(t,e,n,i)},t.prototype.listen=function(t,e,n,i,o){if("@"==n.charAt(0)){var a=Object(r.h)(f(n),2);return this._timelineEngine.listen(a[0],e,a[1],o)}return this._transitionEngine.listen(t,e,n,i,o)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}(),Yt="animation",Xt="animationend",Zt=function(){function t(t,e,n,r,i,o,a){var s=this;this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return s._handleCallback(t)}}return t.prototype.apply=function(){var t,e,n;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=ee(t=this._element,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)","===t.charAt(n)&&0}(n),e=n+", "+e),te(t,"",e),$t(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){Jt(this._element,this._name,"paused")},t.prototype.resume=function(){Jt(this._element,this._name,"running")},t.prototype.setPosition=function(t){var e=Kt(this._element,this._name);this._position=t*this._duration,te(this._element,"Delay","-"+this._position+"ms",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),$t(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=Qt(n=ee(t=this._element,"").split(","),e))>=0&&(n.splice(r,1),te(t,"",n.join(","))))},t}();function Jt(t,e,n){te(t,"PlayState",n,Kt(t,e))}function Kt(t,e){var n=ee(t,"");return n.indexOf(",")>0?Qt(n.split(","),e):Qt([n],e)}function Qt(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function $t(t,e,n){n?t.removeEventListener(Xt,e):t.addEventListener(Xt,e)}function te(t,e,n,r){var i=Yt+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function ee(t,e){return t.style[Yt+e]}var ne="linear",re=function(){function t(t,e,n,r,i,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||ne,this.totalTime=r+i,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this._state>=2},t.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new Zt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:X(t.element,r))})}this.currentSnapshot=e},t}(),ie=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=C(n),r}return Object(r.d)(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,t.prototype.destroy.call(this))},e}(i.d),oe=function(){function t(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return _(t)},t.prototype.matchesElement=function(t,e){return x(t,e)},t.prototype.containsElement=function(t,e){return S(t,e)},t.prototype.query=function(t,e,n){return M(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,n){var r="@keyframes "+e+" {\n",i="";(n=n.map(function(t){return C(t)})).forEach(function(t){i=" ";var e=parseFloat(t.offset);r+=""+i+100*e+"% {\n",i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=i+"animation-timing-function: "+n+";\n"));default:return void(r+=""+i+e+": "+n+";\n")}}),r+=i+"}\n"}),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o},t.prototype.animate=function(t,e,n,r,i,o,a){void 0===o&&(o=[]),a&&this._notifyFaultyScrubber();var s=o.filter(function(t){return t instanceof re}),u={};W(n,r)&&s.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=q(t,e,u));if(0==n)return new ie(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=new re(t,e,l,n,r,i,c);return f.onDestroy(function(){var t;(t=h).parentNode.removeChild(t)}),f},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},t}(),ae=function(){function t(t,e,n){this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:X(t.element,n))}),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),se=function(){function t(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ce().toString()),this._cssKeyframesDriver=new oe}return t.prototype.validateStyleProperty=function(t){return _(t)},t.prototype.matchesElement=function(t,e){return x(t,e)},t.prototype.containsElement=function(t,e){return S(t,e)},t.prototype.query=function(t,e,n){return M(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,n,r,i,o,a){if(void 0===o&&(o=[]),!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(t){return t instanceof ae});return W(n,r)&&c.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})}),e=q(t,e=e.map(function(t){return R(t,!1)}),u),new ae(t,e,s)},t}();function ue(){return"function"==typeof ce()}function ce(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}},NlKi:function(t,e,n){var r=n("jT1Q"),i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),t.exports=a,t.exports.Client=r},OBMz:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.inner=new i}return t.prototype.render=function(t){return this.inner.render(t),this},t.prototype.layout=function(t){return this.inner.layout=t,this},t.prototype.chartSettings=function(t){return this.inner.settings=t,this},t.getPlotClipPathId=function(t,e){return t+"-plot-clip-"+e},t.getPlotXAxisClipPathId=function(t,e){return t+"-plot-clip-x-"+e},t.getPlotYAxisClipPathId=function(t,e){return t+"-plot-clip-y-"+e},t}(),i=function(){function t(){}return t.prototype.render=function(t){if(this.layout&&this.settings){var e=this.settings,n=t.selectAll(".multi-plot-clipping-renderer").data([null]),i=n.enter().append("g").attr("class","multi-plot-clipping-renderer").merge(n).selectAll(".plot-clip-container").data(this.layout.processed.plots);i.exit().remove();var o=i.enter().append("g").attr("class","plot-clip-container"),a=o.merge(i),s=a.select(".plot-clip"),u=o.append("clipPath").attr("class","plot-clip").attr("id",function(t,n){return r.getPlotClipPathId(e.uniqueId,n)}),c=u.merge(s),l=a.select(".plot-clip-x"),h=o.append("clipPath").attr("class","plot-clip-x").attr("id",function(t,n){return r.getPlotXAxisClipPathId(e.uniqueId,n)}),f=h.merge(l),d=a.select(".plot-clip-y"),p=o.append("clipPath").attr("class","plot-clip-y").attr("id",function(t,n){return r.getPlotYAxisClipPathId(e.uniqueId,n)}),m=p.merge(d);u.append("rect"),h.append("rect"),p.append("rect"),c.select("rect").attr("x",function(t){return t.absoluteRenderArea.x}).attr("y",function(t){return t.absoluteRenderArea.y}).attr("width",function(t){return t.absoluteRenderArea.width}).attr("height",function(t){return t.absoluteRenderArea.height}),f.select("rect").attr("x",function(t){return t.absoluteRenderArea.x-e.spaceBetweenPlots}).attr("y",function(t){return t.absoluteRenderArea.y+t.absoluteRenderArea.height}).attr("width",function(t){return t.absoluteRenderArea.width+2*e.spaceBetweenPlots}).attr("height",function(t){return e.spaceBetweenPlots+e.chartMargin.bottom}),m.select("rect").attr("x",function(t){return t.absoluteRenderArea.x-e.spaceBetweenPlots-e.chartMargin.left}).attr("y",function(t){return t.absoluteRenderArea.y-e.spaceBetweenPlots}).attr("width",function(t){return e.spaceBetweenPlots+e.chartMargin.left}).attr("height",function(t){return t.absoluteRenderArea.height+2*e.spaceBetweenPlots})}},t}()},OIYi:function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n("wd/R"))},Oaa7:function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},OkkV:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG");function i(t,e,n){return r.b(this,void 0,void 0,function(){var i,a,s,u,c,l=this;return r.e(this,function(h){switch(h.label){case 0:return i=t.sourceLoaderSet.sources.map(function(t){return r.b(l,void 0,void 0,function(){var n;return r.e(this,function(r){switch(r.label){case 0:return[4,t.getConfig(e)];case 1:return n=r.sent(),[2,new o(t.id,n)]}})})}),[4,Promise.all(i)];case 1:if(a=h.sent(),n)for(s=new Set,u=0;u<a.length;++u)(c=a[u])&&(s.has(c.data)?a[u]=void 0:s.add(c.data));return[2,a]}})})}var o=function(t,e){this.id=t,this.data=e}},OzDC:function(t,e,n){"use strict";var r=n("mrSG"),i=n("eh5z"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.build=function(t){return new e(t)},e}(n("5dG8").a),a=n("YBAz"),s=n("KFNO"),u=n("6EN/"),c=n("fNPK"),l=n("QMr3");n.d(e,"b",function(){return h}),n.d(e,"a",function(){return f});var h="pointMultiPlotViewer",f=function(t){function e(e,n,r,o,a,s,u){var c=t.call(this,e,n,r,o,a,s)||this;c.interpolator=u;var l=c.layout.overrideLineCurve;return l&&(c.overrideLineCurve=i[l]),c}return r.d(e,t),e.createLinePlotViewer=function(t,n,r,i,o){var u=new a.b;return new e(t,n,r,s.a.create(t,o,i.sourceLoaderSet,r,u),i,o,u)},e.prototype.getCssClass=function(){return"line-plot-viewer"},e.prototype.createSettings=function(t){return o.build(t)},e.prototype.createDataRenderer=function(){var t=a.a.create(this.interpolator);return this.overrideLineCurve&&this.overrideLineCurve!==i.curveLinear?(t.curve(this.overrideLineCurve),t.domainSnapBehaviour(c.c.nearest)):t.domainSnapBehaviour(c.c.linearInterpolation),t},e.prototype.onBuilt=function(){t.prototype.onBuilt.call(this),this.zoomRenderer&&this.zoomRenderer.zoomType(l.c.x)},e}(u.d)},P6uZ:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("3fWJ"),i=n("VnD/"),o=n("t9fZ"),a=n("HJBe"),s=n("tNVB"),u=n("mChF");function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?Object(i.a)(function(e,n){return t(e,n,c)}):u.a,Object(o.a)(1),n?Object(a.a)(e):Object(s.a)(function(){return new r.a}))}}},P7XM:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},Phjn:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("psW0");function i(t,e){return Object(r.a)(t,e,1)}},QMr3:function(t,e,n){"use strict";var r=n("4HSR"),i=n("eh5z"),o=n("2fsI"),a=n("7c6v"),s=n("4zky"),u=n("OBMz"),c=n("fNPK"),l=n("LBxW"),h=n("DUrn"),f=function(){function t(t){this.getInterpolatedChannelValueAtDomainValue=t}return t.create=function(){return new t(new h.a)},t.prototype.execute=function(t,e,n,r,i,o,a){if(!(n&&r&&n.data&&r.data))return NaN;var s=n,u=r;switch(t){case m.min:case m.max:return this.executeBasicCalculation(t,s,u,o,a);case m.mean:return this.getMean(t,e,s,u,i,o,a);default:throw new Error("Unexpected calculation type: "+t)}},t.prototype.getMean=function(t,e,n,r,i,o,a){if(!(n&&r&&n.data&&r.data))return NaN;if(!i||!i.data)return this.executeBasicCalculation(t,n,r,o,a);var s=i;return n.isMonotonic&&a[0]===-1/0&&a[1]===1/0&&e===c.c.linearInterpolation?this.getMeanWithContinuousTrapezoidRule(n,r,s,o):this.getMeanWithDiscreetMidpointRule(n,r,s,o,a)},t.prototype.getMeanWithContinuousTrapezoidRule=function(t,e,n,r){if(!t.isMonotonic)throw new Error("X Domain should be monotonic when evaluating mean with trapezoid rule.");if(!n||!n.data)throw new Error("Integration channel data must be supplied when evaluating mean with trapezoid rule.");var o=[this.getInterpolatedChannelValueAtDomainValue.execute(n.data,r[0],t.data,t.monotonicStatus),this.getInterpolatedChannelValueAtDomainValue.execute(n.data,r[1],t.data,t.monotonicStatus)],a=i.minStrict(o),s=i.maxStrict(o),u=s-a;return 0===u?NaN:this.getIntegralWithContinuousTrapezoidRule(n,e,a,s)/u},t.prototype.getIntegralWithContinuousTrapezoidRule=function(t,e,n,r){if(!t||!t.data)throw new Error("Integration channel data must be supplied when evaluating integral with trapezoid rule.");if(!t.isMonotonic)throw new Error("Integration channel should be monotonic when evaluating integral with trapezoid rule.");var i,o;if(t.monotonicStatus===l.a.Decreasing?(i=t.data.slice().reverse(),o=e.data.slice().reverse()):(i=t.data,o=e.data),r<i[0]||n>i[i.length-1])return 0;var a=this.getInterpolatedChannelValueAtDomainValue.execute(o,n,i,l.a.Increasing),s=this.getInterpolatedChannelValueAtDomainValue.execute(o,r,i,l.a.Increasing),u=this.getStartIndexInclusive(n,i),c=this.getEndIndexExclusive(r,i);if(u===c)return(a+s)*(r-n)/2;for(var h=(o[u]+a)*(i[u]-n)/2,f=u;f<c-1;++f)h+=(o[f]+o[f+1])*(i[f+1]-i[f])/2;return h+(o[c-1]+s)*(r-i[c-1])/2},t.prototype.getStartIndexInclusive=function(t,e){var n;if(t<e[0])n=0;else{if(t>e[e.length-1])return e.length;n=e.findIndex(function(e){return e>=t})}return n},t.prototype.getEndIndexExclusive=function(t,e){var n;if(t>=e[e.length-1])n=e.length;else{if(t<e[0])return 0;n=e.findIndex(function(e){return e>t})}return n},t.prototype.getMeanWithDiscreetMidpointRule=function(t,e,n,r,o){if(!n||!n.data)throw new Error("Integration channel data must be supplied when evaluating integral with midpoint rule.");var a=0,s=0;r=i.extentStrict(r),o=i.extentStrict(o);for(var u=t.data.map(function(t,e){return t>=r[0]&&t<=r[1]?1:0}),c=e.data.map(function(t,e){return t>=o[0]&&t<=o[1]?1:0}),l=u.map(function(t,e){return t&&c[e]?1:0}),h=e.data,f=n.data,d=l.length-1,p=0;p<=d;++p)if(l[p]){var m,g=f[p],v=h[p];p>0&&(a+=m=Math.abs((g-f[p-1])/2),s+=v*m),p<d&&(a+=m=Math.abs((g-f[p+1])/2),s+=v*m)}return 0===a?NaN:s/a},t.prototype.executeBasicCalculation=function(t,e,n,r,o){r=i.extentStrict(r),o=i.extentStrict(o);var a=e.data.map(function(t,e){return t>=r[0]&&t<=r[1]?1:0}),s=n.data.map(function(t,e){return t>=o[0]&&t<=o[1]?1:0}),u=a.map(function(t,e){return t&&s[e]?1:0}),c=n.data.filter(function(t,e){return u[e]});if(0===c.length)return NaN;switch(t){case m.min:return i.minStrict(c);case m.max:return i.maxStrict(c);case m.mean:return i.meanStrict(c)}throw new Error("Unexpected calculation type when evaluating min or max: "+t)},t}(),d=n("/IYp");n.d(e,"c",function(){return p}),n.d(e,"a",function(){return m}),n.d(e,"b",function(){return g});var p=function(t){return t[t.x=0]="x",t[t.y=1]="y",t[t.xy=2]="xy",t}({}),m=function(t){return t[t.none=0]="none",t[t.mean=1]="mean",t[t.min=2]="min",t[t.max=3]="max",t}({}),g=function(){function t(){this.inner=new v}return t.prototype.render=function(t){return this.inner.render(t),this},t.prototype.preRender=function(t){return this.inner.preRender(t),this},t.prototype.layout=function(t){return this.inner.layout=t,this},t.prototype.chartSettings=function(t){return this.inner.settings=t,this},t.prototype.zoomType=function(t){return this.inner.zoomType=t,this},t.prototype.sharedState=function(t){return this.inner.sharedState=t,this},t.prototype.xLegendList=function(t){return this.inner.xLegendList=t,this},t.prototype.domainSnapBehaviour=function(t){return this.inner.domainSnapBehaviour=t,this},Object.defineProperty(t.prototype,"isRenderingCalculations",{get:function(){return this.inner.isRenderingCalculations},enumerable:!0,configurable:!0}),t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.inner.listeners.on.apply(this.inner.listeners,t),this},t.prototype.dispose=function(){return this.inner.dispose(),this},t}(),v=function(){function t(){var t=this;this.zoomType=p.xy,this.domainSnapBehaviour=c.c.nearest,this.calculationType=m.none,this.listeners=i.dispatch("zoom","legendChanged"),this.enableZoomByScroll=!1,this.isZooming=!1,this.toggleOptionsRenderer=new d.d,this.getChannelCalculationResult=f.create(),this.zoomToggles=[new d.c(p.x,"x",function(e){return t.zoomType=e.value},15),new d.c(p.y,"y",function(e){return t.zoomType=e.value},15),new d.c(p.xy,"xy",function(e){return t.zoomType=e.value},15)];var e=function(e){t.calculationType=e.value,t.isRenderingCalculations||(t.performChannelCalculations(),t.listeners.call("legendChanged"))},n=function(e){return t.isRenderingCalculations?"calculating-toggle-selected":null};this.calculationToggles=[new d.c(m.none,"none",function(e){t.calculationType=e.value,t.resetLegendValues(),t.listeners.call("legendChanged")},30),new d.c(m.mean,"mean",e,30,n),new d.c(m.min,"min",e,30,n),new d.c(m.max,"max",e,30,n)]}return Object.defineProperty(t.prototype,"isRenderingCalculations",{get:function(){return!(!this.zoomProgress||this.calculationType===m.none)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.subscriptions&&this.subscriptions.unsubscribe()},t.prototype.preRender=function(t){if(this.layout&&this.settings&&this.sharedState){this.zoomProgress=void 0;var e=new Set;t.selectAll(".zoom-handler").data(this.layout.processed.plots).each(function(t){var n=r.xyzoomTransform(this);if(n){var i=t.column.processed.scale;e.has(i)||(i.domain(n.rescaleX(i).domain()),e.add(i));var o=t.row.processed.scale;e.has(o)||(o.domain(n.rescaleY(o).domain()),e.add(o))}})}},t.prototype.render=function(t){var e=this;if(this.layout&&this.settings&&this.sharedState){var n=t.selectAll(".zoom-renderer").data([null]),r=n.enter().append("g").attr("class","zoom-renderer multi-plot-zoom-renderer").merge(n);this.subscriptions||(this.subscriptions=this.sharedState.keyPressNews.subscribe(function(n){var i=!1;if("x"===n?(e.zoomType=p.x,e.enableZoomByScroll=!0,i=!0):"y"===n?(e.zoomType=p.y,e.enableZoomByScroll=!0,i=!0):"z"===n?(e.zoomType=p.xy,e.enableZoomByScroll=!0,i=!0):e.enableZoomByScroll=!1,"m"===n){var o=e.calculationToggles.find(function(t){return t.value===e.calculationType}),a=0;o&&(a=e.calculationToggles.indexOf(o)+1)===e.calculationToggles.length&&(a=0),e.calculationToggles[a].clickAction(e.calculationToggles[a]),i=!0}"Escape"===n&&e.zoomProgress&&(e.zoomProgress=void 0,i=!0),i&&(e.renderZoomOptions(t,r),e.renderZoomBrushes(t,r))})),this.renderZoomHandlers(t,r),this.renderZoomOptions(t,r),this.renderZoomBrushes(t,r)}},t.prototype.renderZoomHandlers=function(t,e){if(this.layout){var n=this,s=e.selectAll(".zoom-handler").data(this.layout.processed.plots);s.exit().remove();var u=s.enter().append("rect").attr("class","zoom-handler"),c=s.merge(u);u.attr("fill","transparent").on("dblclick",function(){c.each(function(t){var e=this.__cs_zoom;i.select(this).call(e.transform,r.xyzoomIdentity)})}),c.attr("transform",function(t){return"translate("+t.absoluteRenderArea.x+","+t.absoluteRenderArea.y+")"}).attr("width",function(t){return t.absoluteRenderArea.width}).attr("height",function(t){return t.absoluteRenderArea.height});var l=this.getZoomFilter(),h=this.getScaleRatio();u.each(function(s){var u=this.__cs_zoom=(new r.xyzoom).extent([[0,0],[s.column.processed.plotSize,s.row.processed.plotSize]]).scaleExtent([1,1e3],[1,1e3]).filter(l).on("zoom",function(e){return n.zoomHandler(t,e)});i.select(this).call(u).on("wheel",function(t){n.enableZoomByScroll&&o.event.preventDefault()}).on("contextmenu.zoom-brush",function(r){var i=o.event;if(i.preventDefault(),n.zoomProgress)n.zoomProgress=void 0;else{var s=new a.a(i.offsetX,i.offsetY),u=new a.a(s.x-r.absoluteRenderArea.x,s.y-r.absoluteRenderArea.y);n.zoomProgress=new y(r,u)}n.renderZoomBrushes(t,e),n.renderZoomOptions(t,e)}).on("click.zoom-brush",function(e){n.zoomProgress&&n.zoomToZoomProgress(t)}).on("mousemove.zoom-brush",function(r){if(n.zoomProgress){var i=o.event,s=new a.a(i.offsetX,i.offsetY),u=n.zoomProgress.plot;n.zoomProgress.end=new a.a(u.column===r.column?s.x-r.absoluteRenderArea.x:r.column.processed.offset>u.column.processed.offset?u.absoluteRenderArea.width:0,u.row===r.row?s.y-r.absoluteRenderArea.y:r.row.processed.offset>u.row.processed.offset?u.absoluteRenderArea.height:0),n.renderZoomBrushes(t,e)}})}),c.each(function(t){this.__cs_zoom.extent([[0,0],[t.column.processed.plotSize,t.row.processed.plotSize]]).translateExtent([[0,0],[t.column.processed.plotSize,t.row.processed.plotSize]]).scaleRatio(h)})}},t.prototype.renderZoomBrushes=function(t,e){if(this.layout&&this.settings){var n=this.settings,r=this,o=[];if(this.zoomProgress){var a=this.zoomProgress;o.push(new b(a.plot,!0)),this.zoomType!==p.x&&this.zoomType!==p.xy||o.push.apply(o,this.layout.processed.plots.filter(function(t){return t!==a.plot&&t.column===a.plot.column}).map(function(t){return new b(t,!0)})),this.zoomType!==p.y&&this.zoomType!==p.xy||o.push.apply(o,this.layout.processed.plots.filter(function(t){return t!==a.plot&&t.row===a.plot.row}).map(function(t){return new b(t,!1)}))}this.isRenderingCalculations&&this.resetLegendValues();var s=e.selectAll(".zoom-brush").data(o);s.exit().remove();var c=s.enter().append("rect").attr("class","zoom-brush");s.merge(c).each(function(t){var e=i.select(this),o=r.getZoomProgressBrushArea(t.plot);o?(e.attr("clip-path","url(#"+u.a.getPlotClipPathId(n.uniqueId,t.plot.plotIndex)+")").attr("x",o.x+t.plot.absoluteRenderArea.x).attr("y",o.y+t.plot.absoluteRenderArea.y).attr("width",o.width).attr("height",o.height).classed("calculating-zoom-brush",function(){return t.includeInCalculations&&r.isRenderingCalculations}),r.isRenderingCalculations&&r.performZoomBrushCalculations(t,o)):e.attr("opacity",0)}),this.isRenderingCalculations&&this.listeners.call("legendChanged")}},t.prototype.resetLegendValues=function(){if(this.layout&&this.xLegendList){for(var t=0,e=this.xLegendList.channels;t<e.length;t++)for(var n=e[t],r=0;r<n.legendValues.length;++r)n.legendValues[r]=NaN;for(var i=0,o=this.layout.processed.rows;i<o.length;i++)for(var a=0,s=o[i].processed.channels;a<s.length;a++){var u=s[a];for(r=0;r<u.legendValues.length;++r)u.legendValues[r]=NaN}}},t.prototype.getZoomProgressBrushArea=function(t){var e;return this.zoomProgress&&((this.zoomType===p.x||this.zoomType===p.xy&&t!==this.zoomProgress.plot&&t.column===this.zoomProgress.plot.column)&&(e=new s.a(this.zoomProgress.start.x,-1,this.zoomProgress.end.x-this.zoomProgress.start.x,t.absoluteRenderArea.height+2)),(this.zoomType===p.y||this.zoomType===p.xy&&t!==this.zoomProgress.plot&&t.row===this.zoomProgress.plot.row)&&(e=new s.a(-1,this.zoomProgress.start.y,t.absoluteRenderArea.width+2,this.zoomProgress.end.y-this.zoomProgress.start.y)),this.zoomType===p.xy&&t===this.zoomProgress.plot&&(e=new s.a(this.zoomProgress.start.x,this.zoomProgress.start.y,this.zoomProgress.end.x-this.zoomProgress.start.x,this.zoomProgress.end.y-this.zoomProgress.start.y))),e&&(e.width<0&&(e=new s.a(e.x+e.width,e.y,-1*e.width,e.height)),e.height<0&&(e=new s.a(e.x,e.y+e.height,e.width,-1*e.height))),e},t.prototype.performChannelCalculations=function(){if(this.layout){for(var t=0,e=this.layout.processed.rows;t<e.length;t++)for(var n=0,r=e[t].processed.channels;n<r.length;n++)for(var o=r[n],a=0;a<o.sources.length;++a){var s=this.layout.processed.sourceData[a].featureChannels.integrationChannel,u=this.getChannelCalculationResult.execute(this.calculationType,this.domainSnapBehaviour,s,o.sources[a],s,[-1/0,1/0],[-1/0,1/0]);o.legendValues[a]=u}for(var c=0,l=this.layout.processed.columns;c<l.length;c++)for(var h=0,f=l[c].processed.channels;h<f.length;h++)for(o=f[h],a=0;a<o.sources.length;++a){var d=NaN,p=o.sources[a].data;if(p){var m=i.extentStrict(p);d=m[1]-m[0]}this.getVisibleXLegendChannel(o).legendValues[a]=d}}},t.prototype.performZoomBrushCalculations=function(t,e){if(this.layout&&t.includeInCalculations&&0!==e.width&&0!==e.height){var n,r=t.plot.column.processed.channels.filter(function(t){return t.isVisible});if(r.length&&(n=r[0]),n){var o=t.plot.column.processed.scale,a=[-1/0,1/0];this.zoomType!==p.x&&this.zoomType!==p.xy||(a=i.extentStrict([o.invert(e.x),o.invert(e.x+e.width)]));for(var s=function(r){var o=u.layout.processed.sourceData[r].featureChannels.integrationChannel,s=n.sources[r],c=s.data;if(!c)return"continue";var l=c.map(function(t,e){return t>=a[0]&&t<=a[1]?1:0}),h=c.filter(function(t,e){return l[e]}),f=i.extentStrict(h),d=f[1]-f[0];u.getVisibleXLegendChannel(n).legendValues[r]=d;for(var m=0,g=t.plot.row.processed.channels;m<g.length;m++){var v=g[m],y=v.sources[r];if(y.data){var b=t.plot.row.processed.scale,w=[-1/0,1/0];(u.zoomType===p.y||u.zoomType===p.xy&&u.zoomProgress&&t.plot===u.zoomProgress.plot)&&(w=i.extentStrict([b.invert(e.y),b.invert(e.y+e.height)]));var _=u.getChannelCalculationResult.execute(u.calculationType,u.domainSnapBehaviour,s,y,o,a,w);v.legendValues[r]=_}}if(u.zoomProgress&&t.plot===u.zoomProgress.plot&&n.isMonotonic)for(var x=0,S=t.plot.column.processed.channels;x<S.length;x++){var M=S[x];if(M!==n&&M.isMonotonic){var C=M.sources[r].data;if(C){var E=l.indexOf(1),T=l.lastIndexOf(1);if(-1!==E&&-1!==T){var O=i.extentStrict([C[E],C[T]]),P=O[1]-O[0];u.getVisibleXLegendChannel(M).legendValues[r]=P}}}}},u=this,c=0;c<n.sources.length;++c)s(c)}}},t.prototype.getVisibleXLegendChannel=function(t){if(!this.xLegendList)throw new Error("X legend list was not found.");var e=this.xLegendList.channels.filter(function(e){return e.name===t.name});return e.length?e[0]:(this.xLegendList.addChannel(t),t)},t.prototype.getScaleRatio=function(){switch(this.zoomType){case p.x:return[1,0];case p.y:return[0,1];default:return[1,1]}},t.prototype.zoomToZoomProgress=function(t){if(!this.isZooming&&this.layout)try{if(this.isZooming=!0,!this.zoomProgress)return;var e,n=this,o=this.zoomProgress;t.selectAll(".zoom-handler").each(function(t){if(t===o.plot){var a=n.getZoomProgressBrushArea(t);if(a&&0!==a.width&&0!==a.height){var s;e=r.xyzoomTransform(this)||r.xyzoomIdentity,(n.zoomType===p.x||n.zoomType===p.xy)&&(e=r.xyzoomIdentity.translate((e.x-a.x)*(s=t.absoluteRenderArea.width/a.width),e.y).scale(e.kx*s,e.ky)),n.zoomType!==p.y&&n.zoomType!==p.xy||(e=r.xyzoomIdentity.translate(e.x,(e.y-a.y)*(s=t.absoluteRenderArea.height/a.height)).scale(e.kx,e.ky*s));var u=this.__cs_zoom;i.select(this).call(u.transform,e)}}}),e&&(this.applyPlotTransformToNeighbours(t,o.plot,e),this.listeners.call("zoom"))}finally{this.isZooming=!1}},t.prototype.zoomHandler=function(t,e){if(!this.isZooming&&this.layout)try{this.isZooming=!0,e=function(t,e){return t.processed.plots[e.plotIndex]}(this.layout,e);var n=o.event.transform;if(n.k===1/0)return;this.applyPlotTransformToNeighbours(t,e,n),this.listeners.call("zoom")}finally{this.isZooming=!1}},t.prototype.applyPlotTransformToNeighbours=function(t,e,n){t.selectAll(".zoom-handler").each(function(t){if(t&&e&&t!==e){if(t.column===e.column){var o=r.xyzoomTransform(this),a=r.xyzoomIdentity.translate(n.x,o.y).scale(n.kx,o.ky),s=this.__cs_zoom;i.select(this).call(s.transform,a)}t.row===e.row&&(o=r.xyzoomTransform(this),a=r.xyzoomIdentity.translate(o.x,n.y).scale(o.kx,n.ky),s=this.__cs_zoom,i.select(this).call(s.transform,a))}})},t.prototype.getZoomFilter=function(){var t=this;return function(){return!(o.event.button||"dblclick"===o.event.type||t.zoomProgress&&"mousedown"===o.event.type||!t.enableZoomByScroll&&"wheel"===o.event.type)}},t.prototype.renderZoomOptions=function(t,e){var n=this;this.settings&&(this.toggleOptionsRenderer.renderToggleOptions(t,"zoom",d.b,this.settings.svgSize.height-d.a,"Zoom",30,this.zoomToggles,this.zoomType,function(){return n.renderZoomOptionsAndBrushes(t,e)}),this.toggleOptionsRenderer.renderToggleOptions(t,"calculation",d.b+100,this.settings.svgSize.height-d.a,"Mode",30,this.calculationToggles,this.calculationType,function(){return n.renderZoomOptionsAndBrushes(t,e)}))},t.prototype.renderZoomOptionsAndBrushes=function(t,e){this.renderZoomOptions(t,e),this.renderZoomBrushes(t,e)},t}(),y=function(t,e){this.plot=t,this.start=e,this.end=e},b=function(t,e){this.plot=t,this.includeInCalculations=e}},RiPy:function(t,e,n){var r,i,o,a;a=function(t){var e=!1,n=!1,r="escape years months weeks days hours minutes seconds milliseconds general".split(" "),i=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function o(t,e){return!(e.length>t.length)&&-1!==t.indexOf(e)}function a(t){for(var e="";t;)e+="0",t-=1;return e}function s(t,e,r){var i,o,u,c=e.useToLocaleString,l=e.useGrouping,h=l&&e.grouping.slice(),f=e.maximumSignificantDigits,d=e.minimumIntegerDigits||1,p=e.fractionDigits||0,m=e.groupingSeparator,g=e.decimalSeparator;if(c&&r){var v={minimumIntegerDigits:d,useGrouping:l};if(p&&(v.maximumFractionDigits=p,v.minimumFractionDigits=p),f&&t>0&&(v.maximumSignificantDigits=f),!n){var y=_({},e);y.useGrouping=!1,y.decimalSeparator=".",t=parseFloat(s(t,y),10)}return t.toLocaleString(r,v)}var b=(f?t.toPrecision(f+1):t.toFixed(p+1)).split("e");u=b[1]||"",o=(b=b[0].split("."))[1]||"";var w=(i=b[0]||"").length,x=o.length,S=w+x,M=i+o;(f&&S===f+1||!f&&x===p+1)&&((M=function(t){for(var e=t.split("").reverse(),n=0,r=!0;r&&n<e.length;)n?"9"===e[n]?e[n]="0":(e[n]=(parseInt(e[n],10)+1).toString(),r=!1):(parseInt(e[n],10)<5&&(r=!1),e[n]="0"),n+=1;return r&&e.push("1"),e.reverse().join("")}(M)).length===S+1&&(w+=1),x&&(M=M.slice(0,-1)),i=M.slice(0,w),o=M.slice(w)),f&&(o=o.replace(/0*$/,""));var C=parseInt(u,10);C>0?o.length<=C?(i+=o+=a(C-o.length),o=""):(i+=o.slice(0,C),o=o.slice(C)):C<0&&(o=a(Math.abs(C)-i.length)+i+o,i="0"),f||((o=o.slice(0,p)).length<p&&(o+=a(p-o.length)),i.length<d&&(i=a(d-i.length)+i));var E,T="";if(l)for(b=i;b.length;)h.length&&(E=h.shift()),T&&(T=m+T),T=b.slice(-E)+T,b=b.slice(0,-E);else T=i;return o&&(T=T+g+o),T}function u(t,e){return t.label.length>e.label.length?-1:t.label.length<e.label.length?1:0}var c,l={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(t,e,n){return 1===e&&null===n?t:t+t}};function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function f(t){return"[object Object]"===Object.prototype.toString.call(t)}function d(t,e){var n,r=0,i=t&&t.length||0;for("function"!=typeof e&&(n=e,e=function(t){return t===n});r<i;){if(e(t[r]))return t[r];r+=1}}function p(t,e){var n=0,r=t.length;if(t&&r)for(;n<r;){if(!1===e(t[n],n))return;n+=1}}function m(t,e){var n=0,r=t.length,i=[];if(!t||!r)return i;for(;n<r;)i[n]=e(t[n],n),n+=1;return i}function g(t,e){return m(t,function(t){return t[e]})}function v(t){var e=[];return p(t,function(t){t&&e.push(t)}),e}function y(t){var e=[];return p(t,function(t){d(e,t)||e.push(t)}),e}function b(t,e){var n=[];return p(t,function(t){p(e,function(e){t===e&&n.push(t)})}),y(n)}function w(t,e){var n=[];return p(t,function(r,i){if(!e(r))return n=t.slice(i),!1}),n}function _(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function x(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function S(t,e){var n=0,r=t.length;if(!t||!r)return!1;for(;n<r;){if(!0===e(t[n],n))return!0;n+=1}return!1}function M(){var t,e={};if(p([].slice.call(arguments),function(n,r){if(!r){if(!h(n))throw"Expected array as the first argument to durationsFormat.";t=n}"string"!=typeof n&&"function"!=typeof n?"number"!=typeof n?f(n)&&_(e,n):e.precision=n:e.template=n}),!t||!t.length)return[];e.returnMomentTypes=!0;var n,i=m(t,function(t){return t.format(e)}),o=b(r,y(g((n=[],p(i,function(t){n=n.concat(t)}),n),"type"))),a=e.largest;return a&&(o=o.slice(0,a)),e.returnMomentTypes=!1,e.outputTypes=o,m(t,function(t){return t.format(e)})}function C(){var n=[].slice.call(arguments),a=_({},this.format.defaults),c=this.asMilliseconds(),M=this.asMonths();"function"==typeof this.isValid&&!1===this.isValid()&&(c=0,M=0);var C=c<0,E=t.duration(Math.abs(c),"milliseconds"),T=t.duration(Math.abs(M),"months");p(n,function(t){"string"!=typeof t&&"function"!=typeof t?"number"!=typeof t?f(t)&&_(a,t):a.precision=t:a.template=t});var O={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},P={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};a.types=r;var A=function(t){return d(r,function(e){return P[e].test(t)})},k=new RegExp(m(r,function(t){return P[t].source}).join("|"),"g");a.duration=this;var L="function"==typeof a.template?a.template.apply(a):a.template,R=a.outputTypes,D=a.returnMomentTypes,N=a.largest,I=[];R||(h(a.stopTrim)&&(a.stopTrim=a.stopTrim.join("")),a.stopTrim&&p(a.stopTrim.match(k),function(t){var e=A(t);"escape"!==e&&"general"!==e&&I.push(e)}));var j=t.localeData();j||(j={}),p(x(l),function(t){"function"!=typeof l[t]?j["_"+t]||(j["_"+t]=l[t]):j[t]||(j[t]=l[t])}),p(x(j._durationTimeTemplates),function(t){L=L.replace("_"+t+"_",j._durationTimeTemplates[t])});var z=a.userLocale||t.locale(),F=a.useLeftUnits,V=a.usePlural,B=a.precision,U=a.forceLength,H=a.useGrouping,G=a.trunc,W=a.useSignificantDigits&&B>0,q=W?a.precision:0,Y=q,X=a.minValue,Z=!1,J=a.maxValue,K=!1,Q=a.useToLocaleString,$=a.groupingSeparator,tt=a.decimalSeparator,et=a.grouping;Q=Q&&e;var nt=a.trim;h(nt)&&(nt=nt.join(" ")),null===nt&&(N||J||W)&&(nt="all"),null!==nt&&!0!==nt&&"left"!==nt&&"right"!==nt||(nt="large"),!1===nt&&(nt="");var rt=function(t){return t.test(nt)},it=/both/,ot=/^all|[^sm]all/,at=N>0||S([/large/,it,ot],rt),st=S([/small/,it,ot],rt),ut=S([/mid/,ot],rt),ct=S([/final/,ot],rt),lt=m(L.match(k),function(t,e){var n=A(t);return"*"===t.slice(0,1)&&(t=t.slice(1),"escape"!==n&&"general"!==n&&I.push(n)),{index:e,length:t.length,text:"",token:"escape"===n?t.replace(P.escape,"$1"):t,type:"escape"===n||"general"===n?null:n}}),ht={index:0,length:0,token:"",text:"",type:null},ft=[];F&&lt.reverse(),p(lt,function(t){if(t.type)return(ht.type||ht.text)&&ft.push(ht),void(ht=t);F?ht.text=t.token+ht.text:ht.text+=t.token}),(ht.type||ht.text)&&ft.push(ht),F&&ft.reverse();var dt=b(r,y(v(g(ft,"type"))));if(!dt.length)return g(ft,"text").join("");dt=m(dt,function(t,e){var n,r=e+1===dt.length,i=!e;n="years"===t||"months"===t?T.as(t):E.as(t);var o=Math.floor(n),s=n-o,u=d(ft,function(e){return t===e.type});return i&&J&&n>J&&(K=!0),r&&X&&Math.abs(a.duration.as(t))<X&&(Z=!0),i&&null===U&&u.length>1&&(U=!0),E.subtract(o,t),T.subtract(o,t),{rawValue:n,wholeValue:o,decimalValue:r?s:0,isSmallest:r,isLargest:i,type:t,tokenLength:u.length}});var pt,mt=G?Math.floor:Math.round,gt=function(t,e){var n=Math.pow(10,e);return mt(t*n)/n},vt=!1,yt=!1,bt=function(t,e){var n={useGrouping:H,groupingSeparator:$,decimalSeparator:tt,grouping:et,useToLocaleString:Q};return W&&(q<=0?(t.rawValue=0,t.wholeValue=0,t.decimalValue=0):(n.maximumSignificantDigits=q,t.significantDigits=q)),K&&!yt&&(t.isLargest?(t.wholeValue=J,t.decimalValue=0):(t.wholeValue=0,t.decimalValue=0)),Z&&!yt&&(t.isSmallest?(t.wholeValue=X,t.decimalValue=0):(t.wholeValue=0,t.decimalValue=0)),t.isSmallest||t.significantDigits&&t.significantDigits-t.wholeValue.toString().length<=0?B<0?t.value=gt(t.wholeValue,B):0===B?t.value=mt(t.wholeValue+t.decimalValue):W?(t.value=G?gt(t.rawValue,q-t.wholeValue.toString().length):t.rawValue,t.wholeValue&&(q-=t.wholeValue.toString().length)):(n.fractionDigits=B,t.value=G?t.wholeValue+gt(t.decimalValue,B):t.wholeValue+t.decimalValue):W&&t.wholeValue?(t.value=Math.round(gt(t.wholeValue,t.significantDigits-t.wholeValue.toString().length)),q-=t.wholeValue.toString().length):t.value=t.wholeValue,t.tokenLength>1&&(U||vt)&&(n.minimumIntegerDigits=t.tokenLength,yt&&n.maximumSignificantDigits<t.tokenLength&&delete n.maximumSignificantDigits),!vt&&(t.value>0||""===nt||d(I,t.type)||d(R,t.type))&&(vt=!0),t.formattedValue=s(t.value,n,z),n.useGrouping=!1,n.decimalSeparator=".",t.formattedValueEn=s(t.value,n,"en"),2===t.tokenLength&&"milliseconds"===t.type&&(t.formattedValueMS=s(t.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),t};if((dt=v(dt=m(dt,bt))).length>1){var wt=function(t){return d(dt,function(e){return e.type===t})};p(i,function(t){var e=wt(t.type);e&&p(t.targets,function(t){var n=wt(t.type);n&&parseInt(e.formattedValueEn,10)===t.value&&(e.rawValue=0,e.wholeValue=0,e.decimalValue=0,n.rawValue+=1,n.wholeValue+=1,n.decimalValue=0,n.formattedValueEn=n.wholeValue.toString(),yt=!0)})})}return yt&&(vt=!1,q=Y,dt=v(dt=m(dt,bt))),!R||K&&!a.trim?(at&&(dt=w(dt,function(t){return!t.isSmallest&&!t.wholeValue&&!d(I,t.type)})),N&&dt.length&&(dt=dt.slice(0,N)),st&&dt.length>1&&(pt=function(t){return!t.wholeValue&&!d(I,t.type)&&!t.isLargest},dt=w(dt.slice().reverse(),pt).reverse()),ut&&(dt=v(dt=m(dt,function(t,e){return e>0&&e<dt.length-1&&!t.wholeValue?null:t}))),!ct||1!==dt.length||dt[0].wholeValue||!G&&dt[0].isSmallest&&dt[0].rawValue<X||(dt=[])):dt=v(dt=m(dt,function(t){return d(R,function(e){return t.type===e})?t:null})),D?dt:(p(ft,function(t){var e=O[t.type],n=d(dt,function(e){return e.type===t.type});if(e&&n){var r=n.formattedValueEn.split(".");r[0]=parseInt(r[0],10),r[1]=r[1]?parseFloat("0."+r[1],10):null;var i=j.durationPluralKey(e,r[0],r[1]),a=function(t,e){var n=[];return p(x(e),function(r){if("_durationLabels"===r.slice(0,15)){var i=r.slice(15).toLowerCase();p(x(e[r]),function(o){o.slice(0,1)===t&&n.push({type:i,key:o,label:e[r][o]})})}}),n}(e,j),s=!1,c={};p(j._durationLabelTypes,function(e){var n=d(a,function(t){return t.type===e.type&&t.key===i});n&&(c[n.type]=n.label,o(t.text,e.string)&&(t.text=t.text.replace(e.string,n.label),s=!0))}),V&&!s&&(a.sort(u),p(a,function(e){return c[e.type]===e.label?!o(t.text,e.label)&&void 0:o(t.text,e.label)?(t.text=t.text.replace(e.label,c[e.type]),!1):void 0}))}}),(ft=m(ft,function(t){if(!t.type)return t.text;var e=d(dt,function(e){return e.type===t.type});if(!e)return"";var n="";return F&&(n+=t.text),(C&&K||!C&&Z)&&(n+="< ",K=!1,Z=!1),(C&&Z||!C&&K)&&(n+="> ",K=!1,Z=!1),C&&(e.value>0||""===nt||d(I,e.type)||d(R,e.type))&&(n+="-",C=!1),n+="milliseconds"===t.type&&e.formattedValueMS?e.formattedValueMS:e.formattedValue,F||(n+=t.text),n})).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function E(){var t=this.duration,e=function(e){return t._data[e]},n=d(this.types,e),r=function(t,e){for(var n=t.length;n-=1;)if(e(t[n]))return t[n]}(this.types,e);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===r)return"d __";case"weeks":return n===r?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===r)return"M __";case"years":return n===r?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function T(t){if(!t)throw"Moment Duration Format init cannot find moment instance.";t.duration.format=M,t.duration.fn.format=C,t.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:E,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},t.updateLocale("en",l)}return e=!!((c=(c=!0)&&function(){try{(0).toLocaleString("i")}catch(t){return"RangeError"===t.name}return!1}())&&(c=(c=(c=c&&"1"===1..toLocaleString("en",{minimumIntegerDigits:1}))&&"01"===1..toLocaleString("en",{minimumIntegerDigits:2}))&&"001"===1..toLocaleString("en",{minimumIntegerDigits:3}))&&(c=(c=(c=(c=c&&"100"===99.99.toLocaleString("en",{maximumFractionDigits:0,minimumFractionDigits:0}))&&"100.0"===99.99.toLocaleString("en",{maximumFractionDigits:1,minimumFractionDigits:1}))&&"99.99"===99.99.toLocaleString("en",{maximumFractionDigits:2,minimumFractionDigits:2}))&&"99.990"===99.99.toLocaleString("en",{maximumFractionDigits:3,minimumFractionDigits:3}))&&(c=(c=(c=(c=(c=c&&"100"===99.99.toLocaleString("en",{maximumSignificantDigits:1}))&&"100"===99.99.toLocaleString("en",{maximumSignificantDigits:2}))&&"100"===99.99.toLocaleString("en",{maximumSignificantDigits:3}))&&"99.99"===99.99.toLocaleString("en",{maximumSignificantDigits:4}))&&"99.99"===99.99.toLocaleString("en",{maximumSignificantDigits:5}))&&(c=(c=c&&"1,000"===1e3.toLocaleString("en",{useGrouping:!0}))&&"1000"===1e3.toLocaleString("en",{useGrouping:!1}))),n=e&&"3.6"===3.55.toLocaleString("en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1}),T(t),T},i=[n("wd/R")],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o),this&&(this.momentDurationFormatSetup=this.moment?a(this.moment):a)},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=n("FFOo"),s=n("pugT");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.d(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.d(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.d(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function p(){return new i.a}function m(){return function(t){return u()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return m})},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},"SH+t":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("eh5z"),i=n("Me36"),o=n("9WsI"),a=function(){function t(t){this.inner=new s(t,new i.a)}return t.prototype.sharedState=function(t){return this.inner.sharedState=t,this},t.prototype.render=function(t){return this.inner.render(t),this},t.prototype.sources=function(t){return this.inner.sources=t,this},t.prototype.getSourceVisibility=function(){return this.inner.sources.map(function(t){return t.isVisible})},t.prototype.renderLegendLines=function(t){return this.inner.renderLegendLines=t,this},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.inner.listeners.on.apply(this.inner.listeners,t),this},t.getRequiredVerticalSpace=function(t){return new s(void 0,void 0).getRequiredVerticalSpace(t)},t}(),s=function(){function t(t,e){this.settings=t,this.sourceSplitInspector=e,this.gapToChart=10,this.labelTargetYPosition=8-this.gapToChart,this.lineColor="gray",this.listeners=r.dispatch("changed"),this.sources=[],this.renderLegendLines=!0}return t.prototype.render=function(t){var e=this;if(!(this.sources.length<1)&&this.sourceSplitInspector){var n=this.sourceSplitInspector,r=t.selectAll(".source-labels").data([null]),i=r.enter().append("g").attr("class","source-labels").merge(r).selectAll(".source-legend").data(function(){return e.sources});i.exit().remove();var a=i.enter().append("g").attr("class","source-legend"),s=a.merge(i);s.attr("transform",function(t,n){return"translate("+(e.settings.svgPadding.left+e.settings.chartMargin.left+e.settings.chartSize.width+e.settings.legend.renderChannelWidth)+","+(e.settings.svgPadding.top+e.settings.chartMargin.top)+")"}),this.renderLegendLines&&(a.append("line").attr("class","vertical-line").attr("stroke-width",1).attr("stroke",this.lineColor),s.select(".vertical-line").attr("x1",function(t,n){return e.getLabelTargetXPosition(n)}).attr("y1",this.labelTargetYPosition).attr("x2",function(t,n){return e.getLabelTargetXPosition(n)}).attr("y2",function(t,n){return e.getLabelLineYPosition(n)}),a.append("line").attr("class","horizontal-line").attr("stroke-width",1).attr("stroke",this.lineColor),s.select(".horizontal-line").attr("x1",8).attr("y1",function(t,n){return e.getLabelLineYPosition(n)}).attr("x2",function(t,n){return e.getLabelTargetXPosition(n)}).attr("y2",function(t,n){return e.getLabelLineYPosition(n)})),a.append("rect").attr("class","legend-square").attr("width",this.settings.legend.blobSize).attr("height",this.settings.legend.blobSize).style("stroke",this.lineColor).style("cursor","pointer").on("click",function(t){t.isVisible=!t.isVisible,e.listeners.call("changed"),e.sharedState&&e.sharedState.sourceLoaderSet.raiseChangedEvent()}),s.select(".legend-square").attr("y",function(t,n){return e.getLabelYPosition(n)-e.settings.legend.blobSize+1.5}).attr("x",-this.settings.legend.blobSize/2).style("fill",function(t){return t.isVisible?e.lineColor:"transparent"});var u=this.settings.legend.blobSize,c="0,1.5 "+u/2+","+.75*u+" "+u+",1.5",l="0,"+(u-1.5)+" "+u/2+","+.25*u+" "+u+","+(u-1.5);if(this.sharedState){var h=this.sharedState;a.append("g").attr("class","legend-down").append("polyline").attr("points",c).attr("fill",this.lineColor).style("stroke",this.lineColor).on("click",function(t,e){h.sourceLoaderSet.move(e,e+1)}),s.select(".legend-down").attr("transform",function(t,n){return"translate("+-2*e.settings.legend.blobSize+","+(e.getLabelYPosition(n)-e.settings.legend.blobSize+1.5)+")"}).select("polyline").style("opacity",function(t,n){return n===e.sources.length-1?.2:1}).style("cursor",function(t,n){return n===e.sources.length-1?"inherit":"pointer"}),a.append("g").attr("class","legend-up").append("polyline").attr("points",l).attr("fill",this.lineColor).style("stroke",this.lineColor).on("click",function(t,e){h.sourceLoaderSet.move(e,e-1)}),s.select(".legend-up").attr("transform",function(t,n){return"translate("+-3*e.settings.legend.blobSize+","+(e.getLabelYPosition(n)-e.settings.legend.blobSize+1.5)+")"}).select("polyline").style("opacity",function(t,e){return 0===e?.2:1}).style("cursor",function(t,e){return 0===e?"inherit":"pointer"}),a.append("g").attr("class","split-source").attr("title","Split").style("fill",this.lineColor).on("click",function(t,e){var r=h.sourceLoaderSet.sources[e];if(n.hasSplitIndices(t.featureChannels.splitChannel)){var i=n.splitSource(r,t.featureChannels.splitChannel);h.sourceLoaderSet.replace(e,i.map(function(e){return new o.b(e,t.isVisible)}))}else if(n.canMergeSource(r)){var a=n.getMergeSourceInformation(r,h.sourceLoaderSet.sources);a&&h.sourceLoaderSet.replaceAll(a.sourceIndices,new o.b(a.originSource,!0))}}).append("text").text("\uf0e8"),s.select(".split-source").attr("transform",function(t,n){return"translate("+-4.25*e.settings.legend.blobSize+","+e.getLabelYPosition(n)+")"}).style("display",function(t,e){return n.hasSplitIndices(t.featureChannels.splitChannel)?"inherit":n.canMergeSource(h.sourceLoaderSet.sources[e])?"inherit":"none"}).style("cursor","pointer").select("text").attr("transform",function(t,r){if(n.canMergeSource(h.sourceLoaderSet.sources[r])){var i=e.settings.legend.blobSize;return"rotate(180) translate(-"+i+", "+i/1.75+")"}return null})}a.append("text").attr("class","source-label-text").attr("text-anchor","end"),s.select(".source-label-text").attr("y",function(t,n){return e.getLabelYPosition(n)}).attr("x",function(t,r){return((e.sharedState?-2.5:0)-1+(e.sharedState&&(n.hasSplitIndices(t.featureChannels.splitChannel)||n.canMergeSource(e.sharedState.sourceLoaderSet.sources[r]))?-1:0))*e.settings.legend.blobSize}).attr("fill",function(t,n){return e.sources.length<=1?"black":e.settings.getChannelColor(0,n)}).text(function(t){return t.name})}},t.prototype.getLabelTargetXPosition=function(t){return this.settings.legend.valueWidth*(t+1)-2.5},t.prototype.getLabelYPosition=function(t){return this.getLabelYPositionForSources(t,this.sources.length)},t.prototype.getLabelYPositionForSources=function(t,e){return-15*(e-1-t)-this.gapToChart},t.prototype.getLabelLineYPosition=function(t){return this.getLabelYPosition(t)-3-.5},t.prototype.getRequiredVerticalSpace=function(t){return t<1?0:5-this.getLabelYPositionForSources(-1,t)-this.gapToChart},t}()},"T/I+":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("JW5y"),i=function(){function t(t){if(this.dimensions=t,!t)throw new Error("Interpolation coordinates must specify dimensions list.");this.hasExplorationDimension=!1,this.explorationDimensionIndex=-1,this.coordinateSetCount=1;for(var e=0;e<t.length;++e){var n=t[e];if(!n||!n.coordinates||0===n.coordinates.length)throw new r.a("Interpolation dimension "+e+" does not contain any coordinates. Most likely all points failed.");if(n.coordinates.length>1){if(this.hasExplorationDimension)throw new Error("Interpolation coordinates can only contain one dimension with multiple coordinates specified.");this.hasExplorationDimension=!0,this.explorationDimensionIndex=e,this.coordinateSetCount=n.coordinates.length}}}return t.prototype.getCoordinatesSet=function(t){if(t>=this.coordinateSetCount)throw new Error("Requested coordinate set index out of range.");var e=this.dimensions.map(function(t){return t.coordinates[0]});return t>0&&(e[this.explorationDimensionIndex]=this.dimensions[this.explorationDimensionIndex].coordinates[t]),e},t.prototype.getCoordinatesSets=function(){for(var t=[],e=0;e<this.coordinateSetCount;++e)t.push(this.getCoordinatesSet(e));return t},t}(),o=new(function(){function t(){}return t.prototype.fromArray=function(t){return new i(t.map(function(t){return new function(t){this.coordinates=t}(t)}))},t}())},T1DM:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.d(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return r.d(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a)),o=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),a=function(t){function e(n,r){void 0===r&&(r=o.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r.d(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(o);n.d(e,"a",function(){return s});var s=new a(i)},"TDx+":function(t,e,n){"use strict";var r=n("mrSG"),i=n("Womt"),o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},a={type:"change"},s={type:"start"},u={type:"end"},c=function(t){function e(e,n,r){var a=t.call(this)||this;return a.object=e,a.domElement=void 0!==n?n:document,a.window=void 0!==r?r:window,a.enabled=!0,a.target=new i.Vector3,a.minDistance=0,a.maxDistance=1/0,a.minZoom=0,a.maxZoom=1/0,a.minPolarAngle=0,a.maxPolarAngle=Math.PI,a.minAzimuthAngle=-1/0,a.maxAzimuthAngle=1/0,a.enableDamping=!1,a.dampingFactor=.25,a.enableZoom=!0,a.zoomSpeed=1,a.enableRotate=!0,a.rotateSpeed=1,a.enablePan=!0,a.keyPanSpeed=7,a.autoRotate=!1,a.autoRotateSpeed=2,a.enableKeys=!0,a.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},a.mouseButtons={ORBIT:i.MOUSE.LEFT,ZOOM:i.MOUSE.MIDDLE,PAN:i.MOUSE.RIGHT},a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.zoom0=a.object.zoom,a.updateOffset=new i.Vector3,a.updateQuat=(new i.Quaternion).setFromUnitVectors(e.up,new i.Vector3(0,1,0)),a.updateQuatInverse=a.updateQuat.clone().inverse(),a.updateLastPosition=new i.Vector3,a.updateLastQuaternion=new i.Quaternion,a.state=o.NONE,a.scale=1,a.spherical=new i.Spherical,a.sphericalDelta=new i.Spherical,a.panOffset=new i.Vector3,a.zoomChanged=!1,a.rotateStart=new i.Vector2,a.rotateEnd=new i.Vector2,a.rotateDelta=new i.Vector2,a.panStart=new i.Vector2,a.panEnd=new i.Vector2,a.panDelta=new i.Vector2,a.dollyStart=new i.Vector2,a.dollyEnd=new i.Vector2,a.dollyDelta=new i.Vector2,a.panLeftV=new i.Vector3,a.panUpV=new i.Vector3,a.panInternalOffset=new i.Vector3,a.onMouseDown=function(t){var e=t;if(!1!==a.enabled){if(e.preventDefault(),e.button===a.mouseButtons.ORBIT){if(!1===a.enableRotate)return;a.rotateStart.set(e.clientX,e.clientY),a.state=o.ROTATE}else if(e.button===a.mouseButtons.ZOOM){if(!1===a.enableZoom)return;a.dollyStart.set(e.clientX,e.clientY),a.state=o.DOLLY}else if(e.button===a.mouseButtons.PAN){if(!1===a.enablePan)return;a.panStart.set(e.clientX,e.clientY),a.state=o.PAN}a.state!==o.NONE&&(document.addEventListener("mousemove",a.onMouseMove,!1),document.addEventListener("mouseup",a.onMouseUp,!1),a.dispatchEvent(s))}},a.onMouseMove=function(t){var e=t;if(!1!==a.enabled)if(e.preventDefault(),a.state===o.ROTATE){if(!1===a.enableRotate)return;a.rotateEnd.set(e.clientX,e.clientY),a.rotateDelta.subVectors(a.rotateEnd,a.rotateStart);var n=a.domElement===document?a.domElement.body:a.domElement;a.rotateLeft(2*Math.PI*a.rotateDelta.x/n.clientWidth*a.rotateSpeed),a.rotateUp(2*Math.PI*a.rotateDelta.y/n.clientHeight*a.rotateSpeed),a.rotateStart.copy(a.rotateEnd),a.update()}else if(a.state===o.DOLLY){if(!1===a.enableZoom)return;a.dollyEnd.set(e.clientX,e.clientY),a.dollyDelta.subVectors(a.dollyEnd,a.dollyStart),a.dollyDelta.y>0?a.dollyIn(a.getZoomScale()):a.dollyDelta.y<0&&a.dollyOut(a.getZoomScale()),a.dollyStart.copy(a.dollyEnd),a.update()}else if(a.state===o.PAN){if(!1===a.enablePan)return;a.panEnd.set(e.clientX,e.clientY),a.panDelta.subVectors(a.panEnd,a.panStart),a.pan(a.panDelta.x,a.panDelta.y),a.panStart.copy(a.panEnd),a.update()}},a.onMouseUp=function(){!1!==a.enabled&&(document.removeEventListener("mousemove",a.onMouseMove,!1),document.removeEventListener("mouseup",a.onMouseUp,!1),a.dispatchEvent(u),a.state=o.NONE)},a.onMouseWheel=function(t){var e=t;!1===a.enabled||!1===a.enableZoom||a.state!==o.NONE&&a.state!==o.ROTATE||e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),e.deltaY<0?a.dollyOut(a.getZoomScale()):e.deltaY>0&&a.dollyIn(a.getZoomScale()),a.update(),a.dispatchEvent(s),a.dispatchEvent(u))},a.onKeyDown=function(t){if(!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan)switch(t.keyCode){case a.keys.UP:a.pan(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:a.pan(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:a.pan(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:a.pan(-a.keyPanSpeed,0),a.update()}},a.onTouchStart=function(t){var e=t;if(!1!==a.enabled){switch(e.touches.length){case 1:if(!1===a.enableRotate)return;a.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),a.state=o.TOUCH_ROTATE;break;case 2:if(!1===a.enableZoom)return;var n=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(n*n+r*r);a.dollyStart.set(0,i),a.state=o.TOUCH_DOLLY;break;case 3:if(!1===a.enablePan)return;a.panStart.set(e.touches[0].pageX,e.touches[0].pageY),a.state=o.TOUCH_PAN;break;default:a.state=o.NONE}a.state!==o.NONE&&a.dispatchEvent(s)}},a.onTouchMove=function(t){var e=t;if(!1!==a.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===a.enableRotate)return;if(a.state!==o.TOUCH_ROTATE)return;a.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),a.rotateDelta.subVectors(a.rotateEnd,a.rotateStart);var n=a.domElement===document?a.domElement.body:a.domElement;a.rotateLeft(2*Math.PI*a.rotateDelta.x/n.clientWidth*a.rotateSpeed),a.rotateUp(2*Math.PI*a.rotateDelta.y/n.clientHeight*a.rotateSpeed),a.rotateStart.copy(a.rotateEnd),a.update();break;case 2:if(!1===a.enableZoom)return;if(a.state!==o.TOUCH_DOLLY)return;var r=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,s=Math.sqrt(r*r+i*i);a.dollyEnd.set(0,s),a.dollyDelta.subVectors(a.dollyEnd,a.dollyStart),a.dollyDelta.y>0?a.dollyOut(a.getZoomScale()):a.dollyDelta.y<0&&a.dollyIn(a.getZoomScale()),a.dollyStart.copy(a.dollyEnd),a.update();break;case 3:if(!1===a.enablePan)return;if(a.state!==o.TOUCH_PAN)return;a.panEnd.set(e.touches[0].pageX,e.touches[0].pageY),a.panDelta.subVectors(a.panEnd,a.panStart),a.pan(a.panDelta.x,a.panDelta.y),a.panStart.copy(a.panEnd),a.update();break;default:a.state=o.NONE}},a.onTouchEnd=function(t){!1!==a.enabled&&(a.dispatchEvent(u),a.state=o.NONE)},a.onContextMenu=function(t){t.preventDefault()},a.domElement.addEventListener("contextmenu",a.onContextMenu,!1),a.domElement.addEventListener("mousedown",a.onMouseDown,!1),a.domElement.addEventListener("wheel",a.onMouseWheel,!1),a.domElement.addEventListener("touchstart",a.onTouchStart,!1),a.domElement.addEventListener("touchend",a.onTouchEnd,!1),a.domElement.addEventListener("touchmove",a.onTouchMove,!1),a.window.addEventListener("keydown",a.onKeyDown,!1),a.update(),a}return r.d(e,t),e.prototype.setResetTarget=function(t){this.target0=t},e.prototype.update=function(){var t=this.object.position;return this.updateOffset.copy(t).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&this.state===o.NONE&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),t.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>1e-6||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(a),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},e.prototype.panLeft=function(t,e){this.panLeftV.setFromMatrixColumn(e,0),this.panLeftV.multiplyScalar(-t),this.panOffset.add(this.panLeftV)},e.prototype.panUp=function(t,e){this.panUpV.setFromMatrixColumn(e,1),this.panUpV.multiplyScalar(t),this.panOffset.add(this.panUpV)},e.prototype.pan=function(t,e){var n=this.domElement===document?this.domElement.body:this.domElement;if(this.object instanceof i.PerspectiveCamera){this.panInternalOffset.copy(this.object.position).sub(this.target);var r=this.panInternalOffset.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*t*r/n.clientHeight,this.object.matrix),this.panUp(2*e*r/n.clientHeight,this.object.matrix)}else this.object instanceof i.OrthographicCamera?(this.panLeft(t*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this.panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},e.prototype.dollyIn=function(t){this.object instanceof i.PerspectiveCamera?this.scale/=t:this.object instanceof i.OrthographicCamera?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},e.prototype.dollyOut=function(t){this.object instanceof i.PerspectiveCamera?this.scale*=t:this.object instanceof i.OrthographicCamera?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},e.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},e.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},e.prototype.rotateLeft=function(t){this.sphericalDelta.theta-=t},e.prototype.rotateUp=function(t){this.sphericalDelta.phi-=t},e.prototype.getPolarAngle=function(){return this.spherical.phi},e.prototype.getAzimuthalAngle=function(){return this.spherical.theta},e.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)},e.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(a),this.update(),this.state=o.NONE},Object.defineProperty(e.prototype,"center",{get:function(){return console.warn("OrbitControls: .center has been renamed to .target"),this.target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noZoom",{get:function(){return console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t},enumerable:!0,configurable:!0}),e}(i.EventDispatcher),l=function(){function t(t){this.inner=new h(t)}return t.prototype.render=function(t){return this.inner.render(t),this},t}(),h=function(){function t(t){this.settings=t}return t.prototype.render=function(t){var e=t.selectAll(".orbit-controls").data([null]),n=e.enter().append("g").attr("class","orbit-controls").merge(e);n.attr("transform","translate("+(this.settings.svgPadding.left+this.settings.chartMargin.left)+", "+(this.settings.svgPadding.top+this.settings.chartMargin.top+this.settings.chartSize.height)+")");var r=n.selectAll(".instruction").data([new f("Double Click","Reset"),new f("Right Button","Pan"),new f("Middle Button","Zoom"),new f("Ctrl + Wheel","Zoom"),new f("Left Button","Rotate")]);r.exit().remove();var i=r.enter().append("g").attr("class","instruction"),o=i.merge(r);o.attr("transform",function(t,e){return"translate(0, "+-15*e+")"}),i.append("text"),o.select("text").text(function(t){return t.action+": "+t.effect})},t}(),f=function(t,e){this.action=t,this.effect=e},d=n("xHft"),p=n("/IYp"),m=n("JW5y");n.d(e,"a",function(){return g});var g=function(){function t(t,e,n,r,o,a){this.settings=t,this.element=e,this.svg=n,this.sceneParent=r,this.scene=o,this.cameraState=a,this.cameraRay=new i.Ray,this.groundPlane=new i.Plane(new i.Vector3(0,1,0),0),this.toggleOptionsRenderer=new p.d,this.cameraModeToggles=[],this.cameraPositionButtons=[]}return t.prototype.build=function(t,e,n){var r=this;void 0===n&&(n=.01),this.instructionsRenderer=new l(this.settings),this.cameraState.setResetPostion(t,e);var i=this.controls=new c(this.cameraState.camera,this.element);this.cameraState.modeChanged.subscribe(function(t){return i.object=r.cameraState.camera}),this.controls.setResetTarget(e),this.controls.enabled=!0,this.controls.maxDistance=9e3,this.controls.minDistance=0,this.sceneParent.select("canvas").on("dblclick",function(){i.reset()}),this.controls.reset(),this.controls.update(),this.cameraTargetSphere=this.createMarker(n),this.setTarget(),this.cameraModeToggles=[new p.c(d.a.perspective,"perspective",function(t){return r.onButtonPress(function(){return r.cameraState.toPerspective()})},60),new p.c(d.a.orthographic,"orthographic",function(t){return r.onButtonPress(function(){return r.cameraState.toOrthographic()})},65)],this.cameraPositionButtons=[new p.c(NaN,"top",function(t){return r.onButtonPress(function(){return r.cameraState.toTopView()})},40),new p.c(NaN,"bottom",function(t){return r.onButtonPress(function(){return r.cameraState.toBottomView()})},40),new p.c(NaN,"left",function(t){return r.onButtonPress(function(){return r.cameraState.toLeftView()})},40),new p.c(NaN,"right",function(t){return r.onButtonPress(function(){return r.cameraState.toRightView()})},40),new p.c(NaN,"front",function(t){return r.onButtonPress(function(){return r.cameraState.toFrontView()})},40),new p.c(NaN,"back",function(t){return r.onButtonPress(function(){return r.cameraState.toBackView()})},40),new p.c(NaN,"reset",function(t){return r.onButtonPress(function(){return i.reset()})},40)]},t.prototype.onButtonPress=function(t){t(),this.controls&&this.controls.dispatchEvent(a)},t.prototype.addEventListener=function(t,e){if(!this.controls)throw new m.a("Controls were not created when listener was requested.");this.controls.addEventListener(t,e)},t.prototype.render2d=function(){this.instructionsRenderer&&(this.instructionsRenderer.render(this.svg),this.renderOptions())},t.prototype.animate=function(){this.controls&&(this.cameraRay.set(this.cameraState.camera.position,this.controls.target.sub(this.cameraState.camera.position).normalize()),this.cameraRay.intersectPlane(this.groundPlane,this.controls.target),this.setTarget(),this.controls.update())},t.prototype.setTarget=function(){this.controls&&this.cameraTargetSphere&&(this.cameraTargetSphere.position.copy(this.controls.target),this.cameraState.setTarget(this.controls.target))},t.prototype.createMarker=function(t){var e=new i.SphereGeometry(t,16,16),n=new i.MeshPhongMaterial({color:8947848,flatShading:!1,specular:4473924,overdraw:.5}),r=new i.Mesh(e,n);return this.scene.add(r),r},t.prototype.renderOptions=function(){var t=this;this.toggleOptionsRenderer.renderToggleOptions(this.svg,"camera-mode",p.b,this.settings.svgSize.height-p.a,"Mode",30,this.cameraModeToggles,this.cameraState.mode,function(){return t.renderOptions()}),this.toggleOptionsRenderer.renderToggleOptions(this.svg,"camera-position",p.b+30+this.cameraModeToggles.reduce(function(t,e){return e.width+t},0)+p.b,this.settings.svgSize.height-p.a,"Position",40,this.cameraPositionButtons,NaN,function(){return t.renderOptions()})},t}()},TTnQ:function(t,e,n){"use strict";function r(t,e){return(t%e+e)%e}n.d(e,"a",function(){return r})},TcsW:function(t,e){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}n.prototype.diff_main=function(t,e,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var o=n,a=this.diff_commonPrefix(t,e),s=t.substring(0,a);t=t.substring(a),e=e.substring(a),a=this.diff_commonSuffix(t,e);var u=t.substring(t.length-a);t=t.substring(0,t.length-a),e=e.substring(0,e.length-a);var c=this.diff_compute_(t,e,o,i);return s&&c.unshift([0,s]),u&&c.push([0,u]),this.diff_cleanupMerge(c),c},n.prototype.diff_compute_=function(t,e,n,r){var i;if(!t)return[[1,e]];if(!e)return[[-1,t]];var o=t.length>e.length?t:e,a=t.length>e.length?e:t,s=o.indexOf(a);if(-1!=s)return i=[[1,o.substring(0,s)],[0,a],[1,o.substring(s+a.length)]],t.length>e.length&&(i[0][0]=i[2][0]=-1),i;if(1==a.length)return[[-1,t],[1,e]];o=a=null;var u=this.diff_halfMatch_(t,e);if(u){var c=u[1],l=u[3],h=u[4],f=this.diff_main(u[0],u[2],n,r),d=this.diff_main(c,l,n,r);return f.concat([[0,h]],d)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,n){t=(l=this.diff_linesToChars_(t,e))[0];var r=l[2],i=this.diff_bisect_(t,e=l[1],n);this.diff_charsToLines_(i,r),this.diff_cleanupSemantic(i),i.push([0,""]);for(var o=0,a=0,s=0,u="",c="";o<i.length;){switch(i[o][0]){case 1:s++,c+=i[o][1];break;case-1:a++,u+=i[o][1];break;case 0:if(a>=1&&s>=1){var l=this.diff_main(u,c,!1,n);i.splice(o-a-s,a+s),o=o-a-s;for(var h=l.length-1;h>=0;h--)i.splice(o,0,l[h]);o+=l.length}s=0,a=0,u="",c=""}o++}return i.pop(),i},n.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,i=e.length,o=Math.ceil((r+i)/2),a=o,s=2*o,u=new Array(s),c=new Array(s),l=0;l<s;l++)u[l]=-1,c[l]=-1;u[a+1]=0,c[a+1]=0;for(var h=r-i,f=h%2!=0,d=0,p=0,m=0,g=0,v=0;v<o&&!((new Date).getTime()>n);v++){for(var y=-v+d;y<=v-p;y+=2){for(var b=a+y,w=(C=y==-v||y!=v&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1)-y;C<r&&w<i&&t.charAt(C)==e.charAt(w);)C++,w++;if(u[b]=C,C>r)p+=2;else if(w>i)d+=2;else if(f&&(S=a+h-y)>=0&&S<s&&-1!=c[S]&&C>=(x=r-c[S]))return this.diff_bisectSplit_(t,e,C,w,n)}for(var _=-v+m;_<=v-g;_+=2){for(var x,S=a+_,M=(x=_==-v||_!=v&&c[S-1]<c[S+1]?c[S+1]:c[S-1]+1)-_;x<r&&M<i&&t.charAt(r-x-1)==e.charAt(i-M-1);)x++,M++;if(c[S]=x,x>r)g+=2;else if(M>i)m+=2;else if(!f){var C;if((b=a+h-_)>=0&&b<s&&-1!=u[b]&&(w=a+(C=u[b])-b,C>=(x=r-x)))return this.diff_bisectSplit_(t,e,C,w,n)}}}return[[-1,t],[1,e]]},n.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),u=e.substring(r),c=this.diff_main(o,a,!1,i),l=this.diff_main(s,u,!1,i);return c.concat(l)},n.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function i(t){for(var e="",i=0,o=-1,a=n.length;o<t.length-1;){-1==(o=t.indexOf("\n",i))&&(o=t.length-1);var s=t.substring(i,o+1);i=o+1,(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?e+=String.fromCharCode(r[s]):(e+=String.fromCharCode(a),r[s]=a,n[a++]=s)}return e}return n[0]="",[i(t),i(e),n]},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],o=0;o<r.length;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,a=1;;){var s=t.substring(i-a),u=e.indexOf(s);if(-1==u)return o;a+=u,0!=u&&t.substring(i-a)!=e.substring(0,a)||(o=a,a++)}},n.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(t,e,n){for(var r,o,a,s,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,l="";-1!=(c=e.indexOf(u,c+1));){var h=i.diff_commonPrefix(t.substring(n),e.substring(c)),f=i.diff_commonSuffix(t.substring(0,n),e.substring(0,c));l.length<f+h&&(l=e.substring(c-f,c)+e.substring(c,c+h),r=t.substring(0,n-f),o=t.substring(n+h),a=e.substring(0,c-f),s=e.substring(c+h))}return 2*l.length>=t.length?[r,o,a,s,l]:null}var a,s,u,c,l,h=o(n,r,Math.ceil(n.length/4)),f=o(n,r,Math.ceil(n.length/2));return h||f?(a=f?h&&h[4].length>f[4].length?h:f:h,t.length>e.length?(s=a[0],u=a[1],c=a[2],l=a[3]):(c=a[0],l=a[1],s=a[2],u=a[3]),[s,u,c,l,a[4]]):null},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,i=null,o=0,a=0,s=0,u=0,c=0;o<t.length;)0==t[o][0]?(n[r++]=o,a=u,s=c,u=0,c=0,i=t[o][1]):(1==t[o][0]?u+=t[o][1].length:c+=t[o][1].length,null!==i&&i.length<=Math.max(a,s)&&i.length<=Math.max(u,c)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,o=--r>0?n[r-1]:-1,a=0,s=0,u=0,c=0,i=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;){if(-1==t[o-1][0]&&1==t[o][0]){var l=t[o-1][1],h=t[o][1],f=this.diff_commonOverlap_(l,h);(f>=l.length/2||f>=h.length/2)&&(t.splice(o,0,[0,h.substring(0,f)]),t[o-1][1]=l.substring(0,l.length-f),t[o+1][1]=h.substring(f),o++),o++}o++}},n.prototype.diff_cleanupSemanticLossless=function(t){var e=/[^a-zA-Z0-9]/,n=/\s/,r=/[\r\n]/,i=/\n\r?\n$/,o=/^\r?\n\r?\n/;function a(t,a){if(!t||!a)return 5;var s=0;return(t.charAt(t.length-1).match(e)||a.charAt(0).match(e))&&(s++,(t.charAt(t.length-1).match(n)||a.charAt(0).match(n))&&(s++,(t.charAt(t.length-1).match(r)||a.charAt(0).match(r))&&(s++,(t.match(i)||a.match(o))&&s++))),s}for(var s=1;s<t.length-1;){if(0==t[s-1][0]&&0==t[s+1][0]){var u=t[s-1][1],c=t[s][1],l=t[s+1][1],h=this.diff_commonSuffix(u,c);if(h){var f=c.substring(c.length-h);u=u.substring(0,u.length-h),c=f+c.substring(0,c.length-h),l=f+l}for(var d=u,p=c,m=l,g=a(u,c)+a(c,l);c.charAt(0)===l.charAt(0);){u+=c.charAt(0),c=c.substring(1)+l.charAt(0),l=l.substring(1);var v=a(u,c)+a(c,l);v>=g&&(g=v,d=u,p=c,m=l)}t[s-1][1]!=d&&(d?t[s-1][1]=d:(t.splice(s-1,1),s--),t[s][1]=p,m?t[s+1][1]=m:(t.splice(s+1,1),s--))}s++}},n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,i="",o=0,a=!1,s=!1,u=!1,c=!1;o<t.length;)0==t[o][0]?(t[o][1].length<this.Diff_EditCost&&(u||c)?(n[r++]=o,a=u,s=c,i=t[o][1]):(r=0,i=""),u=c=!1):(-1==t[o][0]?c=!0:u=!0,i&&(a&&s&&u&&c||i.length<this.Diff_EditCost/2&&a+s+u+c==3)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,i="",a&&s?(u=c=!0,r=0):(o=--r>0?n[r-1]:-1,u=c=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,r=0,i=0,o="",a="";n<t.length;)switch(t[n][0]){case 1:i++,a+=t[n][1],n++;break;case-1:r++,o+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(e=this.diff_commonPrefix(a,o))&&(n-r-i>0&&0==t[n-r-i-1][0]?t[n-r-i-1][1]+=a.substring(0,e):(t.splice(0,0,[0,a.substring(0,e)]),n++),a=a.substring(e),o=o.substring(e)),0!==(e=this.diff_commonSuffix(a,o))&&(t[n][1]=a.substring(a.length-e)+t[n][1],a=a.substring(0,a.length-e),o=o.substring(0,o.length-e))),0===r?t.splice(n-r-i,r+i,[1,a]):0===i?t.splice(n-r-i,r+i,[-1,o]):t.splice(n-r-i,r+i,[-1,o],[1,a]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",a=""}""===t[t.length-1][1]&&t.pop();var s=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),s=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),s=!0)),n++;s&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,o=0,a=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)o=r,a=i;return t.length!=n&&-1===t[n][0]?a:a+(e-o)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,a=0;a<t.length;a++){var s=t[a][0],u=t[a][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(s){case 1:e[a]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case-1:e[a]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:e[a]="<span>"+u+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=t[i][1];switch(t[i][0]){case 1:n+=o.length;break;case-1:r+=o.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+Math.max(n,r)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,i=0,o=e.split(/\t/g),a=0;a<o.length;a++){var s=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[r++]=[1,decodeURI(s)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var u=parseInt(s,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+s);var c=t.substring(i,i+=u);"="==o[a].charAt(0)?n[r++]=[0,c]:n[r++]=[-1,c];break;default:if(o[a])throw new Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return n},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function o(t,r){var o=t/e.length,a=Math.abs(n-r);return i.Match_Distance?o+a/i.Match_Distance:a?1:o}var a=this.Match_Threshold,s=t.indexOf(e,n);-1!=s&&(a=Math.min(o(0,s),a),-1!=(s=t.lastIndexOf(e,n+e.length))&&(a=Math.min(o(0,s),a)));var u,c,l=1<<e.length-1;s=-1;for(var h,f=e.length+t.length,d=0;d<e.length;d++){for(u=0,c=f;u<c;)o(d,n+c)<=a?u=c:f=c,c=Math.floor((f-u)/2+u);f=c;var p=Math.max(1,n-c+1),m=Math.min(n+c,t.length)+e.length,g=Array(m+2);g[m+1]=(1<<d)-1;for(var v=m;v>=p;v--){var y=r[t.charAt(v-1)];if(g[v]=0===d?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(h[v+1]|h[v])<<1|1|h[v+1],g[v]&l){var b=o(d,v-1);if(b<=a){if(a=b,!((s=v-1)>n))break;p=Math.max(1,2*n-s)}}}if(o(d+1,n)>a)break;h=g}return s},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n=e.substring(t.start2-(r+=this.Patch_Margin),t.start2+t.length1+r);var i=e.substring(t.start2-(r+=this.Patch_Margin),t.start2);i&&t.diffs.unshift([0,i]);var o=e.substring(t.start2+t.length1,t.start2+t.length1+r);o&&t.diffs.push([0,o]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+o.length,t.length2+=i.length+o.length}},n.prototype.patch_make=function(t,e,r){var i,o;if("string"==typeof t&&"string"==typeof e&&void 0===r)(o=this.diff_main(i=t,e,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(t&&"object"==typeof t&&void 0===e&&void 0===r)i=this.diff_text1(o=t);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===r)i=t,o=e;else{if("string"!=typeof t||"string"!=typeof e||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");i=t,o=r}if(0===o.length)return[];for(var a=[],s=new n.patch_obj,u=0,c=0,l=0,h=i,f=i,d=0;d<o.length;d++){var p=o[d][0],m=o[d][1];switch(u||0===p||(s.start1=c,s.start2=l),p){case 1:s.diffs[u++]=o[d],s.length2+=m.length,f=f.substring(0,l)+m+f.substring(l);break;case-1:s.length1+=m.length,s.diffs[u++]=o[d],f=f.substring(0,l)+f.substring(l+m.length);break;case 0:m.length<=2*this.Patch_Margin&&u&&o.length!=d+1?(s.diffs[u++]=o[d],s.length1+=m.length,s.length2+=m.length):m.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(s,h),a.push(s),s=new n.patch_obj,u=0,h=f,c=l)}1!==p&&(c+=m.length),-1!==p&&(l+=m.length)}return u&&(this.patch_addContext_(s,h),a.push(s)),a},n.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r],o=new n.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=i.diffs[a].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,e[r]=o}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],o=0;o<t.length;o++){var a,s,u=t[o].start2+r,c=this.diff_text1(t[o].diffs),l=-1;if(c.length>this.Match_MaxBits?-1!=(a=this.match_main(e,c.substring(0,this.Match_MaxBits),u))&&(-1==(l=this.match_main(e,c.substring(c.length-this.Match_MaxBits),u+c.length-this.Match_MaxBits))||a>=l)&&(a=-1):a=this.match_main(e,c,u),-1==a)i[o]=!1,r-=t[o].length2-t[o].length1;else if(i[o]=!0,r=a-u,c==(s=e.substring(a,-1==l?a+c.length:l+this.Match_MaxBits)))e=e.substring(0,a)+this.diff_text2(t[o].diffs)+e.substring(a+c.length);else{var h=this.diff_main(c,s,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(h)/c.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(h);for(var f,d=0,p=0;p<t[o].diffs.length;p++){var m=t[o].diffs[p];0!==m[0]&&(f=this.diff_xIndex(h,d)),1===m[0]?e=e.substring(0,a+f)+m[1]+e.substring(a+f):-1===m[0]&&(e=e.substring(0,a+f)+e.substring(a+this.diff_xIndex(h,d+m[1].length))),-1!==m[0]&&(d+=m[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),i]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var i=t[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),i.start1-=e,i.start2-=e,i.length1+=e,i.length2+=e;else if(e>o[0][1].length){var a=e-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],i.start1-=a,i.start2-=a,i.length1+=a,i.length2+=a}return 0==(o=(i=t[t.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push([0,n]),i.length1+=e,i.length2+=e):e>o[o.length-1][1].length&&(o[o.length-1][1]+=n.substring(0,a=e-o[o.length-1][1].length),i.length1+=a,i.length2+=a),n},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,r=0;r<t.length;r++)if(t[r].length1>e){var i=t[r];t.splice(r--,1);for(var o=i.start1,a=i.start2,s="";0!==i.diffs.length;){var u=new n.patch_obj,c=!0;for(u.start1=o-s.length,u.start2=a-s.length,""!==s&&(u.length1=u.length2=s.length,u.diffs.push([0,s]));0!==i.diffs.length&&u.length1<e-this.Patch_Margin;){var l=i.diffs[0][0],h=i.diffs[0][1];1===l?(u.length2+=h.length,a+=h.length,u.diffs.push(i.diffs.shift()),c=!1):-1===l&&1==u.diffs.length&&0==u.diffs[0][0]&&h.length>2*e?(u.length1+=h.length,o+=h.length,c=!1,u.diffs.push([l,h]),i.diffs.shift()):(h=h.substring(0,e-u.length1-this.Patch_Margin),u.length1+=h.length,o+=h.length,0===l?(u.length2+=h.length,a+=h.length):c=!1,u.diffs.push([l,h]),h==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(h.length))}s=(s=this.diff_text2(u.diffs)).substring(s.length-this.Patch_Margin);var f=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==f&&(u.length1+=f.length,u.length2+=f.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=f:u.diffs.push([0,f])),c||t.splice(++r,0,u)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var r=t.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var a=r[i].match(o);if(!a)throw new Error("Invalid patch string: "+r[i]);var s=new n.patch_obj;for(e.push(s),s.start1=parseInt(a[1],10),""===a[2]?(s.start1--,s.length1=1):"0"==a[2]?s.length1=0:(s.start1--,s.length1=parseInt(a[2],10)),s.start2=parseInt(a[3],10),""===a[4]?(s.start2--,s.length2=1):"0"==a[4]?s.length2=0:(s.start2--,s.length2=parseInt(a[4],10)),i++;i<r.length;){var u=r[i].charAt(0);try{var c=decodeURI(r[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==u)s.diffs.push([-1,c]);else if("+"==u)s.diffs.push([1,c]);else if(" "==u)s.diffs.push([0,c]);else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+c)}i++}}return e},(n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},this.diff_match_patch=n,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0},UGEY:function(t,e,n){var r=n("s847");function i(t,e){this.type=t,this.attributes={},this.children=e||[]}function o(t){this.text=t}i.prototype.setAttribute=function(t,e){this.attributes[t]=e},i.prototype.toNode=function(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},i.prototype.toMarkup=function(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=r.escape(this.attributes[e]),t+='"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+"</"+this.type+">"},o.prototype.toNode=function(){return document.createTextNode(this.text)},o.prototype.toMarkup=function(){return r.escape(this.text)},t.exports={MathNode:i,TextNode:o}},"VnD/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.d(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},Wjn4:function(t,e){function n(t){this.style=t.style,this.color=t.color,this.size=t.size,this.phantom=t.phantom,this.font=t.font,this.parentStyle=void 0===t.parentStyle?t.style:t.parentStyle,this.parentSize=void 0===t.parentSize?t.size:t.parentSize}n.prototype.extend=function(t){var e={style:this.style,size:this.size,color:this.color,parentStyle:this.style,parentSize:this.size,phantom:this.phantom,font:this.font};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return new n(e)},n.prototype.withStyle=function(t){return this.extend({style:t})},n.prototype.withSize=function(t){return this.extend({size:t})},n.prototype.withColor=function(t){return this.extend({color:t})},n.prototype.withPhantom=function(){return this.extend({phantom:!0})},n.prototype.withFont=function(t){return this.extend({font:t||this.font})},n.prototype.reset=function(){return this.extend({})};var r={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};n.prototype.getColor=function(){return this.phantom?"transparent":r[this.color]||this.color},t.exports=n},Womt:function(t,e,n){"use strict";function r(){}n.r(e),n.d(e,"WebGLRenderTargetCube",function(){return ln}),n.d(e,"WebGLRenderTarget",function(){return cn}),n.d(e,"WebGLRenderer",function(){return Fi}),n.d(e,"ShaderLib",function(){return Sn}),n.d(e,"UniformsLib",function(){return xn}),n.d(e,"UniformsUtils",function(){return yn}),n.d(e,"ShaderChunk",function(){return vn}),n.d(e,"FogExp2",function(){return Vi}),n.d(e,"Fog",function(){return Bi}),n.d(e,"Scene",function(){return Ui}),n.d(e,"Sprite",function(){return qi}),n.d(e,"LOD",function(){return Yi}),n.d(e,"SkinnedMesh",function(){return Ji}),n.d(e,"Skeleton",function(){return Xi}),n.d(e,"Bone",function(){return Zi}),n.d(e,"Mesh",function(){return _r}),n.d(e,"LineSegments",function(){return $i}),n.d(e,"LineLoop",function(){return to}),n.d(e,"Line",function(){return Qi}),n.d(e,"Points",function(){return no}),n.d(e,"Group",function(){return Ni}),n.d(e,"VideoTexture",function(){return ro}),n.d(e,"DataTexture",function(){return hn}),n.d(e,"CompressedTexture",function(){return io}),n.d(e,"CubeTexture",function(){return Sr}),n.d(e,"CanvasTexture",function(){return oo}),n.d(e,"DepthTexture",function(){return ao}),n.d(e,"Texture",function(){return sn}),n.d(e,"CompressedTextureLoader",function(){return Na}),n.d(e,"DataTextureLoader",function(){return Ia}),n.d(e,"CubeTextureLoader",function(){return za}),n.d(e,"TextureLoader",function(){return Fa}),n.d(e,"ObjectLoader",function(){return Gs}),n.d(e,"MaterialLoader",function(){return Ds}),n.d(e,"BufferGeometryLoader",function(){return Ns}),n.d(e,"DefaultLoadingManager",function(){return La}),n.d(e,"LoadingManager",function(){return ka}),n.d(e,"JSONLoader",function(){return Hs}),n.d(e,"ImageLoader",function(){return ja}),n.d(e,"ImageBitmapLoader",function(){return Zs}),n.d(e,"FontLoader",function(){return $s}),n.d(e,"FileLoader",function(){return Da}),n.d(e,"Loader",function(){return Bs}),n.d(e,"LoaderUtils",function(){return Us}),n.d(e,"Cache",function(){return Aa}),n.d(e,"AudioLoader",function(){return Eu}),n.d(e,"SpotLightShadow",function(){return fs}),n.d(e,"SpotLight",function(){return ds}),n.d(e,"PointLight",function(){return ps}),n.d(e,"RectAreaLight",function(){return ys}),n.d(e,"HemisphereLight",function(){return ls}),n.d(e,"DirectionalLightShadow",function(){return ms}),n.d(e,"DirectionalLight",function(){return gs}),n.d(e,"AmbientLight",function(){return vs}),n.d(e,"LightShadow",function(){return hs}),n.d(e,"Light",function(){return cs}),n.d(e,"StereoCamera",function(){return Tu}),n.d(e,"PerspectiveCamera",function(){return Ii}),n.d(e,"OrthographicCamera",function(){return Dn}),n.d(e,"CubeCamera",function(){return Ou}),n.d(e,"ArrayCamera",function(){return ji}),n.d(e,"Camera",function(){return Rn}),n.d(e,"AudioListener",function(){return Pu}),n.d(e,"PositionalAudio",function(){return ku}),n.d(e,"AudioContext",function(){return Cu}),n.d(e,"AudioAnalyser",function(){return Lu}),n.d(e,"Audio",function(){return Au}),n.d(e,"VectorKeyframeTrack",function(){return ks}),n.d(e,"StringKeyframeTrack",function(){return As}),n.d(e,"QuaternionKeyframeTrack",function(){return Ps}),n.d(e,"NumberKeyframeTrack",function(){return Ts}),n.d(e,"ColorKeyframeTrack",function(){return Es}),n.d(e,"BooleanKeyframeTrack",function(){return Cs}),n.d(e,"PropertyMixer",function(){return Ru}),n.d(e,"PropertyBinding",function(){return Nu}),n.d(e,"KeyframeTrack",function(){return Ms}),n.d(e,"AnimationUtils",function(){return bs}),n.d(e,"AnimationObjectGroup",function(){return Iu}),n.d(e,"AnimationMixer",function(){return zu}),n.d(e,"AnimationClip",function(){return Ls}),n.d(e,"Uniform",function(){return Fu}),n.d(e,"InstancedBufferGeometry",function(){return Vu}),n.d(e,"BufferGeometry",function(){return $n}),n.d(e,"Geometry",function(){return Fn}),n.d(e,"InterleavedBufferAttribute",function(){return Gi}),n.d(e,"InstancedInterleavedBuffer",function(){return Bu}),n.d(e,"InterleavedBuffer",function(){return Hi}),n.d(e,"InstancedBufferAttribute",function(){return Uu}),n.d(e,"Face3",function(){return Nn}),n.d(e,"Object3D",function(){return Ln}),n.d(e,"Raycaster",function(){return Hu}),n.d(e,"Layers",function(){return En}),n.d(e,"EventDispatcher",function(){return r}),n.d(e,"Clock",function(){return qu}),n.d(e,"QuaternionLinearInterpolant",function(){return Os}),n.d(e,"LinearInterpolant",function(){return xs}),n.d(e,"DiscreteInterpolant",function(){return Ss}),n.d(e,"CubicInterpolant",function(){return _s}),n.d(e,"Interpolant",function(){return ws}),n.d(e,"Triangle",function(){return wr}),n.d(e,"Math",function(){return Xe}),n.d(e,"Spherical",function(){return Yu}),n.d(e,"Cylindrical",function(){return Xu}),n.d(e,"Plane",function(){return pn}),n.d(e,"Frustum",function(){return mn}),n.d(e,"Sphere",function(){return dn}),n.d(e,"Ray",function(){return br}),n.d(e,"Matrix4",function(){return Je}),n.d(e,"Matrix3",function(){return $e}),n.d(e,"Box3",function(){return fn}),n.d(e,"Box2",function(){return Zu}),n.d(e,"Line3",function(){return Ju}),n.d(e,"Euler",function(){return Cn}),n.d(e,"Vector4",function(){return un}),n.d(e,"Vector3",function(){return Qe}),n.d(e,"Vector2",function(){return Ze}),n.d(e,"Quaternion",function(){return Ke}),n.d(e,"Color",function(){return wn}),n.d(e,"ImmediateRenderObject",function(){return Ku}),n.d(e,"VertexNormalsHelper",function(){return Qu}),n.d(e,"SpotLightHelper",function(){return $u}),n.d(e,"SkeletonHelper",function(){return tc}),n.d(e,"PointLightHelper",function(){return ec}),n.d(e,"RectAreaLightHelper",function(){return nc}),n.d(e,"HemisphereLightHelper",function(){return rc}),n.d(e,"GridHelper",function(){return ic}),n.d(e,"PolarGridHelper",function(){return oc}),n.d(e,"FaceNormalsHelper",function(){return ac}),n.d(e,"DirectionalLightHelper",function(){return sc}),n.d(e,"CameraHelper",function(){return uc}),n.d(e,"BoxHelper",function(){return cc}),n.d(e,"Box3Helper",function(){return lc}),n.d(e,"PlaneHelper",function(){return hc}),n.d(e,"ArrowHelper",function(){return fc}),n.d(e,"AxesHelper",function(){return dc}),n.d(e,"Shape",function(){return us}),n.d(e,"Path",function(){return ss}),n.d(e,"ShapePath",function(){return Js}),n.d(e,"Font",function(){return Ks}),n.d(e,"CurvePath",function(){return as}),n.d(e,"Curve",function(){return Va}),n.d(e,"ImageUtils",function(){return on}),n.d(e,"ShapeUtils",function(){return Xo}),n.d(e,"WebGLUtils",function(){return Di}),n.d(e,"WireframeGeometry",function(){return so}),n.d(e,"ParametricGeometry",function(){return uo}),n.d(e,"ParametricBufferGeometry",function(){return co}),n.d(e,"TetrahedronGeometry",function(){return fo}),n.d(e,"TetrahedronBufferGeometry",function(){return po}),n.d(e,"OctahedronGeometry",function(){return mo}),n.d(e,"OctahedronBufferGeometry",function(){return go}),n.d(e,"IcosahedronGeometry",function(){return vo}),n.d(e,"IcosahedronBufferGeometry",function(){return yo}),n.d(e,"DodecahedronGeometry",function(){return bo}),n.d(e,"DodecahedronBufferGeometry",function(){return wo}),n.d(e,"PolyhedronGeometry",function(){return lo}),n.d(e,"PolyhedronBufferGeometry",function(){return ho}),n.d(e,"TubeGeometry",function(){return _o}),n.d(e,"TubeBufferGeometry",function(){return xo}),n.d(e,"TorusKnotGeometry",function(){return So}),n.d(e,"TorusKnotBufferGeometry",function(){return Mo}),n.d(e,"TorusGeometry",function(){return Co}),n.d(e,"TorusBufferGeometry",function(){return Eo}),n.d(e,"TextGeometry",function(){return ea}),n.d(e,"TextBufferGeometry",function(){return na}),n.d(e,"SphereGeometry",function(){return ra}),n.d(e,"SphereBufferGeometry",function(){return ia}),n.d(e,"RingGeometry",function(){return oa}),n.d(e,"RingBufferGeometry",function(){return aa}),n.d(e,"PlaneGeometry",function(){return nr}),n.d(e,"PlaneBufferGeometry",function(){return rr}),n.d(e,"LatheGeometry",function(){return sa}),n.d(e,"LatheBufferGeometry",function(){return ua}),n.d(e,"ShapeGeometry",function(){return ca}),n.d(e,"ShapeBufferGeometry",function(){return la}),n.d(e,"ExtrudeGeometry",function(){return Ko}),n.d(e,"ExtrudeBufferGeometry",function(){return Qo}),n.d(e,"EdgesGeometry",function(){return fa}),n.d(e,"ConeGeometry",function(){return ma}),n.d(e,"ConeBufferGeometry",function(){return ga}),n.d(e,"CylinderGeometry",function(){return da}),n.d(e,"CylinderBufferGeometry",function(){return pa}),n.d(e,"CircleGeometry",function(){return va}),n.d(e,"CircleBufferGeometry",function(){return ya}),n.d(e,"BoxGeometry",function(){return tr}),n.d(e,"BoxBufferGeometry",function(){return er}),n.d(e,"ShadowMaterial",function(){return wa}),n.d(e,"SpriteMaterial",function(){return Wi}),n.d(e,"RawShaderMaterial",function(){return _a}),n.d(e,"ShaderMaterial",function(){return yr}),n.d(e,"PointsMaterial",function(){return eo}),n.d(e,"MeshPhysicalMaterial",function(){return Sa}),n.d(e,"MeshStandardMaterial",function(){return xa}),n.d(e,"MeshPhongMaterial",function(){return Ma}),n.d(e,"MeshToonMaterial",function(){return Ca}),n.d(e,"MeshNormalMaterial",function(){return Ea}),n.d(e,"MeshLambertMaterial",function(){return Ta}),n.d(e,"MeshDepthMaterial",function(){return ki}),n.d(e,"MeshDistanceMaterial",function(){return Li}),n.d(e,"MeshBasicMaterial",function(){return vr}),n.d(e,"LineDashedMaterial",function(){return Oa}),n.d(e,"LineBasicMaterial",function(){return Ki}),n.d(e,"Material",function(){return gr}),n.d(e,"Float64BufferAttribute",function(){return Zn}),n.d(e,"Float32BufferAttribute",function(){return Xn}),n.d(e,"Uint32BufferAttribute",function(){return Yn}),n.d(e,"Int32BufferAttribute",function(){return qn}),n.d(e,"Uint16BufferAttribute",function(){return Wn}),n.d(e,"Int16BufferAttribute",function(){return Gn}),n.d(e,"Uint8ClampedBufferAttribute",function(){return Hn}),n.d(e,"Uint8BufferAttribute",function(){return Un}),n.d(e,"Int8BufferAttribute",function(){return Bn}),n.d(e,"BufferAttribute",function(){return Vn}),n.d(e,"ArcCurve",function(){return Ua}),n.d(e,"CatmullRomCurve3",function(){return Xa}),n.d(e,"CubicBezierCurve",function(){return Qa}),n.d(e,"CubicBezierCurve3",function(){return $a}),n.d(e,"EllipseCurve",function(){return Ba}),n.d(e,"LineCurve",function(){return ts}),n.d(e,"LineCurve3",function(){return es}),n.d(e,"QuadraticBezierCurve",function(){return ns}),n.d(e,"QuadraticBezierCurve3",function(){return rs}),n.d(e,"SplineCurve",function(){return is}),n.d(e,"REVISION",function(){return m}),n.d(e,"MOUSE",function(){return g}),n.d(e,"CullFaceNone",function(){return v}),n.d(e,"CullFaceBack",function(){return y}),n.d(e,"CullFaceFront",function(){return b}),n.d(e,"CullFaceFrontBack",function(){return w}),n.d(e,"FrontFaceDirectionCW",function(){return _}),n.d(e,"FrontFaceDirectionCCW",function(){return x}),n.d(e,"BasicShadowMap",function(){return S}),n.d(e,"PCFShadowMap",function(){return M}),n.d(e,"PCFSoftShadowMap",function(){return C}),n.d(e,"FrontSide",function(){return E}),n.d(e,"BackSide",function(){return T}),n.d(e,"DoubleSide",function(){return O}),n.d(e,"FlatShading",function(){return P}),n.d(e,"SmoothShading",function(){return A}),n.d(e,"NoColors",function(){return k}),n.d(e,"FaceColors",function(){return L}),n.d(e,"VertexColors",function(){return R}),n.d(e,"NoBlending",function(){return D}),n.d(e,"NormalBlending",function(){return N}),n.d(e,"AdditiveBlending",function(){return I}),n.d(e,"SubtractiveBlending",function(){return j}),n.d(e,"MultiplyBlending",function(){return z}),n.d(e,"CustomBlending",function(){return F}),n.d(e,"AddEquation",function(){return V}),n.d(e,"SubtractEquation",function(){return B}),n.d(e,"ReverseSubtractEquation",function(){return U}),n.d(e,"MinEquation",function(){return H}),n.d(e,"MaxEquation",function(){return G}),n.d(e,"ZeroFactor",function(){return W}),n.d(e,"OneFactor",function(){return q}),n.d(e,"SrcColorFactor",function(){return Y}),n.d(e,"OneMinusSrcColorFactor",function(){return X}),n.d(e,"SrcAlphaFactor",function(){return Z}),n.d(e,"OneMinusSrcAlphaFactor",function(){return J}),n.d(e,"DstAlphaFactor",function(){return K}),n.d(e,"OneMinusDstAlphaFactor",function(){return Q}),n.d(e,"DstColorFactor",function(){return $}),n.d(e,"OneMinusDstColorFactor",function(){return tt}),n.d(e,"SrcAlphaSaturateFactor",function(){return et}),n.d(e,"NeverDepth",function(){return nt}),n.d(e,"AlwaysDepth",function(){return rt}),n.d(e,"LessDepth",function(){return it}),n.d(e,"LessEqualDepth",function(){return ot}),n.d(e,"EqualDepth",function(){return at}),n.d(e,"GreaterEqualDepth",function(){return st}),n.d(e,"GreaterDepth",function(){return ut}),n.d(e,"NotEqualDepth",function(){return ct}),n.d(e,"MultiplyOperation",function(){return lt}),n.d(e,"MixOperation",function(){return ht}),n.d(e,"AddOperation",function(){return ft}),n.d(e,"NoToneMapping",function(){return dt}),n.d(e,"LinearToneMapping",function(){return pt}),n.d(e,"ReinhardToneMapping",function(){return mt}),n.d(e,"Uncharted2ToneMapping",function(){return gt}),n.d(e,"CineonToneMapping",function(){return vt}),n.d(e,"UVMapping",function(){return yt}),n.d(e,"CubeReflectionMapping",function(){return bt}),n.d(e,"CubeRefractionMapping",function(){return wt}),n.d(e,"EquirectangularReflectionMapping",function(){return _t}),n.d(e,"EquirectangularRefractionMapping",function(){return xt}),n.d(e,"SphericalReflectionMapping",function(){return St}),n.d(e,"CubeUVReflectionMapping",function(){return Mt}),n.d(e,"CubeUVRefractionMapping",function(){return Ct}),n.d(e,"RepeatWrapping",function(){return Et}),n.d(e,"ClampToEdgeWrapping",function(){return Tt}),n.d(e,"MirroredRepeatWrapping",function(){return Ot}),n.d(e,"NearestFilter",function(){return Pt}),n.d(e,"NearestMipMapNearestFilter",function(){return At}),n.d(e,"NearestMipMapLinearFilter",function(){return kt}),n.d(e,"LinearFilter",function(){return Lt}),n.d(e,"LinearMipMapNearestFilter",function(){return Rt}),n.d(e,"LinearMipMapLinearFilter",function(){return Dt}),n.d(e,"UnsignedByteType",function(){return Nt}),n.d(e,"ByteType",function(){return It}),n.d(e,"ShortType",function(){return jt}),n.d(e,"UnsignedShortType",function(){return zt}),n.d(e,"IntType",function(){return Ft}),n.d(e,"UnsignedIntType",function(){return Vt}),n.d(e,"FloatType",function(){return Bt}),n.d(e,"HalfFloatType",function(){return Ut}),n.d(e,"UnsignedShort4444Type",function(){return Ht}),n.d(e,"UnsignedShort5551Type",function(){return Gt}),n.d(e,"UnsignedShort565Type",function(){return Wt}),n.d(e,"UnsignedInt248Type",function(){return qt}),n.d(e,"AlphaFormat",function(){return Yt}),n.d(e,"RGBFormat",function(){return Xt}),n.d(e,"RGBAFormat",function(){return Zt}),n.d(e,"LuminanceFormat",function(){return Jt}),n.d(e,"LuminanceAlphaFormat",function(){return Kt}),n.d(e,"RGBEFormat",function(){return Qt}),n.d(e,"DepthFormat",function(){return $t}),n.d(e,"DepthStencilFormat",function(){return te}),n.d(e,"RGB_S3TC_DXT1_Format",function(){return ee}),n.d(e,"RGBA_S3TC_DXT1_Format",function(){return ne}),n.d(e,"RGBA_S3TC_DXT3_Format",function(){return re}),n.d(e,"RGBA_S3TC_DXT5_Format",function(){return ie}),n.d(e,"RGB_PVRTC_4BPPV1_Format",function(){return oe}),n.d(e,"RGB_PVRTC_2BPPV1_Format",function(){return ae}),n.d(e,"RGBA_PVRTC_4BPPV1_Format",function(){return se}),n.d(e,"RGBA_PVRTC_2BPPV1_Format",function(){return ue}),n.d(e,"RGB_ETC1_Format",function(){return ce}),n.d(e,"RGBA_ASTC_4x4_Format",function(){return le}),n.d(e,"RGBA_ASTC_5x4_Format",function(){return he}),n.d(e,"RGBA_ASTC_5x5_Format",function(){return fe}),n.d(e,"RGBA_ASTC_6x5_Format",function(){return de}),n.d(e,"RGBA_ASTC_6x6_Format",function(){return pe}),n.d(e,"RGBA_ASTC_8x5_Format",function(){return me}),n.d(e,"RGBA_ASTC_8x6_Format",function(){return ge}),n.d(e,"RGBA_ASTC_8x8_Format",function(){return ve}),n.d(e,"RGBA_ASTC_10x5_Format",function(){return ye}),n.d(e,"RGBA_ASTC_10x6_Format",function(){return be}),n.d(e,"RGBA_ASTC_10x8_Format",function(){return we}),n.d(e,"RGBA_ASTC_10x10_Format",function(){return _e}),n.d(e,"RGBA_ASTC_12x10_Format",function(){return xe}),n.d(e,"RGBA_ASTC_12x12_Format",function(){return Se}),n.d(e,"LoopOnce",function(){return Me}),n.d(e,"LoopRepeat",function(){return Ce}),n.d(e,"LoopPingPong",function(){return Ee}),n.d(e,"InterpolateDiscrete",function(){return Te}),n.d(e,"InterpolateLinear",function(){return Oe}),n.d(e,"InterpolateSmooth",function(){return Pe}),n.d(e,"ZeroCurvatureEnding",function(){return Ae}),n.d(e,"ZeroSlopeEnding",function(){return ke}),n.d(e,"WrapAroundEnding",function(){return Le}),n.d(e,"TrianglesDrawMode",function(){return Re}),n.d(e,"TriangleStripDrawMode",function(){return De}),n.d(e,"TriangleFanDrawMode",function(){return Ne}),n.d(e,"LinearEncoding",function(){return Ie}),n.d(e,"sRGBEncoding",function(){return je}),n.d(e,"GammaEncoding",function(){return ze}),n.d(e,"RGBEEncoding",function(){return Fe}),n.d(e,"LogLuvEncoding",function(){return Ve}),n.d(e,"RGBM7Encoding",function(){return Be}),n.d(e,"RGBM16Encoding",function(){return Ue}),n.d(e,"RGBDEncoding",function(){return He}),n.d(e,"BasicDepthPacking",function(){return Ge}),n.d(e,"RGBADepthPacking",function(){return We}),n.d(e,"TangentSpaceNormalMap",function(){return qe}),n.d(e,"ObjectSpaceNormalMap",function(){return Ye}),n.d(e,"CubeGeometry",function(){return tr}),n.d(e,"Face4",function(){return pc}),n.d(e,"LineStrip",function(){return mc}),n.d(e,"LinePieces",function(){return gc}),n.d(e,"MeshFaceMaterial",function(){return vc}),n.d(e,"MultiMaterial",function(){return yc}),n.d(e,"PointCloud",function(){return bc}),n.d(e,"Particle",function(){return wc}),n.d(e,"ParticleSystem",function(){return _c}),n.d(e,"PointCloudMaterial",function(){return xc}),n.d(e,"ParticleBasicMaterial",function(){return Sc}),n.d(e,"ParticleSystemMaterial",function(){return Mc}),n.d(e,"Vertex",function(){return Cc}),n.d(e,"DynamicBufferAttribute",function(){return Ec}),n.d(e,"Int8Attribute",function(){return Tc}),n.d(e,"Uint8Attribute",function(){return Oc}),n.d(e,"Uint8ClampedAttribute",function(){return Pc}),n.d(e,"Int16Attribute",function(){return Ac}),n.d(e,"Uint16Attribute",function(){return kc}),n.d(e,"Int32Attribute",function(){return Lc}),n.d(e,"Uint32Attribute",function(){return Rc}),n.d(e,"Float32Attribute",function(){return Dc}),n.d(e,"Float64Attribute",function(){return Nc}),n.d(e,"ClosedSplineCurve3",function(){return Ic}),n.d(e,"SplineCurve3",function(){return jc}),n.d(e,"Spline",function(){return zc}),n.d(e,"AxisHelper",function(){return Fc}),n.d(e,"BoundingBoxHelper",function(){return Vc}),n.d(e,"EdgesHelper",function(){return Bc}),n.d(e,"WireframeHelper",function(){return Uc}),n.d(e,"XHRLoader",function(){return Hc}),n.d(e,"BinaryTextureLoader",function(){return Gc}),n.d(e,"GeometryUtils",function(){return Wc}),n.d(e,"Projector",function(){return qc}),n.d(e,"CanvasRenderer",function(){return Yc}),n.d(e,"SceneUtils",function(){return Xc}),n.d(e,"LensFlare",function(){return Zc}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Object.assign(r.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t)}}}});var i,o,a,s,u,c,l,h,f,d,p,m="95",g={LEFT:0,MIDDLE:1,RIGHT:2},v=0,y=1,b=2,w=3,_=0,x=1,S=0,M=1,C=2,E=0,T=1,O=2,P=1,A=2,k=0,L=1,R=2,D=0,N=1,I=2,j=3,z=4,F=5,V=100,B=101,U=102,H=103,G=104,W=200,q=201,Y=202,X=203,Z=204,J=205,K=206,Q=207,$=208,tt=209,et=210,nt=0,rt=1,it=2,ot=3,at=4,st=5,ut=6,ct=7,lt=0,ht=1,ft=2,dt=0,pt=1,mt=2,gt=3,vt=4,yt=300,bt=301,wt=302,_t=303,xt=304,St=305,Mt=306,Ct=307,Et=1e3,Tt=1001,Ot=1002,Pt=1003,At=1004,kt=1005,Lt=1006,Rt=1007,Dt=1008,Nt=1009,It=1010,jt=1011,zt=1012,Ft=1013,Vt=1014,Bt=1015,Ut=1016,Ht=1017,Gt=1018,Wt=1019,qt=1020,Yt=1021,Xt=1022,Zt=1023,Jt=1024,Kt=1025,Qt=Zt,$t=1026,te=1027,ee=33776,ne=33777,re=33778,ie=33779,oe=35840,ae=35841,se=35842,ue=35843,ce=36196,le=37808,he=37809,fe=37810,de=37811,pe=37812,me=37813,ge=37814,ve=37815,ye=37816,be=37817,we=37818,_e=37819,xe=37820,Se=37821,Me=2200,Ce=2201,Ee=2202,Te=2300,Oe=2301,Pe=2302,Ae=2400,ke=2401,Le=2402,Re=0,De=1,Ne=2,Ie=3e3,je=3001,ze=3007,Fe=3002,Ve=3003,Be=3004,Ue=3005,He=3006,Ge=3200,We=3201,qe=0,Ye=1,Xe={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Xe.DEG2RAD},radToDeg:function(t){return t*Xe.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function Ze(t,e){this.x=t||0,this.y=e||0}function Je(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Ke(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function Qe(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function $e(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Ze.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Ze.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:(i=new Ze,o=new Ze,function(t,e){return i.set(t,t),o.set(e,e),this.clamp(i,o)}),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}}),Object.assign(Je.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Je).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:(d=new Qe,function(t){var e=this.elements,n=t.elements,r=1/d.setFromMatrixColumn(t,0).length(),i=1/d.setFromMatrixColumn(t,1).length(),o=1/d.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var h=o*c,f=o*l,d=a*c,p=a*l;e[0]=s*c,e[4]=-s*l,e[8]=u,e[1]=f+d*u,e[5]=h-p*u,e[9]=-a*s,e[2]=p-h*u,e[6]=d+f*u,e[10]=o*s}else if("YXZ"===t.order){var m=s*l,g=u*c;e[0]=(v=s*c)+(y=u*l)*a,e[4]=g*a-m,e[8]=o*u,e[1]=o*l,e[5]=o*c,e[9]=-a,e[2]=m*a-g,e[6]=y+v*a,e[10]=o*s}else if("ZXY"===t.order){var v,y;m=s*l,g=u*c,e[0]=(v=s*c)-(y=u*l)*a,e[4]=-o*l,e[8]=g+m*a,e[1]=m+g*a,e[5]=o*c,e[9]=y-v*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if("ZYX"===t.order)h=o*c,f=o*l,d=a*c,p=a*l,e[0]=s*c,e[4]=d*u-f,e[8]=h*u+p,e[1]=s*l,e[5]=p*u+h,e[9]=f*u-d,e[2]=-u,e[6]=a*s,e[10]=o*s;else if("YZX"===t.order){var b=o*s,w=o*u,_=a*s,x=a*u;e[0]=s*c,e[4]=x-b*l,e[8]=_*l+w,e[1]=l,e[5]=o*c,e[9]=-a*c,e[2]=-u*c,e[6]=w*l+_,e[10]=b-x*l}else"XZY"===t.order&&(b=o*s,w=o*u,_=a*s,x=a*u,e[0]=s*c,e[4]=-l,e[8]=u*c,e[1]=b*l+x,e[5]=o*c,e[9]=w*l-_,e[2]=_*l-w,e[6]=a*c,e[10]=x*l+b);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(h=new Qe(0,0,0),f=new Qe(1,1,1),function(t){return this.compose(h,t,f)}),lookAt:(u=new Qe,c=new Qe,l=new Qe,function(t,e,n){var r=this.elements;return l.subVectors(t,e),0===l.lengthSq()&&(l.z=1),l.normalize(),u.crossVectors(n,l),0===u.lengthSq()&&(1===Math.abs(n.z)?l.x+=1e-4:l.z+=1e-4,l.normalize(),u.crossVectors(n,l)),u.normalize(),c.crossVectors(l,u),r[0]=u.x,r[4]=c.x,r[8]=l.x,r[1]=u.y,r[5]=c.y,r[9]=l.y,r[2]=u.z,r[6]=c.z,r[10]=l.z,this}),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],_=r[0],x=r[4],S=r[8],M=r[12],C=r[1],E=r[5],T=r[9],O=r[13],P=r[2],A=r[6],k=r[10],L=r[14],R=r[3],D=r[7],N=r[11],I=r[15];return i[0]=o*_+a*C+s*P+u*R,i[4]=o*x+a*E+s*A+u*D,i[8]=o*S+a*T+s*k+u*N,i[12]=o*M+a*O+s*L+u*I,i[1]=c*_+l*C+h*P+f*R,i[5]=c*x+l*E+h*A+f*D,i[9]=c*S+l*T+h*k+f*N,i[13]=c*M+l*O+h*L+f*I,i[2]=d*_+p*C+m*P+g*R,i[6]=d*x+p*E+m*A+g*D,i[10]=d*S+p*T+m*k+g*N,i[14]=d*M+p*O+m*L+g*I,i[3]=v*_+y*C+b*P+w*R,i[7]=v*x+y*E+b*A+w*D,i[11]=v*S+y*T+b*k+w*N,i[15]=v*M+y*O+b*L+w*I,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Qe;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],c=t[2],l=t[6],h=t[10],f=t[14];return t[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*f-n*s*f)+t[7]*(+e*s*f-e*u*h+i*o*h-r*o*f+r*u*c-i*s*c)+t[11]*(+e*u*l-e*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+t[15]*(-r*a*c-e*s*l+e*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],w=d*y*h-v*p*h+v*l*m-c*y*m-d*l*b+c*p*b,_=g*p*h-f*y*h-g*l*m+u*y*m+f*l*b-u*p*b,x=f*v*h-g*d*h+g*c*m-u*v*m-f*c*b+u*d*b,S=g*d*l-f*v*l-g*c*p+u*v*p+f*c*y-u*d*y,M=i*w+o*_+a*x+s*S;if(0===M){var C="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(C);return console.warn(C),this.identity()}var E=1/M;return n[0]=w*E,n[1]=(v*p*s-d*y*s-v*a*m+o*y*m+d*a*b-o*p*b)*E,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*b+o*l*b)*E,n[3]=(d*l*s-c*p*s-d*a*h+o*p*h+c*a*m-o*l*m)*E,n[4]=_*E,n[5]=(f*y*s-g*p*s+g*a*m-i*y*m-f*a*b+i*p*b)*E,n[6]=(g*l*s-u*y*s-g*a*h+i*y*h+u*a*b-i*l*b)*E,n[7]=(u*p*s-f*l*s+f*a*h-i*p*h-u*a*m+i*l*m)*E,n[8]=x*E,n[9]=(g*d*s-f*v*s-g*o*m+i*v*m+f*o*b-i*d*b)*E,n[10]=(u*v*s-g*c*s+g*o*h-i*v*h-u*o*b+i*c*b)*E,n[11]=(f*c*s-u*d*s-f*o*h+i*d*h+u*o*m-i*c*m)*E,n[12]=S*E,n[13]=(f*v*a-g*d*a+g*o*p-i*v*p-f*o*y+i*d*y)*E,n[14]=(g*c*a-u*v*a-g*o*l+i*v*l+u*o*y-i*c*y)*E,n[15]=(u*d*a-f*c*a+f*o*l-i*d*l-u*o*p+i*c*p)*E,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var r=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,u=i+i,c=o+o,l=a+a,h=i*u,f=i*c,d=i*l,p=o*c,m=o*l,g=a*l,v=s*u,y=s*c,b=s*l,w=n.x,_=n.y,x=n.z;return r[0]=(1-(p+g))*w,r[1]=(f+b)*w,r[2]=(d-y)*w,r[3]=0,r[4]=(f-b)*_,r[5]=(1-(h+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(d+y)*x,r[9]=(m-v)*x,r[10]=(1-(h+p))*x,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(a=new Qe,s=new Je,function(t,e,n){var r=this.elements,i=a.set(r[0],r[1],r[2]).length(),o=a.set(r[4],r[5],r[6]).length(),u=a.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],s.copy(this);var c=1/i,l=1/o,h=1/u;return s.elements[0]*=c,s.elements[1]*=c,s.elements[2]*=c,s.elements[4]*=l,s.elements[5]*=l,s.elements[6]*=l,s.elements[8]*=h,s.elements[9]*=h,s.elements[10]*=h,e.setFromRotationMatrix(s),n.x=i,n.y=o,n.z=u,this}),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(n-r),u=(e+t)/(e-t),c=(n+r)/(n-r),l=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=2*i/(e-t),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=s,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),u=1/(n-r),c=1/(o-i),l=(e+t)*s,h=(n+r)*u,f=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Object.assign(Ke,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(l!==p||s!==h||u!==f||c!==d){var m=1-a,g=s*h+u*f+c*d+l*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,g*v);m=Math.sin(m*w)/b,a=Math.sin(a*w)/b}var _=a*v;if(s=s*m+h*_,u=u*m+f*_,c=c*m+d*_,l=l*m+p*_,m===1-a){var x=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=x,u*=x,c*=x,l*=x}}t[e]=s,t[e+1]=u,t[e+2]=c,t[e+3]=l}}),Object.defineProperties(Ke.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Ke.prototype,{set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),h=s(n/2),f=s(r/2),d=s(i/2);return"XYZ"===o?(this._x=h*c*l+u*f*d,this._y=u*f*l-h*c*d,this._z=u*c*d+h*f*l,this._w=u*c*l-h*f*d):"YXZ"===o?(this._x=h*c*l+u*f*d,this._y=u*f*l-h*c*d,this._z=u*c*d-h*f*l,this._w=u*c*l+h*f*d):"ZXY"===o?(this._x=h*c*l-u*f*d,this._y=u*f*l+h*c*d,this._z=u*c*d+h*f*l,this._w=u*c*l-h*f*d):"ZYX"===o?(this._x=h*c*l-u*f*d,this._y=u*f*l+h*c*d,this._z=u*c*d-h*f*l,this._w=u*c*l+h*f*d):"YZX"===o?(this._x=h*c*l+u*f*d,this._y=u*f*l+h*c*d,this._z=u*c*d-h*f*l,this._w=u*c*l-h*f*d):"XZY"===o&&(this._x=h*c*l-u*f*d,this._y=u*f*l-h*c*d,this._z=u*c*d+h*f*l,this._w=u*c*l+h*f*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],f=r+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(l-u)*e,this._y=(o-c)*e,this._z=(a-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(l-u)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+c)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(o-c)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(u+l)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+c)/e,this._y=(u+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new Qe;return function(n,r){return void 0===e&&(e=new Qe),(t=n.dot(r)+1)<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(Xe.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var r=Math.min(1,e/n);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(t=1/t),this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,c=e._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var u=1-e;return this._w=u*o+e*this._w,this._x=u*n+e*this._x,this._y=u*r+e*this._y,this._z=u*i+e*this._z,this.normalize()}var c=Math.sqrt(s),l=Math.atan2(c,a),h=Math.sin((1-e)*l)/c,f=Math.sin(e*l)/c;return this._w=o*h+this._w*f,this._x=n*h+this._x*f,this._y=r*h+this._y*f,this._z=i*h+this._z*f,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Qe.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(p=new Ke,function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(p.setFromEuler(t))}),applyAxisAngle:function(){var t=new Ke;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*r-a*n,c=s*n+a*e-i*r,l=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var t=new Je;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new Je;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Qe,e=new Qe;return function(n,r){return t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Qe;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new Qe;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Xe.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign($e.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,u){var c=this.elements;return c[0]=t,c[1]=r,c[2]=a,c[3]=e,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Qe;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],f=n[5],d=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],w=r[2],_=r[5],x=r[8];return i[0]=o*p+a*v+s*w,i[3]=o*m+a*y+s*_,i[6]=o*g+a*b+s*x,i[1]=u*p+c*v+l*w,i[4]=u*m+c*y+l*_,i[7]=u*g+c*b+l*x,i[2]=h*p+f*v+d*w,i[5]=h*m+f*y+d*_,i[8]=h*g+f*b+d*x,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*o*c-e*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=n[8],d=f*u-c*h,p=c*l-f*s,m=h*s-u*l,g=i*d+o*p+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(a*h-f*o)*y,r[2]=(c*o-a*u)*y,r[3]=p*y,r[4]=(f*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,r,i,o,a){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*o+u*a)+o+t,-r*u,r*s,-r*(-u*o+s*a)+a+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],c=r[7];return r[0]=e*i+n*s,r[3]=e*o+n*u,r[6]=e*a+n*c,r[1]=-n*i+e*s,r[4]=-n*o+e*u,r[7]=-n*a+e*c,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var tn,en,nn,rn,on={getDataURL:function(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{"undefined"!=typeof OffscreenCanvas?e=new OffscreenCanvas(t.width,t.height):((e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height);var n=e.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height)}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},an=0;function sn(t,e,n,r,i,o,a,s,u,c){Object.defineProperty(this,"id",{value:an++}),this.uuid=Xe.generateUUID(),this.name="",this.image=void 0!==t?t:sn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:sn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Tt,this.wrapT=void 0!==r?r:Tt,this.magFilter=void 0!==i?i:Lt,this.minFilter=void 0!==o?o:Dt,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:Zt,this.type=void 0!==s?s:Nt,this.offset=new Ze(0,0),this.repeat=new Ze(1,1),this.center=new Ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $e,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:Ie,this.version=0,this.onUpdate=null}function un(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function cn(t,e,n){this.width=t,this.height=e,this.scissor=new un(0,0,t,e),this.scissorTest=!1,this.viewport=new un(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=Lt),this.texture=new sn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0===n.generateMipmaps||n.generateMipmaps,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function ln(t,e,n){cn.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function hn(t,e,n,r,i,o,a,s,u,c,l,h){sn.call(this,null,o,a,s,u,c,r,i,l,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:Pt,this.minFilter=void 0!==c?c:Pt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function fn(t,e){this.min=void 0!==t?t:new Qe(1/0,1/0,1/0),this.max=void 0!==e?e:new Qe(-1/0,-1/0,-1/0)}function dn(t,e){this.center=void 0!==t?t:new Qe,this.radius=void 0!==e?e:0}function pn(t,e){this.normal=void 0!==t?t:new Qe(1,0,0),this.constant=void 0!==e?e:0}function mn(t,e,n,r,i,o){this.planes=[void 0!==t?t:new pn,void 0!==e?e:new pn,void 0!==n?n:new pn,void 0!==r?r:new pn,void 0!==i?i:new pn,void 0!==o?o:new pn]}sn.DEFAULT_IMAGE=void 0,sn.DEFAULT_MAPPING=yt,sn.prototype=Object.assign(Object.create(r.prototype),{constructor:sn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Xe.generateUUID()),!e&&void 0===t.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(on.getDataURL(r[o]))}else i=on.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===yt){if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Et:t.x=t.x-Math.floor(t.x);break;case Tt:t.x=t.x<0?0:1;break;case Ot:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Et:t.y=t.y-Math.floor(t.y);break;case Tt:t.y=t.y<0?0:1;break;case Ot:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.defineProperty(sn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(un.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],h=o[9],f=o[2],d=o[6],p=o[10];if(Math.abs(s-c)<.01&&Math.abs(u-f)<.01&&Math.abs(h-d)<.01){if(Math.abs(s+c)<.1&&Math.abs(u+f)<.1&&Math.abs(h+d)<.1&&Math.abs(a+l+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(l+1)/2,v=(p+1)/2,y=(s+c)/4,b=(u+f)/4,w=(h+d)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(g)),i=w/r):v<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(v)),r=w/i),this.set(n,r,i,e),this}var _=Math.sqrt((d-h)*(d-h)+(u-f)*(u-f)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(d-h)/_,this.y=(u-f)/_,this.z=(c-s)/_,this.w=Math.acos((a+l+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new un,e=new un),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),cn.prototype=Object.assign(Object.create(r.prototype),{constructor:cn,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(ln.prototype=Object.create(cn.prototype)).constructor=ln,ln.prototype.isWebGLRenderTargetCube=!0,(hn.prototype=Object.create(sn.prototype)).constructor=hn,hn.prototype.isDataTexture=!0,Object.assign(fn.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.length;s<u;s+=3){var c=t[s],l=t[s+1],h=t[s+2];c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.count;s<u;s++){var c=t.getX(s),l=t.getY(s),h=t.getZ(s);c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Qe;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Qe),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Qe),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,n,r=new Qe;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(e=0,n=a.length;e<n;e++)r.copy(a[e]),r.applyMatrix4(i.matrixWorld),t.expandByPoint(r)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(e=0,n=s.count;e<n;e++)r.fromBufferAttribute(s,e).applyMatrix4(i.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Qe),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(tn=new Qe,function(t){return this.clampPoint(t.center,tn),tn.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},intersectsTriangle:function(){var t=new Qe,e=new Qe,n=new Qe,r=new Qe,i=new Qe,o=new Qe,a=new Qe,s=new Qe,u=new Qe,c=new Qe;function l(r){var i,o;for(i=0,o=r.length-3;i<=o;i+=3){a.fromArray(r,i);var s=u.x*Math.abs(a.x)+u.y*Math.abs(a.y)+u.z*Math.abs(a.z),c=t.dot(a),l=e.dot(a),h=n.dot(a);if(Math.max(-Math.max(c,l,h),Math.min(c,l,h))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(a.a,s),e.subVectors(a.b,s),n.subVectors(a.c,s),r.subVectors(e,t),i.subVectors(n,e),o.subVectors(t,n);var h=[0,-r.z,r.y,0,-i.z,i.y,0,-o.z,o.y,r.z,0,-r.x,i.z,0,-i.x,o.z,0,-o.x,-r.y,r.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!l(h)&&!!l(h=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(r,i),l(h=[c.x,c.y,c.z]))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Qe),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Qe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Qe;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new dn),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){if(this.isEmpty())return this;var e=t.elements,n=e[0]*this.min.x,r=e[1]*this.min.x,i=e[2]*this.min.x,o=e[0]*this.max.x,a=e[1]*this.max.x,s=e[2]*this.max.x,u=e[4]*this.min.y,c=e[5]*this.min.y,l=e[6]*this.min.y,h=e[4]*this.max.y,f=e[5]*this.max.y,d=e[6]*this.max.y,p=e[8]*this.min.z,m=e[9]*this.min.z,g=e[10]*this.min.z,v=e[8]*this.max.z,y=e[9]*this.max.z,b=e[10]*this.max.z;return this.min.x=Math.min(n,o)+Math.min(u,h)+Math.min(p,v)+e[12],this.min.y=Math.min(r,a)+Math.min(c,f)+Math.min(m,y)+e[13],this.min.z=Math.min(i,s)+Math.min(l,d)+Math.min(g,b)+e[14],this.max.x=Math.max(n,o)+Math.max(u,h)+Math.max(p,v)+e[12],this.max.y=Math.max(r,a)+Math.max(c,f)+Math.max(m,y)+e[13],this.max.z=Math.max(i,s)+Math.max(l,d)+Math.max(g,b)+e[14],this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(dn.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(en=new fn,function(t,e){var n=this.center;void 0!==e?n.copy(e):en.setFromPoints(t).getCenter(n);for(var r=0,i=0,o=t.length;i<o;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Qe),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new fn),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(pn.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Qe,e=new Qe;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Qe),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new Qe;return function(e,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new Qe);var r=e.delta(t),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:n.copy(r).multiplyScalar(o).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Qe),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Qe,e=new $e;return function(n,r){var i=r||e.getNormalMatrix(n),o=this.coplanarPoint(t).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(mn.prototype,{set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-r,l-s,p-h,y-m).normalize(),e[1].setComponents(a+r,l+s,p+h,y+m).normalize(),e[2].setComponents(a+i,l+u,p+f,y+g).normalize(),e[3].setComponents(a-i,l-u,p-f,y-g).normalize(),e[4].setComponents(a-o,l-c,p-d,y-v).normalize(),e[5].setComponents(a+o,l+c,p+d,y+v).normalize(),this},intersectsObject:(rn=new dn,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),rn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(rn)}),intersectsSprite:function(){var t=new dn;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++)if(e[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:(nn=new Qe,function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];if(nn.x=r.normal.x>0?t.max.x:t.min.x,nn.y=r.normal.y>0?t.max.y:t.min.y,nn.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(nn)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var gn,vn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"},yn={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];e[n][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?i.clone():Array.isArray(i)?i.slice():i}return e}},bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}Object.assign(wn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=Xe.euclideanModulo(e,1),n=Xe.clamp(n,0,1),r=Xe.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[2];switch(n[1]){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){var o=parseFloat(r[1])/360,a=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,a,s)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u,c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return t&&t.length>0&&(void 0!==(u=bn[t])?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),u=(s+a)/2;if(s===a)e=0,n=0;else{var c=a-s;switch(n=u<=.5?c/(a+s):c/(2-a-s),a){case r:e=(i-o)/c+(i<o?6:0);break;case i:e=(o-r)/c+2;break;case o:e=(r-i)/c+4}e/=6}return t.h=e,t.s=n,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(gn={},function(t,e,n){return this.getHSL(gn),gn.h+=t,gn.s+=e,gn.l+=n,this.setHSL(gn.h,gn.s,gn.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var _n,xn={common:{diffuse:{value:new wn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new $e},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new wn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new $e}},sprite:{diffuse:{value:new wn(15658734)},opacity:{value:1},center:{value:new Ze(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new $e}}},Sn={basic:{uniforms:yn.merge([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.fog]),vertexShader:vn.meshbasic_vert,fragmentShader:vn.meshbasic_frag},lambert:{uniforms:yn.merge([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.fog,xn.lights,{emissive:{value:new wn(0)}}]),vertexShader:vn.meshlambert_vert,fragmentShader:vn.meshlambert_frag},phong:{uniforms:yn.merge([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.gradientmap,xn.fog,xn.lights,{emissive:{value:new wn(0)},specular:{value:new wn(1118481)},shininess:{value:30}}]),vertexShader:vn.meshphong_vert,fragmentShader:vn.meshphong_frag},standard:{uniforms:yn.merge([xn.common,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.roughnessmap,xn.metalnessmap,xn.fog,xn.lights,{emissive:{value:new wn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag},points:{uniforms:yn.merge([xn.points,xn.fog]),vertexShader:vn.points_vert,fragmentShader:vn.points_frag},dashed:{uniforms:yn.merge([xn.common,xn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vn.linedashed_vert,fragmentShader:vn.linedashed_frag},depth:{uniforms:yn.merge([xn.common,xn.displacementmap]),vertexShader:vn.depth_vert,fragmentShader:vn.depth_frag},normal:{uniforms:yn.merge([xn.common,xn.bumpmap,xn.normalmap,xn.displacementmap,{opacity:{value:1}}]),vertexShader:vn.normal_vert,fragmentShader:vn.normal_frag},sprite:{uniforms:yn.merge([xn.sprite,xn.fog]),vertexShader:vn.sprite_vert,fragmentShader:vn.sprite_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vn.cube_vert,fragmentShader:vn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vn.equirect_vert,fragmentShader:vn.equirect_frag},distanceRGBA:{uniforms:yn.merge([xn.common,xn.displacementmap,{referencePosition:{value:new Qe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vn.distanceRGBA_vert,fragmentShader:vn.distanceRGBA_frag},shadow:{uniforms:yn.merge([xn.lights,xn.fog,{color:{value:new wn(0)},opacity:{value:1}}]),vertexShader:vn.shadow_vert,fragmentShader:vn.shadow_frag}};function Mn(){var t=null,e=!1,n=null;function r(i,o){!1!==e&&(n(i,o),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Cn(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Cn.DefaultOrder}function En(){this.mask=1}Sn.physical={uniforms:yn.merge([Sn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag},Cn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Cn.DefaultOrder="XYZ",Object.defineProperties(Cn.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Cn.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=Xe.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],f=i[6],d=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Je;return function(e,n,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(_n=new Ke,function(t){return _n.setFromEuler(this),this.setFromQuaternion(_n,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Qe(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(En.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Tn,On,Pn,An,kn=0;function Ln(){Object.defineProperty(this,"id",{value:kn++}),this.uuid=Xe.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ln.DefaultUp.clone();var t=new Qe,e=new Cn,n=new Ke,r=new Qe(1,1,1);e.onChange(function(){n.setFromEuler(e,!1)}),n.onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new Je},normalMatrix:{value:new $e}}),this.matrix=new Je,this.matrixWorld=new Je,this.matrixAutoUpdate=Ln.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new En,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Rn(){Ln.call(this),this.type="Camera",this.matrixWorldInverse=new Je,this.projectionMatrix=new Je}function Dn(t,e,n,r,i,o){Rn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Nn(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Qe,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new wn,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Ln.DefaultUp=new Qe(0,1,0),Ln.DefaultMatrixAutoUpdate=!0,Ln.prototype=Object.assign(Object.create(r.prototype),{constructor:Ln,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(An=new Ke,function(t,e){return An.setFromAxisAngle(t,e),this.quaternion.multiply(An),this}),rotateOnWorldAxis:function(){var t=new Ke;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new Qe(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Qe(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Qe(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Qe;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new Qe(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Qe(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Qe(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(Pn=new Je,function(t){return t.applyMatrix4(Pn.getInverse(this.matrixWorld))}),lookAt:function(){var t=new Je,e=new Qe;return function(n,r,i){n.isVector3?e.copy(n):e.set(n,r,i),this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Qe),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Tn=new Qe,On=new Qe,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Ke),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Tn,t,On),t}),getWorldScale:function(){var t=new Qe,e=new Ke;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new Qe),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new Ke;return function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Qe),this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,u=a.length;s<u;s++)i(t.shapes,a[s]);else i(t.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(i(t.materials,this.material[s]));r.material=c}else r.material=i(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var l=p(t.geometries),h=p(t.materials),f=p(t.textures),d=p(t.images);a=p(t.shapes),l.length>0&&(n.geometries=l),h.length>0&&(n.materials=h),f.length>0&&(n.textures=f),d.length>0&&(n.images=d),a.length>0&&(n.shapes=a)}return n.object=r,n;function p(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}}),Rn.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Rn,isCamera:!0,copy:function(t,e){return Ln.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new Ke;return function(e){return void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Qe),this.getWorldQuaternion(t),e.set(0,0,-1).applyQuaternion(t)}}(),updateMatrixWorld:function(t){Ln.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Dn.prototype=Object.assign(Object.create(Rn.prototype),{constructor:Dn,isOrthographicCamera:!0,copy:function(t,e){return Rn.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/u))+l*(this.view.width/u),s=(a-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=Ln.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(Nn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var In,jn,zn=0;function Fn(){Object.defineProperty(this,"id",{value:zn+=2}),this.uuid=Xe.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Vn(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Bn(t,e,n){Vn.call(this,new Int8Array(t),e,n)}function Un(t,e,n){Vn.call(this,new Uint8Array(t),e,n)}function Hn(t,e,n){Vn.call(this,new Uint8ClampedArray(t),e,n)}function Gn(t,e,n){Vn.call(this,new Int16Array(t),e,n)}function Wn(t,e,n){Vn.call(this,new Uint16Array(t),e,n)}function qn(t,e,n){Vn.call(this,new Int32Array(t),e,n)}function Yn(t,e,n){Vn.call(this,new Uint32Array(t),e,n)}function Xn(t,e,n){Vn.call(this,new Float32Array(t),e,n)}function Zn(t,e,n){Vn.call(this,new Float64Array(t),e,n)}function Jn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Kn(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}Fn.prototype=Object.assign(Object.create(r.prototype),{constructor:Fn,isGeometry:!0,applyMatrix:function(t){for(var e=(new $e).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(t);for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Je;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Je;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Je;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Je;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Je;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:(jn=new Ln,function(t){jn.lookAt(t),jn.updateMatrix(),this.applyMatrix(jn.matrix)}),fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes,i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var c=[],l=[],h=[],f=0,d=0;f<i.length;f+=3,d+=2)e.vertices.push(new Qe(i[f],i[f+1],i[f+2])),void 0!==o&&c.push(new Qe(o[f],o[f+1],o[f+2])),void 0!==a&&e.colors.push(new wn(a[f],a[f+1],a[f+2])),void 0!==s&&l.push(new Ze(s[d],s[d+1])),void 0!==u&&h.push(new Ze(u[d],u[d+1]));function p(t,n,r,i){var f=new Nn(t,n,r,void 0!==o?[c[t].clone(),c[n].clone(),c[r].clone()]:[],void 0!==a?[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()]:[],i);e.faces.push(f),void 0!==s&&e.faceVertexUvs[0].push([l[t].clone(),l[n].clone(),l[r].clone()]),void 0!==u&&e.faceVertexUvs[1].push([h[t].clone(),h[n].clone(),h[r].clone()])}var m=t.groups;if(m.length>0)for(f=0;f<m.length;f++)for(var g=m[f],v=g.start,y=(d=v,v+g.count);d<y;d+=3)void 0!==n?p(n[d],n[d+1],n[d+2],g.materialIndex):p(d,d+1,d+2,g.materialIndex);else if(void 0!==n)for(f=0;f<n.length;f+=3)p(n[f],n[f+1],n[f+2]);else for(f=0;f<i.length/3;f+=3)p(f,f+1,f+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(In=new Qe,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(In).negate(),this.translate(In.x,In.y,In.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Je;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Qe,e=new Qe,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b];t.subVectors(this.vertices[i.c],a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new Qe;if(t){var s,u,c=new Qe,l=new Qe;for(r=0,i=this.faces.length;r<i;r++)s=this.vertices[(o=this.faces[r]).a],c.subVectors(this.vertices[o.c],u=this.vertices[o.b]),l.subVectors(s,u),c.cross(l),a[o.a].add(c),a[o.b].add(c),a[o.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(o=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(a[o.a]),h[1].copy(a[o.b]),h[2].copy(a[o.c])):(h[0]=a[o.a].clone(),h[1]=a[o.b].clone(),h[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Fn;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new Qe,c={a:new Qe,b:new Qe,c:new Qe},a.push(u),s.push(c)}var u,c,l=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)c=l.vertexNormals[n],(u=l.faceNormals[n]).copy((i=this.faces[n]).normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new fn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new dn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,c=this.faceVertexUvs[0],l=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new $e).getNormalMatrix(e));for(var d=0,p=a.length;d<p;d++){var m=a[d].clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(d=0,p=f.length;d<p;d++)h.push(f[d].clone());for(d=0,p=u.length;d<p;d++){var g,v,y=u[d],b=y.vertexNormals,w=y.vertexColors;(g=new Nn(y.a+i,y.b+i,y.c+i)).normal.copy(y.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var _=0,x=b.length;_<x;_++)v=b[_].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);for(g.color.copy(y.color),_=0,x=w.length;_<x;_++)g.vertexColors.push(w[_].clone());g.materialIndex=y.materialIndex+n,s.push(g)}for(d=0,p=l.length;d<p;d++){var S=l[d],M=[];if(void 0!==S){for(_=0,x=S.length;_<x;_++)M.push(S[_].clone());c.push(M)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,r,i,o,a,s,u={},c=[],l=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===u[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(u[e]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){f.push(n);break}}for(n=f.length-1;n>=0;n--){var p=f[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];this.vertices.push(new Qe(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];for(o&&o.length===e&&(r=[]),a&&a.length===e&&(i=[]),n=0;n<e;n++){var s=t[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],u={},c=[],l={},h=[],f={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,g=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,b=0;if(b=S(b=S(b=S(b=S(b=S(b=S(b=S(b=S(b,0,0),1,!0),2,!1),3,p),4,m),5,g),6,v),7,y),a.push(b),a.push(d.a,d.b,d.c),a.push(d.materialIndex),p){var w=this.faceVertexUvs[0][i];a.push(E(w[0]),E(w[1]),E(w[2]))}if(m&&a.push(M(d.normal)),g){var _=d.vertexNormals;a.push(M(_[0]),M(_[1]),M(_[2]))}if(v&&a.push(C(d.color)),y){var x=d.vertexColors;a.push(C(x[0]),C(x[1]),C(x[2]))}}function S(t,e,n){return n?t|1<<e:t&~(1<<e)}function M(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]?u[e]:(u[e]=s.length/3,s.push(t.x,t.y,t.z),u[e])}function C(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]?l[e]:(l[e]=c.length,c.push(t.getHex()),l[e])}function E(t){var e=t.x.toString()+t.y.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/2,h.push(t.x,t.y),f[e])}return t.data={},t.data.vertices=r,t.data.normals=s,c.length>0&&(t.data.colors=c),h.length>0&&(t.data.uvs=[h]),t.data.faces=a,t},clone:function(){return(new Fn).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var c=t.faces;for(e=0,n=c.length;e<n;e++)this.faces.push(c[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=l.length;r<i;r++){var h=l[r],f=[];for(o=0,a=h.length;o<a;o++)f.push(h[o].clone());this.faceVertexUvs[e].push(f)}}var d=t.morphTargets;for(e=0,n=d.length;e<n;e++){var p={};if(p.name=d[e].name,void 0!==d[e].vertices)for(p.vertices=[],r=0,i=d[e].vertices.length;r<i;r++)p.vertices.push(d[e].vertices[r].clone());if(void 0!==d[e].normals)for(p.normals=[],r=0,i=d[e].normals.length;r<i;r++)p.normals.push(d[e].normals[r].clone());this.morphTargets.push(p)}var m=t.morphNormals;for(e=0,n=m.length;e<n;e++){var g={};if(void 0!==m[e].vertexNormals)for(g.vertexNormals=[],r=0,i=m[e].vertexNormals.length;r<i;r++){var v=m[e].vertexNormals[r],y={};y.a=v.a.clone(),y.b=v.b.clone(),y.c=v.c.clone(),g.vertexNormals.push(y)}if(void 0!==m[e].faceNormals)for(g.faceNormals=[],r=0,i=m[e].faceNormals.length;r<i;r++)g.faceNormals.push(m[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,n=w.length;e<n;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,n=_.length;e<n;e++)this.lineDistances.push(_[e]);var x=t.boundingBox;null!==x&&(this.boundingBox=x.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Vn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Vn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new wn),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Ze),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Qe),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new un),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(Bn.prototype=Object.create(Vn.prototype)).constructor=Bn,(Un.prototype=Object.create(Vn.prototype)).constructor=Un,(Hn.prototype=Object.create(Vn.prototype)).constructor=Hn,(Gn.prototype=Object.create(Vn.prototype)).constructor=Gn,(Wn.prototype=Object.create(Vn.prototype)).constructor=Wn,(qn.prototype=Object.create(Vn.prototype)).constructor=qn,(Yn.prototype=Object.create(Vn.prototype)).constructor=Yn,(Xn.prototype=Object.create(Vn.prototype)).constructor=Xn,(Zn.prototype=Object.create(Vn.prototype)).constructor=Zn,Object.assign(Jn.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var c=0;c<u;c++)e[c]=[];this.morphTargets.position=e}var l,h=t.morphNormals,f=h.length;if(f>0){for(l=[],c=0;c<f;c++)l[c]=[];this.morphTargets.normal=l}var d=t.skinIndices,p=t.skinWeights,m=d.length===r.length,g=p.length===r.length;for(r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),c=0;c<n.length;c++){var v=n[c];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var w,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var x=v.color;this.colors.push(x,x,x)}!0===o&&(void 0!==(w=i[0][c])?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Ze,new Ze,new Ze))),!0===a&&(void 0!==(w=i[1][c])?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Ze,new Ze,new Ze)));for(var S=0;S<u;S++){var M=s[S].vertices;e[S].push(M[v.a],M[v.b],M[v.c])}for(S=0;S<f;S++){var C=h[S].vertexNormals[c];l[S].push(C.a,C.b,C.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Qn=1;function $n(){Object.defineProperty(this,"id",{value:Qn+=2}),this.uuid=Xe.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function tr(t,e,n,r,i,o){Fn.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new er(t,e,n,r,i,o)),this.mergeVertices()}function er(t,e,n,r,i,o){$n.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;t=t||1,e=e||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1;var s=[],u=[],c=[],l=[],h=0,f=0;function d(t,e,n,r,i,o,d,p,m,g,v){var y,b,w=o/m,_=d/g,x=o/2,S=d/2,M=p/2,C=m+1,E=g+1,T=0,O=0,P=new Qe;for(b=0;b<E;b++){var A=b*_-S;for(y=0;y<C;y++)P[t]=(y*w-x)*r,P[e]=A*i,P[n]=M,u.push(P.x,P.y,P.z),P[t]=0,P[e]=0,P[n]=p>0?1:-1,c.push(P.x,P.y,P.z),l.push(y/m),l.push(1-b/g),T+=1}for(b=0;b<g;b++)for(y=0;y<m;y++){var k=h+y+C*(b+1),L=h+(y+1)+C*(b+1),R=h+(y+1)+C*b;s.push(h+y+C*b,k,R),s.push(k,L,R),O+=6}a.addGroup(f,O,v),f+=O,h+=T}d("z","y","x",-1,-1,n,e,t,o=Math.floor(o)||1,i,0),d("z","y","x",1,-1,n,e,-t,o,i,1),d("x","z","y",1,1,t,n,e,r,o,2),d("x","z","y",1,-1,t,n,-e,r,o,3),d("x","y","z",1,-1,t,e,n,r,i,4),d("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new Xn(u,3)),this.addAttribute("normal",new Xn(c,3)),this.addAttribute("uv",new Xn(l,2))}function nr(t,e,n,r){Fn.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new rr(t,e,n,r)),this.mergeVertices()}function rr(t,e,n,r){$n.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=(t=t||1)/2,s=(e=e||1)/2,u=Math.floor(n)||1,c=Math.floor(r)||1,l=u+1,h=c+1,f=t/u,d=e/c,p=[],m=[],g=[],v=[];for(o=0;o<h;o++){var y=o*d-s;for(i=0;i<l;i++)m.push(i*f-a,-y,0),g.push(0,0,1),v.push(i/u),v.push(1-o/c)}for(o=0;o<c;o++)for(i=0;i<u;i++){var b=i+l*(o+1),w=i+1+l*(o+1),_=i+1+l*o;p.push(i+l*o,b,_),p.push(b,w,_)}this.setIndex(p),this.addAttribute("position",new Xn(m,3)),this.addAttribute("normal",new Xn(g,3)),this.addAttribute("uv",new Xn(v,2))}$n.prototype=Object.assign(Object.create(r.prototype),{constructor:$n,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=Array.isArray(t)?new(Kn(t)>65535?Yn:Wn)(t,1):t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new Vn(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;return void 0!==n&&((new $e).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Je;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Je;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Je;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Je;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Je;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Ln;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new Qe;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Xn(3*e.vertices.length,3),r=new Xn(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Xn(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];e.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Xn(e,3)),this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Jn).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new Vn(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new Vn(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new Vn(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new Vn(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new Vn(o,2).copyVector2sArray(t.uvs2))}for(var a in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[a],c=0,l=u.length;c<l;c++){var h=u[c],f=new Xn(3*h.length,3);s.push(f.copyVector3sArray(h))}this.morphAttributes[a]=s}if(t.skinIndices.length>0){var d=new Xn(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var p=new Xn(4*t.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new fn);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new fn,e=new Qe;return function(){null===this.boundingSphere&&(this.boundingSphere=new dn);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Vn(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,c,l=e.normal.array,h=new Qe,f=new Qe,d=new Qe,p=new Qe,m=new Qe;if(t){var g=t.array;0===n.length&&this.addGroup(0,g.length);for(var v=0,y=n.length;v<y;++v){var b=n[v],w=b.start;for(o=w,a=w+b.count;o<a;o+=3)u=3*g[o+1],c=3*g[o+2],h.fromArray(r,s=3*g[o+0]),f.fromArray(r,u),d.fromArray(r,c),p.subVectors(d,f),m.subVectors(h,f),p.cross(m),l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[u]+=p.x,l[u+1]+=p.y,l[u+2]+=p.z,l[c]+=p.x,l[c+1]+=p.y,l[c+2]+=p.z}}else for(o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),d.fromArray(r,o+6),p.subVectors(d,f),m.subVectors(h,f),p.cross(m),l[o]=p.x,l[o+1]=p.y,l[o+2]=p.z,l[o+3]=p.x,l[o+4]=p.y,l[o+5]=p.z,l[o+6]=p.x,l[o+7]=p.y,l[o+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,o=t.attributes[r],a=o.array,s=0,u=o.itemSize*e;s<a.length;s++,u++)i[u]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){var t=new Qe;return function(){for(var e=this.attributes.normal,n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new $n,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),u=0,c=0,l=0,h=e.length;l<h;l++){u=e[l]*a;for(var f=0;f<a;f++)s[c++]=o[u++]}t.addAttribute(r,new Vn(s,a))}var d=this.groups;for(l=0,h=d.length;l<h;l++){var p=d[l];t.addGroup(p.start,p.count,p.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array),t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new $n).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o)this.addAttribute(e,o[e].clone());var a=t.morphAttributes;for(e in a){var s=[],u=a[e];for(n=0,r=u.length;n<r;n++)s.push(u[n].clone());this.morphAttributes[e]=s}var c=t.groups;for(n=0,r=c.length;n<r;n++){var l=c[n];this.addGroup(l.start,l.count,l.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(tr.prototype=Object.create(Fn.prototype)).constructor=tr,(er.prototype=Object.create($n.prototype)).constructor=er,(nr.prototype=Object.create(Fn.prototype)).constructor=nr,(rr.prototype=Object.create($n.prototype)).constructor=rr;var ir,or,ar,sr,ur,cr,lr,hr,fr,dr,pr,mr=0;function gr(){Object.defineProperty(this,"id",{value:mr++}),this.uuid=Xe.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=N,this.side=E,this.flatShading=!1,this.vertexColors=k,this.opacity=1,this.transparent=!1,this.blendSrc=Z,this.blendDst=J,this.blendEquation=V,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ot,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function vr(t){gr.call(this),this.type="MeshBasicMaterial",this.color=new wn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function yr(t){gr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function br(t,e){this.origin=void 0!==t?t:new Qe,this.direction=void 0!==e?e:new Qe}function wr(t,e,n){this.a=void 0!==t?t:new Qe,this.b=void 0!==e?e:new Qe,this.c=void 0!==n?n:new Qe}function _r(t,e){Ln.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new $n,this.material=void 0!==e?e:new vr({color:16777215*Math.random()}),this.drawMode=Re,this.updateMorphTargets()}function xr(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Sr(t,e,n,r,i,o,a,s,u,c){sn.call(this,t=void 0!==t?t:[],e=void 0!==e?e:bt,n,r,i,o,a,s,u,c),this.flipY=!1}gr.prototype=Object.assign(Object.create(r.prototype),{constructor:gr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===P;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==N&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==E&&(n.side=this.side),this.vertexColors!==k&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var i=r(t.textures),o=r(t.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(vr.prototype=Object.create(gr.prototype)).constructor=vr,vr.prototype.isMeshBasicMaterial=!0,vr.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},(yr.prototype=Object.create(gr.prototype)).constructor=yr,yr.prototype.isShaderMaterial=!0,yr.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=yn.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},yr.prototype.toJSON=function(t){var e=gr.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(br.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Qe),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Qe;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Qe),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Qe;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(or=new Qe,ar=new Qe,sr=new Qe,function(t,e,n,r){or.copy(t).add(e).multiplyScalar(.5),ar.copy(e).sub(t).normalize(),sr.copy(this.origin).sub(or);var i,o,a,s,u=.5*t.distanceTo(e),c=-this.direction.dot(ar),l=sr.dot(this.direction),h=-sr.dot(ar),f=sr.lengthSq(),d=Math.abs(1-c*c);if(d>0)if(o=c*l-h,s=u*d,(i=c*h-l)>=0)if(o>=-s)if(o<=s){var p=1/d;a=(i*=p)*(i+c*(o*=p)+2*l)+o*(c*i+o+2*h)+f}else o=u,a=-(i=Math.max(0,-(c*o+l)))*i+o*(o+2*h)+f;else o=-u,a=-(i=Math.max(0,-(c*o+l)))*i+o*(o+2*h)+f;else o<=-s?a=-(i=Math.max(0,-(-c*u+l)))*i+(o=i>0?-u:Math.min(Math.max(-u,-h),u))*(o+2*h)+f:o<=s?(i=0,a=(o=Math.min(Math.max(-u,-h),u))*(o+2*h)+f):a=-(i=Math.max(0,-(c*u+l)))*i+(o=i>0?u:Math.min(Math.max(-u,-h),u))*(o+2*h)+f;else o=c>0?-u:u,a=-(i=Math.max(0,-(c*o+l)))*i+o*(o+2*h)+f;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(ar).multiplyScalar(o).add(or),a}),intersectSphere:function(){var t=new Qe;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:this.at(s<0?u:s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),c>=0?(i=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),l>=0?(a=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(a=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:(ir=new Qe,function(t){return null!==this.intersectBox(t,ir)}),intersectTriangle:function(){var t=new Qe,e=new Qe,n=new Qe,r=new Qe;return function(i,o,a,s,u){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}t.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var f=c*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>l)return null;var d=-c*t.dot(r);return d<0?null:this.at(d/l,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(wr,{getNormal:(ur=new Qe,function(t,e,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Qe),r.subVectors(n,e),ur.subVectors(t,e),r.cross(ur);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}),getBarycoord:function(){var t=new Qe,e=new Qe,n=new Qe;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var u=t.dot(t),c=t.dot(e),l=t.dot(n),h=e.dot(e),f=e.dot(n),d=u*h-c*c;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Qe),0===d)return s.set(-2,-1,-1);var p=1/d,m=(h*l-c*f)*p,g=(u*f-c*l)*p;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var t=new Qe;return function(e,n,r,i){return wr.getBarycoord(e,n,r,i,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}()}),Object.assign(wr.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new Qe,e=new Qe;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Qe),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return wr.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Qe),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return wr.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return wr.containsPoint(t,this.a,this.b,this.c)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(cr=new Qe,lr=new Qe,hr=new Qe,fr=new Qe,dr=new Qe,pr=new Qe,function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Qe);var n,r,i=this.a,o=this.b,a=this.c;cr.subVectors(o,i),lr.subVectors(a,i),fr.subVectors(t,i);var s=cr.dot(fr),u=lr.dot(fr);if(s<=0&&u<=0)return e.copy(i);dr.subVectors(t,o);var c=cr.dot(dr),l=lr.dot(dr);if(c>=0&&l<=c)return e.copy(o);var h=s*l-c*u;if(h<=0&&s>=0&&c<=0)return n=s/(s-c),e.copy(i).addScaledVector(cr,n);pr.subVectors(t,a);var f=cr.dot(pr),d=lr.dot(pr);if(d>=0&&f<=d)return e.copy(a);var p=f*u-s*d;if(p<=0&&u>=0&&d<=0)return r=u/(u-d),e.copy(i).addScaledVector(lr,r);var m=c*d-f*l;if(m<=0&&l-c>=0&&f-d>=0)return hr.subVectors(a,o),r=(l-c)/(l-c+(f-d)),e.copy(o).addScaledVector(hr,r);var g=1/(m+p+h);return n=p*g,r=h*g,e.copy(i).addScaledVector(cr,n).addScaledVector(lr,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),_r.prototype=Object.assign(Object.create(Ln.prototype),{constructor:_r,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Ln.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)n=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=r.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)n=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}},raycast:function(){var t=new Je,e=new br,n=new dn,r=new Qe,i=new Qe,o=new Qe,a=new Qe,s=new Qe,u=new Qe,c=new Ze,l=new Ze,h=new Ze,f=new Qe,d=new Qe,p=new Qe;function m(t,e,n,r,i,o,a){return wr.getBarycoord(t,e,n,r,f),i.multiplyScalar(f.x),o.multiplyScalar(f.y),a.multiplyScalar(f.z),i.add(o).add(a),i.clone()}function g(t,e,n,r,i,o,a,s){if(null===(e.side===T?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,e.side!==O,s)))return null;p.copy(s),p.applyMatrix4(t.matrixWorld);var u=n.ray.origin.distanceTo(p);return u<n.near||u>n.far?null:{distance:u,point:p.clone(),object:t}}function v(t,e,n,a,s,u,f,p,v){r.fromBufferAttribute(s,f),i.fromBufferAttribute(s,p),o.fromBufferAttribute(s,v);var y=g(t,e,n,a,r,i,o,d);if(y){u&&(c.fromBufferAttribute(u,f),l.fromBufferAttribute(u,p),h.fromBufferAttribute(u,v),y.uv=m(d,r,i,o,c,l,h));var b=new Nn(f,p,v);wr.getNormal(r,i,o,b.normal),y.face=b}return y}return function(f,p){var y,b=this.geometry,w=this.material,_=this.matrixWorld;if(void 0!==w&&(null===b.boundingSphere&&b.computeBoundingSphere(),n.copy(b.boundingSphere),n.applyMatrix4(_),!1!==f.ray.intersectsSphere(n)&&(t.getInverse(_),e.copy(f.ray).applyMatrix4(t),null===b.boundingBox||!1!==e.intersectsBox(b.boundingBox))))if(b.isBufferGeometry){var x,S,M,C,E,T,O,P,A,k=b.index,L=b.attributes.position,R=b.attributes.uv,D=b.groups,N=b.drawRange;if(null!==k)if(Array.isArray(w))for(C=0,T=D.length;C<T;C++)for(A=w[(P=D[C]).materialIndex],E=Math.max(P.start,N.start),O=Math.min(P.start+P.count,N.start+N.count);E<O;E+=3)x=k.getX(E),S=k.getX(E+1),M=k.getX(E+2),(y=v(this,A,f,e,L,R,x,S,M))&&(y.faceIndex=Math.floor(E/3),p.push(y));else for(C=Math.max(0,N.start),T=Math.min(k.count,N.start+N.count);C<T;C+=3)x=k.getX(C),S=k.getX(C+1),M=k.getX(C+2),(y=v(this,w,f,e,L,R,x,S,M))&&(y.faceIndex=Math.floor(C/3),p.push(y));else if(void 0!==L)if(Array.isArray(w))for(C=0,T=D.length;C<T;C++)for(A=w[(P=D[C]).materialIndex],E=Math.max(P.start,N.start),O=Math.min(P.start+P.count,N.start+N.count);E<O;E+=3)(y=v(this,A,f,e,L,R,x=E,S=E+1,M=E+2))&&(y.faceIndex=Math.floor(E/3),p.push(y));else for(C=Math.max(0,N.start),T=Math.min(L.count,N.start+N.count);C<T;C+=3)(y=v(this,w,f,e,L,R,x=C,S=C+1,M=C+2))&&(y.faceIndex=Math.floor(C/3),p.push(y))}else if(b.isGeometry){var I,j,z,F,V=Array.isArray(w),B=b.vertices,U=b.faces,H=b.faceVertexUvs[0];H.length>0&&(F=H);for(var G=0,W=U.length;G<W;G++){var q=U[G],Y=V?w[q.materialIndex]:w;if(void 0!==Y){if(I=B[q.a],j=B[q.b],z=B[q.c],!0===Y.morphTargets){var X=b.morphTargets,Z=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var J=0,K=X.length;J<K;J++){var Q=Z[J];if(0!==Q){var $=X[J].vertices;r.addScaledVector(a.subVectors($[q.a],I),Q),i.addScaledVector(s.subVectors($[q.b],j),Q),o.addScaledVector(u.subVectors($[q.c],z),Q)}}r.add(I),i.add(j),o.add(z),I=r,j=i,z=o}if(y=g(this,Y,f,e,I,j,z,d)){if(F&&F[G]){var tt=F[G];c.copy(tt[0]),l.copy(tt[1]),h.copy(tt[2]),y.uv=m(d,I,j,z,c,l,h)}y.face=q,y.faceIndex=G,p.push(y)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(Sr.prototype=Object.create(sn.prototype)).constructor=Sr,Sr.prototype.isCubeTexture=!0,Object.defineProperty(Sr.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Mr=new sn,Cr=new Sr;function Er(){this.seq=[],this.map={}}var Tr=[],Or=[],Pr=new Float32Array(16),Ar=new Float32Array(9),kr=new Float32Array(4);function Lr(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=Tr[i];if(void 0===o&&(o=new Float32Array(i),Tr[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)t[a].toArray(o,s+=n)}return o}function Rr(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Dr(t,e){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}function Nr(t,e){var n=Or[e];void 0===n&&(n=new Int32Array(e),Or[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function Ir(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function jr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function zr(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rr(n,e))return;t.uniform2fv(this.addr,e),Dr(n,e)}}function Fr(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Rr(n,e))return;t.uniform3fv(this.addr,e),Dr(n,e)}}function Vr(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rr(n,e))return;t.uniform4fv(this.addr,e),Dr(n,e)}}function Br(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Rr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Dr(n,e)}else{if(Rr(n,r))return;kr.set(r),t.uniformMatrix2fv(this.addr,!1,kr),Dr(n,r)}}function Ur(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Rr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Dr(n,e)}else{if(Rr(n,r))return;Ar.set(r),t.uniformMatrix3fv(this.addr,!1,Ar),Dr(n,r)}}function Hr(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Rr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Dr(n,e)}else{if(Rr(n,r))return;Pr.set(r),t.uniformMatrix4fv(this.addr,!1,Pr),Dr(n,r)}}function Gr(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||Mr,i)}function Wr(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Cr,i)}function qr(t,e){var n=this.cache;Rr(n,e)||(t.uniform2iv(this.addr,e),Dr(n,e))}function Yr(t,e){var n=this.cache;Rr(n,e)||(t.uniform3iv(this.addr,e),Dr(n,e))}function Xr(t,e){var n=this.cache;Rr(n,e)||(t.uniform4iv(this.addr,e),Dr(n,e))}function Zr(t,e){var n=this.cache;Rr(n,e)||(t.uniform1fv(this.addr,e),Dr(n,e))}function Jr(t,e){var n=this.cache;Rr(n,e)||(t.uniform1iv(this.addr,e),Dr(n,e))}function Kr(t,e){var n=this.cache,r=Lr(e,this.size,2);Rr(n,r)||(t.uniform2fv(this.addr,r),this.updateCache(r))}function Qr(t,e){var n=this.cache,r=Lr(e,this.size,3);Rr(n,r)||(t.uniform3fv(this.addr,r),this.updateCache(r))}function $r(t,e){var n=this.cache,r=Lr(e,this.size,4);Rr(n,r)||(t.uniform4fv(this.addr,r),this.updateCache(r))}function ti(t,e){var n=this.cache,r=Lr(e,this.size,4);Rr(n,r)||(t.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function ei(t,e){var n=this.cache,r=Lr(e,this.size,9);Rr(n,r)||(t.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function ni(t,e){var n=this.cache,r=Lr(e,this.size,16);Rr(n,r)||(t.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function ri(t,e,n){var r=this.cache,i=e.length,o=Nr(n,i);!1===Rr(r,o)&&(t.uniform1iv(this.addr,o),Dr(r,o));for(var a=0;a!==i;++a)n.setTexture2D(e[a]||Mr,o[a])}function ii(t,e,n){var r=this.cache,i=e.length,o=Nr(n,i);!1===Rr(r,o)&&(t.uniform1iv(this.addr,o),Dr(r,o));for(var a=0;a!==i;++a)n.setTextureCube(e[a]||Cr,o[a])}function oi(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(e.type){case 5126:return Ir;case 35664:return zr;case 35665:return Fr;case 35666:return Vr;case 35674:return Br;case 35675:return Ur;case 35676:return Hr;case 35678:case 36198:return Gr;case 35680:return Wr;case 5124:case 35670:return jr;case 35667:case 35671:return qr;case 35668:case 35672:return Yr;case 35669:case 35673:return Xr}}()}function ai(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(e.type){case 5126:return Zr;case 35664:return Kr;case 35665:return Qr;case 35666:return $r;case 35674:return ti;case 35675:return ei;case 35676:return ni;case 35678:return ri;case 35680:return ii;case 5124:case 35670:return Jr;case 35667:case 35671:return qr;case 35668:case 35672:return Yr;case 35669:case 35673:return Xr}}()}function si(t){this.id=t,Er.call(this)}ai.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),Dr(e,t)},si.prototype.setValue=function(t,e,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(t,e[a.id],n)}};var ui=/([\w\d_]+)(\])?(\[|\.)?/g;function ci(t,e){t.seq.push(e),t.map[e.id]=e}function li(t,e,n){var r=t.name,i=r.length;for(ui.lastIndex=0;;){var o=ui.exec(r),a=o[1],s=o[3];if("]"===o[2]&&(a|=0),void 0===s||"["===s&&ui.lastIndex+2===i){ci(n,void 0===s?new oi(a,t,e):new ai(a,t,e));break}var u=n.map[a];void 0===u&&ci(n,u=new si(a)),n=u}}function hi(t,e,n){Er.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i);li(o,t.getUniformLocation(e,o.name),this)}}function fi(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(n)),r}hi.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},hi.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},hi.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},hi.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var di=0;function pi(t){switch(t){case Ie:return["Linear","( value )"];case je:return["sRGB","( value )"];case Fe:return["RGBE","( value )"];case Be:return["RGBM","( value, 7.0 )"];case Ue:return["RGBM","( value, 16.0 )"];case He:return["RGBD","( value, 256.0 )"];case ze:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function mi(t,e){var n=pi(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function gi(t){return""!==t}function vi(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function yi(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function bi(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(t,e){var n=vn[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return bi(n)})}function wi(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function _i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function xi(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}var Si,Mi,Ci,Ei,Ti,Oi,Pi=0;function Ai(){var t=new function(){var t=new function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Qe,color:new wn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ze};break;case"SpotLight":n={position:new Qe,direction:new Qe,color:new wn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ze};break;case"PointLight":n={position:new Qe,color:new wn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ze,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new Qe,skyColor:new wn,groundColor:new wn};break;case"RectAreaLight":n={color:new wn,position:new Qe,halfWidth:new Qe,halfHeight:new Qe}}return t[e.id]=n,n}}},e={id:Pi++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new Qe,r=new Je,i=new Je;return{setup:function(o,a,s){for(var u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=s.matrixWorldInverse,v=0,y=o.length;v<y;v++){var b=o[v],w=b.color,_=b.intensity,x=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)u+=w.r*_,c+=w.g*_,l+=w.b*_;else if(b.isDirectionalLight)(C=t.get(b)).color.copy(b.color).multiplyScalar(b.intensity),C.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),C.direction.sub(n),C.direction.transformDirection(g),C.shadow=b.castShadow,b.castShadow&&(C.shadowBias=(M=b.shadow).bias,C.shadowRadius=M.radius,C.shadowMapSize=M.mapSize),e.directionalShadowMap[h]=S,e.directionalShadowMatrix[h]=b.shadow.matrix,e.directional[h]=C,h++;else if(b.isSpotLight)(C=t.get(b)).position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(g),C.color.copy(w).multiplyScalar(_),C.distance=x,C.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),C.direction.sub(n),C.direction.transformDirection(g),C.coneCos=Math.cos(b.angle),C.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),C.decay=0===b.distance?0:b.decay,C.shadow=b.castShadow,b.castShadow&&(C.shadowBias=(M=b.shadow).bias,C.shadowRadius=M.radius,C.shadowMapSize=M.mapSize),e.spotShadowMap[d]=S,e.spotShadowMatrix[d]=b.shadow.matrix,e.spot[d]=C,d++;else if(b.isRectAreaLight)(C=t.get(b)).color.copy(w).multiplyScalar(_),C.position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(g),i.identity(),r.copy(b.matrixWorld),r.premultiply(g),i.extractRotation(r),C.halfWidth.set(.5*b.width,0,0),C.halfHeight.set(0,.5*b.height,0),C.halfWidth.applyMatrix4(i),C.halfHeight.applyMatrix4(i),e.rectArea[p]=C,p++;else if(b.isPointLight){var M;(C=t.get(b)).position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(g),C.color.copy(b.color).multiplyScalar(b.intensity),C.distance=b.distance,C.decay=0===b.distance?0:b.decay,C.shadow=b.castShadow,b.castShadow&&(C.shadowBias=(M=b.shadow).bias,C.shadowRadius=M.radius,C.shadowMapSize=M.mapSize,C.shadowCameraNear=M.camera.near,C.shadowCameraFar=M.camera.far),e.pointShadowMap[f]=S,e.pointShadowMatrix[f]=b.shadow.matrix,e.point[f]=C,f++}else if(b.isHemisphereLight){var C;(C=t.get(b)).direction.setFromMatrixPosition(b.matrixWorld),C.direction.transformDirection(g),C.direction.normalize(),C.skyColor.copy(b.color).multiplyScalar(_),C.groundColor.copy(b.groundColor).multiplyScalar(_),e.hemi[m]=C,m++}}e.ambient[0]=u,e.ambient[1]=c,e.ambient[2]=l,e.directional.length=h,e.spot.length=d,e.rectArea.length=p,e.point.length=f,e.hemi.length=m,e.hash.stateID=e.id,e.hash.directionalLength=h,e.hash.pointLength=f,e.hash.spotLength=d,e.hash.rectAreaLength=p,e.hash.hemiLength=m,e.hash.shadowsLength=a.length},state:e}},e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(r){t.setup(e,n,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function ki(t){gr.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ge,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Li(t){gr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Qe,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Ri(t,e,n){for(var r=new mn,i=new Je,o=new Ze,a=new Ze(n,n),s=new Qe,u=new Qe,c=1,l=2,h=1+(c|l),f=new Array(h),d=new Array(h),p={},m={0:T,1:E,2:O},g=[new Qe(1,0,0),new Qe(-1,0,0),new Qe(0,0,1),new Qe(0,0,-1),new Qe(0,1,0),new Qe(0,-1,0)],v=[new Qe(0,1,0),new Qe(0,1,0),new Qe(0,1,0),new Qe(0,1,0),new Qe(0,0,1),new Qe(0,0,-1)],y=[new un,new un,new un,new un,new un,new un],b=0;b!==h;++b){var w=0!=(b&c),_=0!=(b&l),x=new ki({depthPacking:We,morphTargets:w,skinning:_});f[b]=x;var S=new Li({morphTargets:w,skinning:_});d[b]=S}var C=this;function P(e,n,r,i,o,a){var s=e.geometry,u=null,h=f,g=e.customDepthMaterial;if(r&&(h=d,g=e.customDistanceMaterial),g)u=g;else{var v=!1;n.morphTargets&&(s&&s.isBufferGeometry?v=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(v=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var y=0;v&&(y|=c),e.isSkinnedMesh&&n.skinning&&(y|=l),u=h[y]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var b=u.uuid,w=n.uuid,_=p[b];void 0===_&&(p[b]=_={});var x=_[w];void 0===x&&(x=u.clone(),_[w]=x),u=x}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=null!=n.shadowSide?n.shadowSide:m[n.side],u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=o,u.farDistance=a),u}function A(n,i,o,a){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var s=e.update(n),c=n.material;if(Array.isArray(c))for(var l=s.groups,h=0,f=l.length;h<f;h++){var d=l[h],p=c[d.materialIndex];if(p&&p.visible){var m=P(n,p,a,u,o.near,o.far);t.renderBufferDirect(o,null,s,m,n,d)}}else c.visible&&(m=P(n,c,a,u,o.near,o.far),t.renderBufferDirect(o,null,s,m,n,null))}for(var g=n.children,v=0,y=g.length;v<y;v++)A(g[v],i,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=M,this.render=function(e,n,c){if(!1!==C.enabled&&(!1!==C.autoUpdate||!1!==C.needsUpdate)&&0!==e.length){var l,h=t.state;h.disable(t.context.BLEND),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=0,d=e.length;f<d;f++){var p=e[f],m=p.shadow,b=p&&p.isPointLight;if(void 0!==m){var w=m.camera;if(o.copy(m.mapSize),o.min(a),b){var _=o.x,x=o.y;y[0].set(2*_,x,_,x),y[1].set(0,x,_,x),y[2].set(3*_,x,_,x),y[3].set(_,x,_,x),y[4].set(3*_,0,_,x),y[5].set(_,0,_,x),o.x*=4,o.y*=2}null===m.map&&(m.map=new cn(o.x,o.y,{minFilter:Pt,magFilter:Pt,format:Zt}),m.map.texture.name=p.name+".shadowMap",w.updateProjectionMatrix()),m.isSpotLightShadow&&m.update(p);var S=m.map,M=m.matrix;u.setFromMatrixPosition(p.matrixWorld),w.position.copy(u),b?(l=6,M.makeTranslation(-u.x,-u.y,-u.z)):(l=1,s.setFromMatrixPosition(p.target.matrixWorld),w.lookAt(s),w.updateMatrixWorld(),M.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),M.multiply(w.projectionMatrix),M.multiply(w.matrixWorldInverse)),t.setRenderTarget(S),t.clear();for(var E=0;E<l;E++)b&&(s.copy(w.position),s.add(g[E]),w.up.copy(v[E]),w.lookAt(s),w.updateMatrixWorld(),h.viewport(y[E])),i.multiplyMatrices(w.projectionMatrix,w.matrixWorldInverse),r.setFromMatrix(i),A(n,c,w,b)}else console.warn("THREE.WebGLShadowMap:",p,"has no shadow.")}C.needsUpdate=!1}}}function Di(t,e,n){return{convert:function(r){var i;if(r===Et)return t.REPEAT;if(r===Tt)return t.CLAMP_TO_EDGE;if(r===Ot)return t.MIRRORED_REPEAT;if(r===Pt)return t.NEAREST;if(r===At)return t.NEAREST_MIPMAP_NEAREST;if(r===kt)return t.NEAREST_MIPMAP_LINEAR;if(r===Lt)return t.LINEAR;if(r===Rt)return t.LINEAR_MIPMAP_NEAREST;if(r===Dt)return t.LINEAR_MIPMAP_LINEAR;if(r===Nt)return t.UNSIGNED_BYTE;if(r===Ht)return t.UNSIGNED_SHORT_4_4_4_4;if(r===Gt)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Wt)return t.UNSIGNED_SHORT_5_6_5;if(r===It)return t.BYTE;if(r===jt)return t.SHORT;if(r===zt)return t.UNSIGNED_SHORT;if(r===Ft)return t.INT;if(r===Vt)return t.UNSIGNED_INT;if(r===Bt)return t.FLOAT;if(r===Ut){if(n.isWebGL2)return t.HALF_FLOAT;if(null!==(i=e.get("OES_texture_half_float")))return i.HALF_FLOAT_OES}if(r===Yt)return t.ALPHA;if(r===Xt)return t.RGB;if(r===Zt)return t.RGBA;if(r===Jt)return t.LUMINANCE;if(r===Kt)return t.LUMINANCE_ALPHA;if(r===$t)return t.DEPTH_COMPONENT;if(r===te)return t.DEPTH_STENCIL;if(r===V)return t.FUNC_ADD;if(r===B)return t.FUNC_SUBTRACT;if(r===U)return t.FUNC_REVERSE_SUBTRACT;if(r===W)return t.ZERO;if(r===q)return t.ONE;if(r===Y)return t.SRC_COLOR;if(r===X)return t.ONE_MINUS_SRC_COLOR;if(r===Z)return t.SRC_ALPHA;if(r===J)return t.ONE_MINUS_SRC_ALPHA;if(r===K)return t.DST_ALPHA;if(r===Q)return t.ONE_MINUS_DST_ALPHA;if(r===$)return t.DST_COLOR;if(r===tt)return t.ONE_MINUS_DST_COLOR;if(r===et)return t.SRC_ALPHA_SATURATE;if((r===ee||r===ne||r===re||r===ie)&&null!==(i=e.get("WEBGL_compressed_texture_s3tc"))){if(r===ee)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===ne)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===re)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ie)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((r===oe||r===ae||r===se||r===ue)&&null!==(i=e.get("WEBGL_compressed_texture_pvrtc"))){if(r===oe)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ae)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===se)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===ue)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===ce&&null!==(i=e.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((r===le||r===he||r===fe||r===de||r===pe||r===me||r===ge||r===ve||r===ye||r===be||r===we||r===_e||r===xe||r===Se)&&null!==(i=e.get("WEBGL_compressed_texture_astc")))return r;if(r===H||r===G){if(n.isWebGL2){if(r===H)return t.MIN;if(r===G)return t.MAX}if(null!==(i=e.get("EXT_blend_minmax"))){if(r===H)return i.MIN_EXT;if(r===G)return i.MAX_EXT}}if(r===qt){if(n.isWebGL2)return t.UNSIGNED_INT_24_8;if(null!==(i=e.get("WEBGL_depth_texture")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Ni(){Ln.call(this),this.type="Group"}function Ii(t,e,n,r){Rn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ji(t){Ii.call(this),this.cameras=t||[]}function zi(t){var e=this,n=null,r=null,i=null,o=[],a=new Je,s=new Je;"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",v,!1));var u=new Je,c=new Ke,l=new Qe,h=new Ii;h.bounds=new un(0,0,.5,1),h.layers.enable(1);var f=new Ii;f.bounds=new un(.5,0,.5,1),f.layers.enable(2);var d,p,m=new ji([h,f]);function g(){return null!==n&&!0===n.isPresenting}function v(){if(g()){var r=n.getEyeParameters("left"),i=r.renderWidth,o=r.renderHeight;p=t.getPixelRatio(),d=t.getSize(),t.setDrawingBufferSize(2*i,o,1),w.start()}else e.enabled&&(t.setDrawingBufferSize(d.width,d.height,p),w.stop())}m.layers.enable(1),m.layers.enable(2);var y=[];function b(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=e.length;n<i;n++){var o=e[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(r===t)return o;r++}}}this.enabled=!1,this.userHeight=1.6,this.getController=function(t){var e=o[t];return void 0===e&&((e=new Ni).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),w.setContext(t)},this.setPoseTarget=function(t){void 0!==t&&(i=t)},this.getCamera=function(t){if(null===n)return t.position.set(0,e.userHeight,0),t;n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(r);var d=n.stageParameters;d?a.fromArray(d.sittingToStandingTransform):a.makeTranslation(0,e.userHeight,0);var p=r.pose,g=null!==i?i:t;if(g.matrix.copy(a),g.matrix.decompose(g.position,g.quaternion,g.scale),null!==p.orientation&&(c.fromArray(p.orientation),g.quaternion.multiply(c)),null!==p.position&&(c.setFromRotationMatrix(a),l.fromArray(p.position),l.applyQuaternion(c),g.position.add(l)),g.updateMatrixWorld(),!1===n.isPresenting)return t;h.near=t.near,f.near=t.near,h.far=t.far,f.far=t.far,m.matrixWorld.copy(t.matrixWorld),m.matrixWorldInverse.copy(t.matrixWorldInverse),h.matrixWorldInverse.fromArray(r.leftViewMatrix),f.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(a),h.matrixWorldInverse.multiply(s),f.matrixWorldInverse.multiply(s);var v=g.parent;null!==v&&(u.getInverse(v.matrixWorld),h.matrixWorldInverse.multiply(u),f.matrixWorldInverse.multiply(u)),h.matrixWorld.getInverse(h.matrixWorldInverse),f.matrixWorld.getInverse(f.matrixWorldInverse),h.projectionMatrix.fromArray(r.leftProjectionMatrix),f.projectionMatrix.fromArray(r.rightProjectionMatrix),m.projectionMatrix.copy(h.projectionMatrix);var w=n.getLayers();if(w.length){var _=w[0];null!==_.leftBounds&&4===_.leftBounds.length&&h.bounds.fromArray(_.leftBounds),null!==_.rightBounds&&4===_.rightBounds.length&&f.bounds.fromArray(_.rightBounds)}return function(){for(var t=0;t<o.length;t++){var e=o[t],n=b(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(a),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i="Daydream Controller"===n.id?0:1;y[t]!==n.buttons[i].pressed&&(y[t]=n.buttons[i].pressed,!0===y[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),m},this.getStandingMatrix=function(){return a},this.isPresenting=g;var w=new Mn;this.setAnimationLoop=function(t){w.setAnimationLoop(t)},this.submitFrame=function(){g()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",v)}}function Fi(t){console.log("THREE.WebGLRenderer",m);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",l=null,h=null;this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=pt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,d,p,g,w,_,x,S,E,P,A,k,L,R,V,B,U,H,G=this,W=!1,q=null,Y=null,X=null,Z=-1,J={geometry:null,program:null,wireframe:!1},K=null,Q=null,$=new un,tt=new un,et=null,yt=0,Et=e.width,Ot=e.height,Rt=1,Dt=new un(0,0,Et,Ot),It=new un(0,0,Et,Ot),jt=!1,Ft=new mn,Ht=new function(){var t=this,e=null,n=0,r=!1,i=!1,o=new pn,a=new $e,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function c(e,n,r,i){var u=null!==e?e.length:0,c=null;if(0!==u){if(c=s.value,!0!==i||null===c){var l=r+4*u,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===c||c.length<l)&&(c=new Float32Array(l));for(var f=0,d=r;f!==u;++f,d+=4)o.copy(e[f]).applyMatrix4(h,a),o.normal.toArray(c,d),c[d+3]=o.constant}s.value=c,s.needsUpdate=!0}return t.numPlanes=u,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){var a=0!==t.length||i||0!==n||r;return r=i,e=c(t,o,0),n=t.length,a},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(t,o,a,l,h,f){if(!r||null===t||0===t.length||i&&!a)i?c(null):u();else{var d=i?0:n,p=4*d,m=h.clippingState||null;s.value=m,m=c(t,l,p,f);for(var g=0;g!==p;++g)m[g]=e[g];h.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}},Gt=!1,Wt=!1,Yt=new Je,Jt=new Qe;function Kt(){return null===Y?Rt:1}try{var Qt={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c};if(e.addEventListener("webglcontextlost",ie,!1),e.addEventListener("webglcontextrestored",oe,!1),null===(f=n||e.getContext("webgl",Qt)||e.getContext("experimental-webgl",Qt)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}function ee(){d=new function(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}(f),(p=new function(t,e,n){var r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=e.get("EXT_texture_filter_anisotropic");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}(f,d,t)).isWebGL2||(d.get("WEBGL_depth_texture"),d.get("OES_texture_float"),d.get("OES_texture_half_float"),d.get("OES_texture_half_float_linear"),d.get("OES_standard_derivatives"),d.get("OES_element_index_uint"),d.get("ANGLE_instanced_arrays")),d.get("OES_texture_float_linear"),H=new Di(f,d,p),(g=new function(t,e,n,r){var i=new function(){var e=!1,n=new un,r=null,i=new un(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?Z(t.DEPTH_TEST):J(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case nt:t.depthFunc(t.NEVER);break;case rt:t.depthFunc(t.ALWAYS);break;case it:t.depthFunc(t.LESS);break;case ot:t.depthFunc(t.LEQUAL);break;case at:t.depthFunc(t.EQUAL);break;case st:t.depthFunc(t.GEQUAL);break;case ut:t.depthFunc(t.GREATER);break;case ct:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},a=new function(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(e){e?Z(t.STENCIL_TEST):J(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&u===r||(t.stencilOp(e,n,r),a=e,s=n,u=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}},s=t.getParameter(t.MAX_VERTEX_ATTRIBS),u=new Uint8Array(s),c=new Uint8Array(s),l=new Uint8Array(s),h={},f=null,d=null,p=null,m=null,g=null,w=null,_=null,x=null,S=null,M=!1,C=null,E=null,P=null,A=null,k=null,L=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),R=!1,V=0,B=t.getParameter(t.VERSION);-1!==B.indexOf("WebGL")?(V=parseFloat(/^WebGL\ ([0-9])/.exec(B)[1]),R=V>=1):-1!==B.indexOf("OpenGL ES")&&(V=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(B)[1]),R=V>=2);var U=null,H={},G=new un,W=new un;function q(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}var Y={};function X(n,i){u[n]=1,0===c[n]&&(t.enableVertexAttribArray(n),c[n]=1),l[n]!==i&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),l[n]=i)}function Z(e){!0!==h[e]&&(t.enable(e),h[e]=!0)}function J(e){!1!==h[e]&&(t.disable(e),h[e]=!1)}function K(e,r,i,o,a,s,u,c){if(e!==D?Z(t.BLEND):J(t.BLEND),e!==F){if(e!==p||c!==M)switch(e){case I:c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE));break;case j:c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR));break;case z:c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR));break;default:c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA))}m=null,g=null,w=null,_=null,x=null,S=null}else a=a||r,s=s||i,u=u||o,r===m&&a===_||(t.blendEquationSeparate(n.convert(r),n.convert(a)),m=r,_=a),i===g&&o===w&&s===x&&u===S||(t.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(u)),g=i,w=o,x=s,S=u);p=e,M=c}function Q(e){C!==e&&(t.frontFace(e?t.CW:t.CCW),C=e)}function $(e){e!==v?(Z(t.CULL_FACE),e!==E&&t.cullFace(e===y?t.BACK:e===b?t.FRONT:t.FRONT_AND_BACK)):J(t.CULL_FACE),E=e}function tt(e,n,r){e?(Z(t.POLYGON_OFFSET_FILL),A===n&&k===r||(t.polygonOffset(n,r),A=n,k=r)):J(t.POLYGON_OFFSET_FILL)}function et(e){void 0===e&&(e=t.TEXTURE0+L-1),U!==e&&(t.activeTexture(e),U=e)}return Y[t.TEXTURE_2D]=q(t.TEXTURE_2D,t.TEXTURE_2D,1),Y[t.TEXTURE_CUBE_MAP]=q(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Z(t.DEPTH_TEST),o.setFunc(ot),Q(!1),$(y),Z(t.CULL_FACE),Z(t.BLEND),K(N),{buffers:{color:i,depth:o,stencil:a},initAttributes:function(){for(var t=0,e=u.length;t<e;t++)u[t]=0},enableAttribute:function(t){X(t,0)},enableAttributeAndDivisor:X,disableUnusedAttributes:function(){for(var e=0,n=c.length;e!==n;++e)c[e]!==u[e]&&(t.disableVertexAttribArray(e),c[e]=0)},enable:Z,disable:J,getCompressedTextureFormats:function(){if(null===f&&(f=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)f.push(n[r]);return f},useProgram:function(e){return d!==e&&(t.useProgram(e),d=e,!0)},setBlending:K,setMaterial:function(e,n){e.side===O?J(t.CULL_FACE):Z(t.CULL_FACE);var r=e.side===T;n&&(r=!r),Q(r),e.blending===N&&!1===e.transparent?K(D):K(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite),tt(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Q,setCullFace:$,setLineWidth:function(e){e!==P&&(R&&t.lineWidth(e),P=e)},setPolygonOffset:tt,setScissorTest:function(e){e?Z(t.SCISSOR_TEST):J(t.SCISSOR_TEST)},activeTexture:et,bindTexture:function(e,n){null===U&&et();var r=H[U];void 0===r&&(H[U]=r={type:void 0,texture:void 0}),r.type===e&&r.texture===n||(t.bindTexture(e,n||Y[e]),r.type=e,r.texture=n)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===G.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),G.copy(e))},viewport:function(e){!1===W.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),W.copy(e))},reset:function(){for(var e=0;e<c.length;e++)1===c[e]&&(t.disableVertexAttribArray(e),c[e]=0);h={},f=null,U=null,H={},d=null,p=null,C=null,E=null,i.reset(),o.reset(),a.reset()}}}(f,d,H,p)).scissor(tt.copy(It).multiplyScalar(Rt)),g.viewport($.copy(Dt).multiplyScalar(Rt)),w=new function(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,r,i){switch(i=i||1,e.calls++,r){case t.TRIANGLES:e.triangles+=i*(n/3);break;case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:e.triangles+=i*(n-2);break;case t.LINES:e.lines+=i*(n/2);break;case t.LINE_STRIP:e.lines+=i*(n-1);break;case t.LINE_LOOP:e.lines+=i*n;break;case t.POINTS:e.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}(f),_=new function(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&t.set(e,n={}),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}},x=new function(t,e,n,r,i,o,a){var s,u={};function c(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height),r}return t}function l(t){return Xe.isPowerOfTwo(t.width)&&Xe.isPowerOfTwo(t.height)}function h(t,e){return t.generateMipmaps&&e&&t.minFilter!==Pt&&t.minFilter!==Lt}function f(e,n,i,o){t.generateMipmap(e),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function d(e,n){if(!i.isWebGL2)return e;if(e===t.RGB){if(n===t.FLOAT)return t.RGB32F;if(n===t.HALF_FLOAT)return t.RGB16F;if(n===t.UNSIGNED_BYTE)return t.RGB8}if(e===t.RGBA){if(n===t.FLOAT)return t.RGBA32F;if(n===t.HALF_FLOAT)return t.RGBA16F;if(n===t.UNSIGNED_BYTE)return t.RGBA8}return e}function p(e){return e===Pt||e===At||e===kt?t.NEAREST:t.LINEAR}function m(e){var n=e.target;n.removeEventListener("dispose",m),function(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.remove(e)}(n),n.isVideoTexture&&delete u[n.id],a.memory.textures--}function g(e){var n=e.target;n.removeEventListener("dispose",g),function(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(n),a.memory.textures--}function v(e,p){var g=r.get(e);if(e.isVideoTexture&&function(t){var e=t.id,n=a.render.frame;u[e]!==n&&(u[e]=n,t.update())}(e),e.version>0&&g.__version!==e.version){var v=e.image;if(void 0===v)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==v.complete)return void function(e,r,u){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",m),e.__webglTexture=t.createTexture(),a.memory.textures++),n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var p=c(r.image,i.maxTextureSize);(function(t){return!i.isWebGL2&&(t.wrapS!==Tt||t.wrapT!==Tt||t.minFilter!==Pt&&t.minFilter!==Lt)})(r)&&!1===l(p)&&(p=function(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap?(void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),s.width=Xe.floorPowerOfTwo(t.width),s.height=Xe.floorPowerOfTwo(t.height),s.getContext("2d").drawImage(t,0,0,s.width,s.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+s.width+"x"+s.height),s):t}(p));var g=l(p),v=o.convert(r.format),b=o.convert(r.type),w=d(v,b);y(t.TEXTURE_2D,r,g);var _,x=r.mipmaps;if(r.isDepthTexture){if(w=t.DEPTH_COMPONENT,r.type===Bt){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");w=t.DEPTH_COMPONENT32F}else i.isWebGL2&&(w=t.DEPTH_COMPONENT16);r.format===$t&&w===t.DEPTH_COMPONENT&&r.type!==zt&&r.type!==Vt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=zt,b=o.convert(r.type)),r.format===te&&(w=t.DEPTH_STENCIL,r.type!==qt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=qt,b=o.convert(r.type))),n.texImage2D(t.TEXTURE_2D,0,w,p.width,p.height,0,v,b,null)}else if(r.isDataTexture)if(x.length>0&&g){for(var S=0,M=x.length;S<M;S++)n.texImage2D(t.TEXTURE_2D,S,w,(_=x[S]).width,_.height,0,v,b,_.data);r.generateMipmaps=!1,e.__maxMipLevel=x.length-1}else n.texImage2D(t.TEXTURE_2D,0,w,p.width,p.height,0,v,b,p.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(S=0,M=x.length;S<M;S++)_=x[S],r.format!==Zt&&r.format!==Xt?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(t.TEXTURE_2D,S,w,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,S,w,_.width,_.height,0,v,b,_.data);e.__maxMipLevel=x.length-1}else if(x.length>0&&g){for(S=0,M=x.length;S<M;S++)n.texImage2D(t.TEXTURE_2D,S,w,v,b,_=x[S]);r.generateMipmaps=!1,e.__maxMipLevel=x.length-1}else n.texImage2D(t.TEXTURE_2D,0,w,v,b,p),e.__maxMipLevel=0;h(r,g)&&f(t.TEXTURE_2D,r,p.width,p.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}(g,e,p);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(t.TEXTURE0+p),n.bindTexture(t.TEXTURE_2D,g.__webglTexture)}function y(n,a,s){var u;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o.convert(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o.convert(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===Tt&&a.wrapT===Tt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,t.TEXTURE_MAG_FILTER,p(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,p(a.minFilter)),a.minFilter!==Pt&&a.minFilter!==Lt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),u=e.get("EXT_texture_filter_anisotropic")){if(a.type===Bt&&null===e.get("OES_texture_float_linear"))return;if(a.type===Ut&&null===(i.isWebGL2||e.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function b(e,i,a,s){var u=o.convert(i.texture.format),c=o.convert(i.texture.type),l=d(u,c);n.texImage2D(s,0,l,i.width,i.height,0,u,c,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}this.setTexture2D=v,this.setTextureCube=function(e,s){var u=r.get(e);if(6===e.image.length)if(e.version>0&&u.__version!==e.version){u.__image__webglTextureCube||(e.addEventListener("dispose",m),u.__image__webglTextureCube=t.createTexture(),a.memory.textures++),n.activeTexture(t.TEXTURE0+s),n.bindTexture(t.TEXTURE_CUBE_MAP,u.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var p=e&&e.isCompressedTexture,g=e.image[0]&&e.image[0].isDataTexture,v=[],b=0;b<6;b++)v[b]=p||g?g?e.image[b].image:e.image[b]:c(e.image[b],i.maxCubemapSize);var w=v[0],_=l(w),x=o.convert(e.format),S=o.convert(e.type),M=d(x,S);for(y(t.TEXTURE_CUBE_MAP,e,_),b=0;b<6;b++)if(p)for(var C,E=v[b].mipmaps,T=0,O=E.length;T<O;T++)C=E[T],e.format!==Zt&&e.format!==Xt?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+b,T,M,C.width,C.height,0,C.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+b,T,M,C.width,C.height,0,x,S,C.data);else g?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,M,v[b].width,v[b].height,0,x,S,v[b].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,M,x,S,v[b]);u.__maxMipLevel=p?E.length-1:0,h(e,_)&&f(t.TEXTURE_CUBE_MAP,e,w.width,w.height),u.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+s),n.bindTexture(t.TEXTURE_CUBE_MAP,u.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)},this.setupRenderTarget=function(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",g),o.__webglTexture=t.createTexture(),a.memory.textures++;var s=!0===e.isWebGLRenderTargetCube,u=l(e);if(s){i.__webglFramebuffer=[];for(var c=0;c<6;c++)i.__webglFramebuffer[c]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){for(n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),y(t.TEXTURE_CUBE_MAP,e.texture,u),c=0;c<6;c++)b(i.__webglFramebuffer[c],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+c);h(e.texture,u)&&f(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),y(t.TEXTURE_2D,e.texture,u),b(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),h(e.texture,u)&&f(t.TEXTURE_2D,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&function(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===$t)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==te)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),w(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}(e)},this.updateRenderTargetMipmap=function(e){var i=e.texture;if(h(i,l(e))){var o=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),f(o,i,e.width,e.height),n.bindTexture(o,null)}}}(f,d,g,_,p,H,w),S=new function(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=e.get(n);r&&(t.deleteBuffer(r.buffer),e.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=e.get(n);void 0===i?e.set(n,function(e,n){var r=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,r,i),e.onUploadCallback();var a=t.FLOAT;return r instanceof Float32Array?a=t.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=t.UNSIGNED_SHORT:r instanceof Int16Array?a=t.SHORT:r instanceof Uint32Array?a=t.UNSIGNED_INT:r instanceof Int32Array?a=t.INT:r instanceof Int8Array?a=t.BYTE:r instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(n,r)):i.version<n.version&&(function(e,n,r){var o=n.array,a=n.updateRange;t.bindBuffer(r,i.buffer),!1===n.dynamic?t.bufferData(r,o,t.STATIC_DRAW):-1===a.count?t.bufferSubData(r,0,o):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(0,n,r),i.version=n.version)}}}(f),E=new function(t,e,n){var r={},i={};function o(t){var a=t.target,s=r[a.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);a.removeEventListener("dispose",o),delete r[a.id];var c=i[s.id];c&&(e.remove(c),delete i[s.id]),n.memory.geometries--}return{get:function(t,e){var i=r[e.id];return i||(e.addEventListener("dispose",o),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new $n).setFromObject(t)),i=e._bufferGeometry),r[e.id]=i,n.memory.geometries++,i)},update:function(n){var r=n.index,i=n.attributes;for(var o in null!==r&&e.update(r,t.ELEMENT_ARRAY_BUFFER),i)e.update(i[o],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,c=s.length;u<c;u++)e.update(s[u],t.ARRAY_BUFFER)},getWireframeAttribute:function(n){var r=i[n.id];if(r)return r;var o,a=[],s=n.index,u=n.attributes;if(null!==s)for(var c=0,l=(o=s.array).length;c<l;c+=3)a.push(h=o[c+0],f=o[c+1],f,d=o[c+2],d,h);else for(c=0,l=(o=u.position.array).length/3-1;c<l;c+=3){var h,f,d;a.push(h=c+0,f=c+1,f,d=c+2,d,h)}return r=new(Kn(a)>65535?Yn:Wn)(a,1),e.update(r,t.ELEMENT_ARRAY_BUFFER),i[n.id]=r,r}}}(f,S,w),P=new function(t,e){var n={};return{update:function(r){var i=e.render.frame,o=r.geometry,a=t.get(r,o);return n[a.id]!==i&&(o.isGeometry&&a.updateFromObject(r),t.update(a),n[a.id]=i),a},dispose:function(){n={}}}}(E,w),V=new function(t){var e={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,u=s.length,c=e[i.id];if(void 0===c){c=[];for(var l=0;l<u;l++)c[l]=[l,0];e[i.id]=c}var h=o.morphTargets&&i.morphAttributes.position,f=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<u;l++)0!==(d=c[l])[1]&&(h&&i.removeAttribute("morphTarget"+l),f&&i.removeAttribute("morphNormal"+l));for(l=0;l<u;l++)(d=c[l])[0]=l,d[1]=s[l];for(c.sort(xr),l=0;l<8;l++){var d;if(d=c[l]){var p=d[0],m=d[1];if(m){h&&i.addAttribute("morphTarget"+l,h[p]),f&&i.addAttribute("morphNormal"+l,f[p]),n[l]=m;continue}}n[l]=0}a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}(f),A=new function(t,e,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Ie,n===Ie&&e&&(n=ze),n}this.getParameters=function(e,r,o,s,u,c,l){var h=i[e.type],f=l.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=Math.floor((n.maxVertexUniforms-20)/4),i=Math.min(r,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}(l):0,d=n.precision;null!==e.precision&&(d=n.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",d,"instead.");var p=t.getRenderTarget();return{shaderID:h,precision:d,supportsVertexTextures:n.vertexTextures,outputEncoding:a(p?p.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:a(e.map,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:a(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===Mt||e.envMap.mapping===Ct),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:a(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ye,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&o.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===O,flipSided:e.side===T,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)r.push(i),r.push(e.defines[i]);for(var a=0;a<o.length;a++)r.push(n[o[a]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.join()},this.acquireProgram=function(i,o,a,s){for(var u,c=0,l=r.length;c<l;c++){var h=r[c];if(h.code===s){++(u=h).usedTimes;break}}return void 0===u&&(u=new function(t,e,n,r,i,o,a){var s=t.context,u=r.defines,c=i.vertexShader,l=i.fragmentShader,h="SHADOWMAP_TYPE_BASIC";o.shadowMapType===M?h="SHADOWMAP_TYPE_PCF":o.shadowMapType===C&&(h="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case bt:case wt:f="ENVMAP_TYPE_CUBE";break;case Mt:case Ct:f="ENVMAP_TYPE_CUBE_UV";break;case _t:case xt:f="ENVMAP_TYPE_EQUIREC";break;case St:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case wt:case xt:d="ENVMAP_MODE_REFRACTION"}switch(r.combine){case lt:p="ENVMAP_BLENDING_MULTIPLY";break;case ht:p="ENVMAP_BLENDING_MIX";break;case ft:p="ENVMAP_BLENDING_ADD"}}var m,g,v,y,b,w=t.gammaFactor>0?t.gammaFactor:1,_=a.isWebGL2?"":function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gi).join("\n")}(r.extensions,o,e),x=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(u),S=s.createProgram();if(r.isRawShaderMaterial?((m=[x].filter(gi).join("\n")).length>0&&(m+="\n"),(g=[_,x].filter(gi).join("\n")).length>0&&(g+="\n")):(m=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,x,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+w,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(gi).join("\n"),g=[_,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,x,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+w,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.envMap?"#define "+d:"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==dt?"#define TONE_MAPPING":"",o.toneMapping!==dt?vn.tonemapping_pars_fragment:"",o.toneMapping!==dt?function(t,e){var n;switch(e){case pt:n="Linear";break;case mt:n="Reinhard";break;case gt:n="Uncharted2";break;case vt:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 toneMapping( vec3 color ) { return "+n+"ToneMapping( color ); }"}(0,o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?vn.encodings_pars_fragment:"",o.mapEncoding?mi("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?mi("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?mi("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(v="linearToOutputTexel",y=o.outputEncoding,b=pi(y),"vec4 "+v+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(gi).join("\n")),c=yi(c=vi(c=bi(c),o),o),l=yi(l=vi(l=bi(l),o),o),c=wi(c),l=wi(l),a.isWebGL2&&!r.isRawShaderMaterial){var E=!1,T=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==c.match(T)&&null!==l.match(T)&&(E=!0,c=c.replace(T,""),l=l.replace(T,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#version 300 es\n","#define varying in",E?"":"out highp vec4 pc_fragColor;",E?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g}var O=g+l,P=fi(s,s.VERTEX_SHADER,m+c),A=fi(s,s.FRAGMENT_SHADER,O);s.attachShader(S,P),s.attachShader(S,A),void 0!==r.index0AttributeName?s.bindAttribLocation(S,0,r.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(S,0,"position"),s.linkProgram(S);var k,L,R=s.getProgramInfoLog(S).trim(),D=s.getShaderInfoLog(P).trim(),N=s.getShaderInfoLog(A).trim(),I=!0,j=!0;return!1===s.getProgramParameter(S,s.LINK_STATUS)?(I=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"gl.VALIDATE_STATUS",s.getProgramParameter(S,s.VALIDATE_STATUS),"gl.getProgramInfoLog",R,D,N)):""!==R?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",R):""!==D&&""!==N||(j=!1),j&&(this.diagnostics={runnable:I,material:r,programLog:R,vertexShader:{log:D,prefix:m},fragmentShader:{log:N,prefix:g}}),s.deleteShader(P),s.deleteShader(A),this.getUniforms=function(){return void 0===k&&(k=new hi(s,S,t)),k},this.getAttributes=function(){return void 0===L&&(L=function(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=t.getActiveAttrib(e,i).name;n[o]=t.getAttribLocation(e,o)}return n}(s,S)),L},this.destroy=function(){s.deleteProgram(S),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=di++,this.code=n,this.usedTimes=1,this.program=S,this.vertexShader=P,this.fragmentShader=A,this}(t,e,s,i,o,a,n),r.push(u)),u},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}(G,d,p),k=new function(){var t={};return{get:function(e,n){var r=e.id+","+n.id,i=t[r];return void 0===i&&(i=new function(){var t=[],e=0,n=[],r=[];return{opaque:n,transparent:r,init:function(){e=0,n.length=0,r.length=0},push:function(i,o,a,s,u){var c=t[e];void 0===c?t[e]=c={id:i.id,object:i,geometry:o,material:a,program:a.program,renderOrder:i.renderOrder,z:s,group:u}:(c.id=i.id,c.object=i,c.geometry=o,c.material=a,c.program=a.program,c.renderOrder=i.renderOrder,c.z=s,c.group=u),(!0===a.transparent?r:n).push(c),e++},sort:function(){n.length>1&&n.sort(_i),r.length>1&&r.sort(xi)}}},t[r]=i),i},dispose:function(){t={}}}},L=new function(){var t={};return{get:function(e,n){var r;return void 0===t[e.id]?(r=new Ai,t[e.id]={},t[e.id][n.id]=r):void 0===t[e.id][n.id]?(r=new Ai,t[e.id][n.id]=r):r=t[e.id][n.id],r},dispose:function(){t={}}}},R=new function(t,e,n,r){var i,o,a,s=new wn(0),u=0;function c(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,r)}return{getClearColor:function(){return s},setClearColor:function(t,e){s.set(t),c(s,u=void 0!==e?e:1)},getClearAlpha:function(){return u},setClearAlpha:function(t){c(s,u=t)},render:function(e,r,l,h){var f=r.background;null===f?c(s,u):f&&f.isColor&&(c(f,1),h=!0),(t.autoClear||h)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),f&&f.isCubeTexture?(void 0===a&&((a=new _r(new er(1,1,1),new yr({uniforms:Sn.cube.uniforms,vertexShader:Sn.cube.vertexShader,fragmentShader:Sn.cube.fragmentShader,side:T,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(a)),a.material.uniforms.tCube.value=f,e.push(a,a.geometry,a.material,0,null)):f&&f.isTexture&&(void 0===i&&(i=new Dn(-1,1,1,-1,0,1),o=new _r(new rr(2,2),new vr({depthTest:!1,depthWrite:!1,fog:!1})),n.update(o)),o.material.map=f,t.renderBufferDirect(i,null,o.geometry,o.material,o,null))}}}(G,g,P,s),B=new function(t,e,n,r){var i;this.setMode=function(t){i=t},this.render=function(e,r){t.drawArrays(i,e,r),n.update(r,i)},this.renderInstances=function(o,a,s){var u;if(r.isWebGL2)u=t;else if(null===(u=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),n.update(s,i,o.maxInstancedCount)}}(f,d,w,p),U=new function(t,e,n,r){var i,o,a;this.setMode=function(t){i=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(e,r){t.drawElements(i,r,o,e*a),n.update(r,i)},this.renderInstances=function(s,u,c){var l;if(r.isWebGL2)l=t;else if(null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,c,o,u*a,s.maxInstancedCount),n.update(c,i,s.maxInstancedCount)}}(f,d,w,p),w.programs=A.programs,G.context=f,G.capabilities=p,G.extensions=d,G.properties=_,G.renderLists=k,G.state=g,G.info=w}ee();var ne="xr"in navigator?new function(t){var e=t.context,n=null,r=null,i=null,o=null,a=[],s=[];function u(){return null!==r&&null!==i}var c=new Ii;c.layers.enable(1),c.viewport=new un;var l=new Ii;l.layers.enable(2),l.viewport=new un;var h=new ji([c,l]);function f(t){var e=a[s.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),g.stop()}function p(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}h.layers.enable(1),h.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=a[t];return void 0===e&&((e=new Ni).matrixAutoUpdate=!1,e.visible=!1,a[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),t instanceof XRDevice&&e.setCompatibleXRDevice(t)},this.setSession=function(n,o){null!==(r=n)&&(r.addEventListener("select",f),r.addEventListener("selectstart",f),r.addEventListener("selectend",f),r.addEventListener("end",d),r.baseLayer=new XRWebGLLayer(r,e),r.requestFrameOfReference(o.frameOfReferenceType).then(function(e){i=e,t.setFramebuffer(r.baseLayer.framebuffer),g.setContext(r),g.start()}),s=r.getInputSources(),r.addEventListener("inputsourceschange",function(){s=r.getInputSources(),console.log(s)}))},this.getCamera=function(t){if(u()){var e=t.parent,n=h.cameras;p(h,e);for(var r=0;r<n.length;r++)p(n[r],e);t.matrixWorld.copy(h.matrixWorld);for(var i=t.children,o=(r=0,i.length);r<o;r++)i[r].updateMatrixWorld(!0);return h}return t},this.isPresenting=u;var m=null,g=new Mn;g.setAnimationLoop(function(t,e){if(null!==(o=e.getDevicePose(i)))for(var n=r.baseLayer,u=e.views,c=0;c<u.length;c++){var l=u[c],f=n.getViewport(l),d=o.getViewMatrix(l),p=h.cameras[c];p.matrix.fromArray(d).getInverse(p.matrix),p.projectionMatrix.fromArray(l.projectionMatrix),p.viewport.set(f.x,f.y,f.width,f.height),0===c&&(h.matrix.copy(p.matrix),h.projectionMatrix.copy(p.projectionMatrix))}for(c=0;c<a.length;c++){var g=a[c],v=s[c];if(v){var y=e.getInputPose(v,i);if(null!==y){g.matrix.elements=y.pointerMatrix,g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}m&&m(t)}),this.setAnimationLoop=function(t){m=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}(G):new zi(G);this.vr=ne;var re=new Ri(G,P,p.maxTextureSize);function ie(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),W=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),W=!1,ee()}function ae(t){var e=t.target;e.removeEventListener("dispose",ae),function(t){se(t),_.remove(t)}(e)}function se(t){var e=_.get(t).program;t.program=void 0,void 0!==e&&A.releaseProgram(e)}this.shadowMap=re,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=d.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=d.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Rt},this.setPixelRatio=function(t){void 0!==t&&(Rt=t,this.setSize(Et,Ot,!1))},this.getSize=function(){return{width:Et,height:Ot}},this.setSize=function(t,n,r){ne.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Et=t,Ot=n,e.width=t*Rt,e.height=n*Rt,!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(){return{width:Et*Rt,height:Ot*Rt}},this.setDrawingBufferSize=function(t,n,r){Et=t,Ot=n,Rt=r,e.width=t*r,e.height=n*r,this.setViewport(0,0,t,n)},this.getCurrentViewport=function(){return $},this.setViewport=function(t,e,n,r){Dt.set(t,Ot-e-r,n,r),g.viewport($.copy(Dt).multiplyScalar(Rt))},this.setScissor=function(t,e,n,r){It.set(t,Ot-e-r,n,r),g.scissor(tt.copy(It).multiplyScalar(Rt))},this.setScissorTest=function(t){g.setScissorTest(jt=t)},this.getClearColor=function(){return R.getClearColor()},this.setClearColor=function(){R.setClearColor.apply(R,arguments)},this.getClearAlpha=function(){return R.getClearAlpha()},this.setClearAlpha=function(){R.setClearAlpha.apply(R,arguments)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=f.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=f.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=f.STENCIL_BUFFER_BIT),f.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.dispose=function(){e.removeEventListener("webglcontextlost",ie,!1),e.removeEventListener("webglcontextrestored",oe,!1),k.dispose(),L.dispose(),_.dispose(),P.dispose(),ne.dispose(),le.stop()},this.renderBufferImmediate=function(t,e){g.initAttributes();var n=_.get(t);t.hasPositions&&!n.position&&(n.position=f.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),t.hasColors&&!n.color&&(n.color=f.createBuffer());var r=e.getAttributes();t.hasPositions&&(f.bindBuffer(f.ARRAY_BUFFER,n.position),f.bufferData(f.ARRAY_BUFFER,t.positionArray,f.DYNAMIC_DRAW),g.enableAttribute(r.position),f.vertexAttribPointer(r.position,3,f.FLOAT,!1,0,0)),t.hasNormals&&(f.bindBuffer(f.ARRAY_BUFFER,n.normal),f.bufferData(f.ARRAY_BUFFER,t.normalArray,f.DYNAMIC_DRAW),g.enableAttribute(r.normal),f.vertexAttribPointer(r.normal,3,f.FLOAT,!1,0,0)),t.hasUvs&&(f.bindBuffer(f.ARRAY_BUFFER,n.uv),f.bufferData(f.ARRAY_BUFFER,t.uvArray,f.DYNAMIC_DRAW),g.enableAttribute(r.uv),f.vertexAttribPointer(r.uv,2,f.FLOAT,!1,0,0)),t.hasColors&&(f.bindBuffer(f.ARRAY_BUFFER,n.color),f.bufferData(f.ARRAY_BUFFER,t.colorArray,f.DYNAMIC_DRAW),g.enableAttribute(r.color),f.vertexAttribPointer(r.color,3,f.FLOAT,!1,0,0)),g.disableUnusedAttributes(),f.drawArrays(f.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,o){var a=i.isMesh&&i.normalMatrix.determinant()<0;g.setMaterial(r,a);var s=pe(t,e,r,i),u=!1;J.geometry===n.id&&J.program===s.id&&J.wireframe===(!0===r.wireframe)||(J.geometry=n.id,J.program=s.id,J.wireframe=!0===r.wireframe,u=!0),i.morphTargetInfluences&&(V.update(i,n,r,s),u=!0);var c,l=n.index,h=n.attributes.position,m=1;!0===r.wireframe&&(l=E.getWireframeAttribute(n),m=2);var v=B;null!==l&&(c=S.get(l),(v=U).setIndex(c)),u&&(function(t,e,n){if(n&&n.isInstancedBufferGeometry&!p.isWebGL2&&null===d.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{g.initAttributes();var r=n.attributes,i=e.getAttributes(),o=t.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var u=r[a];if(void 0!==u){var c=u.normalized,l=u.itemSize,h=S.get(u);if(void 0===h)continue;var m=h.buffer,v=h.type,y=h.bytesPerElement;if(u.isInterleavedBufferAttribute){var b=u.data,w=b.stride,_=u.offset;b&&b.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(s,b.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=b.meshPerAttribute*b.count)):g.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,m),f.vertexAttribPointer(s,l,v,c,w*y,_*y)}else u.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):g.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,m),f.vertexAttribPointer(s,l,v,c,0,0)}else if(void 0!==o){var x=o[a];if(void 0!==x)switch(x.length){case 2:f.vertexAttrib2fv(s,x);break;case 3:f.vertexAttrib3fv(s,x);break;case 4:f.vertexAttrib4fv(s,x);break;default:f.vertexAttrib1fv(s,x)}}}}g.disableUnusedAttributes()}}(r,s,n),null!==l&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,c.buffer));var y=1/0;null!==l?y=l.count:void 0!==h&&(y=h.count);var b=n.drawRange.start*m,w=n.drawRange.count*m,_=null!==o?o.start*m:0,x=null!==o?o.count*m:1/0,M=Math.max(b,_),C=Math.min(y,b+w,_+x)-1,T=Math.max(0,C-M+1);if(0!==T){if(i.isMesh)if(!0===r.wireframe)g.setLineWidth(r.wireframeLinewidth*Kt()),v.setMode(f.LINES);else switch(i.drawMode){case Re:v.setMode(f.TRIANGLES);break;case De:v.setMode(f.TRIANGLE_STRIP);break;case Ne:v.setMode(f.TRIANGLE_FAN)}else if(i.isLine){var O=r.linewidth;void 0===O&&(O=1),g.setLineWidth(O*Kt()),v.setMode(i.isLineSegments?f.LINES:i.isLineLoop?f.LINE_LOOP:f.LINE_STRIP)}else i.isPoints?v.setMode(f.POINTS):i.isSprite&&v.setMode(f.TRIANGLES);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&v.renderInstances(n,M,T):v.render(M,T)}},this.compile=function(t,e){(h=L.get(t,e)).init(),t.traverse(function(t){t.isLight&&(h.pushLight(t),t.castShadow&&h.pushShadow(t))}),h.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)de(e.material[n],t.fog,e);else de(e.material,t.fog,e)})};var ue,ce=null,le=new Mn;function he(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){Q=n;for(var h=n.cameras,f=0,d=h.length;f<d;f++){var p=h[f];if(s.layers.test(p.layers)){if("viewport"in p)g.viewport($.copy(p.viewport));else{var m=p.bounds;g.viewport($.set(m.x*Et,m.y*Ot,m.z*Et,m.w*Ot).multiplyScalar(Rt))}fe(s,e,p,u,c,l)}}}else Q=null,fe(s,e,n,u,c,l)}}function fe(t,e,n,r,i,o){if(t.onBeforeRender(G,e,n,r,i,o),h=L.get(e,Q||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){g.setMaterial(i);var a=pe(n,e.fog,i,t);J.geometry=null,J.program=null,J.wireframe=!1,function(t,e){t.render(function(t){G.renderBufferImmediate(t,e)})}(t,a)}else G.renderBufferDirect(n,e.fog,r,i,t,o);t.onAfterRender(G,e,n,r,i,o),h=L.get(e,Q||n)}function de(t,e,n){var r=_.get(t),i=h.state.lights,o=r.lightsHash,a=i.state.hash,s=A.getParameters(t,i.state,h.state.shadowsArray,e,Ht.numPlanes,Ht.numIntersection,n),u=A.getProgramCode(t,s),c=r.program,l=!0;if(void 0===c)t.addEventListener("dispose",ae);else if(c.code!==u)se(t);else if(o.stateID!==a.stateID||o.directionalLength!==a.directionalLength||o.pointLength!==a.pointLength||o.spotLength!==a.spotLength||o.rectAreaLength!==a.rectAreaLength||o.hemiLength!==a.hemiLength||o.shadowsLength!==a.shadowsLength)o.stateID=a.stateID,o.directionalLength=a.directionalLength,o.pointLength=a.pointLength,o.spotLength=a.spotLength,o.rectAreaLength=a.rectAreaLength,o.hemiLength=a.hemiLength,o.shadowsLength=a.shadowsLength,l=!1;else{if(void 0!==s.shaderID)return;l=!1}if(l){if(s.shaderID){var f=Sn[s.shaderID];r.shader={name:t.type,uniforms:yn.clone(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,G),u=A.getProgramCode(t,s),c=A.acquireProgram(t,r.shader,s,u),r.program=c,t.program=c}var d=c.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var p=0;p<G.maxMorphTargets;p++)d["morphTarget"+p]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,p=0;p<G.maxMorphNormals;p++)d["morphNormal"+p]>=0&&t.numSupportedMorphNormals++;var m=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=Ht.numPlanes,r.numIntersection=Ht.numIntersection,m.clippingPlanes=Ht.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=a.stateID,o.directionalLength=a.directionalLength,o.pointLength=a.pointLength,o.spotLength=a.spotLength,o.rectAreaLength=a.rectAreaLength,o.hemiLength=a.hemiLength,o.shadowsLength=a.shadowsLength,t.lights&&(m.ambientLightColor.value=i.state.ambient,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),v=hi.seqWithValue(g.seq,m);r.uniformsList=v}function pe(t,e,n,r){yt=0;var i=_.get(n),o=i.lightsHash,a=h.state.lights.state.hash;Gt&&(Wt||t!==K)&&Ht.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,t===K&&n.id===Z),!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:(!n.lights||o.stateID===a.stateID&&o.directionalLength===a.directionalLength&&o.pointLength===a.pointLength&&o.spotLength===a.spotLength&&o.rectAreaLength===a.rectAreaLength&&o.hemiLength===a.hemiLength&&o.shadowsLength===a.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===Ht.numPlanes&&i.numIntersection===Ht.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(de(n,e,r),n.needsUpdate=!1);var s,u,c=!1,l=!1,d=!1,m=i.program,v=m.getUniforms(),y=i.shader.uniforms;if(g.useProgram(m.program)&&(c=!0,l=!0,d=!0),n.id!==Z&&(Z=n.id,l=!0),c||t!==K){if(v.setValue(f,"projectionMatrix",t.projectionMatrix),p.logarithmicDepthBuffer&&v.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),K!==(Q||t)&&(K=Q||t,l=!0,d=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var b=v.map.cameraPosition;void 0!==b&&b.setValue(f,Jt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&v.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){v.setOptional(f,r,"bindMatrix"),v.setOptional(f,r,"bindMatrixInverse");var w=r.skeleton;if(w)if(p.floatVertexTextures){if(void 0===w.boneTexture){var x=Math.sqrt(4*w.bones.length);x=Xe.ceilPowerOfTwo(x),x=Math.max(x,4);var S=new Float32Array(x*x*4);S.set(w.boneMatrices);var M=new hn(S,x,x,Zt,Bt);M.needsUpdate=!0,w.boneMatrices=S,w.boneTexture=M,w.boneTextureSize=x}v.setValue(f,"boneTexture",w.boneTexture),v.setValue(f,"boneTextureSize",w.boneTextureSize)}else v.setOptional(f,w,"boneMatrices")}return l&&(v.setValue(f,"toneMappingExposure",G.toneMappingExposure),v.setValue(f,"toneMappingWhitePoint",G.toneMappingWhitePoint),n.lights&&((s=y).ambientLightColor.needsUpdate=u=d,s.directionalLights.needsUpdate=u,s.pointLights.needsUpdate=u,s.spotLights.needsUpdate=u,s.rectAreaLights.needsUpdate=u,s.hemisphereLights.needsUpdate=u),e&&n.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(y,e),n.isMeshBasicMaterial?me(y,n):n.isMeshLambertMaterial?(me(y,n),function(t,e){e.emissiveMap&&(y.emissiveMap.value=e.emissiveMap)}(0,n)):n.isMeshPhongMaterial?(me(y,n),n.isMeshToonMaterial?function(t,e){ge(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(y,n):ge(y,n)):n.isMeshStandardMaterial?(me(y,n),n.isMeshPhysicalMaterial?function(t,e){ve(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(y,n):ve(y,n)):n.isMeshDepthMaterial?(me(y,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isMeshDistanceMaterial?(me(y,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(y,n)):n.isMeshNormalMaterial?(me(y,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===T&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===T&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}(y,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(y,n)):n.isPointsMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Rt,t.scale.value=.5*Ot,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(y,n):n.isSpriteMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(y,n):n.isShadowMaterial&&(y.color.value=n.color,y.opacity.value=n.opacity),void 0!==y.ltc_1&&(y.ltc_1.value=xn.LTC_1),void 0!==y.ltc_2&&(y.ltc_2.value=xn.LTC_2),hi.upload(f,i.uniformsList,y,G)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(hi.upload(f,i.uniformsList,y,G),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&v.setValue(f,"center",r.center),v.setValue(f,"modelViewMatrix",r.modelViewMatrix),v.setValue(f,"normalMatrix",r.normalMatrix),v.setValue(f,"modelMatrix",r.matrixWorld),m}function me(t,e){var n;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=_.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function ge(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===T&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===T&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function ve(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===T&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===T&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}le.setAnimationLoop(function(t){ne.isPresenting()||ce&&ce(t)}),"undefined"!=typeof window&&le.setContext(window),this.setAnimationLoop=function(t){ce=t,ne.setAnimationLoop(t),le.start()},this.render=function(t,e,n,r){if(e&&e.isCamera){if(!W){J.geometry=null,J.program=null,J.wireframe=!1,Z=-1,K=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ne.enabled&&(e=ne.getCamera(e)),(h=L.get(t,e)).init(),t.onBeforeRender(G,t,e,n),Yt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Ft.setFromMatrix(Yt),Gt=Ht.init(this.clippingPlanes,Wt=this.localClippingEnabled,e),(l=k.get(t,e)).init(),function t(e,n,r){if(!1!==e.visible){if(e.layers.test(n.layers))if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Ft.intersectsSprite(e)){r&&Jt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Yt);var i=P.update(e);l.push(e,i,o=e.material,Jt.z,null)}}else if(e.isImmediateRenderObject)r&&Jt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Yt),l.push(e,null,e.material,Jt.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||Ft.intersectsObject(e))){r&&Jt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Yt),i=P.update(e);var o=e.material;if(Array.isArray(o))for(var a=i.groups,s=0,u=a.length;s<u;s++){var c=a[s],f=o[c.materialIndex];f&&f.visible&&l.push(e,i,f,Jt.z,c)}else o.visible&&l.push(e,i,o,Jt.z,null)}var d=e.children;for(s=0,u=d.length;s<u;s++)t(d[s],n,r)}}(t,e,G.sortObjects),!0===G.sortObjects&&l.sort(),Gt&&Ht.beginShadows(),re.render(h.state.shadowsArray,t,e),h.setupLights(e),Gt&&Ht.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),R.render(l,t,e,r);var i=l.opaque,o=l.transparent;if(t.overrideMaterial){var a=t.overrideMaterial;i.length&&he(i,t,e,a),o.length&&he(o,t,e,a)}else i.length&&he(i,t,e),o.length&&he(o,t,e);n&&x.updateRenderTargetMipmap(n),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),t.onAfterRender(G,t,e),ne.enabled&&ne.submitFrame(),l=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var t=yt;return t>=p.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+p.maxTextures),yt+=1,t},this.setTexture2D=(ue=!1,function(t,e){t&&t.isWebGLRenderTarget&&(ue||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ue=!0),t=t.texture),x.setTexture2D(t,e)}),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),x.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?x.setTextureCube(e,n):x.setTextureCubeDynamic(e,n)}}(),this.setFramebuffer=function(t){q=t},this.getRenderTarget=function(){return Y},this.setRenderTarget=function(t){Y=t,t&&void 0===_.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var e=q,n=!1;if(t){var r=_.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=r[t.activeCubeFace],n=!0):e=r,$.copy(t.viewport),tt.copy(t.scissor),et=t.scissorTest}else $.copy(Dt).multiplyScalar(Rt),tt.copy(It).multiplyScalar(Rt),et=jt;if(X!==e&&(f.bindFramebuffer(f.FRAMEBUFFER,e),X=e),g.viewport($),g.scissor(tt),g.setScissorTest(et),n){var i=_.get(t.texture);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(t&&t.isWebGLRenderTarget){var a=_.get(t).__webglFramebuffer;if(a){var s=!1;a!==X&&(f.bindFramebuffer(f.FRAMEBUFFER,a),s=!0);try{var u=t.texture,c=u.format,l=u.type;if(c!==Zt&&H.convert(c)!==f.getParameter(f.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===Nt||H.convert(l)===f.getParameter(f.IMPLEMENTATION_COLOR_READ_TYPE)||l===Bt&&(p.isWebGL2||d.get("OES_texture_float")||d.get("WEBGL_color_buffer_float"))||l===Ut&&d.get(p.isWebGL2?"EXT_color_buffer_float":"EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&f.readPixels(e,n,r,i,H.convert(c),H.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(f.FRAMEBUFFER,X)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){var r=e.image.width,i=e.image.height,o=H.convert(e.format);this.setTexture2D(e,0),f.copyTexImage2D(f.TEXTURE_2D,n||0,o,t.x,t.y,r,i,0)},this.copyTextureToTexture=function(t,e,n,r){var i=e.image.width,o=e.image.height,a=H.convert(n.format),s=H.convert(n.type);this.setTexture2D(n,0),e.isDataTexture?f.texSubImage2D(f.TEXTURE_2D,r||0,t.x,t.y,i,o,a,s,e.image.data):f.texSubImage2D(f.TEXTURE_2D,r||0,t.x,t.y,a,s,e.image)}}function Vi(t,e){this.name="",this.color=new wn(t),this.density=void 0!==e?e:25e-5}function Bi(t,e,n){this.name="",this.color=new wn(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Ui(){Ln.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Hi(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Gi(t,e,n,r){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Wi(t){gr.call(this),this.type="SpriteMaterial",this.color=new wn(16777215),this.map=null,this.rotation=0,this.lights=!1,this.transparent=!0,this.setValues(t)}function qi(t){if(Ln.call(this),this.type="Sprite",void 0===Si){Si=new $n;var e=new Hi(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Si.setIndex([0,1,2,0,2,3]),Si.addAttribute("position",new Gi(e,3,0,!1)),Si.addAttribute("uv",new Gi(e,2,3,!1))}this.geometry=Si,this.material=void 0!==t?t:new Wi,this.center=new Ze(.5,.5)}function Yi(){Ln.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Xi(t,e){if(this.bones=(t=t||[]).slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Je)}}function Zi(){Ln.call(this),this.type="Bone"}function Ji(t,e){_r.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Je,this.bindMatrixInverse=new Je;var n=new Xi(this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function Ki(t){gr.call(this),this.type="LineBasicMaterial",this.color=new wn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Qi(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Ln.call(this),this.type="Line",this.geometry=void 0!==t?t:new $n,this.material=void 0!==e?e:new Ki({color:16777215*Math.random()})}function $i(t,e){Qi.call(this,t,e),this.type="LineSegments"}function to(t,e){Qi.call(this,t,e),this.type="LineLoop"}function eo(t){gr.call(this),this.type="PointsMaterial",this.color=new wn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function no(t,e){Ln.call(this),this.type="Points",this.geometry=void 0!==t?t:new $n,this.material=void 0!==e?e:new eo({color:16777215*Math.random()})}function ro(t,e,n,r,i,o,a,s,u){sn.call(this,t,e,n,r,i,o,a,s,u),this.generateMipmaps=!1}function io(t,e,n,r,i,o,a,s,u,c,l,h){sn.call(this,null,o,a,s,u,c,r,i,l,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function oo(t,e,n,r,i,o,a,s,u){sn.call(this,t,e,n,r,i,o,a,s,u),this.needsUpdate=!0}function ao(t,e,n,r,i,o,a,s,u,c){if((c=void 0!==c?c:$t)!==$t&&c!==te)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===$t&&(n=zt),void 0===n&&c===te&&(n=qt),sn.call(this,null,r,i,o,a,s,c,n,u),this.image={width:t,height:e},this.magFilter=void 0!==a?a:Pt,this.minFilter=void 0!==s?s:Pt,this.flipY=!1,this.generateMipmaps=!1}function so(t){$n.call(this),this.type="WireframeGeometry";var e,n,r,i,o,a,s,u,c,l,h=[],f=[0,0],d={},p=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var g=m[e];for(n=0;n<3;n++)s=g[p[n]],u=g[p[(n+1)%3]],f[0]=Math.min(s,u),f[1]=Math.max(s,u),void 0===d[c=f[0]+","+f[1]]&&(d[c]={index1:f[0],index2:f[1]})}for(c in d)h.push((l=t.vertices[(a=d[c]).index1]).x,l.y,l.z),h.push((l=t.vertices[a.index2]).x,l.y,l.z)}else if(t&&t.isBufferGeometry){var v,y,b,w,_;if(l=new Qe,null!==t.index){for(v=t.attributes.position,y=t.index,0===(b=t.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(e=_=(w=b[i]).start,r=_+w.count;e<r;e+=3)for(n=0;n<3;n++)s=y.getX(e+n),u=y.getX(e+(n+1)%3),f[0]=Math.min(s,u),f[1]=Math.max(s,u),void 0===d[c=f[0]+","+f[1]]&&(d[c]={index1:f[0],index2:f[1]});for(c in d)l.fromBufferAttribute(v,(a=d[c]).index1),h.push(l.x,l.y,l.z),l.fromBufferAttribute(v,a.index2),h.push(l.x,l.y,l.z)}else for(e=0,r=(v=t.attributes.position).count/3;e<r;e++)for(n=0;n<3;n++)l.fromBufferAttribute(v,3*e+n),h.push(l.x,l.y,l.z),l.fromBufferAttribute(v,3*e+(n+1)%3),h.push(l.x,l.y,l.z)}this.addAttribute("position",new Xn(h,3))}function uo(t,e,n){Fn.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new co(t,e,n)),this.mergeVertices()}function co(t,e,n){$n.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],u=[],c=new Qe,l=new Qe,h=new Qe,f=new Qe,d=new Qe;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=e+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=e;i++){var g=i/e;t(g,m,l),a.push(l.x,l.y,l.z),g-1e-5>=0?(t(g-1e-5,m,h),f.subVectors(l,h)):(t(g+1e-5,m,h),f.subVectors(h,l)),m-1e-5>=0?(t(g,m-1e-5,h),d.subVectors(l,h)):(t(g,m+1e-5,h),d.subVectors(h,l)),c.crossVectors(f,d).normalize(),s.push(c.x,c.y,c.z),u.push(g,m)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var v=r*p+i+1,y=(r+1)*p+i+1,b=(r+1)*p+i;o.push(r*p+i,v,b),o.push(v,y,b)}this.setIndex(o),this.addAttribute("position",new Xn(a,3)),this.addAttribute("normal",new Xn(s,3)),this.addAttribute("uv",new Xn(u,2))}function lo(t,e,n,r){Fn.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new ho(t,e,n,r)),this.mergeVertices()}function ho(t,e,n,r){$n.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;var i=[],o=[];function a(t,e,n,r){var i,o,a=Math.pow(2,r),u=[];for(i=0;i<=a;i++){u[i]=[];var c=t.clone().lerp(n,i/a),l=e.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)u[i][o]=0===o&&i===a?c:c.clone().lerp(l,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2==0?(s(u[i][f+1]),s(u[i+1][f]),s(u[i][f])):(s(u[i][f+1]),s(u[i+1][f+1]),s(u[i+1][f]))}}function s(t){i.push(t.x,t.y,t.z)}function u(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function c(t,e,n,r){r<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=r/2/Math.PI+.5)}function l(t){return Math.atan2(t.z,-t.x)}!function(t){for(var n=new Qe,r=new Qe,i=new Qe,o=0;o<e.length;o+=3)u(e[o+0],n),u(e[o+1],r),u(e[o+2],i),a(n,r,i,t)}(r=r||0),function(t){for(var e=new Qe,n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){for(var t=new Qe,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var n=l(t)/2/Math.PI+.5,r=(a=t,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var t=new Qe,e=new Qe,n=new Qe,r=new Qe,a=new Ze,s=new Ze,u=new Ze,h=0,f=0;h<i.length;h+=9,f+=6){t.set(i[h+0],i[h+1],i[h+2]),e.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[f+0],o[f+1]),s.set(o[f+2],o[f+3]),u.set(o[f+4],o[f+5]),r.copy(t).add(e).add(n).divideScalar(3);var d=l(r);c(a,f+0,t,d),c(s,f+2,e,d),c(u,f+4,n,d)}})(),function(){for(var t=0;t<o.length;t+=6){var e=o[t+0],n=o[t+2],r=o[t+4],i=Math.max(e,n,r),a=Math.min(e,n,r);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),r<.2&&(o[t+4]+=1))}}()}(),this.addAttribute("position",new Xn(i,3)),this.addAttribute("normal",new Xn(i.slice(),3)),this.addAttribute("uv",new Xn(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function fo(t,e){Fn.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new po(t,e)),this.mergeVertices()}function po(t,e){ho.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function mo(t,e){Fn.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new go(t,e)),this.mergeVertices()}function go(t,e){ho.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function vo(t,e){Fn.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new yo(t,e)),this.mergeVertices()}function yo(t,e){var n=(1+Math.sqrt(5))/2;ho.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function bo(t,e){Fn.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new wo(t,e)),this.mergeVertices()}function wo(t,e){var n=(1+Math.sqrt(5))/2,r=1/n;ho.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function _o(t,e,n,r,i,o){Fn.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new xo(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function xo(t,e,n,r,i){$n.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8;var o=t.computeFrenetFrames(e,i=i||!1);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,u=new Qe,c=new Qe,l=new Ze,h=new Qe,f=[],d=[],p=[],m=[];function g(i){h=t.getPointAt(i/e,h);var a=o.normals[i],l=o.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),g=-Math.cos(p);c.x=g*a.x+m*l.x,c.y=g*a.y+m*l.y,c.z=g*a.z+m*l.z,c.normalize(),d.push(c.x,c.y,c.z),u.x=h.x+n*c.x,u.y=h.y+n*c.y,u.z=h.z+n*c.z,f.push(u.x,u.y,u.z)}}!function(){for(a=0;a<e;a++)g(a);g(!1===i?e:0),function(){for(a=0;a<=e;a++)for(s=0;s<=r;s++)l.x=a/e,l.y=s/r,p.push(l.x,l.y)}(),function(){for(s=1;s<=e;s++)for(a=1;a<=r;a++){var t=(r+1)*s+(a-1),n=(r+1)*s+a,i=(r+1)*(s-1)+a;m.push((r+1)*(s-1)+(a-1),t,i),m.push(t,n,i)}}()}(),this.setIndex(m),this.addAttribute("position",new Xn(f,3)),this.addAttribute("normal",new Xn(d,3)),this.addAttribute("uv",new Xn(p,2))}function So(t,e,n,r,i,o,a){Fn.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Mo(t,e,n,r,i,o)),this.mergeVertices()}function Mo(t,e,n,r,i,o){$n.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||1,e=e||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,u=[],c=[],l=[],h=[],f=new Qe,d=new Qe,p=new Qe,m=new Qe,g=new Qe,v=new Qe,y=new Qe;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(E(b,i,o,t,p),E(b+.01,i,o,t,m),v.subVectors(m,p),y.addVectors(m,p),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var w=s/r*Math.PI*2,_=-e*Math.cos(w),x=e*Math.sin(w);f.x=p.x+(_*y.x+x*g.x),f.y=p.y+(_*y.y+x*g.y),f.z=p.z+(_*y.z+x*g.z),c.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),l.push(d.x,d.y,d.z),h.push(a/n),h.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var S=(r+1)*s+(a-1),M=(r+1)*s+a,C=(r+1)*(s-1)+a;u.push((r+1)*(s-1)+(a-1),S,C),u.push(S,M,C)}function E(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new Xn(c,3)),this.addAttribute("normal",new Xn(l,3)),this.addAttribute("uv",new Xn(h,2))}function Co(t,e,n,r,i){Fn.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Eo(t,e,n,r,i)),this.mergeVertices()}function Eo(t,e,n,r,i){$n.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||1,e=e||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],c=[],l=[],h=new Qe,f=new Qe,d=new Qe;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var p=a/r*i,m=o/n*Math.PI*2;f.x=(t+e*Math.cos(m))*Math.cos(p),f.y=(t+e*Math.cos(m))*Math.sin(p),f.z=e*Math.sin(m),u.push(f.x,f.y,f.z),h.x=t*Math.cos(p),h.y=t*Math.sin(p),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),l.push(a/r),l.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*(o-1)+a-1,v=(r+1)*(o-1)+a,y=(r+1)*o+a;s.push((r+1)*o+a-1,g,y),s.push(g,v,y)}this.setIndex(s),this.addAttribute("position",new Xn(u,3)),this.addAttribute("normal",new Xn(c,3)),this.addAttribute("uv",new Xn(l,2))}function To(t,e,n,r,i){var o,a;if(i===function(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Wo(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Wo(o,t[o],t[o+1],a);return a&&Bo(a,a.next)&&(qo(a),a=a.next),a}function Oo(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Bo(r,r.next)&&0!==Vo(r.prev,r,r.next))r=r.next;else{if(qo(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Po(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Io(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,c=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?ko(t,r,i,o):Ao(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),qo(t),t=u.next,c=u.next;else if((t=u)===c){a?1===a?Po(t=Lo(t,e,n),e,n,r,i,o,2):2===a&&Ro(t,e,n,r,i,o):Po(Oo(t),e,n,r,i,o,1);break}}}function Ao(t){var e=t.prev,n=t,r=t.next;if(Vo(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(zo(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Vo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ko(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Vo(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=Io(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),l=Io(s,u,e,n,r),h=t.nextZ;h&&h.z<=l;){if(h!==t.prev&&h!==t.next&&zo(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Vo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=c;){if(h!==t.prev&&h!==t.next&&zo(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Vo(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function Lo(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Bo(i,o)&&Uo(i,r,r.next,o)&&Ho(i,o)&&Ho(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),qo(r),qo(r.next),r=t=o),r=r.next}while(r!==t);return r}function Ro(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Fo(a,s)){var u=Go(a,s);return a=Oo(a,a.next),u=Oo(u,u.next),Po(a,e,n,r,i,o),void Po(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function Do(t,e){return t.x-e.x}function No(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,c=n,l=n.x,h=n.y,f=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=l&&i!==r.x&&zo(o<h?i:a,o,l,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&Ho(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=Go(e,t);Oo(n,n.next)}}function Io(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function jo(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function zo(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Fo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Uo(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Ho(t,e)&&Ho(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function Vo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Bo(t,e){return t.x===e.x&&t.y===e.y}function Uo(t,e,n,r){return!!(Bo(t,e)&&Bo(n,r)||Bo(t,r)&&Bo(n,e))||Vo(t,e,n)>0!=Vo(t,e,r)>0&&Vo(n,r,t)>0!=Vo(n,r,e)>0}function Ho(t,e){return Vo(t.prev,t,t.next)<0?Vo(t,e,t.next)>=0&&Vo(t,t.prev,e)>=0:Vo(t,e,t.prev)<0||Vo(t,t.next,e)<0}function Go(t,e){var n=new Yo(t.i,t.x,t.y),r=new Yo(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Wo(t,e,n,r){var i=new Yo(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Yo(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}(ki.prototype=Object.create(gr.prototype)).constructor=ki,ki.prototype.isMeshDepthMaterial=!0,ki.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},(Li.prototype=Object.create(gr.prototype)).constructor=Li,Li.prototype.isMeshDistanceMaterial=!0,Li.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Ni.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Ni,isGroup:!0}),Ii.prototype=Object.assign(Object.create(Rn.prototype),{constructor:Ii,isPerspectiveCamera:!0,copy:function(t,e){return Rn.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Xe.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Xe.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Xe.RAD2DEG*Math.atan(Math.tan(.5*Xe.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Xe.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=Ln.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),ji.prototype=Object.assign(Object.create(Ii.prototype),{constructor:ji,isArrayCamera:!0}),Vi.prototype.isFogExp2=!0,Vi.prototype.clone=function(){return new Vi(this.color,this.density)},Vi.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Bi.prototype.isFog=!0,Bi.prototype.clone=function(){return new Bi(this.color,this.near,this.far)},Bi.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Ui.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Ui,copy:function(t,e){return Ln.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Ln.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Object.defineProperty(Hi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Hi.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Gi.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Gi.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),(Wi.prototype=Object.create(gr.prototype)).constructor=Wi,Wi.prototype.isSpriteMaterial=!0,Wi.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},qi.prototype=Object.assign(Object.create(Ln.prototype),{constructor:qi,isSprite:!0,raycast:function(){var t=new Qe,e=new Qe,n=new Qe,r=new Ze,i=new Ze,o=new Je,a=new Qe,s=new Qe,u=new Qe;function c(t,e,n,a,s,u){r.subVectors(t,n).addScalar(.5).multiply(a),void 0!==s?(i.x=u*r.x-s*r.y,i.y=s*r.x+u*r.y):i.copy(r),t.copy(e),t.x+=i.x,t.y+=i.y,t.applyMatrix4(o)}return function(r,i){e.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var l,h,f=this.material.rotation;0!==f&&(h=Math.cos(f),l=Math.sin(f));var d=this.center;c(a.set(-.5,-.5,0),n,d,e,l,h),c(s.set(.5,-.5,0),n,d,e,l,h),c(u.set(.5,.5,0),n,d,e,l,h);var p=r.ray.intersectTriangle(a,s,u,!1,t);if(null!==p||(c(s.set(-.5,.5,0),n,d,e,l,h),null!==(p=r.ray.intersectTriangle(a,u,s,!1,t)))){var m=r.ray.origin.distanceTo(t);m<r.near||m>r.far||i.push({distance:m,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Ln.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Yi.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Yi,copy:function(t){Ln.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:(Mi=new Qe,function(t,e){Mi.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(Mi);this.getObjectForDistance(n).raycast(t,e)}),update:function(){var t=new Qe,e=new Qe;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=Ln.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Xi.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Je;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Ci=new Je,Ei=new Je,function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=t.length;i<o;i++)Ci.multiplyMatrices(t[i]?t[i].matrixWorld:Ei,e[i]),Ci.toArray(n,16*i);void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new Xi(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e];if(r.name===t)return r}}}),Zi.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Zi,isBone:!0}),Ji.prototype=Object.assign(Object.create(_r.prototype),{constructor:Ji,isSkinnedMesh:!0,initBones:function(){var t,e,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)e=this.geometry.bones[n],t=new Zi,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)-1!==(e=this.geometry.bones[n]).parent&&null!==e.parent&&void 0!==i[e.parent]?i[e.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];(t=1/n.manhattanLength())!=1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new un,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)r.x=i.getX(e),r.y=i.getY(e),r.z=i.getZ(e),r.w=i.getW(e),(t=1/r.manhattanLength())!=1/0?r.multiplyScalar(t):r.set(1,0,0,0),i.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){_r.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(Ki.prototype=Object.create(gr.prototype)).constructor=Ki,Ki.prototype.isLineBasicMaterial=!0,Ki.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Qi.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Qi,isLine:!0,computeLineDistances:(Ti=new Qe,Oi=new Qe,function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],r=1,i=e.count;r<i;r++)Ti.fromBufferAttribute(e,r-1),Oi.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=Ti.distanceTo(Oi);t.addAttribute("lineDistance",new Xn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices;for((n=t.lineDistances)[0]=0,r=1,i=o.length;r<i;r++)n[r]=n[r-1],n[r]+=o[r-1].distanceTo(o[r])}return this}),raycast:function(){var t=new Je,e=new br,n=new dn;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var c=new Qe,l=new Qe,h=new Qe,f=new Qe,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var p=s.index,m=s.attributes.position.array;if(null!==p)for(var g=p.array,v=0,y=g.length-1;v<y;v+=d){var b=g[v+1];c.fromArray(m,3*g[v]),l.fromArray(m,3*b),e.distanceSqToSegment(c,l,f,h)>a||(f.applyMatrix4(this.matrixWorld),(x=r.ray.origin.distanceTo(f))<r.near||x>r.far||i.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else for(v=0,y=m.length/3-1;v<y;v+=d)c.fromArray(m,3*v),l.fromArray(m,3*v+3),e.distanceSqToSegment(c,l,f,h)>a||(f.applyMatrix4(this.matrixWorld),(x=r.ray.origin.distanceTo(f))<r.near||x>r.far||i.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else if(s.isGeometry){var w=s.vertices,_=w.length;for(v=0;v<_-1;v+=d){var x;e.distanceSqToSegment(w[v],w[v+1],f,h)>a||(f.applyMatrix4(this.matrixWorld),(x=r.ray.origin.distanceTo(f))<r.near||x>r.far||i.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),$i.prototype=Object.assign(Object.create(Qi.prototype),{constructor:$i,isLineSegments:!0,computeLineDistances:function(){var t=new Qe,e=new Qe;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],o=0,a=r.count;o<a;o+=2)t.fromBufferAttribute(r,o),e.fromBufferAttribute(r,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e);n.addAttribute("lineDistance",new Xn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,o=0,a=s.length;o<a;o+=2)t.copy(s[o]),e.copy(s[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e)}return this}}()}),to.prototype=Object.assign(Object.create(Qi.prototype),{constructor:to,isLineLoop:!0}),(eo.prototype=Object.create(gr.prototype)).constructor=eo,eo.prototype.isPointsMaterial=!0,eo.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},no.prototype=Object.assign(Object.create(Ln.prototype),{constructor:no,isPoints:!0,raycast:function(){var t=new Je,e=new br,n=new dn;return function(r,i){var o=this,a=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=u,!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var c=u/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,h=new Qe,f=new Qe;if(a.isBufferGeometry){var d=a.index,p=a.attributes.position.array;if(null!==d)for(var m=d.array,g=0,v=m.length;g<v;g++){var y=m[g];h.fromArray(p,3*y),_(h,y)}else{g=0;for(var b=p.length/3;g<b;g++)h.fromArray(p,3*g),_(h,g)}}else{var w=a.vertices;for(g=0,b=w.length;g<b;g++)_(w[g],g)}}function _(t,n){var a=e.distanceSqToPoint(t);if(a<l){e.closestPointToPoint(t,f),f.applyMatrix4(s);var u=r.ray.origin.distanceTo(f);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(a),point:f.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ro.prototype=Object.assign(Object.create(sn.prototype),{constructor:ro,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(io.prototype=Object.create(sn.prototype)).constructor=io,io.prototype.isCompressedTexture=!0,(oo.prototype=Object.create(sn.prototype)).constructor=oo,oo.prototype.isCanvasTexture=!0,(ao.prototype=Object.create(sn.prototype)).constructor=ao,ao.prototype.isDepthTexture=!0,(so.prototype=Object.create($n.prototype)).constructor=so,(uo.prototype=Object.create(Fn.prototype)).constructor=uo,(co.prototype=Object.create($n.prototype)).constructor=co,(lo.prototype=Object.create(Fn.prototype)).constructor=lo,(ho.prototype=Object.create($n.prototype)).constructor=ho,(fo.prototype=Object.create(Fn.prototype)).constructor=fo,(po.prototype=Object.create(ho.prototype)).constructor=po,(mo.prototype=Object.create(Fn.prototype)).constructor=mo,(go.prototype=Object.create(ho.prototype)).constructor=go,(vo.prototype=Object.create(Fn.prototype)).constructor=vo,(yo.prototype=Object.create(ho.prototype)).constructor=yo,(bo.prototype=Object.create(Fn.prototype)).constructor=bo,(wo.prototype=Object.create(ho.prototype)).constructor=wo,(_o.prototype=Object.create(Fn.prototype)).constructor=_o,(xo.prototype=Object.create($n.prototype)).constructor=xo,(So.prototype=Object.create(Fn.prototype)).constructor=So,(Mo.prototype=Object.create($n.prototype)).constructor=Mo,(Co.prototype=Object.create(Fn.prototype)).constructor=Co,(Eo.prototype=Object.create($n.prototype)).constructor=Eo;var Xo={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},isClockWise:function(t){return Xo.area(t)<0},triangulateShape:function(t,e){var n=[],r=[],i=[];Zo(t),Jo(n,t);var o=t.length;e.forEach(Zo);for(var a=0;a<e.length;a++)r.push(o),o+=e[a].length,Jo(n,e[a]);var s=function(t,e,n){n=n||2;var r,i,o,a,s,u,c,l=e&&e.length,h=l?e[0]*n:t.length,f=To(t,0,h,n,!0),d=[];if(!f)return d;if(l&&(f=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=To(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(jo(a));for(s.sort(Do),i=0;i<s.length;i++)No(s[i],n),n=Oo(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var p=n;p<h;p+=n)u=t[p+1],(s=t[p])<r&&(r=s),u<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return Po(f,d,n,r,i,c),d}(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function Zo(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Jo(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function Ko(t,e){Fn.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Qo(t,e)),this.mergeVertices()}function Qo(t,e){$n.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e};for(var n=this,r=[],i=[],o=0,a=(t=Array.isArray(t)?t:[t]).length;o<a;o++)s(t[o]);function s(t){var o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,l=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:l-2,f=void 0!==e.bevelSegments?e.bevelSegments:3,d=e.extrudePath,p=void 0!==e.UVGenerator?e.UVGenerator:$o;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=e.amount);var m,g,v,y,b,w,_,x,S=!1;d&&(m=d.getSpacedPoints(s),S=!0,c=!1,g=d.computeFrenetFrames(s,!1),v=new Qe,y=new Qe,b=new Qe),c||(f=0,l=0,h=0);var M=t.extractPoints(a),C=M.shape,E=M.holes;if(!Xo.isClockWise(C))for(C=C.reverse(),_=0,x=E.length;_<x;_++)Xo.isClockWise(w=E[_])&&(E[_]=w.reverse());var T=Xo.triangulateShape(C,E),O=C;for(_=0,x=E.length;_<x;_++)C=C.concat(w=E[_]);function P(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var A,k,L,R,D,N,I=C.length,j=T.length;function z(t,e,n){var r,i,o,a=t.x-e.x,s=t.y-e.y,u=n.x-t.x,c=n.y-t.y,l=a*a+s*s;if(Math.abs(a*c-s*u)>Number.EPSILON){var h=Math.sqrt(l),f=Math.sqrt(u*u+c*c),d=e.x-s/h,p=e.y+a/h,m=((n.x-c/f-d)*c-(n.y+u/f-p)*u)/(a*c-s*u),g=(r=d+a*m-t.x)*r+(i=p+s*m-t.y)*i;if(g<=2)return new Ze(r,i);o=Math.sqrt(g/2)}else{var v=!1;a>Number.EPSILON?u>Number.EPSILON&&(v=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(c)&&(v=!0),v?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new Ze(r/o,i/o)}for(var F=[],V=0,B=O.length,U=B-1,H=V+1;V<B;V++,U++,H++)U===B&&(U=0),H===B&&(H=0),F[V]=z(O[V],O[U],O[H]);var G,W,q=[],Y=F.concat();for(_=0,x=E.length;_<x;_++){for(G=[],U=(B=(w=E[_]).length)-1,H=1+(V=0);V<B;V++,U++,H++)U===B&&(U=0),H===B&&(H=0),G[V]=z(w[V],w[U],w[H]);q.push(G),Y=Y.concat(G)}for(A=0;A<f;A++){for(L=A/f,R=l*Math.cos(L*Math.PI/2),k=h*Math.sin(L*Math.PI/2),V=0,B=O.length;V<B;V++)Z((D=P(O[V],F[V],k)).x,D.y,-R);for(_=0,x=E.length;_<x;_++)for(G=q[_],V=0,B=(w=E[_]).length;V<B;V++)Z((D=P(w[V],G[V],k)).x,D.y,-R)}for(k=h,V=0;V<I;V++)D=c?P(C[V],Y[V],k):C[V],S?(y.copy(g.normals[0]).multiplyScalar(D.x),v.copy(g.binormals[0]).multiplyScalar(D.y),b.copy(m[0]).add(y).add(v),Z(b.x,b.y,b.z)):Z(D.x,D.y,0);for(W=1;W<=s;W++)for(V=0;V<I;V++)D=c?P(C[V],Y[V],k):C[V],S?(y.copy(g.normals[W]).multiplyScalar(D.x),v.copy(g.binormals[W]).multiplyScalar(D.y),b.copy(m[W]).add(y).add(v),Z(b.x,b.y,b.z)):Z(D.x,D.y,u/s*W);for(A=f-1;A>=0;A--){for(L=A/f,R=l*Math.cos(L*Math.PI/2),k=h*Math.sin(L*Math.PI/2),V=0,B=O.length;V<B;V++)Z((D=P(O[V],F[V],k)).x,D.y,u+R);for(_=0,x=E.length;_<x;_++)for(G=q[_],V=0,B=(w=E[_]).length;V<B;V++)D=P(w[V],G[V],k),S?Z(D.x,D.y+m[s-1].y,m[s-1].x+R):Z(D.x,D.y,u+R)}function X(t,e){var n,r;for(V=t.length;--V>=0;){n=V,(r=V-1)<0&&(r=t.length-1);var i=0,o=s+2*f;for(i=0;i<o;i++){var a=I*i,u=I*(i+1);K(e+n+a,e+r+a,e+r+u,e+n+u)}}}function Z(t,e,n){o.push(t),o.push(e),o.push(n)}function J(t,e,i){Q(t),Q(e),Q(i);var o=r.length/3,a=p.generateTopUV(n,r,o-3,o-2,o-1);$(a[0]),$(a[1]),$(a[2])}function K(t,e,i,o){Q(t),Q(e),Q(o),Q(e),Q(i),Q(o);var a=r.length/3,s=p.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function Q(t){r.push(o[3*t+0]),r.push(o[3*t+1]),r.push(o[3*t+2])}function $(t){i.push(t.x),i.push(t.y)}!function(){var t=r.length/3;if(c){var e=0,i=I*e;for(V=0;V<j;V++)J((N=T[V])[2]+i,N[1]+i,N[0]+i);for(i=I*(e=s+2*f),V=0;V<j;V++)J((N=T[V])[0]+i,N[1]+i,N[2]+i)}else{for(V=0;V<j;V++)J((N=T[V])[2],N[1],N[0]);for(V=0;V<j;V++)J((N=T[V])[0]+I*s,N[1]+I*s,N[2]+I*s)}n.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(X(O,e),e+=O.length,_=0,x=E.length;_<x;_++)X(w=E[_],e),e+=w.length;n.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new Xn(r,3)),this.addAttribute("uv",new Xn(i,2)),this.computeVertexNormals()}(Ko.prototype=Object.create(Fn.prototype)).constructor=Ko,Ko.prototype.toJSON=function(){var t=Fn.prototype.toJSON.call(this);return ta(this.parameters.shapes,this.parameters.options,t)},(Qo.prototype=Object.create($n.prototype)).constructor=Qo,Qo.prototype.toJSON=function(){var t=$n.prototype.toJSON.call(this);return ta(this.parameters.shapes,this.parameters.options,t)};var $o={generateTopUV:function(t,e,n,r,i){var o=e[3*r],a=e[3*r+1],s=e[3*i],u=e[3*i+1];return[new Ze(e[3*n],e[3*n+1]),new Ze(o,a),new Ze(s,u)]},generateSideWallUV:function(t,e,n,r,i,o){var a=e[3*n],s=e[3*n+1],u=e[3*n+2],c=e[3*r],l=e[3*r+1],h=e[3*r+2],f=e[3*i],d=e[3*i+1],p=e[3*i+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(s-l)<.01?[new Ze(a,1-u),new Ze(c,1-h),new Ze(f,1-p),new Ze(m,1-v)]:[new Ze(s,1-u),new Ze(l,1-h),new Ze(d,1-p),new Ze(g,1-v)]}};function ta(t,e,n){if(n.shapes=[],Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.shapes.push(t[r].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function ea(t,e){Fn.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new na(t,e)),this.mergeVertices()}function na(t,e){var n=(e=e||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Fn;var r=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Qo.call(this,r,e),this.type="TextBufferGeometry"}function ra(t,e,n,r,i,o,a){Fn.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new ia(t,e,n,r,i,o,a)),this.mergeVertices()}function ia(t,e,n,r,i,o,a){$n.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,u,c=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),l=0,h=[],f=new Qe,d=new Qe,p=[],m=[],g=[],v=[];for(u=0;u<=n;u++){var y=[],b=u/n;for(s=0;s<=e;s++){var w=s/e;f.x=-t*Math.cos(r+w*i)*Math.sin(o+b*a),f.y=t*Math.cos(o+b*a),f.z=t*Math.sin(r+w*i)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),d.set(f.x,f.y,f.z).normalize(),g.push(d.x,d.y,d.z),v.push(w,1-b),y.push(l++)}h.push(y)}for(u=0;u<n;u++)for(s=0;s<e;s++){var _=h[u][s],x=h[u+1][s],S=h[u+1][s+1];(0!==u||o>0)&&p.push(h[u][s+1],_,S),(u!==n-1||c<Math.PI)&&p.push(_,x,S)}this.setIndex(p),this.addAttribute("position",new Xn(m,3)),this.addAttribute("normal",new Xn(g,3)),this.addAttribute("uv",new Xn(v,2))}function oa(t,e,n,r,i,o){Fn.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new aa(t,e,n,r,i,o)),this.mergeVertices()}function aa(t,e,n,r,i,o){$n.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||.5,e=e||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,u,c=[],l=[],h=[],f=[],d=t,p=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new Qe,g=new Ze;for(s=0;s<=r;s++){for(u=0;u<=n;u++)a=i+u/n*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),l.push(m.x,m.y,m.z),h.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,f.push(g.x,g.y);d+=p}for(s=0;s<r;s++){var v=s*(n+1);for(u=0;u<n;u++){var y=(a=u+v)+n+1,b=a+n+2,w=a+1;c.push(a,y,w),c.push(y,b,w)}}this.setIndex(c),this.addAttribute("position",new Xn(l,3)),this.addAttribute("normal",new Xn(h,3)),this.addAttribute("uv",new Xn(f,2))}function sa(t,e,n,r){Fn.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new ua(t,e,n,r)),this.mergeVertices()}function ua(t,e,n,r){$n.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Xe.clamp(r,0,2*Math.PI);var i,o,a,s=[],u=[],c=[],l=1/e,h=new Qe,f=new Ze;for(o=0;o<=e;o++){var d=n+o*l*r,p=Math.sin(d),m=Math.cos(d);for(a=0;a<=t.length-1;a++)h.x=t[a].x*p,h.y=t[a].y,h.z=t[a].x*m,u.push(h.x,h.y,h.z),f.x=o/e,f.y=a/(t.length-1),c.push(f.x,f.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var g=(i=a+o*t.length)+t.length,v=i+t.length+1,y=i+1;s.push(i,g,y),s.push(g,v,y)}if(this.setIndex(s),this.addAttribute("position",new Xn(u,3)),this.addAttribute("uv",new Xn(c,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new Qe,_=new Qe,x=new Qe;for(i=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)w.x=b[a+0],w.y=b[a+1],w.z=b[a+2],_.x=b[i+a+0],_.y=b[i+a+1],_.z=b[i+a+2],x.addVectors(w,_).normalize(),b[a+0]=b[i+a+0]=x.x,b[a+1]=b[i+a+1]=x.y,b[a+2]=b[i+a+2]=x.z}}function ca(t,e){Fn.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new la(t,e)),this.mergeVertices()}function la(t,e){$n.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(t))c(t);else for(var u=0;u<t.length;u++)c(t[u]),this.addGroup(a,s,u),a+=s,s=0;function c(t){var a,u,c,l=r.length/3,h=t.extractPoints(e),f=h.shape,d=h.holes;if(!1===Xo.isClockWise(f))for(f=f.reverse(),a=0,u=d.length;a<u;a++)!0===Xo.isClockWise(c=d[a])&&(d[a]=c.reverse());var p=Xo.triangulateShape(f,d);for(a=0,u=d.length;a<u;a++)f=f.concat(c=d[a]);for(a=0,u=f.length;a<u;a++){var m=f[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,u=p.length;a<u;a++){var g=p[a];n.push(g[0]+l,g[1]+l,g[2]+l),s+=3}}this.setIndex(n),this.addAttribute("position",new Xn(r,3)),this.addAttribute("normal",new Xn(i,3)),this.addAttribute("uv",new Xn(o,2))}function ha(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}function fa(t,e){$n.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,r,i,o,a=[],s=Math.cos(Xe.DEG2RAD*e),u=[0,0],c={},l=["a","b","c"];t.isBufferGeometry?(o=new Fn).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,f=o.faces,d=0,p=f.length;d<p;d++)for(var m=f[d],g=0;g<3;g++)n=m[l[g]],r=m[l[(g+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),void 0===c[i=u[0]+","+u[1]]?c[i]={index1:u[0],index2:u[1],face1:d,face2:void 0}:c[i].face2=d;for(i in c){var v=c[i];if(void 0===v.face2||f[v.face1].normal.dot(f[v.face2].normal)<=s){var y=h[v.index1];a.push(y.x,y.y,y.z),a.push((y=h[v.index2]).x,y.y,y.z)}}this.addAttribute("position",new Xn(a,3))}function da(t,e,n,r,i,o,a,s){Fn.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new pa(t,e,n,r,i,o,a,s)),this.mergeVertices()}function pa(t,e,n,r,i,o,a,s){$n.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],l=[],h=[],f=[],d=0,p=[],m=n/2,g=0;function v(n){var i,o,p,v=new Ze,y=new Qe,b=0,w=!0===n?t:e,_=!0===n?1:-1;for(o=d,i=1;i<=r;i++)l.push(0,m*_,0),h.push(0,_,0),f.push(.5,.5),d++;for(p=d,i=0;i<=r;i++){var x=i/r*s+a,S=Math.cos(x),M=Math.sin(x);y.x=w*M,y.y=m*_,y.z=w*S,l.push(y.x,y.y,y.z),h.push(0,_,0),v.x=.5*S+.5,v.y=.5*M*_+.5,f.push(v.x,v.y),d++}for(i=0;i<r;i++){var C=o+i,E=p+i;!0===n?c.push(E,E+1,C):c.push(E+1,E,C),b+=3}u.addGroup(g,b,!0===n?1:2),g+=b}!function(){var o,v,y=new Qe,b=new Qe,w=0,_=(e-t)/n;for(v=0;v<=i;v++){var x=[],S=v/i,M=S*(e-t)+t;for(o=0;o<=r;o++){var C=o/r,E=C*s+a,T=Math.sin(E),O=Math.cos(E);b.x=M*T,b.y=-S*n+m,b.z=M*O,l.push(b.x,b.y,b.z),y.set(T,_,O).normalize(),h.push(y.x,y.y,y.z),f.push(C,1-S),x.push(d++)}p.push(x)}for(o=0;o<r;o++)for(v=0;v<i;v++){var P=p[v+1][o],A=p[v+1][o+1],k=p[v][o+1];c.push(p[v][o],P,k),c.push(P,A,k),w+=6}u.addGroup(g,w,0),g+=w}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(c),this.addAttribute("position",new Xn(l,3)),this.addAttribute("normal",new Xn(h,3)),this.addAttribute("uv",new Xn(f,2))}function ma(t,e,n,r,i,o,a){da.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function ga(t,e,n,r,i,o,a){pa.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function va(t,e,n,r){Fn.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new ya(t,e,n,r)),this.mergeVertices()}function ya(t,e,n,r){$n.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],u=[],c=[],l=new Qe,h=new Ze;for(s.push(0,0,0),u.push(0,0,1),c.push(.5,.5),o=0,i=3;o<=e;o++,i+=3){var f=n+o/e*r;l.x=t*Math.cos(f),l.y=t*Math.sin(f),s.push(l.x,l.y,l.z),u.push(0,0,1),h.x=(s[i]/t+1)/2,h.y=(s[i+1]/t+1)/2,c.push(h.x,h.y)}for(i=1;i<=e;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new Xn(s,3)),this.addAttribute("normal",new Xn(u,3)),this.addAttribute("uv",new Xn(c,2))}(ea.prototype=Object.create(Fn.prototype)).constructor=ea,(na.prototype=Object.create(Qo.prototype)).constructor=na,(ra.prototype=Object.create(Fn.prototype)).constructor=ra,(ia.prototype=Object.create($n.prototype)).constructor=ia,(oa.prototype=Object.create(Fn.prototype)).constructor=oa,(aa.prototype=Object.create($n.prototype)).constructor=aa,(sa.prototype=Object.create(Fn.prototype)).constructor=sa,(ua.prototype=Object.create($n.prototype)).constructor=ua,(ca.prototype=Object.create(Fn.prototype)).constructor=ca,ca.prototype.toJSON=function(){var t=Fn.prototype.toJSON.call(this);return ha(this.parameters.shapes,t)},(la.prototype=Object.create($n.prototype)).constructor=la,la.prototype.toJSON=function(){var t=$n.prototype.toJSON.call(this);return ha(this.parameters.shapes,t)},(fa.prototype=Object.create($n.prototype)).constructor=fa,(da.prototype=Object.create(Fn.prototype)).constructor=da,(pa.prototype=Object.create($n.prototype)).constructor=pa,(ma.prototype=Object.create(da.prototype)).constructor=ma,(ga.prototype=Object.create(pa.prototype)).constructor=ga,(va.prototype=Object.create(Fn.prototype)).constructor=va,(ya.prototype=Object.create($n.prototype)).constructor=ya;var ba=Object.freeze({WireframeGeometry:so,ParametricGeometry:uo,ParametricBufferGeometry:co,TetrahedronGeometry:fo,TetrahedronBufferGeometry:po,OctahedronGeometry:mo,OctahedronBufferGeometry:go,IcosahedronGeometry:vo,IcosahedronBufferGeometry:yo,DodecahedronGeometry:bo,DodecahedronBufferGeometry:wo,PolyhedronGeometry:lo,PolyhedronBufferGeometry:ho,TubeGeometry:_o,TubeBufferGeometry:xo,TorusKnotGeometry:So,TorusKnotBufferGeometry:Mo,TorusGeometry:Co,TorusBufferGeometry:Eo,TextGeometry:ea,TextBufferGeometry:na,SphereGeometry:ra,SphereBufferGeometry:ia,RingGeometry:oa,RingBufferGeometry:aa,PlaneGeometry:nr,PlaneBufferGeometry:rr,LatheGeometry:sa,LatheBufferGeometry:ua,ShapeGeometry:ca,ShapeBufferGeometry:la,ExtrudeGeometry:Ko,ExtrudeBufferGeometry:Qo,EdgesGeometry:fa,ConeGeometry:ma,ConeBufferGeometry:ga,CylinderGeometry:da,CylinderBufferGeometry:pa,CircleGeometry:va,CircleBufferGeometry:ya,BoxGeometry:tr,BoxBufferGeometry:er});function wa(t){gr.call(this),this.type="ShadowMaterial",this.color=new wn(0),this.transparent=!0,this.setValues(t)}function _a(t){yr.call(this,t),this.type="RawShaderMaterial"}function xa(t){gr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qe,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Sa(t){xa.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Ma(t){gr.call(this),this.type="MeshPhongMaterial",this.color=new wn(16777215),this.specular=new wn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qe,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ca(t){Ma.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Ea(t){gr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qe,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ta(t){gr.call(this),this.type="MeshLambertMaterial",this.color=new wn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oa(t){Ki.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}(wa.prototype=Object.create(gr.prototype)).constructor=wa,wa.prototype.isShadowMaterial=!0,wa.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this},(_a.prototype=Object.create(yr.prototype)).constructor=_a,_a.prototype.isRawShaderMaterial=!0,(xa.prototype=Object.create(gr.prototype)).constructor=xa,xa.prototype.isMeshStandardMaterial=!0,xa.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Sa.prototype=Object.create(xa.prototype)).constructor=Sa,Sa.prototype.isMeshPhysicalMaterial=!0,Sa.prototype.copy=function(t){return xa.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},(Ma.prototype=Object.create(gr.prototype)).constructor=Ma,Ma.prototype.isMeshPhongMaterial=!0,Ma.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Ca.prototype=Object.create(Ma.prototype)).constructor=Ca,Ca.prototype.isMeshToonMaterial=!0,Ca.prototype.copy=function(t){return Ma.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},(Ea.prototype=Object.create(gr.prototype)).constructor=Ea,Ea.prototype.isMeshNormalMaterial=!0,Ea.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Ta.prototype=Object.create(gr.prototype)).constructor=Ta,Ta.prototype.isMeshLambertMaterial=!0,Ta.prototype.copy=function(t){return gr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Oa.prototype=Object.create(Ki.prototype)).constructor=Oa,Oa.prototype.isLineDashedMaterial=!0,Oa.prototype.copy=function(t){return Ki.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Pa=Object.freeze({ShadowMaterial:wa,SpriteMaterial:Wi,RawShaderMaterial:_a,ShaderMaterial:yr,PointsMaterial:eo,MeshPhysicalMaterial:Sa,MeshStandardMaterial:xa,MeshPhongMaterial:Ma,MeshToonMaterial:Ca,MeshNormalMaterial:Ea,MeshLambertMaterial:Ta,MeshDepthMaterial:ki,MeshDistanceMaterial:Li,MeshBasicMaterial:vr,LineDashedMaterial:Oa,LineBasicMaterial:Ki,Material:gr}),Aa={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function ka(t,e,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var La=new ka,Ra={};function Da(t){this.manager=void 0!==t?t:La}function Na(t){this.manager=void 0!==t?t:La,this._parser=null}function Ia(t){this.manager=void 0!==t?t:La,this._parser=null}function ja(t){this.manager=void 0!==t?t:La}function za(t){this.manager=void 0!==t?t:La}function Fa(t){this.manager=void 0!==t?t:La}function Va(){this.type="Curve",this.arcLengthDivisions=200}function Ba(t,e,n,r,i,o,a,s){Va.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Ua(t,e,n,r,i,o){Ba.call(this,t,e,n,n,r,i,o),this.type="ArcCurve"}function Ha(){var t=0,e=0,n=0,r=0;function i(i,o,a,s){t=i,e=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(t,e,n,r,o){i(e,n,o*(n-t),o*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,o,a,s){var u=(e-t)/o-(n-t)/(o+a)+(n-e)/a,c=(n-e)/a-(r-e)/(a+s)+(r-n)/s;i(e,n,u*=a,c*=a)},calc:function(i){var o=i*i;return t+e*i+n*o+r*(o*i)}}}Object.assign(Da.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Aa.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;if(void 0===Ra[t]){var a=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],u=!!a[2],c=a[3];c=window.decodeURIComponent(c),u&&(c=window.atob(c));try{var l,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),d=0;d<c.length;d++)f[d]=c.charCodeAt(d);l="blob"===h?new Blob([f.buffer],{type:s}):f.buffer;break;case"document":var p=new DOMParser;l=p.parseFromString(c,s);break;case"json":l=JSON.parse(c);break;default:l=c}window.setTimeout(function(){e&&e(l),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{Ra[t]=[],Ra[t].push({onLoad:e,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open("GET",t,!0),m.addEventListener("load",function(e){var n=this.response;Aa.add(t,n);var r=Ra[t];if(delete Ra[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++)(s=r[o]).onLoad&&s.onLoad(n);i.manager.itemEnd(t)}else{for(o=0,a=r.length;o<a;o++){var s;(s=r[o]).onError&&s.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)}},!1),m.addEventListener("progress",function(e){for(var n=Ra[t],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(e)}},!1),m.addEventListener("error",function(e){var n=Ra[t];delete Ra[t];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(t),m}Ra[t].push({onLoad:e,onProgress:n,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Na.prototype,{load:function(t,e,n,r){var i=this,o=[],a=new io;a.image=o;var s=new Da(this.manager);function u(u){s.load(t[u],function(t){var n=i._parser(t,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=Lt),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,l=0,h=t.length;l<h;++l)u(l);else s.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Lt),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,r);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Ia.prototype,{load:function(t,e,n,r){var i=this,o=new hn,a=new Da(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Tt,o.wrapT=void 0!==n.wrapT?n.wrapT:Tt,o.magFilter=void 0!==n.magFilter?n.magFilter:Lt,o.minFilter=void 0!==n.minFilter?n.minFilter:Dt,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Lt),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(ja.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Aa.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),Aa.add(t,this),e&&e(this),i.manager.itemEnd(t)}function u(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(za.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=new Sr,o=new ja(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(t[n],function(t){i.images[n]=t,6==++a&&(i.needsUpdate=!0,e&&e(i))},void 0,r)}for(var u=0;u<t.length;++u)s(u);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Fa.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=new sn,o=new ja(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(n){i.image=n;var r=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?Xt:Zt,i.needsUpdate=!0,void 0!==e&&e(i)},n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Va.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)o+=(e=this.getPoint(n/t)).distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,u=o-1;s<=u;)if((a=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i=new Qe,o=[],a=[],s=[],u=new Qe,c=new Je;for(n=0;n<=t;n++)o[n]=this.getTangentAt(n/t),o[n].normalize();a[0]=new Qe,s[0]=new Qe;var l=Number.MAX_VALUE,h=Math.abs(o[0].x),f=Math.abs(o[0].y),d=Math.abs(o[0].z);for(h<=l&&(l=h,i.set(1,0,0)),f<=l&&(l=f,i.set(0,1,0)),d<=l&&i.set(0,0,1),u.crossVectors(o[0],i).normalize(),a[0].crossVectors(o[0],u),s[0].crossVectors(o[0],a[0]),n=1;n<=t;n++)a[n]=a[n-1].clone(),s[n]=s[n-1].clone(),u.crossVectors(o[n-1],o[n]),u.length()>Number.EPSILON&&(u.normalize(),r=Math.acos(Xe.clamp(o[n-1].dot(o[n]),-1,1)),a[n].applyMatrix4(c.makeRotationAxis(u,r))),s[n].crossVectors(o[n],a[n]);if(!0===e)for(r=Math.acos(Xe.clamp(a[0].dot(a[t]),-1,1)),r/=t,o[0].dot(u.crossVectors(a[0],a[t]))>0&&(r=-r),n=1;n<=t;n++)a[n].applyMatrix4(c.makeRotationAxis(o[n],r*n)),s[n].crossVectors(o[n],a[n]);return{tangents:o,normals:a,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),(Ba.prototype=Object.create(Va.prototype)).constructor=Ba,Ba.prototype.isEllipseCurve=!0,Ba.prototype.getPoint=function(t,e){for(var n=e||new Ze,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),l=Math.sin(this.aRotation),h=s-this.aX,f=u-this.aY;s=h*c-f*l+this.aX,u=h*l+f*c+this.aY}return n.set(s,u)},Ba.prototype.copy=function(t){return Va.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ba.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Ba.prototype.fromJSON=function(t){return Va.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},(Ua.prototype=Object.create(Ba.prototype)).constructor=Ua,Ua.prototype.isArcCurve=!0;var Ga=new Qe,Wa=new Ha,qa=new Ha,Ya=new Ha;function Xa(t,e,n,r){Va.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Za(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function Ja(t,e,n,r){return function(t,n){var r=1-t;return r*r*e}(t)+function(t,e){return 2*(1-t)*t*n}(t)+function(t,e){return t*t*r}(t)}function Ka(t,e,n,r,i){return function(t,n){var r=1-t;return r*r*r*e}(t)+function(t,e){var r=1-t;return 3*r*r*t*n}(t)+function(t,e){return 3*(1-t)*t*t*r}(t)+function(t,e){return t*t*t*i}(t)}function Qa(t,e,n,r){Va.call(this),this.type="CubicBezierCurve",this.v0=t||new Ze,this.v1=e||new Ze,this.v2=n||new Ze,this.v3=r||new Ze}function $a(t,e,n,r){Va.call(this),this.type="CubicBezierCurve3",this.v0=t||new Qe,this.v1=e||new Qe,this.v2=n||new Qe,this.v3=r||new Qe}function ts(t,e){Va.call(this),this.type="LineCurve",this.v1=t||new Ze,this.v2=e||new Ze}function es(t,e){Va.call(this),this.type="LineCurve3",this.v1=t||new Qe,this.v2=e||new Qe}function ns(t,e,n){Va.call(this),this.type="QuadraticBezierCurve",this.v0=t||new Ze,this.v1=e||new Ze,this.v2=n||new Ze}function rs(t,e,n){Va.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Qe,this.v1=e||new Qe,this.v2=n||new Qe}function is(t){Va.call(this),this.type="SplineCurve",this.points=t||[]}(Xa.prototype=Object.create(Va.prototype)).constructor=Xa,Xa.prototype.isCatmullRomCurve3=!0,Xa.prototype.getPoint=function(t,e){var n,r,i,o,a=e||new Qe,s=this.points,u=s.length,c=(u-(this.closed?0:1))*t,l=Math.floor(c),h=c-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/u)+1)*u:0===h&&l===u-1&&(l=u-2,h=1),this.closed||l>0?n=s[(l-1)%u]:(Ga.subVectors(s[0],s[1]).add(s[0]),n=Ga),r=s[l%u],i=s[(l+1)%u],this.closed||l+2<u?o=s[(l+2)%u]:(Ga.subVectors(s[u-1],s[u-2]).add(s[u-1]),o=Ga),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(r),f),p=Math.pow(r.distanceToSquared(i),f),m=Math.pow(i.distanceToSquared(o),f);p<1e-4&&(p=1),d<1e-4&&(d=p),m<1e-4&&(m=p),Wa.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,d,p,m),qa.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,d,p,m),Ya.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,d,p,m)}else"catmullrom"===this.curveType&&(Wa.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),qa.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),Ya.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(Wa.calc(h),qa.calc(h),Ya.calc(h)),a},Xa.prototype.copy=function(t){Va.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Xa.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Xa.prototype.fromJSON=function(t){Va.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new Qe).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},(Qa.prototype=Object.create(Va.prototype)).constructor=Qa,Qa.prototype.isCubicBezierCurve=!0,Qa.prototype.getPoint=function(t,e){var n=e||new Ze,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ka(t,r.x,i.x,o.x,a.x),Ka(t,r.y,i.y,o.y,a.y)),n},Qa.prototype.copy=function(t){return Va.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Qa.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Qa.prototype.fromJSON=function(t){return Va.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},($a.prototype=Object.create(Va.prototype)).constructor=$a,$a.prototype.isCubicBezierCurve3=!0,$a.prototype.getPoint=function(t,e){var n=e||new Qe,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ka(t,r.x,i.x,o.x,a.x),Ka(t,r.y,i.y,o.y,a.y),Ka(t,r.z,i.z,o.z,a.z)),n},$a.prototype.copy=function(t){return Va.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},$a.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},$a.prototype.fromJSON=function(t){return Va.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(ts.prototype=Object.create(Va.prototype)).constructor=ts,ts.prototype.isLineCurve=!0,ts.prototype.getPoint=function(t,e){var n=e||new Ze;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},ts.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ts.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ts.prototype.copy=function(t){return Va.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ts.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ts.prototype.fromJSON=function(t){return Va.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(es.prototype=Object.create(Va.prototype)).constructor=es,es.prototype.isLineCurve3=!0,es.prototype.getPoint=function(t,e){var n=e||new Qe;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},es.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},es.prototype.copy=function(t){return Va.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},es.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},es.prototype.fromJSON=function(t){return Va.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(ns.prototype=Object.create(Va.prototype)).constructor=ns,ns.prototype.isQuadraticBezierCurve=!0,ns.prototype.getPoint=function(t,e){var n=e||new Ze,r=this.v0,i=this.v1,o=this.v2;return n.set(Ja(t,r.x,i.x,o.x),Ja(t,r.y,i.y,o.y)),n},ns.prototype.copy=function(t){return Va.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ns.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ns.prototype.fromJSON=function(t){return Va.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(rs.prototype=Object.create(Va.prototype)).constructor=rs,rs.prototype.isQuadraticBezierCurve3=!0,rs.prototype.getPoint=function(t,e){var n=e||new Qe,r=this.v0,i=this.v1,o=this.v2;return n.set(Ja(t,r.x,i.x,o.x),Ja(t,r.y,i.y,o.y),Ja(t,r.z,i.z,o.z)),n},rs.prototype.copy=function(t){return Va.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},rs.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},rs.prototype.fromJSON=function(t){return Va.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(is.prototype=Object.create(Va.prototype)).constructor=is,is.prototype.isSplineCurve=!0,is.prototype.getPoint=function(t,e){var n=e||new Ze,r=this.points,i=(r.length-1)*t,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(Za(a,s.x,u.x,c.x,l.x),Za(a,s.y,u.y,c.y,l.y)),n},is.prototype.copy=function(t){Va.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this},is.prototype.toJSON=function(){var t=Va.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t},is.prototype.fromJSON=function(t){Va.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new Ze).fromArray(r))}return this};var os=Object.freeze({ArcCurve:Ua,CatmullRomCurve3:Xa,CubicBezierCurve:Qa,CubicBezierCurve3:$a,EllipseCurve:Ba,LineCurve:ts,LineCurve3:es,QuadraticBezierCurve:ns,QuadraticBezierCurve3:rs,SplineCurve:is});function as(){Va.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ss(t){as.call(this),this.type="Path",this.currentPoint=new Ze,t&&this.setFromPoints(t)}function us(t){ss.call(this,t),this.uuid=Xe.generateUUID(),this.type="Shape",this.holes=[]}function cs(t,e){Ln.call(this),this.type="Light",this.color=new wn(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function ls(t,e,n){cs.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ln.DefaultUp),this.updateMatrix(),this.groundColor=new wn(e)}function hs(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Ze(512,512),this.map=null,this.matrix=new Je}function fs(){hs.call(this,new Ii(50,1,.5,500))}function ds(t,e,n,r,i,o){cs.call(this,t,e),this.type="SpotLight",this.position.copy(Ln.DefaultUp),this.updateMatrix(),this.target=new Ln,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new fs}function ps(t,e,n,r){cs.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new hs(new Ii(90,1,.5,500))}function ms(){hs.call(this,new Dn(-5,5,5,-5,.5,500))}function gs(t,e){cs.call(this,t,e),this.type="DirectionalLight",this.position.copy(Ln.DefaultUp),this.updateMatrix(),this.target=new Ln,this.shadow=new ms}function vs(t,e){cs.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function ys(t,e,n,r){cs.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}as.prototype=Object.assign(Object.create(Va.prototype),{constructor:as,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ts(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength();return o.getPointAt(0===a?0:1-i/a)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o.getPoints(o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t),s=0;s<a.length;s++){var u=a[s];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Va.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this},toJSON:function(){var t=Va.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t},fromJSON:function(t){Va.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push((new os[r.type]).fromJSON(r))}return this}}),ss.prototype=Object.assign(Object.create(as.prototype),{constructor:ss,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new ts(this.currentPoint.clone(),new Ze(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new ns(this.currentPoint.clone(),new Ze(t,e),new Ze(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,o){var a=new Qa(this.currentPoint.clone(),new Ze(t,e),new Ze(n,r),new Ze(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=new is([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var u=new Ba(t,e,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)},copy:function(t){return as.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=as.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return as.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),us.prototype=Object.assign(Object.create(ss.prototype),{constructor:us,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){ss.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this},toJSON:function(){var t=ss.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t},fromJSON:function(t){ss.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push((new ss).fromJSON(r))}return this}}),cs.prototype=Object.assign(Object.create(Ln.prototype),{constructor:cs,isLight:!0,copy:function(t){return Ln.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Ln.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),ls.prototype=Object.assign(Object.create(cs.prototype),{constructor:ls,isHemisphereLight:!0,copy:function(t){return cs.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(hs.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),fs.prototype=Object.assign(Object.create(hs.prototype),{constructor:fs,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*Xe.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),ds.prototype=Object.assign(Object.create(cs.prototype),{constructor:ds,isSpotLight:!0,copy:function(t){return cs.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ps.prototype=Object.assign(Object.create(cs.prototype),{constructor:ps,isPointLight:!0,copy:function(t){return cs.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),ms.prototype=Object.assign(Object.create(hs.prototype),{constructor:ms}),gs.prototype=Object.assign(Object.create(cs.prototype),{constructor:gs,isDirectionalLight:!0,copy:function(t){return cs.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),vs.prototype=Object.assign(Object.create(cs.prototype),{constructor:vs,isAmbientLight:!0}),ys.prototype=Object.assign(Object.create(cs.prototype),{constructor:ys,isRectAreaLight:!0,copy:function(t){return cs.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=cs.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var bs={arraySlice:function(t,e,n){return bs.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,u=0;u!==e;++u)i[a++]=t[s+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};function ws(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function _s(t,e,n,r){ws.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function xs(t,e,n,r){ws.call(this,t,e,n,r)}function Ss(t,e,n,r){ws.call(this,t,e,n,r)}function Ms(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=bs.convertArray(e,this.TimeBufferType),this.values=bs.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Cs(t,e,n){Ms.call(this,t,e,n)}function Es(t,e,n,r){Ms.call(this,t,e,n,r)}function Ts(t,e,n,r){Ms.call(this,t,e,n,r)}function Os(t,e,n,r){ws.call(this,t,e,n,r)}function Ps(t,e,n,r){Ms.call(this,t,e,n,r)}function As(t,e,n,r){Ms.call(this,t,e,n,r)}function ks(t,e,n,r){Ms.call(this,t,e,n,r)}function Ls(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Xe.generateUUID(),this.duration<0&&this.resetDuration()}function Rs(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ts;case"vector":case"vector2":case"vector3":case"vector4":return ks;case"color":return Es;case"quaternion":return Ps;case"bool":case"boolean":return Cs;case"string":return As}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],r=[];bs.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function Ds(t){this.manager=void 0!==t?t:La,this.textures={}}function Ns(t){this.manager=void 0!==t?t:La}Object.assign(ws.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return this._cachedIndex=n=e.length,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,t<(r=e[++n]))break e}o=e.length;break n}if(t>=i)break t;var s=e[1];for(t<s&&(n=2,i=s),a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,t>=(i=e[--n-1]))break e}o=n,n=0}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return this._cachedIndex=n=e.length,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ws.prototype,{beforeStart_:ws.prototype.copySampleValue_,afterEnd_:ws.prototype.copySampleValue_}),_s.prototype=Object.assign(Object.create(ws.prototype),{constructor:_s,DefaultSettings_:{endingStart:Ae,endingEnd:Ae},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case ke:i=t,a=2*e-n;break;case Le:a=e+r[i=r.length-2]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ke:o=t,s=2*n-e;break;case Le:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var u=.5*(n-e),c=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-e)/(r-e),p=d*d,m=p*d,g=-h*m+2*h*p-h*d,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,b=f*m-f*p,w=0;w!==a;++w)i[w]=g*o[c+w]+v*o[u+w]+y*o[s+w]+b*o[l+w];return i}}),xs.prototype=Object.assign(Object.create(ws.prototype),{constructor:xs,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=(n-e)/(r-e),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),Ss.prototype=Object.assign(Object.create(ws.prototype),{constructor:Ss,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Ms,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:bs.convertArray(t.times,Array),values:bs.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),Object.assign(Ms.prototype,{constructor:Ms,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Oe,InterpolantFactoryMethodDiscrete:function(t){return new Ss(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new xs(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new _s(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Te:e=this.InterpolantFactoryMethodDiscrete;break;case Oe:e=this.InterpolantFactoryMethodLinear;break;case Pe:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Te;case this.InterpolantFactoryMethodLinear:return Oe;case this.InterpolantFactoryMethodSmooth:return Pe}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=bs.arraySlice(n,i,o),this.values=bs.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&bs.isTypedArray(r)){a=0;for(var u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=this.getInterpolation()===Pe,i=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a];if(u!==t[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,h=c+n,f=0;f!==n;++f){var d=e[c+f];if(d!==e[l+f]||d!==e[h+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];var p=a*n,m=i*n;for(f=0;f!==n;++f)e[m+f]=e[p+f]}++i}}if(o>0){for(t[i]=t[o],p=o*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[p+f];++i}return i!==t.length&&(this.times=bs.arraySlice(t,0,i),this.values=bs.arraySlice(e,0,i*n)),this}}),Cs.prototype=Object.assign(Object.create(Ms.prototype),{constructor:Cs,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Te,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Es.prototype=Object.assign(Object.create(Ms.prototype),{constructor:Es,ValueTypeName:"color"}),Ts.prototype=Object.assign(Object.create(Ms.prototype),{constructor:Ts,ValueTypeName:"number"}),Os.prototype=Object.assign(Object.create(ws.prototype),{constructor:Os,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=(n-e)/(r-e),c=s+a;s!==c;s+=4)Ke.slerpFlat(i,0,o,s-a,o,s,u);return i}}),Ps.prototype=Object.assign(Object.create(Ms.prototype),{constructor:Ps,ValueTypeName:"quaternion",DefaultInterpolation:Oe,InterpolantFactoryMethodLinear:function(t){return new Os(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),As.prototype=Object.assign(Object.create(Ms.prototype),{constructor:As,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Te,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ks.prototype=Object.assign(Object.create(Ms.prototype),{constructor:ks,ValueTypeName:"vector"}),Object.assign(Ls,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Rs(n[i]).scale(r));return new Ls(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,o=n.length;i!==o;++i)e.push(Ms.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=bs.getKeyframeOrder(s);s=bs.sortedArray(s,1,c),u=bs.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Ts(".morphTargetInfluences["+e[a].name+"]",s,u).scale(1/n))}return new Ls(t,-1,o)},findByName:function(t,e){var n=t;Array.isArray(t)||(n=t.geometry&&t.geometry.animations||t.animations);for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(i);if(u&&u.length>1){var c=r[h=u[1]];c||(r[h]=c=[]),c.push(s)}}var l=[];for(var h in r)l.push(Ls.CreateFromMorphTargetSequence(h,r[h],e,n));return l},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];bs.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)l[c[h].morphTargets[f]]=-1;for(var d in l){var p=[],m=[];for(f=0;f!==c[h].morphTargets.length;++f){var g=c[h];p.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Ts(".morphTargetInfluence["+d+"]",p,m))}o=l.length*(a||1)}else{var v=".bones["+e[u].name+"]";n(ks,v+".position",c,"pos",r),n(Ps,v+".quaternion",c,"rot",r),n(ks,v+".scale",c,"scl",r)}}return 0===r.length?null:new Ls(i,o,r)}}),Object.assign(Ls.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(Ds.prototype,{load:function(t,e,n,r){var i=this;new Da(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new Pa[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new Ze).fromArray(i)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),r}}),Object.assign(Ns.prototype,{load:function(t,e,n,r){var i=this;new Da(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new $n,n=t.data.index;if(void 0!==n){var r=new Vs[n.type](n.array);e.setIndex(new Vn(r,1))}var i=t.data.attributes;for(var o in i){var a=i[o];r=new Vs[a.type](a.array),e.addAttribute(o,new Vn(r,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var u=0,c=s.length;u!==c;++u){var l=s[u];e.addGroup(l.start,l.count,l.materialIndex)}var h=t.data.boundingSphere;if(void 0!==h){var f=new Qe;void 0!==h.center&&f.fromArray(h.center),e.boundingSphere=new dn(f,h.radius)}return e}});var Is,js,zs,Fs,Vs={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Bs(){}Bs.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n+1];if(e[n].test(t))return i}return null}},Object.assign(Bs.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:(Is={NoBlending:D,NormalBlending:N,AdditiveBlending:I,SubtractiveBlending:j,MultiplyBlending:z,CustomBlending:F},js=new wn,zs=new Fa,Fs=new Ds,function(t,e,n){var r={};function i(t,i,o,a,s){var u,c=e+t,l=Bs.Handlers.get(c);null!==l?u=l.load(c):(zs.setCrossOrigin(n),u=zs.load(c)),void 0!==i&&(u.repeat.fromArray(i),1!==i[0]&&(u.wrapS=Et),1!==i[1]&&(u.wrapT=Et)),void 0!==o&&u.offset.fromArray(o),void 0!==a&&("repeat"===a[0]&&(u.wrapS=Et),"mirror"===a[0]&&(u.wrapS=Ot),"repeat"===a[1]&&(u.wrapT=Et),"mirror"===a[1]&&(u.wrapT=Ot)),void 0!==s&&(u.anisotropy=s);var h=Xe.generateUUID();return r[h]=u,h}var o={uuid:Xe.generateUUID(),type:"MeshLambertMaterial"};for(var a in t){var s=t[a];switch(a){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":o.name=s;break;case"blending":o.blending=Is[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",a,"is no longer supported.");break;case"colorDiffuse":o.color=js.fromArray(s).getHex();break;case"colorSpecular":o.specular=js.fromArray(s).getHex();break;case"colorEmissive":o.emissive=js.fromArray(s).getHex();break;case"specularCoef":o.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(o.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(o.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(o.type="MeshStandardMaterial");break;case"mapDiffuse":o.map=i(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":o.emissiveMap=i(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":o.lightMap=i(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":o.aoMap=i(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":o.bumpMap=i(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":o.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":o.normalMap=i(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":o.normalScale=s;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":o.specularMap=i(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":o.metalnessMap=i(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":o.roughnessMap=i(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":o.alphaMap=i(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":o.side=T;break;case"doubleSided":o.side=O;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),o.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":o[a]=s;break;case"vertexColors":!0===s&&(o.vertexColors=R),"face"===s&&(o.vertexColors=L);break;default:console.error("THREE.Loader.createMaterial: Unsupported",a,s)}}return"MeshBasicMaterial"===o.type&&delete o.emissive,"MeshPhongMaterial"!==o.type&&delete o.specular,o.opacity<1&&(o.transparent=!0),Fs.setTextures(r),Fs.parse(o)})});var Us={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Hs(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:La,this.withCredentials=!1}function Gs(t){this.manager=void 0!==t?t:La,this.texturePath=""}Object.assign(Hs.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Us.extractUrlBase(t),a=new Da(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s&&"object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.")}var u=i.parse(r,o);e(u.geometry,u.materials)},n,r)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setTexturePath:function(t){return this.texturePath=t,this},parse:function(t,e){void 0!==t.data&&(t=t.data),t.scale=void 0!==t.scale?1/t.scale:1;var n=new Fn;return function(t,e){function n(t,e){return t&1<<e}var r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,w,_,x,S,M,C,E,T,O=t.faces,P=t.vertices,A=t.normals,k=t.colors,L=t.scale,R=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&R++;for(r=0;r<R;r++)e.faceVertexUvs[r]=[]}for(a=0,s=P.length;a<s;)(w=new Qe).x=P[a++]*L,w.y=P[a++]*L,w.z=P[a++]*L,e.vertices.push(w);for(a=0,s=O.length;a<s;)if(d=n(f=O[a++],0),p=n(f,1),m=n(f,3),g=n(f,4),v=n(f,5),y=n(f,6),b=n(f,7),d){if((x=new Nn).a=O[a],x.b=O[a+1],x.c=O[a+3],(S=new Nn).a=O[a+1],S.b=O[a+2],S.c=O[a+3],a+=4,p&&(h=O[a++],x.materialIndex=h,S.materialIndex=h),o=e.faces.length,m)for(r=0;r<R;r++)for(E=t.uvs[r],e.faceVertexUvs[r][o]=[],e.faceVertexUvs[r][o+1]=[],i=0;i<4;i++)T=new Ze(E[2*(l=O[a++])],E[2*l+1]),2!==i&&e.faceVertexUvs[r][o].push(T),0!==i&&e.faceVertexUvs[r][o+1].push(T);if(g&&(c=3*O[a++],x.normal.set(A[c++],A[c++],A[c]),S.normal.copy(x.normal)),v)for(r=0;r<4;r++)c=3*O[a++],C=new Qe(A[c++],A[c++],A[c]),2!==r&&x.vertexNormals.push(C),0!==r&&S.vertexNormals.push(C);if(y&&(u=O[a++],x.color.setHex(M=k[u]),S.color.setHex(M)),b)for(r=0;r<4;r++)M=k[u=O[a++]],2!==r&&x.vertexColors.push(new wn(M)),0!==r&&S.vertexColors.push(new wn(M));e.faces.push(x),e.faces.push(S)}else{if((_=new Nn).a=O[a++],_.b=O[a++],_.c=O[a++],p&&(h=O[a++],_.materialIndex=h),o=e.faces.length,m)for(r=0;r<R;r++)for(E=t.uvs[r],e.faceVertexUvs[r][o]=[],i=0;i<3;i++)T=new Ze(E[2*(l=O[a++])],E[2*l+1]),e.faceVertexUvs[r][o].push(T);if(g&&(c=3*O[a++],_.normal.set(A[c++],A[c++],A[c])),v)for(r=0;r<3;r++)c=3*O[a++],C=new Qe(A[c++],A[c++],A[c]),_.vertexNormals.push(C);if(y&&(u=O[a++],_.color.setHex(k[u])),b)for(r=0;r<3;r++)u=O[a++],_.vertexColors.push(new wn(k[u]));e.faces.push(_)}}(t,n),function(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=n)e.skinWeights.push(new un(t.skinWeights[r],n>1?t.skinWeights[r+1]:0,n>2?t.skinWeights[r+2]:0,n>3?t.skinWeights[r+3]:0));if(t.skinIndices)for(r=0,i=t.skinIndices.length;r<i;r+=n)e.skinIndices.push(new un(t.skinIndices[r],n>1?t.skinIndices[r+1]:0,n>2?t.skinIndices[r+2]:0,n>3?t.skinIndices[r+3]:0));e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}(t,n),function(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){e.morphTargets[r]={},e.morphTargets[r].name=t.morphTargets[r].name,e.morphTargets[r].vertices=[];for(var o=e.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,u=a.length;s<u;s+=3){var c=new Qe;c.x=a[s]*n,c.y=a[s+1]*n,c.z=a[s+2]*n,o.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var l=e.faces,h=t.morphColors[0].colors;for(r=0,i=l.length;r<i;r++)l[r].color.fromArray(h,3*r)}}(t,n),function(t,e){var n=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=Ls.parseAnimation(r[i],e.bones);o&&n.push(o)}if(e.morphTargets){var a=Ls.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(a)}n.length>0&&(e.animations=n)}(t,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:n}:{geometry:n,materials:Bs.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}),Object.assign(Gs.prototype,{crossOrigin:"anonymous",load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new Da(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.")},n,r)},setTexturePath:function(t){return this.texturePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var n=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,n),i=this.parseImages(t.images,function(){void 0!==e&&e(s)}),o=this.parseTextures(t.textures,i),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,r,a);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,r=t.length;n<r;n++){var i=(new us).fromJSON(t[n]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var r=new Hs,i=new Ns,o=0,a=t.length;o<a;o++){var s,u=t[o];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new ba[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new ba[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new ba[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new ba[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new ba[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new ba[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new ba[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new ba[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new ba[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new ba[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new ba[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new ba[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,h=u.shapes.length;l<h;l++)c.push(e[u.shapes[l]]);s=new ba[u.type](c,u.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],l=0,h=u.shapes.length;l<h;l++)c.push(e[u.shapes[l]]);var f=u.options.extrudePath;void 0!==f&&(u.options.extrudePath=(new os[f.type]).fromJSON(f)),s=new ba[u.type](c,u.options);break;case"BufferGeometry":s=i.parse(u);break;case"Geometry":s=r.parse(u,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),!0===s.isBufferGeometry&&void 0!==u.userData&&(s.userData=u.userData),n[u.uuid]=s}return n},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new Ds;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],u=0;u<a.materials.length;u++)s.push(r.parse(a.materials[u]));n[a.uuid]=s}else n[a.uuid]=r.parse(a)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=Ls.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),e.push(i)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemEnd(t),n.manager.itemError(t)})}if(void 0!==t&&t.length>0){var o=new ja(new ka(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var u=t[a],c=u.url;if(Array.isArray(c)){r[u.uuid]=[];for(var l=0,h=c.length;l<h;l++){var f=c[l],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.texturePath+f;r[u.uuid].push(i(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url,r[u.uuid]=i(d)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a,s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(e[s.image])?new Sr(e[s.image]):new sn(e[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,qs)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],Ys),a.wrapT=n(s.wrap[1],Ys)),void 0!==s.format&&(a.format=s.format),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,Xs)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,Xs)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),r[s.uuid]=a}return r},parseObject:function(t,e,n){var r;function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function o(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,i=t.length;r<i;r++){var o=t[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(n[o])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":r=new Ui,void 0!==t.background&&Number.isInteger(t.background)&&(r.background=new wn(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Bi(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new Vi(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Ii(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"OrthographicCamera":r=new Dn(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"AmbientLight":r=new vs(t.color,t.intensity);break;case"DirectionalLight":r=new gs(t.color,t.intensity);break;case"PointLight":r=new ps(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new ys(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new ds(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new ls(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(t.geometry),s=o(t.material);r=a.bones&&a.bones.length>0?new Ji(a,s):new _r(a,s);break;case"LOD":r=new Yi;break;case"Line":r=new Qi(i(t.geometry),o(t.material),t.mode);break;case"LineLoop":r=new to(i(t.geometry),o(t.material));break;case"LineSegments":r=new $i(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":r=new no(i(t.geometry),o(t.material));break;case"Sprite":r=new qi(o(t.material));break;case"Group":r=new Ni;break;default:r=new Ln}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,c=0;c<u.length;c++)r.add(this.parseObject(u[c],e,n));if("LOD"===t.type)for(var l=t.levels,h=0;h<l.length;h++){var f=l[h],d=r.getObjectByProperty("uuid",f.object);void 0!==d&&r.addLevel(d,f.distance)}return r}});var Ws,qs={UVMapping:yt,CubeReflectionMapping:bt,CubeRefractionMapping:wt,EquirectangularReflectionMapping:_t,EquirectangularRefractionMapping:xt,SphericalReflectionMapping:St,CubeUVReflectionMapping:Mt,CubeUVRefractionMapping:Ct},Ys={RepeatWrapping:Et,ClampToEdgeWrapping:Tt,MirroredRepeatWrapping:Ot},Xs={NearestFilter:Pt,NearestMipMapNearestFilter:At,NearestMipMapLinearFilter:kt,LinearFilter:Lt,LinearMipMapNearestFilter:Rt,LinearMipMapLinearFilter:Dt};function Zs(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:La,this.options=void 0}function Js(){this.type="ShapePath",this.color=new wn,this.subPaths=[],this.currentPath=null}function Ks(t){this.type="Font",this.data=t}function Qs(t,e,n,r,i){var o=i.glyphs[t]||i.glyphs["?"];if(o){var a,s,u,c,l,h,f,d,p=new Js;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;)switch(m[g++]){case"m":a=m[g++]*e+n,s=m[g++]*e+r,p.moveTo(a,s);break;case"l":a=m[g++]*e+n,s=m[g++]*e+r,p.lineTo(a,s);break;case"q":u=m[g++]*e+n,c=m[g++]*e+r,l=m[g++]*e+n,h=m[g++]*e+r,p.quadraticCurveTo(l,h,u,c);break;case"b":u=m[g++]*e+n,c=m[g++]*e+r,l=m[g++]*e+n,h=m[g++]*e+r,f=m[g++]*e+n,d=m[g++]*e+r,p.bezierCurveTo(l,h,f,d,u,c)}return{offsetX:o.ha*e,path:p}}}function $s(t){this.manager=void 0!==t?t:La}Zs.prototype={constructor:Zs,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Aa.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;fetch(t).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,i.options)}).then(function(n){Aa.add(t,n),e&&e(n),i.manager.itemEnd(t)}).catch(function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(Js.prototype,{moveTo:function(t,e){this.currentPath=new ss,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new us;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=e[o],u=-u,s=e[i],c=-c),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var l=c*(t.x-a.x)-u*(t.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=Xo.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],(u=new us).curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=t?!l:l;var h,f,d=[],p=[],m=[],g=0;p[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(h=(s=o[v]).getPoints()),(a=t?!a:a)?(!l&&p[g]&&g++,p[g]={s:new us,p:h},p[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:h[0]});if(!p[0])return n(o);if(p.length>1){for(var b=!1,w=[],_=0,x=p.length;_<x;_++)d[_]=[];for(_=0,x=p.length;_<x;_++)for(var S=m[_],M=0;M<S.length;M++){for(var C=S[M],E=!0,T=0;T<p.length;T++)r(C.p,p[T].p)&&(_!==T&&w.push({froms:_,tos:T,hole:M}),E?(E=!1,d[T].push(C)):b=!0);E&&d[_].push(C)}w.length>0&&(b||(m=d))}v=0;for(var O=p.length;v<O;v++){c.push(u=p[v].s);for(var P=0,A=(f=m[v]).length;P<A;P++)u.holes.push(f[P].h)}return c}}),Object.assign(Ks.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],r=function(t,e,n){for(var r=Array.from?Array.from(t):String(t).split(""),i=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,u=0,c=0;c<r.length;c++){var l=r[c];if("\n"===l)s=0,u-=o;else{var h=Qs(l,i,s,u,n);s+=h.offsetX,a.push(h.path)}}return a}(t,e,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign($s.prototype,{load:function(t,e,n,r){var i=this,o=new Da(this.manager);o.setPath(this.path),o.load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Ks(t)},setPath:function(t){return this.path=t,this}});var tu,eu,nu,ru,iu,ou,au,su,uu,cu,lu,hu,fu,du,pu,mu,gu,vu,yu,bu,wu,_u,xu,Su,Mu,Cu={getContext:function(){return void 0===Ws&&(Ws=new(window.AudioContext||window.webkitAudioContext)),Ws},setContext:function(t){Ws=t}};function Eu(t){this.manager=void 0!==t?t:La}function Tu(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ii,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ii,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Ou(t,e,n){Ln.call(this),this.type="CubeCamera";var r=new Ii(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new Qe(1,0,0)),this.add(r);var i=new Ii(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Qe(-1,0,0)),this.add(i);var o=new Ii(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Qe(0,1,0)),this.add(o);var a=new Ii(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new Qe(0,-1,0)),this.add(a);var s=new Ii(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new Qe(0,0,1)),this.add(s);var u=new Ii(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new Qe(0,0,-1)),this.add(u),this.renderTarget=new ln(n,n,{format:Xt,magFilter:Lt,minFilter:Lt}),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,c=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,a,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=c,n.activeCubeFace=5,t.render(e,u,n),t.setRenderTarget(null)},this.clear=function(t,e,n,r){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,t.setRenderTarget(i),t.clear(e,n,r);t.setRenderTarget(null)}}function Pu(){Ln.call(this),this.type="AudioListener",this.context=Cu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Au(t){Ln.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function ku(t){Au.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Lu(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ru(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Du(t,e,n){var r=n||Nu.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Nu(t,e,n){this.path=e,this.parsedPath=n||Nu.parseTrackName(e),this.node=Nu.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Iu(){this.uuid=Xe.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function ju(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:Ae,endingEnd:Ae},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ce,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function zu(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Fu(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Vu(){$n.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Bu(t,e,n){Hi.call(this,t,e),this.meshPerAttribute=n||1}function Uu(t,e,n){Vn.call(this,t,e),this.meshPerAttribute=n||1}function Hu(t,e,n,r){this.ray=new br(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Gu(t,e){return t.distance-e.distance}function Wu(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)Wu(i[o],e,n,!0)}function qu(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Yu(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Xu(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Zu(t,e){this.min=void 0!==t?t:new Ze(1/0,1/0),this.max=void 0!==e?e:new Ze(-1/0,-1/0)}function Ju(t,e){this.start=void 0!==t?t:new Qe,this.end=void 0!==e?e:new Qe}function Ku(t){Ln.call(this),this.material=t,this.render=function(){}}function Qu(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new $n,c=new Xn(2*a*3,3);u.addAttribute("position",c),$i.call(this,u,new Ki({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function $u(t,e){Ln.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new $n,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Xn(r,3));var u=new Ki({fog:!1});this.cone=new $i(n,u),this.add(this.cone),this.update()}function tc(t){for(var e=function t(e){var n=[];e&&e.isBone&&n.push(e);for(var r=0;r<e.children.length;r++)n.push.apply(n,t(e.children[r]));return n}(t),n=new $n,r=[],i=[],o=new wn(0,0,1),a=new wn(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new Xn(r,3)),n.addAttribute("color",new Xn(i,3));var c=new Ki({vertexColors:R,depthTest:!1,depthWrite:!1,transparent:!0});$i.call(this,n,c),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function ec(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var r=new ia(e,4,2),i=new vr({wireframe:!0,fog:!1});_r.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function nc(t,e){Ln.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var n=new Ki({fog:!1}),r=new $n;r.addAttribute("position",new Vn(new Float32Array(15),3)),this.line=new Qi(r,n),this.add(this.line),this.update()}function rc(t,e,n){Ln.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new go(e);r.rotateY(.5*Math.PI),this.material=new vr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=R);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new Vn(o,3)),this.add(new _r(r,this.material)),this.update()}function ic(t,e,n,r){t=t||10,e=e||10,n=new wn(void 0!==n?n:4473924),r=new wn(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],u=[],c=0,l=0,h=-a;c<=e;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var f=c===i?n:r;f.toArray(u,l),f.toArray(u,l+=3),f.toArray(u,l+=3),f.toArray(u,l+=3),l+=3}var d=new $n;d.addAttribute("position",new Xn(s,3)),d.addAttribute("color",new Xn(u,3));var p=new Ki({vertexColors:R});$i.call(this,d,p)}function oc(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new wn(void 0!==i?i:4473924),o=new wn(void 0!==o?o:8947848);var a,s,u,c,l,h,f,d=[],p=[];for(c=0;c<=e;c++)u=c/e*(2*Math.PI),a=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(a,0,s),p.push((f=1&c?i:o).r,f.g,f.b),p.push(f.r,f.g,f.b);for(c=0;c<=n;c++)for(f=1&c?i:o,h=t-t/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b);var m=new $n;m.addAttribute("position",new Xn(d,3)),m.addAttribute("color",new Xn(p,3));var g=new Ki({vertexColors:R});$i.call(this,m,g)}function ac(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new $n,c=new Xn(2*a*3,3);u.addAttribute("position",c),$i.call(this,u,new Ki({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function sc(t,e,n){Ln.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var r=new $n;r.addAttribute("position",new Xn([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new Ki({fog:!1});this.lightPlane=new Qi(r,i),this.add(this.lightPlane),(r=new $n).addAttribute("position",new Xn([0,0,0,0,0,1],3)),this.targetLine=new Qi(r,i),this.add(this.targetLine),this.update()}function uc(t){var e=new $n,n=new Ki({color:16777215,vertexColors:L}),r=[],i=[],o={},a=new wn(16755200),s=new wn(16711680),u=new wn(43775),c=new wn(16777215),l=new wn(3355443);function h(t,e,n){f(t,n),f(e,n)}function f(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",u),h("u2","u3",u),h("u3","u1",u),h("c","t",c),h("p","c",l),h("cn1","cn2",l),h("cn3","cn4",l),h("cf1","cf2",l),h("cf3","cf4",l),e.addAttribute("position",new Xn(r,3)),e.addAttribute("color",new Xn(i,3)),$i.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function cc(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new $n;i.setIndex(new Vn(n,1)),i.addAttribute("position",new Vn(r,3)),$i.call(this,i,new Ki({color:e})),this.matrixAutoUpdate=!1,this.update()}function lc(t,e){this.type="Box3Helper",this.box=t;var n=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new $n;i.setIndex(new Vn(r,1)),i.addAttribute("position",new Xn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),$i.call(this,i,new Ki({color:n})),this.geometry.computeBoundingSphere()}function hc(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==n?n:16776960,i=new $n;i.addAttribute("position",new Xn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Qi.call(this,i,new Ki({color:r}));var o=new $n;o.addAttribute("position",new Xn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new _r(o,new vr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function fc(t,e,n,r,i,o){Ln.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===_u&&((_u=new $n).addAttribute("position",new Xn([0,0,0,0,1,0],3)),(xu=new pa(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Qi(_u,new Ki({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _r(xu,new vr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function dc(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new $n;n.addAttribute("position",new Xn(e,3)),n.addAttribute("color",new Xn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Ki({vertexColors:R});$i.call(this,n,r)}function pc(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Nn(t,e,n,i,o,a)}Object.assign(Eu.prototype,{load:function(t,e,n,r){var i=new Da(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){var n=t.slice(0);Cu.getContext().decodeAudioData(n,function(t){e(t)})},n,r)}}),Object.assign(Tu.prototype,{update:(uu=new Je,cu=new Je,function(t){if(tu!==this||eu!==t.focus||nu!==t.fov||ru!==t.aspect*this.aspect||iu!==t.near||ou!==t.far||au!==t.zoom||su!==this.eyeSep){tu=this,eu=t.focus,nu=t.fov,ru=t.aspect*this.aspect,iu=t.near,ou=t.far,au=t.zoom;var e,n,r=t.projectionMatrix.clone(),i=(su=this.eyeSep/2)*iu/eu,o=iu*Math.tan(Xe.DEG2RAD*nu*.5)/au;cu.elements[12]=-su,uu.elements[12]=su,r.elements[0]=2*iu/((n=o*ru+i)-(e=-o*ru+i)),r.elements[8]=(n+e)/(n-e),this.cameraL.projectionMatrix.copy(r),r.elements[0]=2*iu/((n=o*ru-i)-(e=-o*ru-i)),r.elements[8]=(n+e)/(n-e),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(cu),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(uu)})}),(Ou.prototype=Object.create(Ln.prototype)).constructor=Ou,Pu.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Pu,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new Qe,e=new Ke,n=new Qe,r=new Qe;return function(i){Ln.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Au.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Au,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),ku.prototype=Object.assign(Object.create(Au.prototype),{constructor:ku,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var t=new Qe,e=new Ke,n=new Qe,r=new Qe;return function(i){Ln.prototype.updateMatrixWorld.call(this,i);var o=this.panner;this.matrixWorld.decompose(t,e,n),r.set(0,0,1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z)}}()}),Object.assign(Lu.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Ru.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else this._mixBufferRegion(n,i,0,e/(o+=e),r);this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;this.cumulativeWeight=0,i<1&&this._mixBufferRegion(n,r,3*e,1-i,e);for(var a=e,s=e+e;a!==s;++a)if(n[a]!==n[a+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.buffer,e=this.valueSize,n=3*e;this.binding.getValue(t,n);for(var r=e,i=n;r!==i;++r)t[r]=t[n+r%e];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r){Ke.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}}),Object.assign(Du.prototype,{getValue:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Nu,{Composite:Du,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Nu.Composite(t,e,n):new Nu(t,e,n)},sanitizeNodeName:(yu=new RegExp("[\\[\\]\\.:\\/]","g"),function(t){return t.replace(/\s/g,"_").replace(yu,"")}),parseTrackName:(lu="[^\\[\\]\\.:\\/]",hu="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",fu=/((?:WC+[\/:])*)/.source.replace("WC",lu),du=/(WCOD+)?/.source.replace("WCOD",hu),pu=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lu),mu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lu),gu=new RegExp("^"+fu+du+pu+mu+"$"),vu=["material","materials","bones"],function(t){var e=gu.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==vu.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null}}),Object.assign(Nu.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Nu.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+r+" but it wasn't found.",t)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Nu.prototype,{_getValue_unbound:Nu.prototype.getValue,_setValue_unbound:Nu.prototype.setValue}),Object.assign(Iu.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=void 0,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],f=h.uuid,d=r[f];if(void 0===d){d=e++,r[f]=d,t.push(h);for(var p=0,m=s;p!==m;++p)a[p].push(new Nu(h,i[p],o[p]))}else if(d<n){u=t[d];var g=--n,v=t[g];for(r[v.uuid]=d,t[d]=v,r[f]=g,t[g]=h,p=0,m=s;p!==m;++p){var y=a[p],b=y[d];y[d]=y[g],void 0===b&&(b=new Nu(h,i[p],o[p])),y[g]=b}}else t[d]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,c=n[u];if(void 0!==c&&c>=e){var l=e++,h=t[l];n[h.uuid]=c,t[c]=h,n[u]=l,t[l]=s;for(var f=0,d=i;f!==d;++f){var p=r[f],m=p[c];p[c]=p[l],p[l]=m}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a].uuid,c=r[u];if(void 0!==c)if(delete r[u],c<n){var l=--n,h=t[l],f=t[g=--e];r[h.uuid]=c,t[c]=h,r[f.uuid]=l,t[l]=f,t.pop();for(var d=0,p=o;d!==p;++d){var m=(v=i[d])[g];v[c]=v[l],v[l]=m,v.pop()}}else{var g;for(r[(f=t[g=--e]).uuid]=c,t[c]=f,t.pop(),d=0,p=o;d!==p;++d){var v;(v=i[d])[c]=v[g],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=this.nCachedObjects_,c=new Array(s.length);n[t]=r=i.length,o.push(t),a.push(e),i.push(c);for(var l=u,h=s.length;l!==h;++l)c[l]=new Nu(s[l],t,e);return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(ju.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=r/i;t.warp(1,i/r,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,r=this.loop,i=this._loopCount,o=r===Ee;if(0===t)return-1===i?e:o&&1==(1&i)?n-e:e;if(r===Me){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=ke,r.endingEnd=ke):(r.endingStart=t?this.zeroSlopeAtStart?ke:Ae:Le,r.endingEnd=e?this.zeroSlopeAtEnd?ke:Ae:Le)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}),zu.prototype=Object.assign(Object.create(r.prototype),{constructor:zu,_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(u[s]=c={});for(var l=0;l!==i;++l){var h=r[l],f=h.name,d=c[f];if(void 0!==d)o[l]=d;else{if(void 0!==(d=o[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}++(d=new Ru(Nu.create(n,f,e&&e._propertyBindings[l].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(d,s,f),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=t._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(r[e]=i={}),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[i];t:{for(var c in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new xs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?Ls.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new ju(this,i,e);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?Ls.findByName(n,t):t,o=this._actionsByClip[i?i.uuid:t];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){for(var e=this._actions,n=this._nActiveActions,r=this.time+=t*=this.timeScale,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a)e[a]._update(r,t,i,o);var s=this._bindings,u=this._nActiveBindings;for(a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,e[c]=l,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Fu.prototype.clone=function(){return new Fu(void 0===this.value.clone?this.value:this.value.clone())},Vu.prototype=Object.assign(Object.create($n.prototype),{constructor:Vu,isInstancedBufferGeometry:!0,copy:function(t){return $n.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Bu.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Bu,isInstancedInterleavedBuffer:!0,copy:function(t){return Hi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Uu.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Uu,isInstancedBufferAttribute:!0,copy:function(t){return Vn.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Hu.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var r=n||[];return Wu(t,this,r,e),r.sort(Gu),r},intersectObjects:function(t,e,n){var r=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=t.length;i<o;i++)Wu(t[i],this,r,e);return r.sort(Gu),r}}),Object.assign(qu.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Yu.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Xe.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Xu.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(Zu.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Ze;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Ze),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Ze),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Ze),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Ze),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Ze;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Ju.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Qe),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Qe),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Qe),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(bu=new Qe,wu=new Qe,function(t,e){bu.subVectors(t,this.start),wu.subVectors(this.end,this.start);var n=wu.dot(wu),r=wu.dot(bu)/n;return e&&(r=Xe.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Qe),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),(Ku.prototype=Object.create(Ln.prototype)).constructor=Ku,Ku.prototype.isImmediateRenderObject=!0,(Qu.prototype=Object.create($i.prototype)).constructor=Qu,Qu.prototype.update=function(){var t=new Qe,e=new Qe,n=new $e;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++)for(var f=u[l],d=0,p=f.vertexNormals.length;d<p;d++){var m=f.vertexNormals[d];t.copy(s[f[r[d]]]).applyMatrix4(i),e.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),o.setXYZ(c+=1,e.x,e.y,e.z),c+=1}else if(a&&a.isBufferGeometry){var g=a.attributes.position,v=a.attributes.normal;for(c=0,d=0,p=g.count;d<p;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(i),e.set(v.getX(d),v.getY(d),v.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),o.setXYZ(c+=1,e.x,e.y,e.z),c+=1}o.needsUpdate=!0}}(),($u.prototype=Object.create(Ln.prototype)).constructor=$u,$u.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},$u.prototype.update=function(){var t=new Qe,e=new Qe;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),(tc.prototype=Object.create($i.prototype)).constructor=tc,tc.prototype.updateMatrixWorld=function(){var t=new Qe,e=new Je,n=new Je;return function(r){var i=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<i.length;s++){var c=i[s];c.parent&&c.parent.isBone&&(e.multiplyMatrices(n,c.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(n,c.parent.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(u+1,t.x,t.y,t.z),u+=2)}o.getAttribute("position").needsUpdate=!0,Ln.prototype.updateMatrixWorld.call(this,r)}}(),(ec.prototype=Object.create(_r.prototype)).constructor=ec,ec.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ec.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},(nc.prototype=Object.create(Ln.prototype)).constructor=nc,nc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},nc.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=t,r[1]=-e,r[2]=0,r[3]=t,r[4]=e,r[5]=0,r[6]=-t,r[7]=e,r[8]=0,r[9]=-t,r[10]=-e,r[11]=0,r[12]=t,r[13]=-e,r[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},(rc.prototype=Object.create(Ln.prototype)).constructor=rc,rc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},rc.prototype.update=function(){var t=new Qe,e=new wn,n=new wn;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:n;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),(ic.prototype=Object.create($i.prototype)).constructor=ic,(oc.prototype=Object.create($i.prototype)).constructor=oc,(ac.prototype=Object.create($i.prototype)).constructor=ac,ac.prototype.update=function(){var t=new Qe,e=new Qe,n=new $e;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],f=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),e.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),i.setXYZ(u+=1,e.x,e.y,e.z),u+=1}i.needsUpdate=!0}}(),(sc.prototype=Object.create(Ln.prototype)).constructor=sc,sc.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},sc.prototype.update=function(){var t=new Qe,e=new Qe,n=new Qe;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),(uc.prototype=Object.create($i.prototype)).constructor=uc,uc.prototype.update=function(){var t,e,n=new Qe,r=new Rn;function i(i,o,a,s){n.set(o,a,s).unproject(r);var u=e[i];if(void 0!==u)for(var c=t.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],n.x,n.y,n.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),(cc.prototype=Object.create($i.prototype)).constructor=cc,cc.prototype.update=function(){var t=new fn;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),cc.prototype.setFromObject=function(t){return this.object=t,this.update(),this},(lc.prototype=Object.create($i.prototype)).constructor=lc,lc.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Ln.prototype.updateMatrixWorld.call(this,t))},(hc.prototype=Object.create(Qi.prototype)).constructor=hc,hc.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?T:E,this.lookAt(this.plane.normal),Ln.prototype.updateMatrixWorld.call(this,t)},(fc.prototype=Object.create(Ln.prototype)).constructor=fc,fc.prototype.setDirection=(Mu=new Qe,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Mu.set(t.z,0,-t.x).normalize(),Su=Math.acos(t.y),this.quaternion.setFromAxisAngle(Mu,Su))}),fc.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},fc.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},(dc.prototype=Object.create($i.prototype)).constructor=dc;var mc=0,gc=1;function vc(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function yc(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function bc(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new no(t,e)}function wc(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new qi(t)}function _c(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new no(t,e)}function xc(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new eo(t)}function Sc(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new eo(t)}function Mc(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new eo(t)}function Cc(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Qe(t,e,n)}function Ec(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Vn(t,e).setDynamic(!0)}function Tc(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Bn(t,e)}function Oc(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Un(t,e)}function Pc(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Hn(t,e)}function Ac(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Gn(t,e)}function kc(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Wn(t,e)}function Lc(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new qn(t,e)}function Rc(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Yn(t,e)}function Dc(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Xn(t,e)}function Nc(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Zn(t,e)}function Ic(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Xa.call(this,t),this.type="catmullrom",this.closed=!0}function jc(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Xa.call(this,t),this.type="catmullrom"}function zc(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Xa.call(this,t),this.type="catmullrom"}function Fc(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new dc(t)}function Vc(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new cc(t,e)}function Bc(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new $i(new fa(t.geometry),new Ki({color:void 0!==e?e:16777215}))}function Uc(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new $i(new so(t.geometry),new Ki({color:void 0!==e?e:16777215}))}function Hc(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Da(t)}function Gc(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Ia(t)}Va.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Va.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(as.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new Fn,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Qe(i.x,i.y,i.z||0))}return e}}),Object.assign(ss.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Ic.prototype=Object.create(Xa.prototype),jc.prototype=Object.create(Xa.prototype),zc.prototype=Object.create(Xa.prototype),Object.assign(zc.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),ic.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},tc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Bs.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Us.extractUrlBase(t)}}),Object.assign(Zu.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(fn.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Ju.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Xe,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Xe.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Xe.ceilPowerOfTwo(t)}}),Object.assign($e.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Je.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Qe),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),pn.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Ke.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(br.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(wr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(wr,{barycoordFromPoint:function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),wr.getBarycoord(t,e,n,r,i)},normal:function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),wr.getNormal(t,e,n,r)}}),Object.assign(us.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ko(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ca(this,t)}}),Object.assign(Ze.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Qe.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(un.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Fn.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Ln.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Ln.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Yi.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Xi.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Va.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ii.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(cs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Vn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign($n.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties($n.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Qo.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Fu.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(gr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new wn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===P}}}),Object.defineProperties(Ma.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(yr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Fi.prototype,{animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Fi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ri.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(cn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(zi.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),Au.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Eu).load(t,function(t){e.setBuffer(t)}),this},Lu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Ou.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Wc={merge:function(t,e,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function qc(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Yc(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}on.crossOrigin=void 0,on.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Fa;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},on.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new za;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},on.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},on.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Xc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Zc(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}},XTo3:function(t,e,n){"use strict";var r=n("mrSG"),i=n("gozj"),o=n("eh5z"),a=n("Womt"),s=n("K9Ia"),u=n("pugT"),c=n("7c6v"),l=n("2fsI"),h=n("SH+t"),f=n("mS5I"),d=n("k4pR"),p=new(function(){function t(){this.pool=[]}return t.prototype.get=function(){return this.pool.pop()||new a.WebGLRenderer({antialias:!0,logarithmicDepthBuffer:!1})},t.prototype.release=function(t){t&&this.pool.push(t)},t}()),m=n("xHft"),g=n("gy9U");n.d(e,"a",function(){return v});var v=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.frameRate=t,this.siteHooks=e,this.sharedState=n,this.renderSourceLegendLines=r,this.errorEvent=new s.a,this.cameraNear=.1,this.cameraFar=1e4,this.isDisposed=!1,this.isProcessingData=!1,this.mouseRaycaster=new a.Raycaster,this.subscriptions=new u.a,this.lastFrameNumber=0,this.start=Date.now()}return Object.defineProperty(t.prototype,"isRenderingManually",{get:function(){return this.frameRate<=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"definedBaseSettings",{get:function(){if(!this.baseSettings)throw new Error("Base settings not found.");return this.baseSettings},enumerable:!0,configurable:!0}),t.prototype.build=function(t,e,n){return r.b(this,void 0,void 0,function(){var o;return r.e(this,function(r){switch(r.label){case 0:this.isProcessingData=!0,r.label=1;case 1:return r.trys.push([1,,4,5]),this.elementId=t,this.baseSettings=e,(o=document.getElementById(this.elementId))?(this.element=o,this.baseSettings.svgSize=i.b.getRequiredSvgSize(this.elementId,this.baseSettings.svgSize),[4,this.loadFromLayout(n)]):[2,!1];case 2:return r.sent(),this.exists?(this.processLayout(),[4,this.build2d()]):[2,!1];case 3:return r.sent(),this.exists?(this.build3d(),[2,!0]):[2,!1];case 4:return this.isProcessingData=!1,[7];case 5:return[2]}})})},t.prototype.build3d=function(){var t=this,e=this.definedBaseSettings;this.sceneParent=this.select().append("div").attr("class","viewer-3d-container"),this.scene=new a.Scene,this.scene.background=new a.Color(16777215),this.renderer=p.get(),this.renderer.setSize(e.svgSize.width,e.svgSize.height),this.sceneParent.node().appendChild(this.renderer.domElement),this.cameraState=new m.b(e.svgSize.width/e.svgSize.height*10,10,60,this.cameraNear,this.cameraFar,this.cameraNear,this.cameraFar),this.sceneParent.on("mousemove",function(){var n=l.event,r=new c.a(n.offsetX,n.offsetY);t.lastMousePosition=new a.Vector2(r.x/e.svgSize.width*2-1,-1*(r.y/e.svgSize.height*2-1)),t.isRenderingManually&&t.render3d()})},t.prototype.beginRender=function(){var t=this;this.subscriptions.add(this.sharedState.windowResizeNews.subscribe(function(){return t.performResize()})),this.subscriptions.add(this.sharedState.sourceLoaderSet.changed.subscribe(function(){return t.handleSourcesChanged()})),this.isRenderingManually&&(this.subscriptions.add(this.sharedState.windowResizeNews.subscribe(function(){return t.render3d()})),this.subscriptions.add(this.sharedState.sourceLoaderSet.changed.subscribe(function(){return t.render3d()})),this.subscriptions.add(this.sharedState.keyPressNews.subscribe(function(){return t.render3d()}))),this.renderAll(!0),this.beginAnimate3d()},t.prototype.beginAnimate3d=function(){this.render3d()},t.prototype.render3d=function(){var t=this;requestAnimationFrame(function(){return t.render3dInner()})},t.prototype.render3dInner=function(){var t=this;if(!this.isDisposed&&this.cameraState&&this.scene){if(this.frameRate>0){var e=Date.now()-this.start;requestAnimationFrame(function(){return t.render3dInner()});var n=Math.round(e/(1e3/this.frameRate));if(n===this.lastFrameNumber)return;this.lastFrameNumber=n}var r=void 0;this.lastMousePosition&&this.lastMousePosition!==this.lastProcessedMousePosition&&(this.lastProcessedMousePosition=this.lastMousePosition,(r=this.mouseRaycaster).linePrecision=.01,r.setFromCamera(this.lastMousePosition,this.cameraState.camera)),this.performAnimate3d(r),this.renderer&&this.renderer.render(this.scene,this.cameraState.camera)}},t.prototype.build2d=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){return t=this.definedBaseSettings,this.updateChartMargin(),this.svgParent=this.select().append("div").attr("class","canvas-viewer viewer-3d-controls-container"),this.svg=this.svgParent.append("svg").attr("width",t.svgSize.width).attr("height",t.svgSize.height).attr("class","viewer-3d-controls").attr("id","svg"),this.sourceLabelsRenderer=new h.a(t),this.sourceLabelsRenderer.sharedState(this.sharedState).renderLegendLines(this.renderSourceLegendLines),this.performBuild2d(),[2]})})},t.prototype.updateChartMargin=function(){var t=this.definedBaseSettings;t.chartMargin=new f.a(h.a.getRequiredVerticalSpace(t.sourceCount)||20,8,8,8)},t.prototype.loadFromLayout=function(t){return r.b(this,void 0,void 0,function(){var t,e,n,i,o;return r.e(this,function(r){switch(r.label){case 0:t=[],e=0,n=this.sharedState.sourceLoaderSet.sources,r.label=1;case 1:return e<n.length?[4,(i=n[e]).getSourceMetadata()]:[3,4];case 2:o=r.sent(),t.push(new d.k(o.name,new g.a({}),new d.b(void 0,void 0),i)),r.label=3;case 3:return e++,[3,1];case 4:return this.sourceData=t,[2]}})})},t.prototype.handleSourcesChanged=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:if(!this.sourceData)return[2];this.isProcessingData=!0,e.label=1;case 1:return e.trys.push([1,4,5,6]),[4,this.loadFromLayout()];case 2:return e.sent(),[4,this.performSourcesChanged()];case 3:return e.sent(),this.definedBaseSettings.sourceCount=this.sourceData.length,this.renderAll(!0),[3,6];case 4:return t=e.sent(),this.setError(this.siteHooks.getFriendlyErrorAndLog(t)),[3,6];case 5:return this.isProcessingData=!1,[7];case 6:return[2]}})})},t.prototype.setAllData=function(){this.sourceLabelsRenderer&&this.sourceData&&(this.sourceLabelsRenderer.sources(this.sourceData),this.performSetData2d())},t.prototype.renderAll=function(t){this.exists&&this.sourceLabelsRenderer&&this.svg&&(t&&(this.processLayout(),this.setAllData()),this.updateChartMargin(),this.performRender2d(),this.sourceLabelsRenderer.render(this.svg))},t.prototype.setError=function(t){this.errorEvent.next(t)},t.prototype.dispose=function(){this.isDisposed=!0,this.subscriptions&&this.subscriptions.unsubscribe(),this.renderer&&(p.release(this.renderer),this.renderer=void 0)},t.prototype.performResize=function(){try{if(!this.elementId||!this.svg||!this.cameraState)return;var t=this.definedBaseSettings;t.svgSize=i.b.getRequiredSvgSize(this.elementId,t.svgSize),this.svg.attr("width",t.svgSize.width),this.svg.attr("height",t.svgSize.height),this.cameraState.setAspect(t.svgSize.width/t.svgSize.height),this.definedRenderer.setSize(t.svgSize.width,t.svgSize.height),this.isProcessingData||this.renderAll(!0)}catch(t){this.setError(this.siteHooks.getFriendlyErrorAndLog(t))}},t.prototype.select=function(t){return void 0===t&&(t=""),o.select("#"+this.elementId+" "+t)},t.prototype.selectAll=function(t){return void 0===t&&(t=""),o.selectAll("#"+this.elementId+" "+t)},Object.defineProperty(t.prototype,"exists",{get:function(){return!(!this.elementId||!document.getElementById(this.elementId))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"definedRenderer",{get:function(){if(!this.renderer)throw new Error("Renderer is not defined.");return this.renderer},enumerable:!0,configurable:!0}),t}()},YBAz:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var r=n("mrSG"),i=n("eh5z"),o=n("fNPK"),a=n("DUrn"),s=n("Me36"),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.linePlotInner=e,r.lineViewerGetInterpolatedChannelValueAtDomainValue=n,r}return r.d(e,t),e.create=function(t){return new e(new c("line-plot",t,new s.a),t)},e.prototype.curve=function(t){return this.linePlotInner.curve=t,this.lineViewerGetInterpolatedChannelValueAtDomainValue.curve=t,this},e}(o.d),c=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.sourceSplitInspector=r,o.curve=i.curveLinear,o}return r.d(e,t),e.prototype.drawChannelData=function(t,e,n){var r=this.definedSettings,o=n.sourceIndex,a=n.yChannel,s=n.xCoordinates,u=n.yCoordinates,c=i.line().curve(this.curve).defined(function(t){return!isNaN(t)}).x(function(t,e){return s[e]}).y(function(t){return t});t.lineWidth=1,t.strokeStyle=r.getChannelColor?r.getChannelColor(a.channelIndex,o):"green",c.context(t),t.beginPath(),c(u),t.stroke()},e.prototype.drawPlotFeatures=function(t,e){if(this.sourceData){var n=this.definedSettings,r=e.column.processed.channels.find(function(t){return t.isVisible&&t.hasData});if(r&&r.isMonotonic)for(var i=this.sourceData.map(function(t){return t.isVisible}),o=e.row.processed.getVisibleMinimum(i),a=e.row.processed.getVisibleMaximum(i),s=0;s<this.sourceData.length;++s){var u=this.sourceData[s];if(u.isVisible){var c=u.featureChannels.splitChannel;if(this.sourceSplitInspector.hasSplitIndices(c)){var l=e.column.processed.scale,h=e.row.processed.scale;t.save();try{t.lineWidth=.5,t.strokeStyle=n.getChannelColor?n.getChannelColor(0,s):"black",t.setLineDash([5,5]),t.beginPath();var f=r.sources[s].data;if(f)for(var d=0,p=c.dataChangeIndices;d<p.length;d++){var m=l(f[p[d]])-.5;t.moveTo(m,h(o)),t.lineTo(m,h(a))}t.stroke()}finally{t.restore()}}}}}},e}(o.e),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.prototype.executeAtIndex=function(e,n,r,o){return this.curve===i.curveStepBefore?-1===o?e[e.length-1]:e[o]:t.prototype.executeAtIndex.call(this,e,n,r,o)},e}(a.a)},YJNB:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.getKnownUnits=function(){return Object.keys(t.toSiTable)},t.addConversion=function(e,n,r,i){if(!t.toSiTable[e]){t.toSiTable[n]||(t.toSiTable[n]={SiUnit:n,factor:1,offset:0});var o=t.getSiUnit(n),a=t.getConversionToSi(n),s=a.factor;t.toSiTable[e]={SiUnit:o,factor:s*r,offset:a.offset+i*s}}},t.convertValueToSi=function(e,n,r){void 0===r&&(r=!1);var i=t.getConversionToSi(n);return e*i.factor+(r?0:i.offset)},t.convertValuesToSi=function(e,n,r){void 0===r&&(r=!1);var i=t.getConversionToSi(n),o=i.factor,a=i.offset;return 1===o&&0===a?r?e:e.slice():e.map(function(t){return t*o+a})},t.replaceValuesWithSi=function(e,n){var r=t.getConversionToSi(n),i=r.factor,o=r.offset;if(1!==i||0!==o)for(var a=0;a<e.length;++a)e[a]=e[a]*i+o},t.convertValueFromSi=function(e,n,r){void 0===r&&(r=!1);var i=t.getConversionToSi(n);return(e-(r?0:i.offset))/i.factor},t.convertValuesFromSi=function(e,n,r){void 0===r&&(r=!1);var i=t.getConversionToSi(n),o=i.factor,a=i.offset;return 1===o&&0===a?r?e:e.slice():e.map(function(t){return(t-a)/o})},t.convertValueBetweenUnits=function(e,n,r,i){return void 0===i&&(i=!1),t.convertValueFromSi(t.convertValueToSi(e,n,i),r,i)},t.convertValuesBetweenUnits=function(e,n,r,i){void 0===i&&(i=!1);var o=t.getConversionBetweenUnits(n,r);if(!o.isConversionRequired)return i?e:e.slice();var a=o.offsetToSi-o.offsetFromSi;return e.map(function(t){return(t*o.factorToSi+a)/o.factorFromSi})},t.isConversionRequired=function(e,n){return t.getConversionBetweenUnits(e,n).isConversionRequired},t.getSiUnit=function(e){return t.toSiTable[e]?t.toSiTable[e].SiUnit:""},t.getConversionToSi=function(e){return t.toSiTable[e]||{factor:1,offset:0}},t.getConversionBetweenUnits=function(e,n){var r=t.getConversionToSi(e),o=r.factor,a=r.offset,s=t.getConversionToSi(n),u=s.factor,c=s.offset,l=!0;return 0==a-c&&1==o/u&&(l=!1),new i(o,a,u,c,l)},t.getAlternativeUnits=function(e){var n=[],r=t.getSiUnit(e);for(var i in n.push(r),t.toSiTable)i!==r&&t.toSiTable[i].SiUnit===r&&n.push(i);return n},t.toSiTable={"()":{SiUnit:"()",factor:1,offset:0},m:{SiUnit:"m",factor:1,offset:0},kg:{SiUnit:"kg",factor:1,offset:0},N:{SiUnit:"N",factor:1,offset:0},"m/s":{SiUnit:"m/s",factor:1,offset:0},rad:{SiUnit:"rad",factor:1,offset:0},Pa:{SiUnit:"Pa",factor:1,offset:0},"rad/s":{SiUnit:"rad/s",factor:1,offset:0},Nm:{SiUnit:"Nm",factor:1,offset:0},"m/s2":{SiUnit:"m/s2",factor:1,offset:0},W:{SiUnit:"W",factor:1,offset:0},J:{SiUnit:"J",factor:1,offset:0},s:{SiUnit:"s",factor:1,offset:0},K:{SiUnit:"K",factor:1,offset:0},"N/rad":{SiUnit:"N/rad",factor:1,offset:0},"Nm/rad":{SiUnit:"Nm/rad",factor:1,offset:0},"N/m":{SiUnit:"N/m",factor:1,offset:0},"rad/s2":{SiUnit:"rad/s2",factor:1,offset:0},"kg/s":{SiUnit:"kg/s",factor:1,offset:0},"Ns/m":{SiUnit:"Ns/m",factor:1,offset:0},"":{SiUnit:"()",factor:1,offset:0},"%":{SiUnit:"()",factor:.01,offset:0},pt:{SiUnit:"()",factor:.01,offset:0},"e-3":{SiUnit:"()",factor:.001,offset:0},"e-6":{SiUnit:"()",factor:1e-6,offset:0},"N/m2":{SiUnit:"Pa",factor:1,offset:0},bar:{SiUnit:"Pa",factor:1e5,offset:0},mbar:{SiUnit:"Pa",factor:100,offset:0},psi:{SiUnit:"Pa",factor:6894.76,offset:0},inHg:{SiUnit:"Pa",factor:3386.39,offset:0},gm:{SiUnit:"kg",factor:.001,offset:0},lbm:{SiUnit:"kg",factor:.45359237,offset:0},st:{SiUnit:"kg",factor:6.35029318,offset:0},lbf:{SiUnit:"N",factor:4.448222,offset:0},kN:{SiUnit:"N",factor:1e3,offset:0},MN:{SiUnit:"N",factor:1e6,offset:0},GN:{SiUnit:"N",factor:1e9,offset:0},ms:{SiUnit:"s",factor:.001,offset:0},ks:{SiUnit:"s",factor:1e3,offset:0},mm:{SiUnit:"m",factor:.001,offset:0},cm:{SiUnit:"m",factor:.01,offset:0},km:{SiUnit:"m",factor:1e3,offset:0},miles:{SiUnit:"m",factor:1609.344,offset:0},in:{SiUnit:"m",factor:.0254,offset:0},ft:{SiUnit:"m",factor:.3048,offset:0},yd:{SiUnit:"m",factor:.9144,offset:0},kph:{SiUnit:"m/s",factor:1/3.6,offset:0},mph:{SiUnit:"m/s",factor:.44704,offset:0},"mm/s":{SiUnit:"m/s",factor:.001,offset:0},kn:{SiUnit:"m/s",factor:.514444,offset:0},"in/s":{SiUnit:"m/s",factor:.0254,offset:0},g:{SiUnit:"m/s2",factor:9.80665,offset:0},deg:{SiUnit:"rad",factor:Math.PI/180,offset:0},"\xb0":{SiUnit:"rad",factor:Math.PI/180,offset:0},rpm:{SiUnit:"rad/s",factor:Math.PI/30,offset:0},"deg/s":{SiUnit:"rad/s",factor:Math.PI/180,offset:0},"\xb0/s":{SiUnit:"rad/s",factor:Math.PI/180,offset:0},"Nm/deg":{SiUnit:"Nm/rad",factor:180/Math.PI,offset:0},kW:{SiUnit:"W",factor:1e3,offset:0},MW:{SiUnit:"W",factor:1e6,offset:0},GW:{SiUnit:"W",factor:1e9,offset:0},kJ:{SiUnit:"J",factor:1e3,offset:0},MJ:{SiUnit:"J",factor:1e6,offset:0},GJ:{SiUnit:"J",factor:1e9,offset:0},kWh:{SiUnit:"J",factor:36e5,offset:0},kPa:{SiUnit:"Pa",factor:1e3,offset:0},MPa:{SiUnit:"Pa",factor:1e6,offset:0},GPa:{SiUnit:"Pa",factor:1e9,offset:0},kNm:{SiUnit:"Nm",factor:1e3,offset:0},MNm:{SiUnit:"Nm",factor:1e6,offset:0},GNm:{SiUnit:"Nm",factor:1e9,offset:0},C:{SiUnit:"K",factor:1,offset:273.15},"\xb0C":{SiUnit:"K",factor:1,offset:273.15},F:{SiUnit:"K",factor:5/9,offset:2298.35/9},"N/mm":{SiUnit:"N/m",factor:1e3,offset:0},"lbf/in":{SiUnit:"N/m",factor:175.126835,offset:0},"lbfs/in":{SiUnit:"Ns/m",factor:175.126835,offset:0}},t}(),i=function(t,e,n,r,i){this.factorToSi=t,this.offsetToSi=e,this.factorFromSi=n,this.offsetFromSi=r,this.isConversionRequired=i}},YjDc:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("lFWV"),o=n("OzDC"),a=n("BOjs"),s=n("6EN/"),u="Default",c=function(){function t(t,e,n,r){this.fileLoader=t,this.siteHooks=e,this.studyJobs=n,this.simTypes=r}return t.prototype.resolveViewerLayout=function(t,e,n,c){return r.b(this,void 0,void 0,function(){var h,f,d,p;return r.e(this,function(r){switch(r.label){case 0:return h=e.primary,[4,this.siteHooks.getViewerDefaultLayoutId(t,e)];case 1:return f=r.sent(),c?(d=new i.b(h,h,n),[3,11]):[3,2];case 2:return r.trys.push([2,7,,11]),f?[4,this.siteHooks.loadViewerLayout(t,f)]:[3,4];case 3:return d=r.sent(),[3,6];case 4:return[4,this.tryGetViewerLayoutFromLayoutIds(e,t)];case 5:d=r.sent(),r.label=6;case 6:return[3,11];case 7:return r.sent(),n?(d=new i.b(h,h,n),[3,10]):[3,8];case 8:return[4,this.tryGetViewerLayoutFromLayoutIds(e,t)];case 9:d=r.sent(),r.label=10;case 10:return[3,11];case 11:return d&&d.hasConfig?[3,14]:n?(d=new i.b(h,h,n),[3,14]):[3,12];case 12:return[4,this.siteHooks.loadViewerLayout(t,u)];case 13:d=(d=r.sent())?new i.b(h,d.name,d.getConfigCopy()):new i.b(h,h,void 0),r.label=14;case 14:return!d.hasConfig||t!==o.b&&t!==a.b||(p=d.getConfigCopy(),Object(s.e)(p),d=new i.b(d.layoutId,d.name,p)),[2,new l(e,f||h,d)]}})})},t.prototype.tryGetViewerLayoutFromLayoutIds=function(t,e){return r.b(this,void 0,void 0,function(){var n,o,a,s;return r.e(this,function(r){switch(r.label){case 0:n=[t.primary].concat(t.fallback),a=0,s=n,r.label=1;case 1:return a<s.length?[4,this.siteHooks.loadViewerLayout(e,s[a])]:[3,4];case 2:if(o=r.sent())return[2,new i.b(t.primary,t.primary,o.getConfigCopy())];r.label=3;case 3:return a++,[3,1];case 4:return[2,void 0]}})})},t.prototype.getNextGridSlot=function(t){var e=t.x+t.width;return e>=12&&(e=0),{x:e,y:0===e?t.y+t.height:t.y,width:t.width,height:t.height}},t}(),l=function(){function t(t,e,n){this.requestedLayoutId=t,this.defaultViewerId=e,this.resolvedLayout=n}return Object.defineProperty(t.prototype,"hasConfig",{get:function(){return this.resolvedLayout&&this.resolvedLayout.hasConfig},enumerable:!0,configurable:!0}),t}()},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZYCi:function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("F/XL"),a=n("0/uQ"),s=n("6blF"),u=n("3fWJ"),c=n("K9Ia"),l=n("8g8A"),h=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.d(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(c.a),f=n("67Y/"),d=n("Zn8D");function p(){return Object(d.a)(1)}var m=n("VnD/"),g=n("FFOo"),v=n("b7mW"),y=n("G5J1");function b(t){return function(e){return 0===t?Object(y.b)():e.lift(new w(t))}}var w=function(){function t(t){if(this.total=t,this.total<0)throw new v.a}return t.prototype.call=function(t,e){return e.subscribe(new _(t,this.total))},t}(),_=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.d(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(g.a),x=n("tNVB"),S=n("HJBe"),M=n("mChF");function C(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(m.a)(function(e,n){return t(e,n,r)}):M.a,b(1),n?Object(S.a)(e):Object(x.a)(function(){return new u.a}))}}function E(t,e){return function(n){return n.lift(new T(t,e,n))}}var T=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.predicate,this.thisArg,this.source))},t}(),O=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.d(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(g.a),P=n("MGBS"),A=n("rPjj"),k=n("zotm");function L(t){return function(e){var n=new R(t),r=e.lift(n);return n.caught=r}}var R=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.selector,this.caught))},t}(),D=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.d(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new A.a(this,void 0,void 0);this.add(r),Object(k.a)(this,n,void 0,void 0,r)}},e}(P.a),N=n("P6uZ"),I=n("psW0"),j=n("Phjn");function z(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new F(t,e,n))}}var F=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new V(t,this.accumulator,this.seed,this.hasSeed))},t}(),V=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.d(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(g.a),B=n("y3By"),U=n("Ip0R"),H=n("ZYjt");n.d(e,"v",function(){return ln}),n.d(e,"C",function(){return wn}),n.d(e,"x",function(){return pn}),n.d(e,"D",function(){return _n}),n.d(e,"E",function(){return xn}),n.d(e,"z",function(){return gn}),n.d(e,"y",function(){return mn}),n.d(e,"B",function(){return bn}),n.d(e,"w",function(){return fn}),n.d(e,"A",function(){return yn}),n.d(e,"F",function(){return un}),n.d(e,"n",function(){return Je}),n.d(e,"o",function(){return Ke}),n.d(e,"q",function(){return en}),n.d(e,"d",function(){return q}),n.d(e,"e",function(){return W}),n.d(e,"l",function(){return ze}),n.d(e,"m",function(){return Ye}),n.d(e,"k",function(){return Ve}),n.d(e,"i",function(){return cn}),n.d(e,"j",function(){return Sn}),n.d(e,"p",function(){return dn}),n.d(e,"b",function(){return tn}),n.d(e,"f",function(){return an}),n.d(e,"g",function(){return on}),n.d(e,"h",function(){return rn}),n.d(e,"r",function(){return sn}),n.d(e,"a",function(){return se}),n.d(e,"s",function(){return Ue}),n.d(e,"c",function(){return At}),n.d(e,"t",function(){return Pt}),n.d(e,"u",function(){return st});var G=function(t,e){this.id=t,this.url=e},W=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(G),q=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(G),Y=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(G),X=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(G),Z=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(G),J=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(G),K=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(r.d)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(G),Q=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(G),$=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(G),tt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),et=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),nt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),rt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),it=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),ot=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),at=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),st=function(){},ut="primary",ct=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function lt(t){return new ct(t)}function ht(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var ft=function(t,e){this.routes=t,this.module=e};function dt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];pt(r,mt(e,r))}}function pt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==ut)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&dt(t.children,e)}function mt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function gt(t){var e=t.children&&t.children.map(gt),n=e?Object(r.a)({},t,{children:e}):Object(r.a)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ut&&(n.component=st),n}function vt(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function yt(t){return Array.prototype.concat.apply([],t)}function bt(t){return t.length>0?t[t.length-1]:null}function wt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _t(t){return t.pipe(Object(d.a)(),E(function(t){return!0===t}))}function xt(t){return Object(i.yb)(t)?t:Object(i.zb)(t)?Object(a.a)(Promise.resolve(t)):Object(o.a)(t)}function St(t,e,n){return n?function(t,e){return vt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Tt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Tt(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Tt(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Tt(n.segments,a)&&!!n.children[ut]&&e(n.children[ut],r,s)}(e,n,n.segments)}(t.root,e.root)}var Mt=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return kt.serialize(this)},t}(),Ct=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,wt(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Lt(this)},t}(),Et=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return zt(this)},t}();function Tt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Ot(t,e){var n=[];return wt(t.children,function(t,r){r===ut&&(n=n.concat(e(t,r)))}),wt(t.children,function(t,r){r!==ut&&(n=n.concat(e(t,r)))}),n}var Pt=function(){},At=function(){function t(){}return t.prototype.parse=function(t){var e=new Ht(t);return new Mt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Lt(e);if(n){var r=e.children[ut]?t(e.children[ut],!1):"",i=[];return wt(e.children,function(e,n){n!==ut&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=Ot(e,function(n,r){return r===ut?[t(e.children[ut],!1)]:[r+":"+t(n,!1)]});return Lt(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Dt(t)+"="+Dt(e)}).join("&"):Dt(t)+"="+Dt(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),kt=new At;function Lt(t){return t.segments.map(function(t){return zt(t)}).join("/")}function Rt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dt(t){return Rt(t).replace(/%3B/gi,";")}function Nt(t){return Rt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function It(t){return decodeURIComponent(t)}function jt(t){return It(t.replace(/\+/g,"%20"))}function zt(t){return""+Nt(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Nt(t)+"="+Nt(e[t])}).join(""));var e}var Ft=/^[^\/()?;=#]+/;function Vt(t){var e=t.match(Ft);return e?e[0]:""}var Bt=/^[^=?&#]+/,Ut=/^[^?&#]+/,Ht=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ut]=new Ct(t,e)),n},t.prototype.parseSegment=function(){var t=Vt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Et(It(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Vt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Vt(this.remaining);r&&this.capture(n=r)}t[It(e)]=It(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Bt))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Ut);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=jt(n),a=jt(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Vt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ut);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[ut]:new Ct([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Gt=function(t){this.segmentGroup=t||null},Wt=function(t){this.urlTree=t};function qt(t){return new s.a(function(e){return e.error(new Gt(t))})}function Yt(t){return new s.a(function(e){return e.error(new Wt(t))})}function Xt(t){return new s.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Zt=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.A)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ut).pipe(Object(f.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(L(function(e){if(e instanceof Wt)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Gt)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,ut).pipe(Object(f.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(L(function(t){if(t instanceof Gt)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new Ct([],((r={})[ut]=t,r)):t;return new Mt(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(f.a)(function(t){return new Ct([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(o.a)({});var a=[],s=[],u={};return wt(n,function(n,i){var o,c,l=(o=i,c=n,r.expandSegmentGroup(t,e,c,o)).pipe(Object(f.a)(function(t){return u[i]=t}));i===ut?a.push(l):s.push(l)}),o.a.apply(null,a.concat(s)).pipe(p(),C(),Object(f.a)(function(){return u}))}(n.children)},t.prototype.expandSegment=function(t,e,n,i,a,s){var c=this;return o.a.apply(void 0,Object(r.i)(n)).pipe(Object(f.a)(function(r){return c.expandSegmentAgainstRoute(t,e,n,r,i,a,s).pipe(L(function(t){if(t instanceof Gt)return Object(o.a)(null);throw t}))}),p(),Object(N.a)(function(t){return!!t}),L(function(t,n){if(t instanceof u.a||"EmptyError"===t.name){if(c.noLeftoversInUrl(e,i,a))return Object(o.a)(new Ct([],{}));throw new Gt(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return $t(r)!==o?qt(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):qt(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yt(o):this.lineralizeSegments(n,o).pipe(Object(I.a)(function(n){var o=new Ct(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=Jt(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return qt(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Yt(h):this.lineralizeSegments(r,h).pipe(Object(I.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var a=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(f.a)(function(t){return n._loadedConfig=t,new Ct(i,{})})):Object(o.a)(new Ct(i,{}));var s=Jt(e,n,i),u=s.consumedSegments,c=s.lastChild;if(!s.matched)return qt(e);var l=i.slice(c);return this.getChildConfig(t,n).pipe(Object(I.a)(function(t){var n=t.module,i=t.routes,s=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(function(n){return Qt(t,e,n)&&$t(n)!==ut})}(t,n)?{segmentGroup:Kt(new Ct(e,function(t,e){var n,i,o={};o[ut]=e;try{for(var a=Object(r.j)(t),s=a.next();!s.done;s=a.next()){var u=s.value;""===u.path&&$t(u)!==ut&&(o[$t(u)]=new Ct([],{}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}(i,new Ct(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(function(n){return Qt(t,e,n)})}(t,n)?{segmentGroup:Kt(new Ct(t.segments,function(t,e,n,i){var o,a,s={};try{for(var u=Object(r.j)(n),c=u.next();!c.done;c=u.next()){var l=c.value;Qt(t,e,l)&&!i[$t(l)]&&(s[$t(l)]=new Ct([],{}))}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return Object(r.a)({},i,s)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,l,i),c=s.segmentGroup,h=s.slicedSegments;return 0===h.length&&c.hasChildren()?a.expandChildren(n,i,c).pipe(Object(f.a)(function(t){return new Ct(u,t)})):0===i.length&&0===h.length?Object(o.a)(new Ct(u,{})):a.expandSegment(n,c,i,h,ut,!0).pipe(Object(f.a)(function(t){return new Ct(u.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Object(o.a)(new ft(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):function(t,e){var n=e.canLoad;return n&&0!==n.length?_t(Object(a.a)(n).pipe(Object(f.a)(function(n){var r=t.get(n);return xt(r.canLoad?r.canLoad(e):r(e))}))):Object(o.a)(!0)}(t.injector,e).pipe(Object(I.a)(function(r){return r?n.configLoader.load(t.injector,e).pipe(Object(f.a)(function(t){return e._loadedConfig=t,t})):function(t){return new s.a(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)})):Object(o.a)(new ft([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children[ut])return Xt(t.redirectTo);r=r.children[ut]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Mt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return wt(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return wt(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Ct(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,i,o=0;try{for(var a=Object(r.j)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.path===t.path)return e.splice(o),u;o++}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t},t}();function Jt(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||ht)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Kt(t){if(1===t.numberOfChildren&&t.children[ut]){var e=t.children[ut];return new Ct(t.segments.concat(e.segments),e.children)}return t}function Qt(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function $t(t){return t.outlet||ut}var te=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=ee(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=ee(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=ne(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return ne(t,this._root).map(function(t){return t.value})},t}();function ee(t,e){var n,i;if(t===e.value)return e;try{for(var o=Object(r.j)(e.children),a=o.next();!a.done;a=o.next()){var s=ee(t,a.value);if(s)return s}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}function ne(t,e){var n,i;if(t===e.value)return[e];try{for(var o=Object(r.j)(e.children),a=o.next();!a.done;a=o.next()){var s=ne(t,a.value);if(s.length)return s.unshift(e),s}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return[]}var re=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function ie(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var oe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,he(r,e),r}return Object(r.d)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(te);function ae(t,e){var n=function(t,e){var n=new ce([],{},{},"",{},ut,e,null,t.root,-1,{});return new le("",new re(n,[]))}(t,e),r=new h([new Et("",{})]),i=new h({}),o=new h({}),a=new h({}),s=new h(""),u=new se(r,i,a,s,o,ut,e,n.root);return u.snapshot=n.root,new oe(new re(u,[]),n)}var se=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(f.a)(function(t){return lt(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(f.a)(function(t){return lt(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function ue(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var o=n[i],a=n[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(a.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object(r.a)({},t.params,e.params),data:Object(r.a)({},t.data,e.data),resolve:Object(r.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var ce=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),le=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,he(r,n),r}return Object(r.d)(e,t),e.prototype.toString=function(){return fe(this._root)},e}(te);function he(t,e){e.value._routerState=t,e.children.forEach(function(e){return he(t,e)})}function fe(t){var e=t.children.length>0?" { "+t.children.map(fe).join(", ")+" } ":"";return""+t.value+e}function de(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),vt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!vt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),vt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function pe(t,e){var n,r;return vt(t.params,e.params)&&Tt(n=t.url,r=e.url)&&n.every(function(t,e){return vt(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||pe(t.parent,e.parent))}function me(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ge(t,e,n,r,i){var o={};return r&&wt(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Mt(n.root===t?e:function t(e,n,r){var i={};return wt(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new Ct(e.segments,i)}(n.root,t,e),o,i)}var ve=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&me(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==bt(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ye=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function be(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[ut]:""+t}function we(t,e,n){if(t||(t=new Ct([],{})),0===t.segments.length&&t.hasChildren())return _e(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=be(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ce(s,u,a))return o;r+=2}else{if(!Ce(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Ct(t.segments.slice(0,r.pathIndex),{});return o.children[ut]=new Ct(t.segments.slice(r.pathIndex),t.children),_e(o,0,i)}return r.match&&0===i.length?new Ct(t.segments,{}):r.match&&!t.hasChildren()?xe(t,e,n):r.match?_e(t,0,i):xe(t,e,n)}function _e(t,e,n){if(0===n.length)return new Ct(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[ut]=t,e):void 0===t[0].outlets?((n={})[ut]=t,n):t[0].outlets}(n),i={};return wt(r,function(n,r){null!==n&&(i[r]=we(t.children[r],e,n))}),wt(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Ct(t.segments,i)}function xe(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Se(n[i].outlets);return new Ct(r,o)}if(0===i&&me(n[0]))r.push(new Et(t.segments[e].path,n[0])),i++;else{var a=be(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&me(s)?(r.push(new Et(a,Me(s))),i+=2):(r.push(new Et(a,{})),i++)}}return new Ct(r,{})}function Se(t){var e={};return wt(t,function(t,n){null!==t&&(e[n]=xe(new Ct([],{}),0,t))}),e}function Me(t){var e={};return wt(t,function(t,n){return e[n]=""+t}),e}function Ce(t,e,n){return t==n.path&&vt(e,n.parameters)}var Ee=function(t){this.path=t,this.route=this.path[this.path.length-1]},Te=function(t,e){this.component=t,this.route=e},Oe=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(Object(I.a)(function(e){return e?t.runCanActivateChecks():Object(o.a)(!1)})):Object(o.a)(!0)},t.prototype.resolveData=function(t){var e=this;return this.isActivating()?Object(a.a)(this.canActivateChecks).pipe(Object(j.a)(function(n){return e.runResolve(n.route,t)}),function(t,e){return arguments.length>=2?function(n){return Object(B.a)(z(t,e),b(1),Object(S.a)(e))(n)}:function(e){return Object(B.a)(z(function(e,n,r){return t(e,n,r+1)}),b(1))(e)}}(function(t,e){return t})):Object(o.a)(null)},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=ie(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),wt(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new Ee(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new Te(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new Ee(r)),this.setupChildRouteGuards(t,null,i.component?a?a.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!pe(t,e)||!vt(t.queryParams,e.queryParams);case"paramsChange":default:return!pe(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=ie(t),i=t.value;wt(r,function(t,r){n.deactivateRouteAndItsChildren(t,i.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new Te(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this;return Object(a.a)(this.canDeactivateChecks).pipe(Object(I.a)(function(e){return t.runCanDeactivate(e.component,e.route)}),E(function(t){return!0===t}))},t.prototype.runCanActivateChecks=function(){var t=this;return Object(a.a)(this.canActivateChecks).pipe(Object(j.a)(function(e){return _t(Object(a.a)([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))}),E(function(t){return!0===t}))},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new it(t)),Object(o.a)(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new nt(t)),Object(o.a)(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?_t(Object(a.a)(n).pipe(Object(f.a)(function(n){var r=e.getToken(n,t);return xt(r.canActivate?r.canActivate(t,e.future):r(t,e.future)).pipe(Object(N.a)())}))):Object(o.a)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return _t(Object(a.a)(r).pipe(Object(f.a)(function(t){return _t(Object(a.a)(t.guards).pipe(Object(f.a)(function(r){var i=e.getToken(r,t.node);return xt(i.canActivateChild?i.canActivateChild(n,e.future):i(n,e.future)).pipe(Object(N.a)())})))})))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Object(a.a)(r).pipe(Object(I.a)(function(r){var i=n.getToken(r,e);return xt(i.canDeactivate?i.canDeactivate(t,e,n.curr,n.future):i(t,e,n.curr,n.future)).pipe(Object(N.a)())})).pipe(E(function(t){return!0===t})):Object(o.a)(!0)},t.prototype.runResolve=function(t,e){return this.resolveNode(t._resolve,t).pipe(Object(f.a)(function(n){return t._resolvedData=n,t.data=Object(r.a)({},t.data,ue(t,e).resolve),null}))},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Object(o.a)({});if(1===r.length){var i=r[0];return this.getResolver(t[i],e).pipe(Object(f.a)(function(t){var e;return(e={})[i]=t,e}))}var s={};return Object(a.a)(r).pipe(Object(I.a)(function(r){return n.getResolver(t[r],e).pipe(Object(f.a)(function(t){return s[r]=t,t}))})).pipe(C(),Object(f.a)(function(){return s}))},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return xt(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Pe=function(){},Ae=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=Re(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ut),n=new ce([],Object.freeze({}),Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new re(n,e),a=new le(this.url,i);return this.inheritParamsAndData(a._root),Object(o.a)(a)}catch(t){return new s.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=ue(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Ot(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===ut?-1:e.value.outlet===ut?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,i){var o,a;try{for(var s=Object(r.j)(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{return this.processSegmentAgainstRoute(c,e,n,i)}catch(t){if(!(t instanceof Pe))throw t}}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,i))return[];throw new Pe},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new Pe;if((t.outlet||ut)!==i)throw new Pe;var o,a=[],s=[];if("**"===t.path){var u=n.length>0?bt(n).parameters:{};o=new ce(n,u,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,Ie(t),i,t.component,t,ke(e),Le(e)+n.length,je(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Pe;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||ht)(n,t,e);if(!i)throw new Pe;var o={};wt(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object(r.a)({},o,i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}(e,t,n);a=c.consumedSegments,s=n.slice(c.lastChild),o=new ce(a,c.parameters,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,Ie(t),i,t.component,t,ke(e),Le(e)+a.length,je(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=Re(e,a,s,l,this.relativeLinkResolution),f=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&f.hasChildren()){var p=this.processChildren(l,f);return[new re(o,p)]}if(0===l.length&&0===d.length)return[new re(o,[])];var m=this.processSegment(l,f,d,ut);return[new re(o,m)]},t}();function ke(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Le(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Re(t,e,n,i,o){if(n.length>0&&function(t,e,n){return i.some(function(n){return De(t,e,n)&&Ne(n)!==ut})}(t,n)){var a=new Ct(e,function(t,e,n,i){var o,a,s={};s[ut]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;try{for(var u=Object(r.j)(n),c=u.next();!c.done;c=u.next()){var l=c.value;if(""===l.path&&Ne(l)!==ut){var h=new Ct([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[Ne(l)]=h}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return s}(t,e,i,new Ct(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(function(n){return De(t,e,n)})}(t,n)){var s=new Ct(t.segments,function(t,e,n,i,o,a){var s,u,c={};try{for(var l=Object(r.j)(i),h=l.next();!h.done;h=l.next()){var f=h.value;if(De(t,n,f)&&!o[Ne(f)]){var d=new Ct([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===a?t.segments.length:e.length,c[Ne(f)]=d}}}catch(t){s={error:t}}finally{try{h&&!h.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return Object(r.a)({},o,c)}(t,e,n,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Ct(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function De(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ne(t){return t.outlet||ut}function Ie(t){return t.data||{}}function je(t){return t.resolve||{}}var ze=function(){},Fe=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Ve=new i.s("ROUTES"),Be=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(f.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new ft(yt(i.injector.get(Ve)).map(gt),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(a.a)(this.loader.load(t)):xt(t()).pipe(Object(I.a)(function(t){return t instanceof i.y?Object(o.a)(t):Object(a.a)(e.compiler.compileModuleAsync(t))}))},t}(),Ue=function(){},He=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Ge(t){throw t}function We(t,e,n){return e.parse("/")}function qe(t,e){return Object(o.a)(null)}var Ye=function(){function t(t,e,n,r,o,a,s,u){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.navigations=new h(null),this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new c.a,this.errorHandler=Ge,this.malformedUriErrorHandler=We,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qe,afterPreactivation:qe},this.urlHandlingStrategy=new He,this.routeReuseStrategy=new Fe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.A),this.console=o.get(i.hb);var f=o.get(i.C);this.isNgZoneEnabled=f instanceof i.C,this.resetConfig(u),this.currentUrlTree=new Mt(new Ct([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Be(a,s,function(t){return l.triggerEvent(new tt(t))},function(t){return l.triggerEvent(new et(t))}),this.routerState=ae(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){dt(t),this.config=t.map(gt),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,o=e.queryParams,a=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,c=e.preserveFragment;Object(i.cb)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,h=c?this.currentUrlTree.fragment:a,f=null;if(u)switch(u){case"merge":f=Object(r.a)({},this.currentUrlTree.queryParams,o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}else f=s?this.currentUrlTree.queryParams:o||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,i,o){if(0===n.length)return ge(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ve(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return wt(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),Object(r.i)(t,[{outlets:a}])}if(i.segmentPath)return Object(r.i)(t,[i.segmentPath])}return"string"!=typeof i?Object(r.i)(t,[i]):0===o?(i.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(r.i)(t,[i])},[]);return new ve(n,e,i)}(n);if(a.toRoot())return ge(e.root,new Ct([],{}),e,i,o);var s=function(t,n,r){if(t.isAbsolute)return new ye(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new ye(r.snapshot._urlSegment,!0,0);var i=me(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new ye(a,!1,s-u)}()}(a,0,t),u=s.processChildren?_e(s.segmentGroup,s.index,a.commands):we(s.segmentGroup,s.index,a.commands);return ge(s.segmentGroup,u,e,i,o)}(l,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(i.cb)()&&this.isNgZoneEnabled&&!i.C.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=t instanceof Mt?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(t instanceof Mt)return St(this.currentUrlTree,t,e);var n=this.parseUrl(t);return St(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.pipe(Object(j.a)(function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(o.a)(null)})).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,state:n,rawUrl:t,extras:r,resolve:o,reject:a,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=t.source,u=t.state,c=this.urlHandlingStrategy.extract(r),l=!this.navigated||c.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(r)?("eager"!==this.urlUpdateStrategy||i.skipLocationChange||this.setBrowserUrl(r,!!i.replaceUrl,n),this.events.next(new W(n,this.serializeUrl(c),s,u)),Promise.resolve().then(function(t){return e.runNavigate(c,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new W(n,this.serializeUrl(c),s,u)),Promise.resolve().then(function(t){return e.runNavigate(c,r,!1,!1,n,ae(c,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,i,a,s){var u=this;return a!==this.navigationId?(this.events.next(new Y(a,this.serializeUrl(t),"Navigation ID "+a+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(c,l){var d,p=(s?Object(o.a)({appliedUrl:t,snapshot:s}):new Zt(u.ngModule.injector,u.configLoader,u.urlSerializer,t,u.config).apply().pipe(Object(I.a)(function(e){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Ae(t,e,n,r,i,o).recognize()}(u.rootComponentType,u.config,e,u.serializeUrl(e),u.paramsInheritanceStrategy,u.relativeLinkResolution).pipe(Object(f.a)(function(n){return u.events.next(new Z(a,u.serializeUrl(t),u.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}}))}))).pipe(Object(I.a)(function(r){return"boolean"==typeof r?Object(o.a)(r):u.hooks.beforePreactivation(r.snapshot,{navigationId:a,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:i}).pipe(Object(f.a)(function(){return r}))})).pipe(Object(f.a)(function(t){if("boolean"==typeof t)return t;var e=t.appliedUrl,n=t.snapshot;return(d=new Oe(n,u.routerState.snapshot,u.ngModule.injector,function(t){return u.triggerEvent(t)})).initialize(u.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(Object(I.a)(function(e){if("boolean"==typeof e||u.navigationId!==a)return Object(o.a)(!1);var n=e.appliedUrl,r=e.snapshot;return u.triggerEvent(new J(a,u.serializeUrl(t),u.serializeUrl(n),r)),d.checkGuards().pipe(Object(f.a)(function(e){return u.triggerEvent(new K(a,u.serializeUrl(t),u.serializeUrl(n),r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))})).pipe(Object(I.a)(function(e){return"boolean"==typeof e||u.navigationId!==a?Object(o.a)(!1):e.shouldActivate&&d.isActivating()?(u.triggerEvent(new Q(a,u.serializeUrl(t),u.serializeUrl(e.appliedUrl),e.snapshot)),d.resolveData(u.paramsInheritanceStrategy).pipe(Object(f.a)(function(){return u.triggerEvent(new $(a,u.serializeUrl(t),u.serializeUrl(e.appliedUrl),e.snapshot)),e}))):Object(o.a)(e)})).pipe(Object(I.a)(function(r){return"boolean"==typeof r||u.navigationId!==a?Object(o.a)(!1):u.hooks.afterPreactivation(r.snapshot,{navigationId:a,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:i}).pipe(Object(f.a)(function(){return r}))})).pipe(Object(f.a)(function(t){if("boolean"==typeof t||u.navigationId!==a)return!1;var e,n,i,o=t.appliedUrl,s=t.shouldActivate;return s?{appliedUrl:o,state:(i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(c=i.value)._futureSnapshot=n.value;var o=function(e,n,i){return n.children.map(function(n){var o,a;try{for(var s=Object(r.j)(i.children),u=s.next();!u.done;u=s.next()){var c=u.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,i);return new re(c,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new se(new h((u=n.value).url),new h(u.params),new h(u.queryParams),new h(u.fragment),new h(u.data),u.outlet,u.component,u);return o=n.children.map(function(n){return t(e,n)}),new re(c,o)}(u.routeReuseStrategy,(e=t.snapshot)._root,(n=u.routerState)?n._root:void 0),new oe(i,e)),shouldActivate:s}:{appliedUrl:o,state:null,shouldActivate:s}}));u.activateRoutes(p,u.routerState,u.currentUrlTree,a,t,e,n,i,c,l)})},t.prototype.activateRoutes=function(t,e,n,r,i,o,a,s,u,c){var l,h=this;t.forEach(function(t){if("boolean"!=typeof t&&t.shouldActivate&&r===h.navigationId&&t.state){var n=t.state;h.currentUrlTree=t.appliedUrl,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,o),h.routerState=n,"deferred"!==h.urlUpdateStrategy||a||h.setBrowserUrl(h.rawUrlTree,s,r),new Xe(h.routeReuseStrategy,n,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),l=!0}else l=!1}).then(function(){l?(h.navigated=!0,h.lastSuccessfulId=r,h.events.next(new q(r,h.serializeUrl(i),h.serializeUrl(h.currentUrlTree))),u(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new Y(r,h.serializeUrl(i),"")),u(!1))},function(t){if((a=t)&&a.ngNavigationCancelingError)h.navigated=!0,h.resetStateAndUrl(e,n,o),h.events.next(new Y(r,h.serializeUrl(i),t.message)),u(!1);else{h.resetStateAndUrl(e,n,o),h.events.next(new X(r,h.serializeUrl(i),t));try{u(h.errorHandler(t))}catch(t){c(t)}}var a})},t.prototype.setBrowserUrl=function(t,e,n){var r=this.urlSerializer.serialize(t);this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",{navigationId:n}):this.location.go(r,"",{navigationId:n})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Xe=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),de(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=ie(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),wt(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=ie(t),o=t.value.component?r.children:e;wt(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=ie(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new ot(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rt(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(de(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ze(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Ze(t){de(t.value),t.children.forEach(Ze)}var Je=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(i.cb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Qe(this.skipLocationChange),replaceUrl:Qe(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qe(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qe(this.preserveFragment)})},enumerable:!0,configurable:!0}),Object(r.c)([Object(r.g)(2,Object(i.h)("tabindex"))],t)}(),Ke=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof q&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(i.cb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Qe(this.skipLocationChange),replaceUrl:Qe(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qe(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qe(this.preserveFragment)})},enumerable:!0,configurable:!0}),Object(r.c)([Object(i.p)("attr.target"),Object(i.u)(),Object(r.f)("design:type",String)],t.prototype,"target",void 0),t}();function Qe(t){return""===t||!!t}var $e=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tn,this.attachRef=null}}(),tn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new $e,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),en=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||ut,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new nn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},Object(r.c)([Object(r.g)(3,Object(i.h)("name"))],t)}(),nn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===se?this.route:t===tn?this.childContexts:this.parent.get(t,e)},t}(),rn=function(){},on=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(L(function(){return Object(o.a)(null)}))},t}(),an=function(){function t(){}return t.prototype.preload=function(t,e){return Object(o.a)(null)},t}(),sn=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Be(e,n,function(e){return t.triggerEvent(new tt(e))},function(e){return t.triggerEvent(new et(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Object(m.a)(function(t){return t instanceof q}),Object(j.a)(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(i.A);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,i,o=[];try{for(var s=Object(r.j)(e),u=s.next();!u.done;u=s.next()){var c=u.value;if(c.loadChildren&&!c.canLoad&&c._loadedConfig){var l=c._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return Object(a.a)(o).pipe(Object(d.a)(),Object(f.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(I.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),un=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof W?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof q&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof at&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new at(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),cn=new i.s("ROUTER_CONFIGURATION"),ln=new i.s("ROUTER_FORROOT_GUARD"),hn=[U.h,{provide:Pt,useClass:At},{provide:Ye,useFactory:yn,deps:[i.g,Pt,tn,U.h,i.t,i.z,i.j,Ve,cn,[Ue,new i.D],[ze,new i.D]]},tn,{provide:se,useFactory:bn,deps:[Ye]},{provide:i.z,useClass:i.O},sn,an,on,{provide:cn,useValue:{enableTracing:!1}}];function fn(){return new i.B("Router",Ye)}var dn=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[hn,vn(t),{provide:ln,useFactory:gn,deps:[[Ye,new i.D,new i.N]]},{provide:cn,useValue:n||{}},{provide:U.i,useFactory:mn,deps:[U.u,[new i.q(U.a),new i.D],cn]},{provide:un,useFactory:pn,deps:[Ye,U.v,cn]},{provide:rn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:an},{provide:i.B,multi:!0,useFactory:fn},[wn,{provide:i.d,multi:!0,useFactory:_n,deps:[wn]},{provide:Sn,useFactory:xn,deps:[wn]},{provide:i.b,multi:!0,useExisting:Sn}]]}},t.forChild=function(t){return{ngModule:e,providers:[vn(t)]}},e=Object(r.c)([Object(r.g)(0,Object(i.D)()),Object(r.g)(0,Object(i.q)(ln)),Object(r.g)(1,Object(i.D)())],t)}();function pn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new un(t,e,n)}function mn(t,e,n){return void 0===n&&(n={}),n.useHash?new U.f(t,e):new U.t(t,e)}function gn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:Ve,multi:!0,useValue:t}]}function yn(t,e,n,r,i,o,a,s,u,c,l){void 0===u&&(u={});var h=new Ye(null,e,n,r,i,o,a,yt(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Object(H.s)();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function bn(t){return t.routerState.root}var wn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new c.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(U.g,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Ye),i=t.injector.get(cn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(o.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(cn),n=this.injector.get(sn),r=this.injector.get(un),o=this.injector.get(Ye),a=this.injector.get(i.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function _n(t){return t.appInitializer.bind(t)}function xn(t){return t.bootstrapListener.bind(t)}var Sn=new i.s("Router Initializer")},ZYjt:function(t,e,n){"use strict";n.d(e,"q",function(){return vt}),n.d(e,"r",function(){return E}),n.d(e,"a",function(){return yt}),n.d(e,"i",function(){return gt}),n.d(e,"b",function(){return m}),n.d(e,"d",function(){return T}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return tt}),n.d(e,"g",function(){return et}),n.d(e,"h",function(){return nt}),n.d(e,"c",function(){return st}),n.d(e,"s",function(){return s}),n.d(e,"k",function(){return z}),n.d(e,"j",function(){return Q}),n.d(e,"n",function(){return rt}),n.d(e,"o",function(){return at}),n.d(e,"m",function(){return k}),n.d(e,"p",function(){return A}),n.d(e,"l",function(){return ut});var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),a=null;function s(){return a}var u,c={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o.vb.Node&&(u=o.vb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var f,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,Object(r.i)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return c},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&h.hasOwnProperty(e)&&(e=h[e]))}return l[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=p||(p=document.querySelector("base"))?p.getAttribute("href"):null;return null==n?null:(e=n,f||(f=document.createElement("a")),f.setAttribute("href",e),"/"===f.pathname.charAt(0)?f.pathname:"/"+f.pathname)},e.prototype.resetBaseElement=function(){p=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(i.z)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.d)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),p=null,m=i.d;function g(){return!!window.history.pushState}var v=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.d)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){g()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){g()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(r.c)([Object(r.g)(0,Object(o.q)(m)),Object(r.f)("design:paramtypes",[Object])],e)}(i.u),y=new o.s("TRANSITION_ID"),b=[{provide:o.d,useFactory:function(t,e,n){return function(){n.get(o.e).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[y,m,o.t],multi:!0}],w=function(){function t(){}return t.init=function(){Object(o.eb)(new t)},t.prototype.addToWindow=function(t){o.vb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.vb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},o.vb.getAllAngularRootElements=function(){return t.getAllRootElements()},o.vb.frameworkStabilizers||(o.vb.frameworkStabilizers=[]),o.vb.frameworkStabilizers.push(function(t){var e=o.vb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}();function _(t,e){"undefined"!=typeof COMPILED&&COMPILED||((o.vb.ng=o.vb.ng||{})[t]=e)}var x={ApplicationRef:o.g,NgZone:o.C},S="probe",M="coreTokens";function C(t){return Object(o.ab)(t)}function E(t){return _(S,C),_(M,Object(r.a)({},x,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return C}}var T=new o.s("EventManagerPlugins"),O=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},Object(r.c)([Object(r.g)(0,Object(o.q)(T))],t)}(),P=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),A=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),k=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.d)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},Object(r.c)([Object(r.g)(0,Object(o.q)(m))],e)}(A),L={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},R=/%COMP%/g,D="_nghost-%COMP%",N="_ngcontent-%COMP%";function I(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?I(t,i,n):(i=i.replace(R,t),n.push(i))}return n}function j(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var z=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new F(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case o.U.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new H(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case o.U.Native:case o.U.ShadowDom:return new G(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=I(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),F=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(L[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=L[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=L[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&o.J.DashCase?t.style.setProperty(e,n,r&o.J.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&o.J.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){B(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return B(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,j(n)):this.eventManager.addEventListener(t,e,j(n))},t}(),V="@".charCodeAt(0);function B(t,e){if(t.charCodeAt(0)===V)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var U,H=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=I(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=N.replace(R,r.id),i.hostAttr=D.replace(R,r.id),i}return Object(r.d)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(F),G=function(t){function e(e,n,r,i){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=r,a.component=i,a.shadowRoot=i.encapsulation===o.U.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=I(i.id,i.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return Object(r.d)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(F),W="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},q=W("addEventListener"),Y=W("removeEventListener"),X={},Z="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[W("BLACK_LISTED_EVENTS")]&&(U={});var J=function(t){return!!U&&U.hasOwnProperty(t)},K=function(t){var e=X[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[Z];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Q=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.ngZone=n,r&&Object(i.w)(r)||o.patchEvent(),o}return Object(r.d)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Z]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[q]||o.C.isInAngularZone()&&!J(e))t.addEventListener(e,i,!1);else{var a=X[e];a||(a=X[e]=W("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=J(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:i});else{for(var l=!1,h=0;h<s.length;h++)if(s[h].handler===i){l=!0;break}l||s.push({zone:c,handler:i})}u||t[q](e,K,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Y];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=X[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,K,!1]):t.removeEventListener.apply(t,[e,n,!1])},Object(r.c)([Object(r.g)(0,Object(o.q)(m)),Object(r.g)(2,Object(o.D)()),Object(r.g)(2,Object(o.q)(o.E))],e)}(P),$={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tt=new o.s("HammerGestureConfig"),et=new o.s("HammerLoader"),nt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),rt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(r.d)(e,t),e.prototype.supports=function(t){return!(!$.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},Object(r.c)([Object(r.g)(0,Object(o.q)(m)),Object(r.g)(1,Object(o.q)(tt)),Object(r.g)(3,Object(o.D)()),Object(r.g)(3,Object(o.q)(et))],e)}(P),it=["alt","control","meta","shift"],ot={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},at=function(t){function e(e){return t.call(this,e)||this}var n;return Object(r.d)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(it.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),it.forEach(function(r){r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},n=Object(r.c)([Object(r.g)(0,Object(o.q)(m))],e)}(P),st=function(){},ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.d)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case o.L.NONE:return e;case o.L.HTML:return e instanceof lt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(o.ib)(this._doc,String(e)));case o.L.STYLE:return e instanceof ht?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(o.jb)(e));case o.L.SCRIPT:if(e instanceof ft)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case o.L.URL:return e instanceof pt||e instanceof dt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(o.kb)(String(e)));case o.L.RESOURCE_URL:if(e instanceof pt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ct)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new lt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ht(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ft(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new dt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new pt(t)},Object(r.c)([Object(r.g)(0,Object(o.q)(m))],e)}(st),ct=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ct),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ct),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ct),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ct),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ct),mt=[{provide:o.E,useValue:i.x},{provide:o.F,useValue:function(){d.makeCurrent(),w.init()},multi:!0},{provide:i.u,useClass:v,deps:[m]},{provide:m,useFactory:function(){return document},deps:[]}],gt=Object(o.W)(o.db,"browser",mt);function vt(){return new o.m}var yt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:y,useExisting:o.c},b]}},e=Object(r.c)([Object(r.g)(0,Object(o.D)()),Object(r.g)(0,Object(o.N)()),Object(r.g)(0,Object(o.q)(e))],t)}();"undefined"!=typeof window&&window},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},a8jH:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e){this._width=t,this._height=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t}()},aEMu:function(t,e,n){"use strict";var r=n("mrSG"),i=n("eh5z"),o=n("8/63"),a=n("LXbF"),s=n("HLL/"),u=n("HrTc"),c=n("gozj"),l=n("IRoh"),h=n("uahL"),f=function(){function t(t,e,n){this.siteHooks=t,this.studyExplorationAndScalarDataCache=e,this.singleDimensionEvaluationDataCache=n}return t.prototype.execute=function(t){return r.b(this,void 0,void 0,function(){var e,n,o,a,u,f,p,m,g,v,y;return r.e(this,function(b){switch(b.label){case 0:return t=t||{},[4,this.studyExplorationAndScalarDataCache.getDefined()];case 1:e=b.sent(),n=e.explorationMap,o=e.scalarData.inputsMetadataMap,Object(l.a)(t.dimensionIndex)?(u=!1,a=i.range(n.basis.length)):(u=!0,a=[t.dimensionIndex]),f=t.firstParametersOnly?1:1/0,p=[],m=function(t){var e,a,l,m,v,y,b;return r.e(this,function(w){switch(w.label){case 0:if(e=n.basis[t],a=n.rCoordinates.map(function(e){return e[t]}),l=n.coordinates.map(function(e){return e[t]}),m=void 0,!u)return[3,2];if(!g.singleDimensionEvaluationDataCache)throw new Error("Single dimension evaluation data cache not specified.");return[4,g.singleDimensionEvaluationDataCache.getDefined(t)];case 1:return v=w.sent(),m=v.evaluationValues,[3,3];case 2:m=l,w.label=3;case 3:y=function(n){var i,u,f,v,y,b,w,_,x,S,M,C,E,T;return r.e(this,function(r){switch(r.label){case 0:return u=i=e[n],f=s.n,(v=o[i])&&v.units?(f=v.units,u=v.shortName,[3,3]):[3,1];case 1:return(P=/^(.*\.)?([\w-]+)(\[\d+\])*(\W?)$/.exec(O=i))&&(O=P[2]),[4,g.siteHooks.getDefaultChannelUnits(u=O)];case 2:f=r.sent()||s.n,r.label=3;case 3:if(0===m.length||m[0][n].constructor!==Array)T=void 0,m.length>0&&m[0][n].constructor===String?(M=(w=function(t){return t.map(function(t){return t[n]})})(m),y=c.b.unique(M),C=new h.a(M.map(function(t){return y.indexOf(t)}),a),E=w(m),b=c.b.unique(E),T=new d(u,i,t,n,void 0,C,s.k,f,E.map(function(t){return b.indexOf(t)}),b)):m.length>0&&"boolean"==typeof m[0][n]?(M=(w=function(t){return t.map(function(t){return t[n]?1:0})})(l),C=new h.a(M,a),E=w(m),T=new d(u,i,t,n,void 0,C,s.k,f,E)):(M=(w=function(t){return t.map(function(t){return isNaN(t[n])?0:t[n]})})(l),C=new h.a(M,a),E=w(m),T=new d(u,i,t,n,void 0,C,s.k,f,E)),p.push(T);else for(w=function(t,e){return t.map(function(t){return t&&("NaN"===t||t.constructor===Array&&1===t.length&&"NaN"===t[0])?0:t[n][e]}).map(function(t){return isNaN(t)?0:t})},_=m,x=0;x<_[0][n].length;x++)S=i.slice(0,i.length-1)+"["+x+"]"+i.slice(i.length-1,i.length),M=w(l,x),C=new h.a(M,a),E=w(_,x),T=new d(u,S,t,n,x,C,s.k,f,E),1===c.b.unique(T.values).length||p.push(T);return[2]}var O,P})},b=0,w.label=4;case 4:return b<i.minStrict([f,e.length])?[5,y(b)]:[3,7];case 5:w.sent(),w.label=6;case 6:return++b,[3,4];case 7:return[2]}})},g=this,v=0,y=a,b.label=2;case 2:return v<y.length?[5,m(y[v])]:[3,5];case 3:b.sent(),b.label=4;case 4:return v++,[3,2];case 5:return[2,p]}})})},t}(),d=function(t){function e(e,n,r,i,o,a,s,u,c,l){var h=t.call(this,e,n,s,u,void 0,c,l,a)||this;return h.inputDimensionIndex=r,h.inputDimensionParameterIndex=i,h.inputDimensionParameterVectorIndex=o,h}return r.d(e,t),e}(u.a),p=function(){function t(t,e,n){this.explorationAndScalarDataCache=t,this.loadChannelDataFromExplorationMap=e,this.options=n}return t.prototype.get=function(){return this.cache||(this.cache=this.loadStudyData()),this.cache},t.prototype.getSynchronous=function(){return this.lastData},t.prototype.loadStudyData=function(){return r.b(this,void 0,void 0,function(){var t,e,n;return r.e(this,function(r){switch(r.label){case 0:return[4,this.explorationAndScalarDataCache.getDefined()];case 1:return t=r.sent(),[4,this.loadChannelDataFromExplorationMap.execute(this.options)];case 2:return e=r.sent(),n=e.reduce(function(t,e){return t[e.fullName]=e,t},{}),this.lastData={explorationData:t,inputDimensionList:e,inputDimensionMap:n},[2,this.lastData]}})})},t}();n.d(e,"b",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"c",function(){return v});var m="index",g=function(t){return t[t.unknown=0]="unknown",t[t.index=1]="index",t[t.input=2]="input",t[t.output=3]="output",t}({}),v=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.siteHooks=e,a.urlFileLoader=n,a.studyId=r,a.channelDataFactory=i,a.cache=o,a}return r.d(e,t),e.create=function(t,n,r,i,o,a){return new e(t,n,r,new u.c(t),new p(i,new f(t,i,o),{dimensionIndex:a}))},e.prototype.getSourceMetadata=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return[4,this.siteHooks.getStudyName(this.studyId)];case 1:return t=e.sent(),[2,new o.c(t)]}})})},Object.defineProperty(e.prototype,"underlyingStudyData",{get:function(){var t=this.cache.getSynchronous();if(t)return new y(this.studyId,t)},enumerable:!0,configurable:!0}),e.prototype.getChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){var n,i,o,a;return r.e(this,function(r){switch(r.label){case 0:return[4,this.cache.get()];case 1:return n=r.sent(),i=this.tryGetIndexChannel(t,n.explorationData.explorationMap.jobNames.length),o=new b(g.index),i||(i=n.explorationData.scalarData.getScalarData(t),o=new b(g.output)),i||(a=n.inputDimensionMap[t])&&(i=a,o=new b(g.input,a.inputDimensionIndex,a.inputDimensionParameterIndex,a.inputDimensionParameterVectorIndex)),i||(o=new b(g.unknown)),[2,this.channelDataFactory.createSourceChannelData(o,t,i,e)]}})})},e.prototype.getConfig=function(e){switch(e){case s.d:return this.urlFileLoader.loadTrackForStudy(this.studyId);case s.c:return this.urlFileLoader.loadCarForStudy(this.studyId)}return t.prototype.getConfig.call(this,e)},e.prototype.tryGetIndexChannel=function(t,e){if(t===m)return this.indexChannelData||(this.indexChannelData=new u.a(m,m,"Job Index","()",void 0,i.range(e))),this.indexChannelData},e.prototype.getRequestableChannels=function(t,e){return r.b(this,void 0,void 0,function(){var e,n,i;return r.e(this,function(r){switch(r.label){case 0:return[4,this.cache.get()];case 1:switch(e=r.sent(),n=e.explorationData.scalarData.getAllChannels(),i=e.inputDimensionList,t){case a.a.FullyQualified:return[2,n.map(function(t){return new o.a(new b(g.output),t.genericName,s.f)}).concat(n.map(function(t){return new o.a(new b(g.output),t.fullName,t.description)}),i.map(function(t){return new o.a(new b(g.input,t.inputDimensionIndex,t.inputDimensionParameterIndex,t.inputDimensionParameterVectorIndex),t.fullName,t.description)}))];case a.a.Generic:return[2,n.map(function(t){return new o.a(new b(g.output),t.genericName,t.description)}).concat(i.map(function(t){return new o.a(new b(g.input,t.inputDimensionIndex,t.inputDimensionParameterIndex,t.inputDimensionParameterVectorIndex),t.genericName,t.description)}))]}return[2,[]]}})})},e}(o.b),y=function(t,e){this.studyId=t,this.data=e},b=function(t,e,n,r){this.channelType=t,this.inputDimensionIndex=e,this.inputDimensionParameterIndex=n,this.inputDimensionParameterVectorIndex=r}},aNjz:function(t,e,n){var r,i=n("zJjT").sigmas,o=[{},{},{}];for(var a in i)if(i.hasOwnProperty(a))for(r=0;r<3;r++)o[r][a]=i[a][r];for(r=0;r<3;r++)o[r].emPerEx=i.xHeight[r]/i.quad[r];function s(t,e,n,r){this.id=t,this.size=e,this.cramped=r,this.sizeMultiplier=n,this.metrics=o[e>0?e-1:0]}s.prototype.sup=function(){return l[h[this.id]]},s.prototype.sub=function(){return l[f[this.id]]},s.prototype.fracNum=function(){return l[d[this.id]]},s.prototype.fracDen=function(){return l[p[this.id]]},s.prototype.cramp=function(){return l[m[this.id]]},s.prototype.cls=function(){return u[this.size]+(this.cramped?" cramped":" uncramped")},s.prototype.reset=function(){return c[this.size]},s.prototype.isTight=function(){return this.size>=2};var u=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],c=["reset-textstyle","reset-textstyle","reset-scriptstyle","reset-scriptscriptstyle"],l=[new s(0,0,1,!1),new s(1,0,1,!0),new s(2,1,1,!1),new s(3,1,1,!0),new s(4,2,.7,!1),new s(5,2,.7,!0),new s(6,3,.5,!1),new s(7,3,.5,!0)],h=[4,5,4,5,6,7,6,7],f=[5,5,5,5,7,7,7,7],d=[2,3,4,5,6,7,6,7],p=[3,3,5,5,7,7,7,7],m=[1,1,3,3,5,5,7,7];t.exports={DISPLAY:l[0],TEXT:l[2],SCRIPT:l[4],SCRIPTSCRIPT:l[6]}},b1Dy:function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},b7mW:function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},bzbY:function(t,e,n){var r=n("eIiX"),i=n("gveB"),o=n("j+Vh"),a=n("FdGB"),s=n("s847"),u=n("lrVJ").cjkRegex,c=n("yqz1"),l=n("E0m9");function h(t,e){this.gullet=new o(t,e.macros),this.settings=e,this.leftrightDepth=0}var f=c.ParseNode;function d(t,e,n){this.result=t,this.isFunction=e,this.token=n}h.prototype.expect=function(t,e){if(this.nextToken.text!==t)throw new l("Expected '"+t+"', got '"+this.nextToken.text+"'",this.nextToken);!1!==e&&this.consume()},h.prototype.consume=function(){this.nextToken=this.gullet.get("math"===this.mode)},h.prototype.switchMode=function(t){this.gullet.unget(this.nextToken),this.mode=t,this.consume()},h.prototype.parse=function(){return this.mode="math",this.consume(),this.parseInput()},h.prototype.parseInput=function(){var t=this.parseExpression(!1);return this.expect("EOF",!1),t};var p=["}","\\end","\\right","&","\\\\","\\cr"];h.prototype.parseExpression=function(t,e){for(var n=[];;){var i=this.nextToken;if(-1!==p.indexOf(i.text))break;if(e&&i.text===e)break;if(t&&r[i.text]&&r[i.text].infix)break;var o=this.parseAtom();if(!o){if(!this.settings.throwOnError&&"\\"===i.text[0]){var a=this.handleUnsupportedCmd();n.push(a);continue}break}n.push(o)}return this.handleInfixNodes(n)},h.prototype.handleInfixNodes=function(t){for(var e,n=-1,r=0;r<t.length;r++){var i=t[r];if("infix"===i.type){if(-1!==n)throw new l("only one infix operator per group",i.value.token);n=r,e=i.value.replaceWith}}if(-1!==n){var o,a,s=t.slice(0,n),u=t.slice(n+1);o=1===s.length&&"ordgroup"===s[0].type?s[0]:new f("ordgroup",s,this.mode),a=1===u.length&&"ordgroup"===u[0].type?u[0]:new f("ordgroup",u,this.mode);var c=this.callFunction(e,[o,a],null);return[new f(c.type,c,this.mode)]}return t},h.prototype.handleSupSubscript=function(t){var e=this.nextToken,n=e.text;this.consume();var i=this.parseGroup();if(i){if(i.isFunction){if(r[i.result].greediness>1)return this.parseFunction(i);throw new l("Got function '"+i.result+"' with no arguments as "+t,e)}return i.result}if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new l("Expected group after '"+n+"'",e);return this.handleUnsupportedCmd()},h.prototype.handleUnsupportedCmd=function(){for(var t=this.nextToken.text,e=[],n=0;n<t.length;n++)e.push(new f("textord",t[n],"text"));var r=new f("text",{body:e,type:"text"},this.mode),i=new f("color",{color:this.settings.errorColor,value:[r],type:"color"},this.mode);return this.consume(),i},h.prototype.parseAtom=function(){var t,e,n=this.parseImplicitGroup();if("text"===this.mode)return n;for(;;){var r=this.nextToken;if("\\limits"===r.text||"\\nolimits"===r.text){if(!n||"op"!==n.type)throw new l("Limit controls must follow a math operator",r);n.value.limits="\\limits"===r.text,n.value.alwaysHandleSupSub=!0,this.consume()}else if("^"===r.text){if(t)throw new l("Double superscript",r);t=this.handleSupSubscript("superscript")}else if("_"===r.text){if(e)throw new l("Double subscript",r);e=this.handleSupSubscript("subscript")}else{if("'"!==r.text)break;var i=new f("textord","\\prime",this.mode),o=[i];for(this.consume();"'"===this.nextToken.text;)o.push(i),this.consume();t=new f("ordgroup",o,this.mode)}}return t||e?new f("supsub",{base:n,sup:t,sub:e},this.mode):n};var m=["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],g=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];h.prototype.parseImplicitGroup=function(){var t=this.parseSymbol();if(null==t)return this.parseFunction();var e,n=t.result;if("\\left"===n){var r=this.parseFunction(t);++this.leftrightDepth,e=this.parseExpression(!1),--this.leftrightDepth,this.expect("\\right",!1);var o=this.parseFunction();return new f("leftright",{body:e,left:r.value.value,right:o.value.value},this.mode)}if("\\begin"===n){var a=this.parseFunction(t),u=a.value.name;if(!i.hasOwnProperty(u))throw new l("No such environment: "+u,a.value.nameGroup);var c=i[u],h=this.parseArguments("\\begin{"+u+"}",c),d={mode:this.mode,envName:u,parser:this,positions:h.pop()},p=c.handler(d,h);this.expect("\\end",!1);var v=this.nextToken,y=this.parseFunction();if(y.value.name!==u)throw new l("Mismatch: \\begin{"+u+"} matched by \\end{"+y.value.name+"}",v);return p.position=y.position,p}return s.contains(m,n)?(e=this.parseExpression(!1),new f("sizing",{size:"size"+(s.indexOf(m,n)+1),value:e},this.mode)):s.contains(g,n)?(e=this.parseExpression(!0),new f("styling",{style:n.slice(1,n.length-5),value:e},this.mode)):this.parseFunction(t)},h.prototype.parseFunction=function(t){if(t||(t=this.parseGroup()),t){if(t.isFunction){var e=t.result,n=r[e];if("text"===this.mode&&!n.allowedInText)throw new l("Can't use function '"+e+"' in text mode",t.token);var i=this.parseArguments(e,n),o=t.token,a=this.callFunction(e,i,i.pop(),o);return new f(a.type,a,this.mode)}return t.result}return null},h.prototype.callFunction=function(t,e,n,i){return r[t].handler({funcName:t,parser:this,positions:n,token:i},e)},h.prototype.parseArguments=function(t,e){var n=e.numArgs+e.numOptionalArgs;if(0===n)return[[this.pos]];for(var i=e.greediness,o=[this.pos],a=[],s=0;s<n;s++){var u,c,h=this.nextToken,f=e.argTypes&&e.argTypes[s];if(s<e.numOptionalArgs){if(!(u=f?this.parseGroupOfType(f,!0):this.parseGroup(!0))){a.push(null),o.push(this.pos);continue}}else if(!(u=f?this.parseGroupOfType(f):this.parseGroup())){if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new l("Expected group after '"+t+"'",h);u=new d(this.handleUnsupportedCmd(this.nextToken.text),!1)}if(u.isFunction){if(!(r[u.result].greediness>i))throw new l("Got function '"+u.result+"' as argument to '"+t+"'",h);c=this.parseFunction(u)}else c=u.result;a.push(c),o.push(this.pos)}return a.push(o),a},h.prototype.parseGroupOfType=function(t,e){var n=this.mode;if("original"===t&&(t=n),"color"===t)return this.parseColorGroup(e);if("size"===t)return this.parseSizeGroup(e);if(this.switchMode(t),"text"===t)for(;" "===this.nextToken.text;)this.consume();var r=this.parseGroup(e);return this.switchMode(n),r},h.prototype.parseStringGroup=function(t,e){if(e&&"["!==this.nextToken.text)return null;var n=this.mode;this.mode="text",this.expect(e?"[":"{");for(var r="",i=this.nextToken,o=i;this.nextToken.text!==(e?"]":"}");){if("EOF"===this.nextToken.text)throw new l("Unexpected end of input in "+t,i.range(this.nextToken,r));r+=(o=this.nextToken).text,this.consume()}return this.mode=n,this.expect(e?"]":"}"),i.range(o,r)},h.prototype.parseRegexGroup=function(t,e){var n=this.mode;this.mode="text";for(var r=this.nextToken,i=r,o="";"EOF"!==this.nextToken.text&&t.test(o+this.nextToken.text);)o+=(i=this.nextToken).text,this.consume();if(""===o)throw new l("Invalid "+e+": '"+r.text+"'",r);return this.mode=n,r.range(i,o)},h.prototype.parseColorGroup=function(t){var e=this.parseStringGroup("color",t);if(!e)return null;var n=/^(#[a-z0-9]+|[a-z]+)$/i.exec(e.text);if(!n)throw new l("Invalid color: '"+e.text+"'",e);return new d(new f("color",n[0],this.mode),!1)},h.prototype.parseSizeGroup=function(t){var e;if(!(e=t||"{"===this.nextToken.text?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2}$/,"size")))return null;var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!n)throw new l("Invalid size: '"+e.text+"'",e);var r={number:+(n[1]+n[2]),unit:n[3]};if("em"!==r.unit&&"ex"!==r.unit&&"mu"!==r.unit)throw new l("Invalid unit: '"+r.unit+"'",e);return new d(new f("color",r,this.mode),!1)},h.prototype.parseGroup=function(t){var e=this.nextToken;if(this.nextToken.text===(t?"[":"{")){this.consume();var n=this.parseExpression(!1,t?"]":null),r=this.nextToken;return this.expect(t?"]":"}"),"text"===this.mode&&this.formLigatures(n),new d(new f("ordgroup",n,this.mode,e,r),!1)}return t?null:this.parseSymbol()},h.prototype.formLigatures=function(t){var e,n=t.length-1;for(e=0;e<n;++e){var r=t[e],i=r.value;"-"===i&&"-"===t[e+1].value&&(e+1<n&&"-"===t[e+2].value?(t.splice(e,3,new f("textord","---","text",r,t[e+2])),n-=2):(t.splice(e,2,new f("textord","--","text",r,t[e+1])),n-=1)),"'"!==i&&"`"!==i||t[e+1].value!==i||(t.splice(e,2,new f("textord",i+i,"text",r,t[e+1])),n-=1)}},h.prototype.parseSymbol=function(){var t=this.nextToken;return r[t.text]?(this.consume(),new d(t.text,!0,t)):a[this.mode][t.text]?(this.consume(),new d(new f(a[this.mode][t.text].group,t.text,this.mode,t),!1,t)):"text"===this.mode&&u.test(t.text)?(this.consume(),new d(new f("textord",t.text,this.mode,t),!1,t)):null},h.prototype.ParseNode=f,t.exports=h},c8oZ:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("4Yz0"),o=n("Aze8"),a=n("21LU"),s=function(){function t(t){this.fileLoader=t,this.getJobSimTypeMetadata=new i.a,this.loadVectorMetadataMap=o.a.create(this.fileLoader,a.b.none)}return t.prototype.execute=function(t,e){return r.b(this,void 0,void 0,function(){var n,i,o,a,s;return r.e(this,function(r){switch(r.label){case 0:n=[],i=0,o=t,r.label=1;case 1:return i<o.length?[4,this.getJobSimTypeMetadata.execute((a=o[i]).studyId,a.jobIndex,e,this.loadVectorMetadataMap)]:[3,4];case 2:s=r.sent(),n.push({studyJob:a,simTypes:s}),r.label=3;case 3:return i++,[3,1];case 4:return[2,n]}})})},t}()},cSU0:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t){this.pointsCount=t},i=function(t,e){this.studyId=t,this.simVersion=e}},cstk:function(t,e){t.exports={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}}},d7hM:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("Womt"),i=n("pugT"),o=function(t,e){this.sourceIndex=t,this.group=e},a=function(){function t(t){this.sharedState=t,this.renderedConfigs={},this.updateAll=!1,this.subscriptions=new i.a}return t.prototype.dispose=function(){this.subscriptions.unsubscribe()},t.prototype.build=function(t,e,n){return this.settings=t,this.svg=e,this.configs=n,this.group=new r.Group,this.createDummyObject(this.group),this.performBuild(),this.update(void 0),this.group},t.prototype.update=function(t){for(var e=!1,n={},r=0;r<this.configs.length;++r){var i=this.configs[r];i&&(n[i.id]=!0,(a=this.renderedConfigs[i.id])&&(a.sourceIndex!==r||this.updateAll)&&(e=!0,this.group.remove(a.group),delete this.renderedConfigs[i.id],a=void 0),!a&&i.data&&(e=!0,(a=this.renderedConfigs[i.id]=this.renderConfig(r,i.data)).group.children.length&&this.group.add(a.group)),a&&(a.group.visible=this.sharedState.sourceLoaderSet.sources[r].isVisible))}for(var o in this.renderedConfigs)if(!n[o]){e=!0;var a=this.renderedConfigs[o];delete this.renderedConfigs[o],this.group.remove(a.group)}if(e){var s=function(t){var e=u.configs[t];if(e){var n=u.renderedConfigs[e.id];n&&n.group.traverse(function(e){return e.renderOrder-=1e3*t})}},u=this;for(r=0;r<this.configs.length;++r)s(r)}return this.performUpdate(t),this.updateAll=!1,e},t.prototype.createDummyObject=function(t){var e=new r.SphereGeometry(1,10,10),n=new r.MeshPhongMaterial({color:8947848,transparent:!0,opacity:0,flatShading:!1,specular:4473924,overdraw:.5}),i=new r.Mesh(e,n);return i.userData.ignoreIntersection=!0,t.add(i),i},t.prototype.groupWithoutIgnoredObjects=function(t){var e=new r.Group;return e.add.apply(e,t.children.filter(function(t){return!t.userData.ignoreIntersection}).map(function(t){return t.clone(!0)})),e},t}()},e83u:function(t,e,n){"use strict";var r=n("CcnG"),i=n("AQUW"),o=n("Ip0R"),a=n("gIcY");n("h8Xd"),n.d(e,"a",function(){return w}),n.d(e,"b",function(){return C});var s=r.sb({encapsulation:0,styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{-webkit-box-shadow:0 0 0 1px #323232;box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;-webkit-box-shadow:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;-webkit-box-shadow:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.4);box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{-webkit-box-shadow:inset 0 1px 1px #d9534f;box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;-webkit-transition:all .25s;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:4px;cursor:text;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}delete-icon[_nghost-%COMP%]{width:20px;height:16px;-webkit-transition:all .15s;transition:all .15s;display:inline-block;text-align:right}delete-icon[_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}delete-icon[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}delete-icon[_nghost-%COMP%]:hover{-webkit-transform:scale(1.5) translateY(-3px);transform:scale(1.5) translateY(-3px)}.dark[_nghost-%COMP%], .dark   [_nghost-%COMP%]{text-align:right}.dark[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.minimal[_nghost-%COMP%], .minimal   [_nghost-%COMP%]{text-align:right}.minimal[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}.minimal[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.bootstrap[_nghost-%COMP%], .bootstrap   [_nghost-%COMP%]{text-align:right}.bootstrap[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}tag[_nghost-%COMP%]:active   path[_ngcontent-%COMP%], tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], tag[_nghost-%COMP%]:focus   path[_ngcontent-%COMP%], tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.darktag[_nghost-%COMP%]:active   path[_ngcontent-%COMP%], .darktag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .darktag[_nghost-%COMP%]:focus   path[_ngcontent-%COMP%], .darktag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.minimaltag[_nghost-%COMP%]:active   path[_ngcontent-%COMP%], .minimaltag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimaltag[_nghost-%COMP%]:focus   path[_ngcontent-%COMP%], .minimaltag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.bootstraptag[_nghost-%COMP%]:active   path[_ngcontent-%COMP%], .bootstraptag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstraptag[_nghost-%COMP%]:focus   path[_ngcontent-%COMP%], .bootstraptag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap3-info[_nghost-%COMP%], .bootstrap3-info   [_nghost-%COMP%]{height:inherit}.bootstrap3-info[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap3-info   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}"],data:{}});function u(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,6,"span",[],null,null,null,null,null)),(t()(),r.Mb(-1,null,["\n    "])),(t()(),r.ub(2,0,null,null,3,":svg:svg",[["height","16px"],["viewBox","0 0 32 32"],["width","16px"]],null,null,null,null,null)),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.ub(4,0,null,null,0,":svg:path",[["d","M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z"],["fill","#121313"]],null,null,null,null,null)),(t()(),r.Mb(-1,null,["\n    "])),(t()(),r.Mb(-1,null,["\n"])),(t()(),r.Mb(-1,null,["\n"]))],null,null)}var c=r.sb({encapsulation:0,styles:['.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{-webkit-box-shadow:0 0 0 1px #323232;box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;-webkit-box-shadow:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;-webkit-box-shadow:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.4);box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{-webkit-box-shadow:inset 0 1px 1px #d9534f;box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;-webkit-transition:all .25s;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:4px;cursor:text;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.ng2-tag-input__text-input[_ngcontent-%COMP%]{display:inline;vertical-align:middle;border:none;padding:0 .5rem;height:38px;font-size:1em;font-family:Roboto,"Helvetica Neue",sans-serif}.ng2-tag-input__text-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input__text-input[disabled=true][_ngcontent-%COMP%]{opacity:.5;background:#fff}'],data:{}});function l(t){return r.Ob(0,[r.Kb(402653184,1,{input:0}),(t()(),r.Mb(-1,null,["\n"])),(t()(),r.ub(2,0,null,null,15,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.Eb(t,4).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Eb(t,4).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.submit(n)&&i),i},null,null)),r.tb(3,16384,null,0,a.y,[],null,null),r.tb(4,540672,null,0,a.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Jb(2048,null,a.c,null,[a.j]),r.tb(6,16384,null,0,a.r,[[4,a.c]],null,null),(t()(),r.Mb(-1,null,["\n    "])),(t()(),r.ub(8,0,[[1,0],["input",1]],null,8,"input",[["autocomplete","off"],["class","ng2-tag-input__text-input"],["formControlName","item"],["minlength","1"],["type","text"]],[[8,"tabIndex",0],[1,"id",0],[1,"placeholder",0],[1,"aria-label",0],[1,"tabindex",0],[1,"disabled",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keyup"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Eb(t,10)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Eb(t,10).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Eb(t,10)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Eb(t,10)._compositionEnd(n.target.value)&&i),"focus"===e&&(i=!1!==o.onFocus.emit(n)&&i),"blur"===e&&(i=!1!==o.onBlur.emit(n)&&i),"keydown"===e&&(i=!1!==o.onKeyDown(n)&&i),"keyup"===e&&(i=!1!==o.onKeyUp(n)&&i),i},null,null)),r.tb(9,278528,null,0,o.j,[r.v,r.w,r.l,r.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.tb(10,16384,null,0,a.d,[r.H,r.l,[2,a.a]],null,null),r.tb(11,540672,null,0,a.m,[],{minlength:[0,"minlength"]},null),r.Jb(1024,null,a.n,function(t){return[t]},[a.m]),r.Jb(1024,null,a.o,function(t){return[t]},[a.d]),r.tb(14,671744,null,0,a.h,[[3,a.c],[6,a.n],[8,null],[6,a.o],[2,a.A]],{name:[0,"name"]},null),r.Jb(2048,null,a.p,null,[a.h]),r.tb(16,16384,null,0,a.q,[[4,a.p]],null,null),(t()(),r.Mb(-1,null,["\n"])),(t()(),r.Mb(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,4,0,n.form),t(e,9,0,"ng2-tag-input__text-input",n.inputClass),t(e,11,0,"1"),t(e,14,0,"item")},function(t,e){var n=e.component;t(e,2,0,r.Eb(e,6).ngClassUntouched,r.Eb(e,6).ngClassTouched,r.Eb(e,6).ngClassPristine,r.Eb(e,6).ngClassDirty,r.Eb(e,6).ngClassValid,r.Eb(e,6).ngClassInvalid,r.Eb(e,6).ngClassPending),t(e,8,1,[r.wb(1,"",n.disabled?-1:n.tabindex?n.tabindex:0,""),n.inputId,n.placeholder,n.placeholder,n.tabindex,n.disabled?n.disabled:null,r.Eb(e,11).minlength?r.Eb(e,11).minlength:null,r.Eb(e,16).ngClassUntouched,r.Eb(e,16).ngClassTouched,r.Eb(e,16).ngClassPristine,r.Eb(e,16).ngClassDirty,r.Eb(e,16).ngClassValid,r.Eb(e,16).ngClassInvalid,r.Eb(e,16).ngClassPending])})}var h=r.sb({encapsulation:0,styles:["[_nghost-%COMP%] {\n            width: 100%;\n            height: 100%;\n            left: 0;\n            overflow: hidden;\n            position: absolute;\n        }\n        \n        .tag-ripple[_ngcontent-%COMP%] {\n            background: rgba(0, 0, 0, 0.1);\n            top: 50%;\n            left: 50%;\n            height: 100%;\n            transform: translate(-50%, -50%);\n            position: absolute;\n        }"],data:{animation:[{type:7,name:"ink",definitions:[{type:0,name:"none",styles:{type:6,styles:{width:0,opacity:0},offset:null},options:void 0},{type:1,expr:"none => clicked",animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,offset:0,width:"30%",borderRadius:"100%"},offset:null},{type:6,styles:{opacity:1,offset:.5,width:"50%"},offset:null},{type:6,styles:{opacity:.5,offset:1,width:"100%",borderRadius:"16px"},offset:null}]},timings:300}],options:null}],options:{}}]}});function f(t){return r.Ob(0,[(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.ub(1,0,null,null,0,"div",[["class","tag-ripple"]],[[24,"@ink",0]],null,null,null,null)),(t()(),r.Mb(-1,null,["\n    "]))],null,function(t,e){t(e,1,0,e.component.state)})}var d=r.sb({encapsulation:0,styles:["[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]:focus{outline:0;overflow:hidden;-webkit-transition:opacity 1s;transition:opacity 1s;z-index:1}[_nghost-%COMP%]{max-width:400px}.blink[_nghost-%COMP%]{-webkit-animation:.3s ease-in-out forwards blink;animation:.3s ease-in-out forwards blink}@-webkit-keyframes blink{0%{opacity:.3}}@keyframes blink{0%{opacity:.3}}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   [contenteditable=true][_ngcontent-%COMP%]{outline:0}.tag-wrapper[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-ms-flexbox;display:flex}.tag__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],data:{}});function p(t){return r.Ob(0,[(t()(),r.Mb(-1,null,["\n        "]))],null,null)}function m(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,6,"div",[],[[1,"contenteditable",0]],null,null,null,null)),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.lb(16777216,null,null,2,null,p)),r.tb(4,540672,null,0,o.s,[r.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r.Hb(5,{item:0,index:1}),(t()(),r.Mb(-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,4,0,t(e,5,0,n.model,n.index),n.template)},function(t,e){t(e,0,0,e.component.editing)})}function g(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,2,"delete-icon",[["aria-label","Remove tag"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.remove(n)&&r),r},u,s)),r.tb(1,49152,null,0,i.a,[],null,null),(t()(),r.Mb(-1,null,["\n        "]))],null,null)}function v(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,9,"div",[["class","tag-wrapper"]],null,null,null,null,null)),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.ub(3,0,null,null,1,"div",[["class","tag__text inline"],["spellcheck","false"]],[[1,"contenteditable",0],[1,"title",0]],[[null,"keydown.enter"],[null,"keydown.escape"],[null,"click"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"keydown.enter"===e&&(r=!1!==i.disableEditMode(n)&&r),"keydown.escape"===e&&(r=!1!==i.disableEditMode(n)&&r),"click"===e&&(r=!1!==(i.editing?n.stopPropagation():void 0)&&r),"blur"===e&&(r=!1!==i.onBlurred(n)&&r),r},null,null)),(t()(),r.Mb(4,null,["\n            ","\n        "])),(t()(),r.Mb(-1,null,["\n\n        "])),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.lb(16777216,null,null,1,null,g)),r.tb(8,16384,null,0,o.l,[r.T,r.Q],{ngIf:[0,"ngIf"]},null),(t()(),r.Mb(-1,null,["\n    "]))],function(t,e){t(e,8,0,e.component.isDeleteIconVisible())},function(t,e){var n=e.component;t(e,3,0,n.editing,n.getDisplayValue(n.model)),t(e,4,0,n.getDisplayValue(n.model))})}function y(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,2,"tag-ripple",[],[[1,"tabindex",0]],null,null,f,h)),r.tb(1,49152,[[1,4]],0,i.g,[],{state:[0,"state"]},null),(t()(),r.Mb(-1,null,["\n"]))],function(t,e){t(e,1,0,e.component.rippleState)},function(t,e){t(e,0,0,-1)})}function b(t){return r.Ob(0,[r.Kb(671088640,1,{ripple:0}),(t()(),r.ub(1,0,null,null,8,"div",[],[[2,"disabled",null],[1,"tabindex",0],[1,"aria-label",0]],[[null,"click"],[null,"dblclick"],[null,"mousedown"],[null,"mouseup"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.select(n)&&r),"dblclick"===e&&(r=!1!==i.toggleEditMode()&&r),"mousedown"===e&&(r=!1!==(i.rippleState="clicked")&&r),"mouseup"===e&&(r=!1!==(i.rippleState="none")&&r),r},null,null)),r.tb(2,16384,null,0,o.p,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),r.Mb(-1,null,["\n\n    "])),(t()(),r.lb(16777216,null,null,1,null,m)),r.tb(5,278528,null,0,o.q,[r.T,r.Q,o.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.Mb(-1,null,["\n\n    "])),(t()(),r.lb(16777216,null,null,1,null,v)),r.tb(8,278528,null,0,o.q,[r.T,r.Q,o.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.Mb(-1,null,["\n"])),(t()(),r.Mb(-1,null,["\n\n"])),(t()(),r.lb(16777216,null,null,1,null,y)),r.tb(12,16384,null,0,o.l,[r.T,r.Q],{ngIf:[0,"ngIf"]},null),(t()(),r.Mb(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,2,0,!!n.template),t(e,5,0,!0),t(e,8,0,!1),t(e,12,0,n.isRippleVisible)},function(t,e){var n=e.component;t(e,1,0,n.disabled,-1,n.getDisplayValue(n.model))})}var w=r.sb({encapsulation:0,styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{-webkit-box-shadow:0 0 0 1px #323232;box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;-webkit-box-shadow:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;-webkit-box-shadow:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.4);box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{-webkit-box-shadow:inset 0 1px 1px #d9534f;box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;-webkit-transition:all .25s;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:4px;cursor:text;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.progress-bar[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%]:before{height:2px;width:100%;margin:0}.progress-bar[_ngcontent-%COMP%]{background-color:#2196f3;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;bottom:0}.progress-bar[_ngcontent-%COMP%]:before{background-color:#82c4f8;content:'';-webkit-animation:2s cubic-bezier(.4,0,.2,1) infinite running-progress;animation:2s cubic-bezier(.4,0,.2,1) infinite running-progress}@-webkit-keyframes running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}100%{margin-left:100%;margin-right:0}}@keyframes running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}100%{margin-left:100%;margin-right:0}}tag[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;font-family:Roboto,\"Helvetica Neue\",sans-serif;font-weight:400;font-size:1em;letter-spacing:.05rem;color:#444;border-radius:16px;-webkit-transition:all .3s;transition:all .3s;margin:.1rem .3rem .1rem 0;padding:.08rem .45rem;height:32px;line-height:34px;background:#efefef;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#2196f3;color:#fff;-webkit-box-shadow:0 2px 3px 1px #d4d1d1;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#0d8aee;color:#fff;-webkit-box-shadow:0 2px 3px 1px #d4d1d1;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#e2e2e2;color:initial;-webkit-box-shadow:0 2px 3px 1px #d4d1d1;box-shadow:0 2px 3px 1px #d4d1d1}tag.readonly[_ngcontent-%COMP%]{cursor:default}tag.readonly[_ngcontent-%COMP%]:focus, tag[_ngcontent-%COMP%]:focus{outline:0}tag.tag--editing[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;cursor:text}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;border-radius:0;background:#f9f9f9;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active, .minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#d0d0d0;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#ececec}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.minimal[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#f9f9f9;border-radius:3px;background:#444;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#efefef;color:#444}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#2b2b2b;color:#f9f9f9}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.dark[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#f9f9f9;border-radius:.25rem;background:#0275d8;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active, .bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#0267bf;color:#f9f9f9}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;font-family:inherit;font-weight:400;font-size:95%;color:#fff;border-radius:.25em;background:#5bc0de;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative;padding:.25em .6em;text-align:center;white-space:nowrap}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active, .bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#46b8da;color:#fff}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}[_nghost-%COMP%]{display:block}"],data:{animation:[{type:7,name:"animation",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"out",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,offset:0,transform:"translate(0px, 20px)"},offset:null},{type:6,styles:{opacity:.3,offset:.3,transform:"translate(0px, -10px)"},offset:null},{type:6,styles:{opacity:.5,offset:.5,transform:"translate(0px, 0px)"},offset:null},{type:6,styles:{opacity:.75,offset:.75,transform:"translate(0px, 5px)"},offset:null},{type:6,styles:{opacity:1,offset:1,transform:"translate(0px, 0px)"},offset:null}]},timings:"{{ enter }}"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,transform:"translateX(0)",offset:0},offset:null},{type:6,styles:{opacity:1,transform:"translateX(-15px)",offset:.7},offset:null},{type:6,styles:{opacity:0,transform:"translateX(100%)",offset:1},offset:null}]},timings:"{{ leave }}"}],options:null}],options:{}}]}});function _(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,2,"tag",[],[[8,"draggable",0],[1,"tabindex",0],[24,"@animation",0],[8,"draggable",0],[2,"moving",null]],[[null,"onSelect"],[null,"onRemove"],[null,"onKeyDown"],[null,"onTagEdited"],[null,"onBlur"],[null,"dragstart"],[null,"drop"],[null,"dragenter"],[null,"dragover"],[null,"dragleave"],[null,"keydown"]],function(t,e,n){var i=!0,o=t.component;return"keydown"===e&&(i=!1!==r.Eb(t,1).keydown(n)&&i),"onSelect"===e&&(i=!1!==o.selectItem(t.context.$implicit)&&i),"onRemove"===e&&(i=!1!==o.onRemoveRequested(t.context.$implicit,t.context.index)&&i),"onKeyDown"===e&&(i=!1!==o.handleKeydown(n)&&i),"onTagEdited"===e&&(i=!1!==o.updateEditedTag(n)&&i),"onBlur"===e&&(i=!1!==o.onTagBlurred(n,t.context.index)&&i),"dragstart"===e&&(i=!1!==(o.dragZone?o.onDragStarted(n,t.context.$implicit,t.context.index):void 0)&&i),"drop"===e&&(i=!1!==(o.dragZone?o.onTagDropped(n,t.context.index):void 0)&&i),"dragenter"===e&&(i=!1!==(o.dragZone?o.onDragOver(n):void 0)&&i),"dragover"===e&&(i=!1!==(o.dragZone?o.onDragOver(n,t.context.index):void 0)&&i),"dragleave"===e&&(i=!1!==(o.dragZone?o.dragProvider.onDragEnd():void 0)&&i),i},b,d)),r.tb(1,49152,[[2,4]],0,i.b,[r.l,r.H,r.i],{model:[0,"model"],removable:[1,"removable"],editable:[2,"editable"],template:[3,"template"],displayBy:[4,"displayBy"],identifyBy:[5,"identifyBy"],index:[6,"index"],hasRipple:[7,"hasRipple"],disabled:[8,"disabled"],canAddTag:[9,"canAddTag"]},{onSelect:"onSelect",onRemove:"onRemove",onBlur:"onBlur",onKeyDown:"onKeyDown",onTagEdited:"onTagEdited"}),(t()(),r.Mb(-1,null,["\n        "]))],function(t,e){var n=e.component;t(e,1,0,e.context.$implicit,n.removable,n.editable,n.hasCustomTemplate()?n.templates.first:void 0,n.displayBy,n.identifyBy,e.context.index,n.ripple,n.disable,n.isTagValid)},function(t,e){var n=e.component;t(e,0,0,r.wb(1,"",n.editable,""),0,n.animationMetadata,n.dragZone,r.Eb(e,1).moving)})}function x(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,0,"div",[["class","progress-bar"]],null,null,null,null,null))],null,null)}function S(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,4,"p",[["class","error-message"]],null,null,null,null,null)),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.ub(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Mb(3,null,["",""])),(t()(),r.Mb(-1,null,["\n    "]))],null,function(t,e){t(e,3,0,e.context.$implicit)})}function M(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.Mb(-1,null,["\n    "])),(t()(),r.lb(16777216,null,null,1,null,S)),r.tb(3,278528,null,0,o.k,[r.T,r.Q,r.v],{ngForOf:[0,"ngForOf"]},null),(t()(),r.Mb(-1,null,["\n"]))],function(t,e){t(e,3,0,e.component.errors)},function(t,e){t(e,0,0,r.wb(1,"error-messages ",e.component.theme||"",""))})}function C(t){return r.Ob(0,[r.Kb(402653184,1,{inputForm:0}),r.Kb(671088640,2,{tags:1}),(t()(),r.Mb(-1,null,["\n\n"])),(t()(),r.ub(3,0,null,null,17,"div",[],[[1,"tabindex",0],[2,"ng2-tag-input--dropping",null],[2,"ng2-tag-input--disabled",null],[2,"ng2-tag-input--loading",null],[2,"ng2-tag-input--invalid",null],[2,"ng2-tag-input--focused",null]],[[null,"click"],[null,"drop"],[null,"dragenter"],[null,"dragover"],[null,"dragend"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.focus(!0,!1)&&r),"drop"===e&&(r=!1!==(i.dragZone?i.onTagDropped(n,void 0):void 0)&&r),"dragenter"===e&&(r=!1!==(i.dragZone?i.onDragOver(n):void 0)&&r),"dragover"===e&&(r=!1!==(i.dragZone?i.onDragOver(n):void 0)&&r),"dragend"===e&&(r=!1!==(i.dragZone?i.dragProvider.onDragEnd():void 0)&&r),r},null,null)),r.tb(4,278528,null,0,o.j,[r.v,r.w,r.l,r.H],{ngClass:[0,"ngClass"]},null),(t()(),r.Mb(-1,null,["\n\n    "])),(t()(),r.Mb(-1,null,["\n    "])),(t()(),r.ub(7,0,null,null,8,"div",[["class","ng2-tags-container"]],null,null,null,null,null)),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.lb(16777216,null,null,1,null,_)),r.tb(10,278528,null,0,o.k,[r.T,r.Q,r.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),r.Mb(-1,null,["\n\n        "])),(t()(),r.ub(12,0,null,null,2,"tag-input-form",[],[[8,"hidden",0]],[[null,"onSubmit"],[null,"onBlur"],[null,"click"],[null,"onKeydown"],[null,"onKeyup"],[null,"inputTextChange"]],function(t,e,n){var r=!0,i=t.component;return"onSubmit"===e&&(r=!1!==i.onFormSubmit()&&r),"onBlur"===e&&(r=!1!==i.blur()&&r),"click"===e&&(r=!1!==(i.dropdown?i.dropdown.show():void 0)&&r),"onKeydown"===e&&(r=!1!==i.fireEvents("keydown",n)&&r),"onKeyup"===e&&(r=!1!==i.fireEvents("keyup",n)&&r),"inputTextChange"===e&&(r=!1!==(i.inputText=n)&&r),r},l,c)),r.tb(13,638976,[[1,4]],0,i.e,[],{placeholder:[0,"placeholder"],validators:[1,"validators"],asyncValidators:[2,"asyncValidators"],inputId:[3,"inputId"],inputClass:[4,"inputClass"],tabindex:[5,"tabindex"],disabled:[6,"disabled"],inputText:[7,"inputText"]},{onSubmit:"onSubmit",onBlur:"onBlur",onKeyup:"onKeyup",onKeydown:"onKeydown",inputTextChange:"inputTextChange"}),(t()(),r.Mb(-1,null,["\n        "])),(t()(),r.Mb(-1,null,["\n    "])),(t()(),r.Mb(-1,null,["\n\n    "])),(t()(),r.lb(16777216,null,null,2,null,x)),r.tb(18,16384,null,0,o.l,[r.T,r.Q],{ngIf:[0,"ngIf"]},null),r.Gb(131072,o.b,[r.i]),(t()(),r.Mb(-1,null,["\n"])),(t()(),r.Mb(-1,null,["\n\n"])),(t()(),r.Mb(-1,null,["\n"])),(t()(),r.lb(16777216,null,null,1,null,M)),r.tb(24,16384,null,0,o.l,[r.T,r.Q],{ngIf:[0,"ngIf"]},null),(t()(),r.Mb(-1,null,["\n\n"])),r.Db(null,0),(t()(),r.Mb(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,4,0,r.wb(1,"ng2-tag-input ",n.theme||"","")),t(e,10,0,n.items,n.trackBy),t(e,13,0,n.items.length?n.placeholder:n.secondaryPlaceholder,n.validators,n.asyncValidators,n.inputId,n.inputClass,n.tabindex,n.disable,n.inputText),t(e,18,0,r.Nb(e,18,0,r.Eb(e,19).transform(n.isProgressBarVisible$))),t(e,24,0,n.hasErrors())},function(t,e){var n=e.component;t(e,3,0,-1,n.isDropping(),n.disable,n.isLoading,n.hasErrors(),n.isInputFocused()),t(e,12,0,n.maxItemsReached)})}},eC5B:function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var r=n(1);t.exports=r.default},function(t,e,n){"use strict";var r=n(2),i=n(9),o=n(23),a=n(38),s=n(39),u=n(40),c=n(12),l=n(5),h=n(62),f=n(8),d=n(42),p=function(){function t(e,n){var c=this;!function(t){if(null===e||void 0===e)throw"You must pass your app key when you instantiate Pusher."}(),n=n||{},this.key=e,this.config=i.extend(h.getGlobalConfig(),n.cluster?h.getClusterConfig(n.cluster):{},n),this.channels=d.default.createChannels(),this.global_emitter=new o.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new a.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:s.default.INFO,version:l.default.VERSION}),this.config.disableStats||(this.timelineSender=d.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+r.default.TimelineTransport.name})),this.connection=d.default.createConnectionManager(this.key,i.extend({getStrategy:function(t){var e=i.extend({},c.config,t);return u.build(r.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=c.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||c.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){c.channels.disconnect()}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(t){f.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)},t.getClientFeatures=function(){return i.keys(i.filterObject({ws:r.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e){return this.global_emitter.bind(t,e),this},t.prototype.unbind=function(t,e){return this.global_emitter.unbind(t,e),this},t.prototype.bind_all=function(t){return this.global_emitter.bind_all(t),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.isEncrypted=function(){return"https:"===r.default.getProtocol()||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=r.default,t.ScriptReceivers=r.default.ScriptReceivers,t.DependenciesReceivers=r.default.DependenciesReceivers,t.auth_callbacks=r.default.auth_callbacks,t}();e.__esModule=!0,e.default=p,r.default.setup(p)},function(t,e,n){"use strict";var r=n(3),i=n(7),o=n(14),a=n(15),s=n(16),u=n(4),c=n(17),l=n(18),h=n(25),f=n(26),d=n(27),p=n(28),m={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:r.DependenciesReceivers,getDefaultStrategy:f.default,Transports:l.default,transportConnectionInitializer:d.default,HTTPFactory:p.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():r.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:i.default,jsonp:o.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new s.default(t,e)},createScriptRequest:function(t){return new a.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return h.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=m},function(t,e,n){"use strict";var r=n(4),i=n(5),o=n(6);e.DependenciesReceivers=new r.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new o.default({cdn_http:i.default.cdn_http,cdn_https:i.default.cdn_https,version:i.default.VERSION,suffix:i.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",i=!1,o=function(){i||(t.apply(null,arguments),i=!0)};return this[e]=o,{number:e,id:n,name:r,callback:o}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"3.2.4",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(t,e,n){"use strict";var r=n(4),i=n(2),o=function(){function t(t){this.options=t,this.receivers=t.receivers||r.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var o=i.default.createScriptRequest(r.getPath(t,e)),a=r.receivers.create(function(e){if(r.receivers.remove(a),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var i=function(t){t||o.cleanup()},s=0;s<n.length;s++)n[s](e,i)}});o.send(a)}},t.prototype.getRoot=function(t){var e=i.default.getDocument().location.protocol;return(t&&t.encrypted||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(8),i=n(2);e.__esModule=!0,e.default=function(t,e,n){var o;for(var a in(o=i.default.createXHR()).open("POST",this.options.authEndpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)o.setRequestHeader(a,this.authOptions.headers[a]);return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var t,e=!1;try{t=JSON.parse(o.responseText),e=!0}catch(t){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+o.responseText)}e&&n(!1,t)}else r.default.warn("Couldn't get auth info from your webapp",o.status),n(!0,o.status)},o.send(this.composeQuery(e)),o}},function(t,e,n){"use strict";var r=n(9),i=n(1),o={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];i.default.log&&i.default.log(r.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=r.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n)),i.default.log&&i.default.log(n)}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(10),i=n(11);function o(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function a(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function s(t,e){var n={};return o(t,function(t,r){n[r]=e(t)}),n}function u(t,e){var n={};return o(t,function(r,i){(e&&e(r,i,t,n)||Boolean(r))&&(n[i]=r)}),n}function c(t){var e=[];return o(t,function(t,n){e.push([n,t])}),e}function l(t){return s(t,function(t){return"object"==typeof t&&(t=f(t)),encodeURIComponent(r.default(t.toString()))})}function h(t){var e=[],n=[];return function t(r,i){var o,a,s;switch(typeof r){case"object":if(!r)return null;for(o=0;o<e.length;o+=1)if(e[o]===r)return{$ref:n[o]};if(e.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(s=[],o=0;o<r.length;o+=1)s[o]=t(r[o],i+"["+o+"]");else for(a in s={},r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=t(r[a],i+"["+JSON.stringify(a)+"]"));return s;case"number":case"string":case"boolean":return r}}(t,"$")}function f(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(h(t))}}e.extend=function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];for(var a in o)e[a]=o[a]&&o[a].constructor&&o[a].constructor===Object?t(e[a]||{},o[a]):o[a]}return e},e.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)t.push("string"==typeof arguments[e]?arguments[e]:f(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},e.objectApply=o,e.keys=function(t){var e=[];return o(t,function(t,n){e.push(n)}),e},e.values=function(t){var e=[];return o(t,function(t){e.push(t)}),e},e.apply=function(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)},e.map=a,e.mapObject=s,e.filter=function(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n},e.filterObject=u,e.flatten=c,e.any=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},e.all=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},e.encodeParamsObject=l,e.buildQueryString=function(t){return a(c(l(u(t,function(t){return void 0!==t}))),i.default.method("join","=")).join("&")},e.decycleObject=h,e.safeJSONStringify=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return h(c(t))};for(var r=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={},a=0,s=i.length;a<s;a++)o[i.charAt(a)]=a;var u=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e)},c=function(t){return t.replace(/[^\x00-\x7F]/g,u)},l=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[i.charAt(n>>>18),i.charAt(n>>>12&63),e>=2?"=":i.charAt(n>>>6&63),e>=1?"=":i.charAt(63&n)].join("")},h=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,n){"use strict";var r=n(12),i={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new r.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,r.concat(arguments))}}};e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13);function o(t){window.clearTimeout(t)}function a(t){window.clearInterval(t)}var s=function(t){function e(e,n){t.call(this,setTimeout,o,e,function(t){return n(),null})}return r(e,t),e}(i.default);e.OneOffTimer=s;var u=function(t){function e(e,n){t.call(this,setInterval,a,e,function(t){return n(),t})}return r(e,t),e}(i.default);e.PeriodicTimer=u},function(t,e){"use strict";var n=function(){function t(t,e,n,r){var i=this;this.clear=e,this.timer=t(function(){i.timer&&(i.timer=r(i.timer))},n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(8);e.__esModule=!0,e.default=function(t,e,n){void 0!==this.authOptions.headers&&r.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var o=t.getDocument(),a=o.createElement("script");t.auth_callbacks[i]=function(t){n(!1,t)},a.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+i+"']")+"&"+this.composeQuery(e);var s=o.getElementsByTagName("head")[0]||o.documentElement;s.insertBefore(a,s.firstChild)}},function(t,e){"use strict";var n=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(9),i=n(2),o=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=r.buildQueryString(this.data);this.request=i.default.createScriptRequest(this.url+"/"+t.number+"?"+e),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(2),i=n(4),o={name:"jsonp",getAgent:function(t,e){return function(n,o){var a=r.default.createJSONPRequest("http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,n),s=r.default.ScriptReceivers.create(function(e,n){i.ScriptReceivers.remove(s),a.cleanup(),n&&n.host&&(t.host=n.host),o&&o(e,n)});a.send(s)}}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(19),i=n(21),o=n(20),a=n(2),s=n(3),u=n(9),c=new i.default({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:s.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),l={isSupported:function(t){return a.default.isXDRSupported(t.encrypted)}},h=new i.default(u.extend({},r.streamingConfiguration,l)),f=new i.default(u.extend({},r.pollingConfiguration,l));r.default.xdr_streaming=h,r.default.xdr_polling=f,r.default.sockjs=c,e.__esModule=!0,e.default=r.default},function(t,e,n){"use strict";var r=n(20),i=n(21),o=n(9),a=n(2),s=new i.default({urls:r.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a.default.getWebSocketAPI())},isSupported:function(){return Boolean(a.default.getWebSocketAPI())},getSocket:function(t){return a.default.createWebSocket(t)}}),u={urls:r.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=o.extend({getSocket:function(t){return a.default.HTTPFactory.createStreamingSocket(t)}},u),e.pollingConfiguration=o.extend({getSocket:function(t){return a.default.HTTPFactory.createPollingSocket(t)}},u);var c={isSupported:function(){return a.default.isXHRSupported()}},l={ws:s,xhr_streaming:new i.default(o.extend({},e.streamingConfiguration,c)),xhr_polling:new i.default(o.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var r=n(5);function i(t,e,n){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+n}function o(t,e){return"/app/"+t+"?protocol="+r.default.PROTOCOL+"&client=js&version="+r.default.VERSION+(e?"&"+e:"")}e.ws={getInitial:function(t,e){return i("ws",e,o(t,"flash=false"))}},e.http={getInitial:function(t,e){return i("http",e,(e.httpPath||"/pusher")+o(t))}},e.sockjs={getInitial:function(t,e){return i("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return o(t)}}},function(t,e,n){"use strict";var r=n(22),i=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,i){return new r.default(this.hooks,t,e,n,i)},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(11),o=n(9),a=n(23),s=n(8),u=n(2),c=function(t){function e(e,n,r,i,o){t.call(this),this.initialize=u.default.transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=r,this.key=i,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}return r(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return i.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(i.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return o.extend({cid:this.id},t)},e}(a.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var r=n(24),i=function(){function t(t){this.callbacks=new r.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_all=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_all=function(t,e){return this.callbacks.remove(t,e),this},t.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var r=this.callbacks.get(t);if(r&&r.length>0)for(n=0;n<r.length;n++)r[n].fn.call(r[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(9),i=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[o(t)]},t.prototype.add=function(t,e,n){var r=o(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var i=t?[o(t)]:r.keys(this._callbacks);e||n?this.removeCallback(i,e,n):this.removeAllCallbacks(i)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){r.apply(t,function(t){this._callbacks[t]=r.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){r.apply(t,function(t){delete this._callbacks[t]},this)},t}();function o(t){return"_"+t}e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return r(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(n(23).default);e.NetInfo=i,e.Network=new i},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){return[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],":http_fallback_loop"]]]]]}},function(t,e,n){"use strict";var r=n(3);e.__esModule=!0,e.default=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),r.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}},function(t,e,n){"use strict";var r=n(29),i=n(31);i.default.createXDR=function(t,e){return this.createRequest(r.default,t,e)},e.__esModule=!0,e.default=i.default},function(t,e,n){"use strict";var r=n(30),i={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new r.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=i},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.BadEventName=r;var i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.RequestTimedOut=i;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportPriorityTooLow=o;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportClosed=a;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedTransport=s;var u=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedStrategy=u},function(t,e,n){"use strict";var r=n(32),i=n(33),o=n(35),a=n(36),s=n(37),u={createStreamingSocket:function(t){return this.createSocket(o.default,t)},createPollingSocket:function(t){return this.createSocket(a.default,t)},createSocket:function(t,e){return new i.default(t,e)},createXHR:function(t,e){return this.createRequest(s.default,t,e)},createRequest:function(t,e,n){return new r.default(t,e,n)}};e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(2),o=function(t){function e(e,n,r){t.call(this),this.hooks=e,this.method=n,this.url=r}return r(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},i.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(i.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(n(23).default);e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(34),i=n(11),o=n(2),a=1,s=function(){function t(t,e){this.hooks=t,this.session=c(1e3)+"/"+function(t){for(var e=[],n=0;n<8;n++)e.push(c(32).toString(32));return e.join("")}(),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=r.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==r.default.OPEN)return!1;try{return o.default.createSocketRequest("POST",u((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=r.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===r.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n;this.readyState===r.default.CONNECTING?(t&&t.hostname&&(this.location.base=(e=t.hostname,(n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(this.location.base))[1]+e+n[3])),this.readyState=r.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===r.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=o.default.createSocketRequest("POST",u(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){i.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function u(t){return t+(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+a++}function c(t){return Math.floor(Math.random()*t)}e.__esModule=!0,e.default=s},function(t,e){"use strict";var n=function(t){return t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED",t}({});e.__esModule=!0,e.default=n},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,n){"use strict";var r=n(2),i={getRequest:function(t){var e=new(r.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(9),i=n(11),o=n(39),a=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(r.extend({},e,{timestamp:i.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(o.default.ERROR,t)},t.prototype.info=function(t){this.log(o.default.INFO,t)},t.prototype.debug=function(t){this.log(o.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,i=r.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(i,function(t,r){t||n.sent++,e&&e(t,r)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";var n=function(t){return t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG",t}({});e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(9),i=n(11),o=n(41),a=n(30),s=n(55),u=n(56),c=n(57),l=n(58),h=n(59),f=n(60),d=n(61),p=n(2).default.Transports;e.build=function(t,e){return function t(e,n){return"string"==typeof e?function(t,e){if(!y(t))return[t,e];var n=b(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}(e,n):"object"==typeof e&&e instanceof Array&&e.length>0?function(e,n){if(y(e[0])){var i=b(e[0],n);if(e.length>1){if("function"!=typeof i)throw"Calling non-function "+e[0];var o=[r.extend({},n)].concat(r.map(e.slice(1),function(e){return t(e,r.extend({},n))[0]}));return i.apply(this,o)}return[i,n]}return function e(n,r){if(0===n.length)return[[],r];var i=t(n[0],r),o=e(n.slice(1),i[1]);return[[i[0]].concat(o[0]),o[1]]}(e,n)}(e,n):[e,n]}(t,r.extend({},v,e))[1].strategy};var m={isSupported:function(){return!1},connect:function(t,e){var n=i.default.defer(function(){e(new a.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function g(t){return function(e){return[t.apply(this,arguments),e]}}var v={extend:function(t,e,n){return[r.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,i,o,u){var c,l=p[n];if(!l)throw new a.UnsupportedTransport(n);c=t.enabledTransports&&-1===r.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==r.arrayIndexOf(t.disabledTransports,e)?m:new s.default(e,i,u?u.getAssistant(l):l,r.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},o));var h=t.def(t,e,c)[1];return h.Transports=t.Transports||{},h.Transports[e]=c,[void 0,h]},transport_manager:g(function(t,e){return new o.default(e)}),sequential:g(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new u.default(n,e)}),cached:g(function(t,e,n){return new l.default(n,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:g(function(t,e){return new d.default(e)}),best_connected_ever:g(function(){var t=Array.prototype.slice.call(arguments,1);return new c.default(t)}),delayed:g(function(t,e,n){return new h.default(n,{delay:e})}),if:g(function(t,e,n,r){return new f.default(e,n,r)}),is_supported:g(function(t,e){return function(){return e.isSupported()}})};function y(t){return"string"==typeof t&&":"===t.charAt(0)}function b(t,e){return e[t.slice(1)]}},function(t,e,n){"use strict";var r=n(42),i=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return r.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(43),i=n(44),o=n(47),a=n(48),s=n(49),u=n(50),c=n(51),l=n(53),h=n(54),f={createChannels:function(){return new h.default},createConnectionManager:function(t,e){return new l.default(t,e)},createChannel:function(t,e){return new c.default(t,e)},createPrivateChannel:function(t,e){return new u.default(t,e)},createPresenceChannel:function(t,e){return new s.default(t,e)},createTimelineSender:function(t,e){return new a.default(t,e)},createAuthorizer:function(t,e){return new o.default(t,e)},createHandshake:function(t,e){return new i.default(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new r.default(t,e,n)}};e.__esModule=!0,e.default=f},function(t,e,n){"use strict";var r=n(11),i=n(9),o=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,o){var a=this;o=i.extend({},o,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,e,n,o),u=null,c=function(){s.unbind("open",c),s.bind("closed",l),u=r.default.now()},l=function(t){if(s.unbind("closed",l),1002===t.code||1003===t.code)a.manager.reportDeath();else if(!t.wasClean&&u){var e=r.default.now()-u;e<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(e/2,a.minPingDelay))}};return s.bind("open",c),s},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(9),i=n(45),o=n(46),a=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=i.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new o.default(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=i.getCloseAction(e)||"backoff",r=i.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(r.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if("pusher:connection_established"===(t=e.decodeMessage(t)).event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(9),o=n(23),a=n(45),s=n(8),u=function(t){function e(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return r(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),s.default.debug("Event sent",r),this.send(a.encodeMessage(r))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=a.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(s.default.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){i.objectApply(e,function(e,n){t.transport.unbind(n,e)})};i.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.prototype.handleCloseEvent=function(t){var e=a.getCloseAction(t),n=a.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var r=n(2),i=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===r.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){return(t.authorizers=t.authorizers||r.default.getAuthorizers())[this.type].call(this,r.default,e,n)},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(2),i=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(r.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(50),o=n(8),a=n(52),s=function(t){function e(e,n){t.call(this,e,n),this.members=new a.default}return r(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data)return o.default.warn("Invalid auth response for channel '"+r.name+"', expected 'channel_data' field"),void n("Invalid auth response");var i=JSON.parse(e.channel_data);r.members.setMyID(i.user_id)}n(t,e)})},e.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var r=this.members.removeMember(e);r&&this.emit("pusher:member_removed",r);break;default:i.default.prototype.handleEvent.call(this,t,e)}},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(i.default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(42),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.authorize=function(t,e){return i.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(n(51).default);e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(23),o=n(30),a=n(8),s=function(t){function e(e,n){t.call(this,function(t,n){a.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return r(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new o.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1},e.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(i.default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=n(9),i=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;r.objectApply(this.members,function(n,r){t(e.get(r))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(23),o=n(12),a=n(8),s=n(9),u=n(2),c=function(t){function e(e,n){var r=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var i=u.default.getNetwork();i.bind("online",function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)}),i.bind("offline",function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()}),this.updateStrategy()}return r(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new o.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new o.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return s.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),a.default.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(i.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var r=n(9),i=n(42),o=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-")?i.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?i.default.createPresenceChannel(t,e):i.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return r.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){r.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(42),i=n(11),o=n(30),a=n(9),s=function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return u(new o.UnsupportedStrategy,e);if(this.priority<t)return u(new o.TransportPriorityTooLow,e);var i=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,l=function(){s.unbind("initialized",l),s.connect()},h=function(){c=r.default.createHandshake(s,function(t){i=!0,p(),e(null,t)})},f=function(t){p(),e(t)},d=function(){var t;p(),t=a.safeJSONStringify(s),e(new o.TransportClosed(t))},p=function(){s.unbind("initialized",l),s.unbind("open",h),s.unbind("error",f),s.unbind("closed",d)};return s.bind("initialized",l),s.bind("open",h),s.bind("error",f),s.bind("closed",d),s.initialize(),{abort:function(){i||(p(),c?c.close():s.close())},forceMinPriority:function(t){i||n.priority<t&&(c?c.close():s.close())}}},t}();function u(t,e){return i.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=n(9),i=n(11),o=n(12),a=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return r.any(this.strategies,i.default.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,r=this.strategies,i=0,o=this.timeout,a=null,s=function(u,c){c?e(null,c):(i+=1,n.loop&&(i%=r.length),i<r.length?(o&&(o*=2,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(r[i],t,{timeout:o,failFast:n.failFast},s)):e(!0))};return a=this.tryStrategy(r[i],t,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,r){var i=null,a=null;return n.timeout>0&&(i=new o.OneOffTimer(n.timeout,function(){a.abort(),r(!0)})),a=t.connect(e,function(t,e){t&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(t,e))}),{abort:function(){i&&i.ensureAborted(),a.abort()},forceMinPriority:function(t){a.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=n(9),i=n(11),o=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return r.any(this.strategies,i.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,n,i){var o=r.map(t,function(t,i,o,a){return t.connect(n,function(t,n){return function(i,o){n[t].error=i,i?function(t){return r.all(t,function(t){return Boolean(t.error)})}(n)&&e(!0):(r.apply(n,function(t){t.forceMinPriority(o.transport.priority)}),e(null,o))}}(i,a))});return{abort:function(){r.apply(o,a)},forceMinPriority:function(t){r.apply(o,function(e){e.forceMinPriority(t)})}}}(this.strategies,t)},t}();function a(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(11),i=n(2),o=n(56),a=n(9),s=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.encrypted,s=function(t){var e=i.default.getLocalStorage();if(e)try{var n=e[u(t)];if(n)return JSON.parse(n)}catch(e){c(t)}return null}(n),l=[this.strategy];if(s&&s.timestamp+this.ttl>=r.default.now()){var h=this.transports[s.transport];h&&(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),l.push(new o.default([h],{timeout:2*s.latency+1e3,failFast:!0})))}var f=r.default.now(),d=l.pop().connect(t,function o(s,h){s?(c(n),l.length>0?(f=r.default.now(),d=l.pop().connect(t,o)):e(s)):(function(t,e,n){var o=i.default.getLocalStorage();if(o)try{o[u(t)]=a.safeJSONStringify({timestamp:r.default.now(),transport:e,latency:n})}catch(t){}}(n,h.transport.name,r.default.now()-f),e(null,h))});return{abort:function(){d.abort()},forceMinPriority:function(e){t=e,d&&d.forceMinPriority(e)}}},t}();function u(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function c(t){var e=i.default.getLocalStorage();if(e)try{delete e[u(t)]}catch(t){}}e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=n(12),i=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,i=this.strategy,o=new r.OneOffTimer(this.options.delay,function(){n=i.connect(t,e)});return{abort:function(){o.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=i},function(t,e){"use strict";var n=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,r){r&&n.abort(),e(t,r)});return n},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(5);e.getGlobalConfig=function(){return{wsHost:r.default.host,wsPort:r.default.ws_port,wssPort:r.default.wss_port,httpHost:r.default.sockjs_host,httpPort:r.default.sockjs_http_port,httpsPort:r.default.sockjs_https_port,httpPath:r.default.sockjs_path,statsHost:r.default.stats_host,authEndpoint:r.default.channel_auth_endpoint,authTransport:r.default.channel_auth_transport,activity_timeout:r.default.activity_timeout,pong_timeout:r.default.pong_timeout,unavailable_timeout:r.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])},t.exports=r()},eIiX:function(t,e,n){var r=n("s847"),i=n("E0m9"),o=n("yqz1").ParseNode;function a(e,n,r){"string"==typeof e&&(e=[e]),"number"==typeof n&&(n={numArgs:n});for(var i={numArgs:n.numArgs,argTypes:n.argTypes,greediness:void 0===n.greediness?1:n.greediness,allowedInText:!!n.allowedInText,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,handler:r},o=0;o<e.length;++o)t.exports[e[o]]=i}var s=function(t){return"ordgroup"===t.type?t.value:[t]};a("\\sqrt",{numArgs:1,numOptionalArgs:1},function(t,e){return{type:"sqrt",body:e[1],index:e[0]}});var u={"\\text":void 0,"\\textrm":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textnormal":"mathrm","\\textbf":"mathbf","\\textit":"textit"};a(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0},function(t,e){return{type:"text",body:s(e[0]),style:u[t.funcName]}}),a("\\color",{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},function(t,e){return{type:"color",color:e[0].value,value:s(e[1])}}),a("\\overline",{numArgs:1},function(t,e){return{type:"overline",body:e[0]}}),a("\\underline",{numArgs:1},function(t,e){return{type:"underline",body:e[0]}}),a("\\rule",{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},function(t,e){var n=e[0];return{type:"rule",shift:n&&n.value,width:e[1].value,height:e[2].value}}),a(["\\kern","\\mkern"],{numArgs:1,argTypes:["size"]},function(t,e){return{type:"kern",dimension:e[0].value}}),a("\\KaTeX",{numArgs:0},function(t){return{type:"katex"}}),a("\\phantom",{numArgs:1},function(t,e){return{type:"phantom",value:s(e[0])}}),a(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(t,e){var n=e[0];return{type:"mclass",mclass:"m"+t.funcName.substr(5),value:s(n)}}),a("\\stackrel",{numArgs:2},function(t,e){var n=e[0],r=e[1],i=new o("op",{type:"op",limits:!0,alwaysHandleSupSub:!0,symbol:!1,value:s(r)},r.mode);return{type:"mclass",mclass:"mrel",value:[new o("supsub",{base:i,sup:n,sub:null},n.mode)]}}),a("\\bmod",{numArgs:0},function(t,e){return{type:"mod",modType:"bmod",value:null}}),a(["\\pod","\\pmod","\\mod"],{numArgs:1},function(t,e){var n=e[0];return{type:"mod",modType:t.funcName.substr(1),value:s(n)}});var c={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},l=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],h={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};a(["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],{numArgs:1,allowedInText:!0,greediness:3},function(t,e){var n=e[0];return{type:"color",color:"katex-"+t.funcName.slice(1),value:s(n)}}),a(["\\arcsin","\\arccos","\\arctan","\\arg","\\cos","\\cosh","\\cot","\\coth","\\csc","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\tan","\\tanh"],{numArgs:0},function(t){return{type:"op",limits:!1,symbol:!1,body:t.funcName}}),a(["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(t){return{type:"op",limits:!0,symbol:!1,body:t.funcName}}),a(["\\int","\\iint","\\iiint","\\oint"],{numArgs:0},function(t){return{type:"op",limits:!1,symbol:!0,body:t.funcName}}),a(["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],{numArgs:0},function(t){return{type:"op",limits:!0,symbol:!0,body:t.funcName}}),a("\\mathop",{numArgs:1},function(t,e){return{type:"op",limits:!1,symbol:!1,value:s(e[0])}}),a(["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],{numArgs:2,greediness:2},function(t,e){var n,r=e[0],i=e[1],o=null,a=null,s="auto";switch(t.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,o="(",a=")";break;default:throw new Error("Unrecognized genfrac command")}switch(t.funcName){case"\\dfrac":case"\\dbinom":s="display";break;case"\\tfrac":case"\\tbinom":s="text"}return{type:"genfrac",numer:r,denom:i,hasBarLine:n,leftDelim:o,rightDelim:a,size:s}}),a(["\\llap","\\rlap"],{numArgs:1,allowedInText:!0},function(t,e){var n=e[0];return{type:t.funcName.slice(1),body:n}});var f=function(t,e){if(r.contains(l,t.value))return t;throw new i("Invalid delimiter: '"+t.value+"' after '"+e.funcName+"'",t)};a(["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],{numArgs:1},function(t,e){var n=f(e[0],t);return{type:"delimsizing",size:c[t.funcName].size,mclass:c[t.funcName].mclass,value:n.value}}),a(["\\left","\\right"],{numArgs:1},function(t,e){return{type:"leftright",value:f(e[0],t).value}}),a("\\middle",{numArgs:1},function(t,e){var n=f(e[0],t);if(!t.parser.leftrightDepth)throw new i("\\middle without preceding \\left",n);return{type:"middle",value:n.value}}),a(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],0,null),a(["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],0,null),a(["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],{numArgs:1,greediness:2},function(t,e){var n=e[0],r=t.funcName;return r in h&&(r=h[r]),{type:"font",font:r.slice(1),body:n}}),a(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],{numArgs:1},function(t,e){return{type:"accent",accent:t.funcName,base:e[0]}}),a(["\\over","\\choose","\\atop"],{numArgs:0,infix:!0},function(t){var e;switch(t.funcName){case"\\over":e="\\frac";break;case"\\choose":e="\\binom";break;case"\\atop":e="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:e,token:t.token}}),a(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(t,e){return{type:"cr",size:e[0]}}),a(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(t,e){var n=e[0];if("ordgroup"!==n.type)throw new i("Invalid environment name",n);for(var r="",o=0;o<n.value.length;++o)r+=n.value[o].value;return{type:"environment",name:r,nameGroup:n}})},eTM3:function(t,e){var n=function(t){this.name=t,this.filters=[]};n.prototype.process=function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,n=this.filters.length,r=t,i=0;i<n;i++){var o=this.filters[i];if(e&&this.log("filter: "+o.filterName),o(r),"object"==typeof r&&r.exiting){r.exiting=!1;break}}!r.next&&this.resultCheck&&this.resultCheck(r)},n.prototype.log=function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)},n.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},n.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},n.prototype.indexOf=function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw new Error("filter not found: "+t)},n.prototype.list=function(){for(var t=[],e=0;e<this.filters.length;e++)t.push(this.filters[e].filterName);return t},n.prototype.after=function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this},n.prototype.before=function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this},n.prototype.replace=function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,1),Array.prototype.splice.apply(this.filters,n),this},n.prototype.remove=function(t){var e=this.indexOf(t);return this.filters.splice(e,1),this},n.prototype.clear=function(){return this.filters.length=0,this},n.prototype.shouldHaveResult=function(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=new Error(e.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null},e.Pipe=n},eh5z:function(t,e,n){"use strict";n.r(e);var r=n("2fsI"),i=n("L5ty"),o=n("3Fae");function a(){}function s(t,e){var n=new a;if(t instanceof a)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}a.prototype=s.prototype={constructor:a,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var u=s,c=function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,h,f=-1,d=n.length,p=r[i++],m=u(),g=a();++f<d;)(h=m.get(c=p(l=n[f])+""))?h.push(l):m.set(c,[l]);return m.each(function(t,e){s(g,e,o(t,i,a,s))}),g}return n={object:function(t){return o(t,0,l,h)},map:function(t){return o(t,0,f,d)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,f,d),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function l(){return{}}function h(t,e,n){t[e]=n}function f(){return u()}function d(t,e,n){t.set(e,n)}function p(){}var m=u.prototype;function g(t,e){var n=new p;if(t instanceof p)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}p.prototype=g.prototype={constructor:p,has:m.has,add:function(t){return this["$"+(t+="")]=t,this},remove:m.remove,clear:m.clear,values:m.keys,size:m.size,empty:m.empty,each:m.each};var v=g,y=function(t){var e=[];for(var n in t)e.push(n);return e},b=function(t){var e=[];for(var n in t)e.push(t[n]);return e},w=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},_=Array.prototype,x=_.map,S=_.slice,M={name:"implicit"};function C(t){var e=u(),n=[],r=M;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==M)return r;e.set(o,a=n.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:S.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=u();for(var r,o,a=-1,s=t.length;++a<s;)e.has(o=(r=t[a])+"")||e.set(o,n.push(r));return i},i.range=function(e){return arguments.length?(t=S.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return C().domain(n).range(t).unknown(r)},i}function E(){var t,e,n=C().unknown(void 0),r=n.domain,i=n.range,a=[0,1],s=!1,u=0,c=0,l=.5;function h(){var n=r().length,h=a[1]<a[0],f=a[h-0],d=a[1-h];t=(d-f)/Math.max(1,n-u+2*c),s&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*l,e=t*(1-u),s&&(f=Math.round(f),e=Math.round(e));var p=Object(o.s)(n).map(function(e){return f+t*e});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],h()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(u=c=Math.max(0,Math.min(1,t)),h()):u},n.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return E().domain(r()).range(a).round(s).paddingInner(u).paddingOuter(c).align(l)},h()}function T(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(E().paddingInner(1))}var O=n("7p8r"),P=function(t){return function(){return t}},A=function(t){return+t},k=[0,1];function L(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:P(e)}function R(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function D(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),s=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)a[u]=n(t[u],t[u+1]),s[u]=r(e[u],e[u+1]);return function(e){var n=Object(o.b)(t,e,1,i)-1;return s[n](a[n](e))}}function N(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function I(t,e){var n,r,i,o=k,a=k,s=O.interpolate,u=!1;function c(){return n=Math.min(o.length,a.length)>2?D:R,r=i=null,l}function l(e){return(r||(r=n(o,a,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,s)))(+e)}return l.invert=function(t){return(i||(i=n(a,o,L,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},l.domain=function(t){return arguments.length?(o=x.call(t,A),c()):o.slice()},l.range=function(t){return arguments.length?(a=S.call(t),c()):a.slice()},l.rangeRound=function(t){return a=S.call(t),s=O.interpolateRound,c()},l.clamp=function(t){return arguments.length?(u=!!t,c()):u},l.interpolate=function(t){return arguments.length?(s=t,c()):s},c()}var j,z=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},F=function(t){return(t=z(Math.abs(t)))?t[1]:NaN},V=function(t,e){var n=z(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},B={"":function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return V(100*t,e)},r:V,s:function(t,e){var n=z(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(j=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+z(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},U=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function H(t){return new G(t)}function G(t){if(!(e=U.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):B[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=c,this.type=l}H.prototype=G.prototype,G.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var W,q,Y,X=function(t){return t},Z=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],J=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):X,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):X,s=t.percent||"%";function u(t){var e=(t=H(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,h=t.width,f=t.comma,d=t.precision,p=t.type,m="$"===c?i[0]:"#"===c&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===c?i[1]:/[%p]/.test(p)?s:"",v=B[p],y=!p||/[defgprs%]/.test(p);function b(t){var i,s,c,b=m,w=g;if("c"===p)w=v(t)+w,t="";else{var _=(t=+t)<0;if(t=v(Math.abs(t),d),_&&0==+t&&(_=!1),b=(_?"("===u?u:"-":"-"===u||"("===u?"":u)+b,w=("s"===p?Z[8+j/3]:"")+w+(_&&"("===u?")":""),y)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){w=(46===c?o+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}f&&!l&&(t=r(t,1/0));var x=b.length+t.length+w.length,S=x<h?new Array(h-x+1).join(e):"";switch(f&&l&&(t=r(S+t,S.length?h-w.length:1/0),S=""),n){case"<":t=b+t+w+S;break;case"=":t=b+S+t+w;break;case"^":t=S.slice(0,x=S.length>>1)+b+t+w+S.slice(x);break;default:t=S+b+t+w}return a(t)}return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return t+""},b}return{format:u,formatPrefix:function(t,e){var n=u(((t=H(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(F(e)/3))),i=Math.pow(10,-r),o=Z[8+r/3];return function(t){return n(i*t)+o}}}};function K(t){return W=J(t),q=W.format,Y=W.formatPrefix,W}K({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Q=function(t){return Math.max(0,-F(Math.abs(t)))},$=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(F(e)/3)))-F(Math.abs(t)))},tt=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,F(e)-F(t))+1},et=function(t,e,n){var r,i=t[0],a=t[t.length-1],s=Object(o.A)(i,a,null==e?10:e);switch((n=H(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=$(s,u))||(n.precision=r),Y(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=tt(s,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Q(s))||(n.precision=r-2*("%"===n.type))}return q(n)};function nt(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(o.B)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return et(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,s=i.length-1,u=i[a],c=i[s];return c<u&&(r=u,u=c,c=r,r=a,a=s,s=r),(r=Object(o.z)(u,c,n))>0?(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,r=Object(o.z)(u,c,n)):r<0&&(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,r=Object(o.z)(u,c,n)),r>0?(i[a]=Math.floor(u/r)*r,i[s]=Math.ceil(c/r)*r,e(i)):r<0&&(i[a]=Math.ceil(u*r)/r,i[s]=Math.floor(c*r)/r,e(i)),t},t}function rt(){var t=I(L,O.interpolateNumber);return t.copy=function(){return N(t,rt())},nt(t)}function it(){var t=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=x.call(n,A),e):t.slice()},e.copy=function(){return it().domain(t)},nt(e)}var ot=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function at(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:P(e)}function st(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function ut(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ct(t){return 10===t?ut:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function lt(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function ht(t){return function(e){return-t(-e)}}function ft(){var t=I(at,st).domain([1,10]),e=t.domain,n=10,r=lt(10),i=ct(10);function a(){return r=lt(n),i=ct(n),e()[0]<0&&(r=ht(r),i=ht(i)),t}return t.base=function(t){return arguments.length?(n=+t,a()):n},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,s=e(),u=s[0],c=s[s.length-1];(a=c<u)&&(d=u,u=c,c=d);var l,h,f,d=r(u),p=r(c),m=null==t?10:+t,g=[];if(!(n%1)&&p-d<m){if(d=Math.round(d)-1,p=Math.round(p)+1,u>0){for(;d<p;++d)for(h=1,l=i(d);h<n;++h)if(!((f=l*h)<u)){if(f>c)break;g.push(f)}}else for(;d<p;++d)for(h=n-1,l=i(d);h>=1;--h)if(!((f=l*h)<u)){if(f>c)break;g.push(f)}}else g=Object(o.B)(d,p,Math.min(p-d,m)).map(i);return a?g.reverse():g},t.tickFormat=function(e,o){if(null==o&&(o=10===n?".0e":","),"function"!=typeof o&&(o=q(o)),e===1/0)return o;null==e&&(e=10);var a=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/i(Math.round(r(t)));return e*n<n-.5&&(e*=n),e<=a?o(t):""}},t.nice=function(){return e(ot(e(),{floor:function(t){return i(Math.floor(r(t)))},ceil:function(t){return i(Math.ceil(r(t)))}}))},t.copy=function(){return N(t,ft().base(n))},t}function dt(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function pt(){var t=1,e=I(function(e,n){return(n=dt(n,t)-(e=dt(e,t)))?function(r){return(dt(r,t)-e)/n}:P(n)},function(e,n){return n=dt(n,t)-(e=dt(e,t)),function(r){return dt(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return N(e,pt().exponent(t))},nt(e)}function mt(){return pt().exponent(.5)}function gt(){var t=[],e=[],n=[];function r(){var r=0,a=Math.max(1,e.length);for(n=new Array(a-1);++r<a;)n[r-1]=Object(o.r)(t,r/a);return i}function i(t){if(!isNaN(t=+t))return e[Object(o.b)(n,t)]}return i.invertExtent=function(r){var i=e.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,i=0,a=e.length;i<a;++i)null==(n=e[i])||isNaN(n=+n)||t.push(n);return t.sort(o.a),r()},i.range=function(t){return arguments.length?(e=S.call(t),r()):e.slice()},i.quantiles=function(){return n.slice()},i.copy=function(){return gt().domain(t).range(e)},i}function vt(){var t=0,e=1,n=1,r=[.5],i=[0,1];function a(t){if(t<=t)return i[Object(o.b)(r,t,0,n)]}function s(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*e-(i-n)*t)/(n+1);return a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],s()):[t,e]},a.range=function(t){return arguments.length?(n=(i=S.call(t)).length-1,s()):i.slice()},a.invertExtent=function(o){var a=i.indexOf(o);return a<0?[NaN,NaN]:a<1?[t,r[0]]:a>=n?[r[n-1],e]:[r[a-1],r[a]]},a.copy=function(){return vt().domain([t,e]).range(i)},nt(a)}function yt(){var t=[.5],e=[0,1],n=1;function r(r){if(r<=r)return e[Object(o.b)(t,r,0,n)]}return r.domain=function(i){return arguments.length?(t=S.call(i),n=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(i){return arguments.length?(e=S.call(i),n=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},r.copy=function(){return yt().domain(t).range(e)},r}var bt=new Date,wt=new Date;function _t(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return _t(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return bt.setTime(+e),wt.setTime(+r),t(bt),t(wt),Math.floor(n(bt,wt))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var xt=_t(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});xt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?_t(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):xt:null};var St=xt,Mt=6e4,Ct=6048e5,Et=_t(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Tt=_t(function(t){t.setTime(Math.floor(t/Mt)*Mt)},function(t,e){t.setTime(+t+e*Mt)},function(t,e){return(e-t)/Mt},function(t){return t.getMinutes()}),Ot=_t(function(t){var e=t.getTimezoneOffset()*Mt%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Pt=_t(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mt)/864e5},function(t){return t.getDate()-1});function At(t){return _t(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mt)/Ct})}var kt=At(0),Lt=At(1),Rt=(At(2),At(3),At(4)),Dt=(At(5),At(6),_t(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Nt=_t(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Nt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?_t(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var It=Nt,jt=_t(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Mt)},function(t,e){return(e-t)/Mt},function(t){return t.getUTCMinutes()}),zt=_t(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Ft=_t(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Vt(t){return _t(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Ct})}var Bt=Vt(0),Ut=Vt(1),Ht=(Vt(2),Vt(3),Vt(4)),Gt=(Vt(5),Vt(6),_t(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),Wt=_t(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Wt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?_t(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var qt=Wt;function Yt(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zt(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Jt,Kt,Qt,$t,te={"-":"",_:" ",0:"0"},ee=/^\s*\d+/,ne=/^%/,re=/[\\^$*+?|[\]().{}]/g;function ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oe(t){return t.replace(re,"\\$&")}function ae(t){return new RegExp("^(?:"+t.map(oe).join("|")+")","i")}function se(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ue(t,e,n){var r=ee.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ce(t,e,n){var r=ee.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function le(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function he(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fe(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function de(t,e,n){var r=ee.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function pe(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function me(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ge(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ve(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ye(t,e,n){var r=ee.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function be(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function we(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _e(t,e,n){var r=ee.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xe(t,e,n){var r=ee.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Se(t,e,n){var r=ee.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Me(t,e,n){var r=ne.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ce(t,e,n){var r=ee.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ee(t,e,n){var r=ee.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Te(t,e){return ie(t.getDate(),e,2)}function Oe(t,e){return ie(t.getHours(),e,2)}function Pe(t,e){return ie(t.getHours()%12||12,e,2)}function Ae(t,e){return ie(1+Pt.count(It(t),t),e,3)}function ke(t,e){return ie(t.getMilliseconds(),e,3)}function Le(t,e){return ke(t,e)+"000"}function Re(t,e){return ie(t.getMonth()+1,e,2)}function De(t,e){return ie(t.getMinutes(),e,2)}function Ne(t,e){return ie(t.getSeconds(),e,2)}function Ie(t){var e=t.getDay();return 0===e?7:e}function je(t,e){return ie(kt.count(It(t),t),e,2)}function ze(t,e){var n=t.getDay();return t=n>=4||0===n?Rt(t):Rt.ceil(t),ie(Rt.count(It(t),t)+(4===It(t).getDay()),e,2)}function Fe(t){return t.getDay()}function Ve(t,e){return ie(Lt.count(It(t),t),e,2)}function Be(t,e){return ie(t.getFullYear()%100,e,2)}function Ue(t,e){return ie(t.getFullYear()%1e4,e,4)}function He(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ie(e/60|0,"0",2)+ie(e%60,"0",2)}function Ge(t,e){return ie(t.getUTCDate(),e,2)}function We(t,e){return ie(t.getUTCHours(),e,2)}function qe(t,e){return ie(t.getUTCHours()%12||12,e,2)}function Ye(t,e){return ie(1+Ft.count(qt(t),t),e,3)}function Xe(t,e){return ie(t.getUTCMilliseconds(),e,3)}function Ze(t,e){return Xe(t,e)+"000"}function Je(t,e){return ie(t.getUTCMonth()+1,e,2)}function Ke(t,e){return ie(t.getUTCMinutes(),e,2)}function Qe(t,e){return ie(t.getUTCSeconds(),e,2)}function $e(t){var e=t.getUTCDay();return 0===e?7:e}function tn(t,e){return ie(Bt.count(qt(t),t),e,2)}function en(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Ht(t):Ht.ceil(t),ie(Ht.count(qt(t),t)+(4===qt(t).getUTCDay()),e,2)}function nn(t){return t.getUTCDay()}function rn(t,e){return ie(Ut.count(qt(t),t),e,2)}function on(t,e){return ie(t.getUTCFullYear()%100,e,2)}function an(t,e){return ie(t.getUTCFullYear()%1e4,e,4)}function sn(){return"+0000"}function un(){return"%"}function cn(t){return+t}function ln(t){return Math.floor(+t/1e3)}Jt=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=ae(i),l=se(i),h=ae(o),f=se(o),d=ae(a),p=se(a),m=ae(s),g=se(s),v=ae(u),y=se(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Te,e:Te,f:Le,H:Oe,I:Pe,j:Ae,L:ke,m:Re,M:De,p:function(t){return i[+(t.getHours()>=12)]},Q:cn,s:ln,S:Ne,u:Ie,U:je,V:ze,w:Fe,W:Ve,x:null,X:null,y:Be,Y:Ue,Z:He,"%":un},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ge,e:Ge,f:Ze,H:We,I:qe,j:Ye,L:Xe,m:Je,M:Ke,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:cn,s:ln,S:Qe,u:$e,U:tn,V:en,w:nn,W:rn,x:null,X:null,y:on,Y:an,Z:sn,"%":un},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:ve,e:ve,f:Se,H:be,I:be,j:ye,L:xe,m:ge,M:we,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:Ce,s:Ee,S:_e,u:ce,U:le,V:he,w:ue,W:fe,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:pe,Y:de,Z:me,"%":Me};function x(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=te[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=Zt(1900);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=Xt(Zt(o.y))).getUTCDay())>4||0===i?Ut.ceil(r):Ut(r),r=Ft.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=e(Zt(o.y))).getDay())>4||0===i?Lt.ceil(r):Lt(r),r=Pt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Xt(Zt(o.y)).getUTCDay():e(Zt(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Xt(o)):e(o)}}function M(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in te?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),w.x=x(n,w),w.X=x(r,w),w.c=x(e,w),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",Yt);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t,Xt);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Kt=Jt.format,Qt=Jt.utcFormat,$t=Jt.utcParse,Date.prototype.toISOString||Qt("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||$t("%Y-%m-%dT%H:%M:%S.%LZ");var hn=1e3,fn=60*hn,dn=60*fn,pn=24*dn,mn=7*pn,gn=30*pn,vn=365*pn;function yn(t){return new Date(t)}function bn(t){return t instanceof Date?+t:+new Date(+t)}function wn(t,e,n,r,i,a,s,u,c){var l=I(L,O.interpolateNumber),h=l.invert,f=l.domain,d=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y"),_=[[s,1,hn],[s,5,5*hn],[s,15,15*hn],[s,30,30*hn],[a,1,fn],[a,5,5*fn],[a,15,15*fn],[a,30,30*fn],[i,1,dn],[i,3,3*dn],[i,6,6*dn],[i,12,12*dn],[r,1,pn],[r,2,2*pn],[n,1,mn],[e,1,gn],[e,3,3*gn],[t,1,vn]];function S(o){return(s(o)<o?d:a(o)<o?p:i(o)<o?m:r(o)<o?g:e(o)<o?n(o)<o?v:y:t(o)<o?b:w)(o)}function M(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-n)/e,s=Object(o.e)(function(t){return t[2]}).right(_,a);s===_.length?(i=Object(o.A)(n/vn,r/vn,e),e=t):s?(i=(s=_[a/_[s-1][2]<_[s][2]/a?s-1:s])[1],e=s[0]):(i=Math.max(Object(o.A)(n,r,e),1),e=u)}return null==i?e:e.every(i)}return l.invert=function(t){return new Date(h(t))},l.domain=function(t){return arguments.length?f(x.call(t,bn)):f().map(yn)},l.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=M(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(t,e){return null==e?S:c(e)},l.nice=function(t,e){var n=f();return(t=M(t,n[0],n[n.length-1],e))?f(ot(n,t)):l},l.copy=function(){return N(l,wn(t,e,n,r,i,a,s,u,c))},l}var _n=function(){return wn(It,Dt,kt,Pt,Ot,Tt,Et,St,Kt).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},xn=function(){return wn(qt,Gt,Bt,Ft,zt,jt,Et,St,Qt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Sn=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Mn=Sn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Cn=Sn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),En=Sn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Tn=Sn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),On=n("6jm/"),Pn=Object(O.interpolateCubehelixLong)(Object(On.b)(300,.5,0),Object(On.b)(-240,.5,1)),An=Object(O.interpolateCubehelixLong)(Object(On.b)(-100,.75,.35),Object(On.b)(80,1.5,.8)),kn=Object(O.interpolateCubehelixLong)(Object(On.b)(260,.75,.35),Object(On.b)(80,1.5,.8)),Ln=Object(On.b)(),Rn=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ln.h=360*t-100,Ln.s=1.5-1.5*e,Ln.l=.8-.9*e,Ln+""};function Dn(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Nn=Dn(Sn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),In=Dn(Sn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),jn=Dn(Sn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),zn=Dn(Sn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Fn(t){var e=0,n=1,r=!1;function i(i){var o=(i-e)/(n-e);return t(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Fn(t).domain([e,n]).clamp(r)},nt(i)}var Vn={},Bn={},Un=34,Hn=10,Gn=13;function Wn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var qn=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return Bn;if(c)return c=!1,Vn;var e,r,i=a;if(t.charCodeAt(i)===Un){for(;a++<o&&t.charCodeAt(a)!==Un||t.charCodeAt(++a)===Un;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===Hn?c=!0:r===Gn&&(c=!0,t.charCodeAt(a)===Hn&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===Hn)c=!0;else if(r===Gn)c=!0,t.charCodeAt(a)===Hn&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===Hn&&--o,t.charCodeAt(o-1)===Gn&&--o;(r=l())!==Bn;){for(var h=[];r!==Vn&&r!==Bn;)h.push(r),r=l();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Wn(t);return function(r,i){return e(n(r),i,t)}}(t,e):Wn(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(o).join(t)].concat(e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},Yn=qn(","),Xn=Yn.parse,Zn=Yn.parseRows,Jn=Yn.format,Kn=Yn.formatRows,Qn=qn("\t"),$n=Qn.parse,tr=Qn.parseRows,er=Qn.format,nr=Qn.formatRows,rr=n("t+Vl"),ir=n("3kTQ"),or=function(t){return function(){return t}};function ar(t,e,n){this.k=t,this.x=e,this.y=n}ar.prototype={constructor:ar,scale:function(t){return 1===t?this:new ar(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ar(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sr=new ar(1,0,0);function ur(t){return t.__zoom||sr}function cr(){r.event.stopImmediatePropagation()}ur.prototype=ar.prototype;var lr=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()};function hr(){return!r.event.button}function fr(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function dr(){return this.__zoom||sr}function pr(){return-r.event.deltaY*(r.event.deltaMode?120:1)/500}function mr(){return"ontouchstart"in this}function gr(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var vr=function(){var t,e,n=hr,o=fr,a=gr,s=pr,u=mr,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],h=250,f=O.interpolateZoom,d=[],p=Object(rr.dispatch)("start","zoom","end"),m=500,g=150,v=0;function y(t){t.property("__zoom",dr).on("wheel.zoom",C).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(u).on("touchstart.zoom",P).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,e){return(e=Math.max(c[0],Math.min(c[1],e)))===t.k?t:new ar(e,t.x,t.y)}function w(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new ar(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n){t.on("start.zoom",function(){S(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=S(this,t),i=o.apply(this,t),a=n||_(i),s=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=this.__zoom,c="function"==typeof e?e.apply(this,t):e,l=f(u.invert(a).concat(s/u.k),c.invert(a).concat(s/c.k));return function(t){if(1===t)t=c;else{var e=l(t),n=s/e[2];t=new ar(n,a[0]-e[0]*n,a[1]-e[1]*n)}r.zoom(null,t)}})}function S(t,e){for(var n,r=0,i=d.length;r<i;++r)if((n=d[r]).that===t)return n;return new M(t,e)}function M(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=o.apply(t,e)}function C(){if(n.apply(this,arguments)){var t=S(this,arguments),e=this.__zoom,i=Math.max(c[0],Math.min(c[1],e.k*Math.pow(2,s.apply(this,arguments)))),o=Object(r.mouse)(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[o,e.invert(o)],Object(ir.interrupt)(this),t.start()}lr(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},g),t.zoom("mouse",a(w(b(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}}function E(){if(!e&&n.apply(this,arguments)){var t=S(this,arguments),o=Object(r.select)(r.event.view).on("mousemove.zoom",function(){if(lr(),!t.moved){var e=r.event.clientX-u,n=r.event.clientY-c;t.moved=e*e+n*n>v}t.zoom("mouse",a(w(t.that.__zoom,t.mouse[0]=Object(r.mouse)(t.that),t.mouse[1]),t.extent,l))},!0).on("mouseup.zoom",function(){o.on("mousemove.zoom mouseup.zoom",null),Object(i.dragEnable)(r.event.view,t.moved),lr(),t.end()},!0),s=Object(r.mouse)(this),u=r.event.clientX,c=r.event.clientY;Object(i.dragDisable)(r.event.view),cr(),t.mouse=[s,this.__zoom.invert(s)],Object(ir.interrupt)(this),t.start()}}function T(){if(n.apply(this,arguments)){var t=this.__zoom,e=Object(r.mouse)(this),i=t.invert(e),s=a(w(b(t,t.k*(r.event.shiftKey?.5:2)),e,i),o.apply(this,arguments),l);lr(),h>0?Object(r.select)(this).transition().duration(h).call(x,s,e):Object(r.select)(this).call(y.transform,s)}}function P(){if(n.apply(this,arguments)){var e,i,o,a,s=S(this,arguments),u=r.event.changedTouches,c=u.length;for(cr(),i=0;i<c;++i)o=u[i],a=[a=Object(r.touch)(this,u,o.identifier),this.__zoom.invert(a),o.identifier],s.touch0?s.touch1||(s.touch1=a):(s.touch0=a,e=!0);if(t&&(t=clearTimeout(t),!s.touch1))return s.end(),void((a=Object(r.select)(this).on("dblclick.zoom"))&&a.apply(this,arguments));e&&(t=setTimeout(function(){t=null},m),Object(ir.interrupt)(this),s.start())}}function A(){var e,n,i,o,s=S(this,arguments),u=r.event.changedTouches,c=u.length;for(lr(),t&&(t=clearTimeout(t)),e=0;e<c;++e)n=u[e],i=Object(r.touch)(this,u,n.identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],d=s.touch1[0],p=s.touch1[1],m=(m=d[0]-h[0])*m+(m=d[1]-h[1])*m,g=(g=p[0]-f[0])*g+(g=p[1]-f[1])*g;n=b(n,Math.sqrt(m/g)),i=[(h[0]+d[0])/2,(h[1]+d[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",a(w(n,i,o),s.extent,l))}function k(){var t,n,i=S(this,arguments),o=r.event.changedTouches,a=o.length;for(cr(),e&&clearTimeout(e),e=setTimeout(function(){e=null},m),t=0;t<a;++t)n=o[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return y.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",dr),t!==n?x(t,e):n.interrupt().each(function(){S(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},y.scaleBy=function(t,e){y.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},y.scaleTo=function(t,e){y.transform(t,function(){var t=o.apply(this,arguments),n=this.__zoom,r=_(t),i=n.invert(r),s="function"==typeof e?e.apply(this,arguments):e;return a(w(b(n,s),r,i),t,l)})},y.translateBy=function(t,e,n){y.transform(t,function(){return a(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),l)})},y.translateTo=function(t,e,n){y.transform(t,function(){var t=o.apply(this,arguments),r=this.__zoom,i=_(t);return a(sr.translate(i[0],i[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)})},M.prototype={start:function(){return 1==++this.active&&(this.index=d.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(d.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(r.customEvent)(new function(t,e,n){this.target=y,this.type=e,this.transform=n}(0,t,this.that.__zoom),p.apply,p,[t,this.that,this.args])}},y.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:or(+t),y):s},y.filter=function(t){return arguments.length?(n="function"==typeof t?t:or(!!t),y):n},y.touchable=function(t){return arguments.length?(u="function"==typeof t?t:or(!!t),y):u},y.extent=function(t){return arguments.length?(o="function"==typeof t?t:or([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):o},y.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],y):[c[0],c[1]]},y.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],y):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},y.constrain=function(t){return arguments.length?(a=t,y):a},y.duration=function(t){return arguments.length?(h=+t,y):h},y.interpolate=function(t){return arguments.length?(f=t,y):f},y.on=function(){var t=p.on.apply(p,arguments);return t===p?y:t},y.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,y):Math.sqrt(v)},y},yr=Array.prototype.slice,br=function(t){return t},wr=1,_r=2,xr=3,Sr=4,Mr=1e-6;function Cr(t){return"translate("+(t+.5)+",0)"}function Er(t){return"translate(0,"+(t+.5)+")"}function Tr(){return!this.__axis}function Or(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u=t===wr||t===Sr?-1:1,c=t===Sr||t===_r?"x":"y",l=t===wr||t===xr?Cr:Er;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):br:i,p=Math.max(o,0)+s,m=e.range(),g=+m[0]+.5,v=+m[m.length-1]+.5,y=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),b=h.selection?h.selection():h,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(f,e).order(),x=_.exit(),S=_.enter().append("g").attr("class","tick"),M=_.select("line"),C=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),_=_.merge(S),M=M.merge(S.append("line").attr("stroke","#000").attr(c+"2",u*o)),C=C.merge(S.append("text").attr("fill","#000").attr(c,u*p).attr("dy",t===wr?"0em":t===xr?"0.71em":"0.32em")),h!==b&&(w=w.transition(h),_=_.transition(h),M=M.transition(h),C=C.transition(h),x=x.transition(h).attr("opacity",Mr).attr("transform",function(t){return isFinite(t=y(t))?l(t):this.getAttribute("transform")}),S.attr("opacity",Mr).attr("transform",function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:y(t))})),x.remove(),w.attr("d",t===Sr||t==_r?"M"+u*a+","+g+"H0.5V"+v+"H"+u*a:"M"+g+","+u*a+"V0.5H"+v+"V"+u*a),_.attr("opacity",1).attr("transform",function(t){return l(y(t))}),M.attr(c+"2",u*o),C.attr(c,u*p).text(d),b.filter(Tr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===_r?"start":t===Sr?"end":"middle"),b.each(function(){this.__axis=y})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=yr.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:yr.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:yr.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function Pr(t){return Or(wr,t)}function Ar(t){return Or(_r,t)}function kr(t){return Or(xr,t)}function Lr(t){return Or(Sr,t)}var Rr=Math.PI,Dr=2*Rr,Nr=Dr-1e-6;function Ir(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jr(){return new Ir}Ir.prototype=jr.prototype={constructor:Ir,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o=this._x1,a=this._y1,s=(n=+n)-(t=+t),u=(r=+r)-(e=+e),c=o-t,l=a-e,h=c*c+l*l;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var f=n-o,d=r-a,p=s*s+u*u,m=f*f+d*d,g=Math.sqrt(p),v=Math.sqrt(h),y=i*Math.tan((Rr-Math.acos((p+h-m)/(2*g*v)))/2),b=y/v,w=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*d)+","+(this._x1=t+w*s)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Dr+Dr),h>Nr?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Rr)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var zr=jr,Fr=function(t){return function(){return t}},Vr=Math.abs,Br=Math.atan2,Ur=Math.cos,Hr=Math.max,Gr=Math.min,Wr=Math.sin,qr=Math.sqrt,Yr=1e-12,Xr=Math.PI,Zr=Xr/2,Jr=2*Xr;function Kr(t){return t>=1?Zr:t<=-1?-Zr:Math.asin(t)}function Qr(t){return t.innerRadius}function $r(t){return t.outerRadius}function ti(t){return t.startAngle}function ei(t){return t.endAngle}function ni(t){return t&&t.padAngle}function ri(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/qr(s*s+u*u),l=c*u,h=-c*s,f=t+l,d=e+h,p=n+l,m=r+h,g=(f+p)/2,v=(d+m)/2,y=p-f,b=m-d,w=y*y+b*b,_=i-o,x=f*m-p*d,S=(b<0?-1:1)*qr(Hr(0,_*_*w-x*x)),M=(x*b-y*S)/w,C=(-x*y-b*S)/w,E=(x*b+y*S)/w,T=(-x*y+b*S)/w,O=M-g,P=C-v,A=E-g,k=T-v;return O*O+P*P>A*A+k*k&&(M=E,C=T),{cx:M,cy:C,x01:-l,y01:-h,x11:M*(i/_-1),y11:C*(i/_-1)}}var ii=function(){var t=Qr,e=$r,n=Fr(0),r=null,i=ti,o=ei,a=ni,s=null;function u(){var u,c,l,h=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-Zr,p=o.apply(this,arguments)-Zr,m=Vr(p-d),g=p>d;if(s||(s=u=zr()),f<h&&(c=f,f=h,h=c),f>Yr)if(m>Jr-Yr)s.moveTo(f*Ur(d),f*Wr(d)),s.arc(0,0,f,d,p,!g),h>Yr&&(s.moveTo(h*Ur(p),h*Wr(p)),s.arc(0,0,h,p,d,g));else{var v,y,b=d,w=p,_=d,x=p,S=m,M=m,C=a.apply(this,arguments)/2,E=C>Yr&&(r?+r.apply(this,arguments):qr(h*h+f*f)),T=Gr(Vr(f-h)/2,+n.apply(this,arguments)),O=T,P=T;if(E>Yr){var A=Kr(E/h*Wr(C)),k=Kr(E/f*Wr(C));(S-=2*A)>Yr?(_+=A*=g?1:-1,x-=A):(S=0,_=x=(d+p)/2),(M-=2*k)>Yr?(b+=k*=g?1:-1,w-=k):(M=0,b=w=(d+p)/2)}var L=f*Ur(b),R=f*Wr(b),D=h*Ur(x),N=h*Wr(x);if(T>Yr){var I=f*Ur(w),j=f*Wr(w),z=h*Ur(_),F=h*Wr(_);if(m<Xr){var V=S>Yr?function(t,e,n,r,i,o,a,s){var u=z-L,c=F-R,l=a-I,h=s-j,f=(l*(R-j)-h*(L-I))/(h*u-l*c);return[L+f*u,R+f*c]}(0,0,0,0,0,0,D,N):[D,N],B=L-V[0],U=R-V[1],H=I-V[0],G=j-V[1],W=1/Wr(((l=(B*H+U*G)/(qr(B*B+U*U)*qr(H*H+G*G)))>1?0:l<-1?Xr:Math.acos(l))/2),q=qr(V[0]*V[0]+V[1]*V[1]);O=Gr(T,(h-q)/(W-1)),P=Gr(T,(f-q)/(W+1))}}M>Yr?P>Yr?(v=ri(z,F,L,R,f,P,g),y=ri(I,j,D,N,f,P,g),s.moveTo(v.cx+v.x01,v.cy+v.y01),P<T?s.arc(v.cx,v.cy,P,Br(v.y01,v.x01),Br(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,P,Br(v.y01,v.x01),Br(v.y11,v.x11),!g),s.arc(0,0,f,Br(v.cy+v.y11,v.cx+v.x11),Br(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,P,Br(y.y11,y.x11),Br(y.y01,y.x01),!g))):(s.moveTo(L,R),s.arc(0,0,f,b,w,!g)):s.moveTo(L,R),h>Yr&&S>Yr?O>Yr?(v=ri(D,N,I,j,h,-O,g),y=ri(L,R,z,F,h,-O,g),s.lineTo(v.cx+v.x01,v.cy+v.y01),O<T?s.arc(v.cx,v.cy,O,Br(v.y01,v.x01),Br(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,O,Br(v.y01,v.x01),Br(v.y11,v.x11),!g),s.arc(0,0,h,Br(v.cy+v.y11,v.cx+v.x11),Br(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,O,Br(y.y11,y.x11),Br(y.y01,y.x01),!g))):s.arc(0,0,h,x,_,g):s.lineTo(D,N)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Xr/2;return[Ur(r)*n,Wr(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Fr(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Fr(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Fr(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Fr(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Fr(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Fr(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Fr(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u};function oi(t){this._context=t}oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var ai=function(t){return new oi(t)};function si(t){return t[0]}function ui(t){return t[1]}var ci=function(){var t=si,e=ui,n=Fr(!0),r=null,i=ai,o=null;function a(a){var s,u,c,l=a.length,h=!1;for(null==r&&(o=i(c=zr())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Fr(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Fr(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Fr(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},li=function(){var t=si,e=null,n=Fr(0),r=ui,i=Fr(!0),o=null,a=ai,s=null;function u(u){var c,l,h,f,d,p=u.length,m=!1,g=new Array(p),v=new Array(p);for(null==o&&(s=a(d=zr())),c=0;c<=p;++c){if(!(c<p&&i(f=u[c],c,u))===m)if(m=!m)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=l;--h)s.point(g[h],v[h]);s.lineEnd(),s.areaEnd()}m&&(g[c]=+t(f,c,u),v[c]=+n(f,c,u),s.point(e?+e(f,c,u):g[c],r?+r(f,c,u):v[c]))}if(d)return s=null,d+""||null}function c(){return ci().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Fr(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Fr(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Fr(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Fr(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:Fr(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Fr(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:Fr(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u},hi=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},fi=function(t){return t},di=function(){var t=fi,e=hi,n=null,r=Fr(0),i=Fr(Jr),o=Fr(0);function a(a){var s,u,c,l,h,f=a.length,d=0,p=new Array(f),m=new Array(f),g=+r.apply(this,arguments),v=Math.min(Jr,Math.max(-Jr,i.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/f,o.apply(this,arguments)),b=y*(v<0?-1:1);for(s=0;s<f;++s)(h=m[p[s]=s]=+t(a[s],s,a))>0&&(d+=h);for(null!=e?p.sort(function(t,n){return e(m[t],m[n])}):null!=n&&p.sort(function(t,e){return n(a[t],a[e])}),s=0,c=d?(v-f*b)/d:0;s<f;++s,g=l)m[u=p[s]]={data:a[u],index:s,value:h=m[u],startAngle:g,endAngle:l=g+(h>0?h*c:0)+b,padAngle:y};return m}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:Fr(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Fr(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Fr(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Fr(+t),a):o},a},pi=gi(ai);function mi(t){this._curve=t}function gi(t){function e(e){return new mi(t(e))}return e._curve=t,e}function vi(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(gi(t)):e()._curve},t}mi.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var yi=function(){return vi(ci().curve(pi))},bi=function(){var t=li().curve(pi),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return vi(n())},delete t.lineX0,t.lineEndAngle=function(){return vi(r())},delete t.lineX1,t.lineInnerRadius=function(){return vi(i())},delete t.lineY0,t.lineOuterRadius=function(){return vi(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(gi(t)):e()._curve},t},wi=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},_i=Array.prototype.slice;function xi(t){return t.source}function Si(t){return t.target}function Mi(t){var e=xi,n=Si,r=si,i=ui,o=null;function a(){var a,s=_i.call(arguments),u=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=zr()),t(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Fr(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Fr(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Ci(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Ei(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Ti(t,e,n,r,i){var o=wi(e,n),a=wi(e,n=(n+i)/2),s=wi(r,n),u=wi(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Oi(){return Mi(Ci)}function Pi(){return Mi(Ei)}function Ai(){var t=Mi(Ti);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var ki={draw:function(t,e){var n=Math.sqrt(e/Xr);t.moveTo(n,0),t.arc(0,0,n,0,Jr)}},Li={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ri=Math.sqrt(1/3),Di=2*Ri,Ni={draw:function(t,e){var n=Math.sqrt(e/Di),r=n*Ri;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ii=Math.sin(Xr/10)/Math.sin(7*Xr/10),ji=Math.sin(Jr/10)*Ii,zi=-Math.cos(Jr/10)*Ii,Fi={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=ji*n,i=zi*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Jr*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Vi={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Bi=Math.sqrt(3),Ui={draw:function(t,e){var n=-Math.sqrt(e/(3*Bi));t.moveTo(0,2*n),t.lineTo(-Bi*n,-n),t.lineTo(Bi*n,-n),t.closePath()}},Hi=Math.sqrt(3)/2,Gi=1/Math.sqrt(12),Wi=3*(Gi/2+1),qi={draw:function(t,e){var n=Math.sqrt(e/Wi),r=n/2,i=n*Gi,o=r,a=n*Gi+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-Hi*i,Hi*r+-.5*i),t.lineTo(-.5*o-Hi*a,Hi*o+-.5*a),t.lineTo(-.5*s-Hi*u,Hi*s+-.5*u),t.lineTo(-.5*r+Hi*i,-.5*i-Hi*r),t.lineTo(-.5*o+Hi*a,-.5*a-Hi*o),t.lineTo(-.5*s+Hi*u,-.5*u-Hi*s),t.closePath()}},Yi=[ki,Li,Ni,Vi,Fi,Ui,qi],Xi=function(){var t=Fr(ki),e=Fr(64),n=null;function r(){var r;if(n||(n=r=zr()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Fr(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Fr(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},Zi=function(){};function Ji(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ki(t){this._context=t}Ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ji(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ji(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Qi=function(t){return new Ki(t)};function $i(t){this._context=t}$i.prototype={areaStart:Zi,areaEnd:Zi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ji(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var to=function(t){return new $i(t)};function eo(t){this._context=t}eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ji(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var no=function(t){return new eo(t)};function ro(t,e){this._basis=new Ki(t),this._beta=e}ro.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)this._basis.point(this._beta*t[u]+(1-this._beta)*(i+(r=u/n)*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var io=function t(e){function n(t){return 1===e?new Ki(t):new ro(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function oo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ao(t,e){this._context=t,this._k=(1-e)/6}ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:oo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:oo(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var so=function t(e){function n(t){return new ao(t,e)}return n.tension=function(e){return t(+e)},n}(0);function uo(t,e){this._context=t,this._k=(1-e)/6}uo.prototype={areaStart:Zi,areaEnd:Zi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:oo(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var co=function t(e){function n(t){return new uo(t,e)}return n.tension=function(e){return t(+e)},n}(0);function lo(t,e){this._context=t,this._k=(1-e)/6}lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:oo(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ho=function t(e){function n(t){return new lo(t,e)}return n.tension=function(e){return t(+e)},n}(0);function fo(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Yr){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Yr){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function po(t,e){this._context=t,this._alpha=e}po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:fo(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mo=function t(e){function n(t){return e?new po(t,e):new ao(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function go(t,e){this._context=t,this._alpha=e}go.prototype={areaStart:Zi,areaEnd:Zi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:fo(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vo=function t(e){function n(t){return e?new go(t,e):new uo(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function yo(t,e){this._context=t,this._alpha=e}yo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fo(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bo=function t(e){function n(t){return e?new yo(t,e):new lo(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function wo(t){this._context=t}wo.prototype={areaStart:Zi,areaEnd:Zi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var _o=function(t){return new wo(t)};function xo(t){return t<0?-1:1}function So(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(xo(o)+xo(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Mo(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Co(t,e,n){var r=t._x0,i=t._x1,o=t._y1,a=(i-r)/3;t._context.bezierCurveTo(r+a,t._y0+a*e,i-a,o-a*n,i,o)}function Eo(t){this._context=t}function To(t){this._context=new Oo(t)}function Oo(t){this._context=t}function Po(t){return new Eo(t)}function Ao(t){return new To(t)}function ko(t){this._context=t}function Lo(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)o[e]-=n=i[e]/o[e-1],a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Co(this,this._t0,Mo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Co(this,Mo(this,n=So(this,t,e)),n);break;default:Co(this,this._t0,n=So(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(To.prototype=Object.create(Eo.prototype)).point=function(t,e){Eo.prototype.point.call(this,e,t)},Oo.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Lo(t),i=Lo(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Ro=function(t){return new ko(t)};function Do(t,e){this._context=t,this._t=e}Do.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var No=function(t){return new Do(t,.5)};function Io(t){return new Do(t,0)}function jo(t){return new Do(t,1)}var zo=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Fo=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function Vo(t,e){return t[e]}var Bo=function(){var t=Fr([]),e=Fo,n=zo,r=Vo;function i(i){var o,a,s=t.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var h,f=s[o],d=l[o]=new Array(u),p=0;p<u;++p)d[p]=h=[0,+r(i[p],f,p,i)],h.data=i[p];d.key=f}for(o=0,a=e(l);o<c;++o)l[a[o]].index=o;return n(l,a),l}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Fr(_i.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Fr(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?Fo:"function"==typeof t?t:Fr(_i.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?zo:t,i):n},i},Uo=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}zo(t,e)}},Ho=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},Go=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}zo(t,e)}},Wo=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],h=l[a][1]||0,f=(h-(l[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];f+=(p[a][1]||0)-(p[a-1][1]||0)}u+=h,c+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,zo(t,e)}},qo=function(t){var e=t.map(Yo);return Fo(t).sort(function(t,n){return e[t]-e[n]})};function Yo(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var Xo=function(t){return qo(t).reverse()},Zo=function(t){var e,n,r=t.length,i=t.map(Yo),o=Fo(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},Jo=function(t){return Fo(t).reverse()},Ko=function(t){return function(){return t}},Qo=function(t,e,n){this.target=t,this.type=e,this.selection=n};function $o(){r.event.stopImmediatePropagation()}var ta=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()},ea={name:"drag"},na={name:"space"},ra={name:"handle"},ia={name:"center"},oa={name:"x",handles:["e","w"].map(da),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},aa={name:"y",handles:["n","s"].map(da),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},sa={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(da),input:function(t){return t},output:function(t){return t}},ua={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ca={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},la={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ha={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},fa={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function da(t){return{type:t}}function pa(){return!r.event.button}function ma(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ga(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function va(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ya(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function ba(){return xa(oa)}function wa(){return xa(aa)}var _a=function(){return xa(sa)};function xa(t){var e,n=ma,o=pa,a=Object(rr.dispatch)(u,"start","brush","end"),s=6;function u(e){var n=e.property("__brush",d).selectAll(".overlay").data([da("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ua.overlay).merge(n).each(function(){var t=ga(this).extent;Object(r.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([da("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ua.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return ua[t.type]}),e.each(c).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",f)}function c(){var t=Object(r.select)(this),e=ga(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e){return t.__brush.emitter||new h(t,e)}function h(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function f(){if(r.event.touches){if(r.event.changedTouches.length<r.event.touches.length)return ta()}else if(e)return;if(o.apply(this,arguments)){var n,a,s,u,h,f,d,p,m,g,v,y,b,w=this,_=r.event.target.__data__.type,x="selection"===(r.event.metaKey?_="overlay":_)?ea:r.event.altKey?ia:ra,S=t===aa?null:ha[_],M=t===oa?null:fa[_],C=ga(w),E=C.extent,T=C.selection,O=E[0][0],P=E[0][1],A=E[1][0],k=E[1][1],L=S&&M&&r.event.shiftKey,R=Object(r.mouse)(w),D=R,N=l(w,arguments).beforestart();"overlay"===_?C.selection=T=[[n=t===aa?O:R[0],s=t===oa?P:R[1]],[h=t===aa?A:n,d=t===oa?k:s]]:(n=T[0][0],s=T[0][1],h=T[1][0],d=T[1][1]),a=n,u=s,f=h,p=d;var I=Object(r.select)(w).attr("pointer-events","none"),j=I.selectAll(".overlay").attr("cursor",ua[_]);if(r.event.touches)I.on("touchmove.brush",F,!0).on("touchend.brush touchcancel.brush",B,!0);else{var z=Object(r.select)(r.event.view).on("keydown.brush",function(){switch(r.event.keyCode){case 16:L=S&&M;break;case 18:x===ra&&(S&&(h=f-m*S,n=a+m*S),M&&(d=p-g*M,s=u+g*M),x=ia,V());break;case 32:x!==ra&&x!==ia||(S<0?h=f-m:S>0&&(n=a-m),M<0?d=p-g:M>0&&(s=u-g),x=na,j.attr("cursor",ua.selection),V());break;default:return}ta()},!0).on("keyup.brush",function(){switch(r.event.keyCode){case 16:L&&(y=b=L=!1,V());break;case 18:x===ia&&(S<0?h=f:S>0&&(n=a),M<0?d=p:M>0&&(s=u),x=ra,V());break;case 32:x===na&&(r.event.altKey?(S&&(h=f-m*S,n=a+m*S),M&&(d=p-g*M,s=u+g*M),x=ia):(S<0?h=f:S>0&&(n=a),M<0?d=p:M>0&&(s=u),x=ra),j.attr("cursor",ua[_]),V());break;default:return}ta()},!0).on("mousemove.brush",F,!0).on("mouseup.brush",B,!0);Object(i.dragDisable)(r.event.view)}$o(),Object(ir.interrupt)(w),c.call(w),N.start()}function F(){var t=Object(r.mouse)(w);!L||y||b||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?b=!0:y=!0),D=t,v=!0,ta(),V()}function V(){var t;switch(m=D[0]-R[0],g=D[1]-R[1],x){case na:case ea:S&&(m=Math.max(O-n,Math.min(A-h,m)),a=n+m,f=h+m),M&&(g=Math.max(P-s,Math.min(k-d,g)),u=s+g,p=d+g);break;case ra:S<0?(m=Math.max(O-n,Math.min(A-n,m)),a=n+m,f=h):S>0&&(m=Math.max(O-h,Math.min(A-h,m)),a=n,f=h+m),M<0?(g=Math.max(P-s,Math.min(k-s,g)),u=s+g,p=d):M>0&&(g=Math.max(P-d,Math.min(k-d,g)),u=s,p=d+g);break;case ia:S&&(a=Math.max(O,Math.min(A,n-m*S)),f=Math.max(O,Math.min(A,h+m*S))),M&&(u=Math.max(P,Math.min(k,s-g*M)),p=Math.max(P,Math.min(k,d+g*M)))}f<a&&(S*=-1,t=n,n=h,h=t,t=a,a=f,f=t,_ in ca&&j.attr("cursor",ua[_=ca[_]])),p<u&&(M*=-1,t=s,s=d,d=t,t=u,u=p,p=t,_ in la&&j.attr("cursor",ua[_=la[_]])),C.selection&&(T=C.selection),y&&(a=T[0][0],f=T[1][0]),b&&(u=T[0][1],p=T[1][1]),T[0][0]===a&&T[0][1]===u&&T[1][0]===f&&T[1][1]===p||(C.selection=[[a,u],[f,p]],c.call(w),N.brush())}function B(){if($o(),r.event.touches){if(r.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),I.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.dragEnable)(r.event.view,v),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),j.attr("cursor",ua.overlay),C.selection&&(T=C.selection),va(T)&&(C.selection=null,c.call(w)),N.end()}}function d(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return u.move=function(e,n){e.selection?e.on("start.brush",function(){l(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){l(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,i=l(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Object(O.interpolate)(o,a);function u(t){r.selection=1===t&&va(a)?null:s(t),c.call(e),i.brush()}return o&&a?u:u(1)}):e.each(function(){var e=arguments,r=this.__brush,i=t.input("function"==typeof n?n.apply(this,e):n,r.extent),o=l(this,e).beforestart();Object(ir.interrupt)(this),r.selection=null==i||va(i)?null:i,c.call(this),o.start().brush().end()})},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(r.customEvent)(new Qo(u,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},u.extent=function(t){return arguments.length?(n="function"==typeof t?t:Ko([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),u):n},u.filter=function(t){return arguments.length?(o="function"==typeof t?t:Ko(!!t),u):o},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u}var Sa=n("s+xS"),Ma=function(t){return function(){return t}};function Ca(t){return t[0]}function Ea(t){return t[1]}function Ta(){this._=null}function Oa(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pa(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Aa(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ka(t){for(;t.L;)t=t.L;return t}Ta.prototype={constructor:Ta,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ka(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Pa(this,n),n=(t=n).U),n.C=!1,r.C=!0,Aa(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Aa(this,n),n=(t=n).U),n.C=!1,r.C=!0,Pa(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ka(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Pa(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Aa(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Pa(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Aa(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Pa(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Aa(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var La=Ta;function Ra(t,e,n,r){var i=[null,null],o=es.push(i)-1;return i.left=t,i.right=e,n&&Na(i,t,e,n),r&&Na(i,e,t,r),$a[t.index].halfedges.push(o),$a[e.index].halfedges.push(o),i}function Da(t,e,n){var r=[e,n];return r.left=t,r}function Na(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Ia(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,h=1,f=s[0]-u,d=s[1]-c;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*d]),h<1&&(t[1]=[u+h*f,c+h*d]),!0)}}}}}function ja(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],d=l[0],p=l[1],m=(h+d)/2,g=(f+p)/2;if(p===f){if(m<e||m>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(s=g-(a=(h-d)/(p-f))*m,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function za(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Fa(t,e){return e[+(e.left!==t.site)]}function Va(t,e){return e[+(e.left===t.site)]}var Ba,Ua=[];function Ha(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,h=o[1]-s,f=2*(u*h-c*l);if(!(f>=-rs)){var d=u*u+c*c,p=l*l+h*h,m=(h*d-c*p)/f,g=(u*p-l*d)/f,v=Ua.pop()||new function(){Oa(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=m+a,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=v;for(var y=null,b=ts._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ts.insert(y,v),y||(Ba=v)}}}}function Ga(t){var e=t.circle;e&&(e.P||(Ba=e.N),ts.remove(e),Ua.push(e),Oa(e),t.circle=null)}var Wa=[];function qa(t){var e=Wa.pop()||new function(){Oa(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Ya(t){Ga(t),Qa.remove(t),Wa.push(t),Oa(t)}function Xa(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Ya(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<ns&&Math.abs(r-u.circle.cy)<ns;)o=u.P,s.unshift(u),Ya(u),u=o;s.unshift(u),Ga(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<ns&&Math.abs(r-c.circle.cy)<ns;)a=c.N,s.push(c),Ya(c),c=a;s.push(c),Ga(c);var l,h=s.length;for(l=1;l<h;++l)Na((c=s[l]).edge,(u=s[l-1]).site,c.site,i);(c=s[h-1]).edge=Ra((u=s[0]).site,c.site,null,i),Ha(u),Ha(c)}function Za(t){for(var e,n,r,i,o=t[0],a=t[1],s=Qa._;s;)if((r=Ja(s,a)-o)>ns)s=s.L;else{if(!((i=o-Ka(s,a))>ns)){r>-ns?(e=s.P,n=s):i>-ns?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){$a[t.index]={site:t,halfedges:[]}}(t);var u=qa(t);if(Qa.insert(e,u),e||n){if(e===n)return Ga(e),n=qa(e.site),Qa.insert(u,n),u.edge=n.edge=Ra(e.site,u.site),Ha(e),void Ha(n);if(n){Ga(e),Ga(n);var c=e.site,l=c[0],h=c[1],f=t[0]-l,d=t[1]-h,p=n.site,m=p[0]-l,g=p[1]-h,v=2*(f*g-d*m),y=f*f+d*d,b=m*m+g*g,w=[(g*y-d*b)/v+l,(f*b-m*y)/v+h];Na(n.edge,c,p,w),u.edge=Ra(c,t,null,w),n.edge=Ra(t,p,null,w),Ha(e),Ha(n)}else u.edge=Ra(e.site,u.site)}}function Ja(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+s)/2}function Ka(t,e){var n=t.N;if(n)return Ja(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Qa,$a,ts,es,ns=1e-6,rs=1e-12;function is(t,e){return e[1]-t[1]||e[0]-t[0]}function os(t,e){var n,r,i,o=t.sort(is).pop();for(es=[],$a=new Array(t.length),Qa=new La,ts=new La;;)if(i=Ba,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Za(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Xa(i.arc)}if(function(){for(var t,e,n,r,i=0,o=$a.length;i<o;++i)if((t=$a[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=za(t,es[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=es.length;o--;)ja(i=es[o],t,e,n,r)&&Ia(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ns||Math.abs(i[0][1]-i[1][1])>ns)||delete es[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,h,f,d,p,m,g=$a.length,v=!0;for(i=0;i<g;++i)if(o=$a[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)es[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=Va(o,es[u[s]]))[0],m=d[1],h=(l=Fa(o,es[u[++s%c]]))[0],f=l[1],(Math.abs(p-h)>ns||Math.abs(m-f)>ns)&&(u.splice(s,0,es.push(Da(a,d,Math.abs(p-t)<ns&&r-m>ns?[t,Math.abs(h-t)<ns?f:r]:Math.abs(m-r)<ns&&n-p>ns?[Math.abs(f-r)<ns?h:n,r]:Math.abs(p-n)<ns&&m-e>ns?[n,Math.abs(h-n)<ns?f:e]:Math.abs(m-e)<ns&&p-t>ns?[Math.abs(f-e)<ns?h:t,e]:null))-1),++c);c&&(v=!1)}if(v){var y,b,w,_=1/0;for(i=0,v=null;i<g;++i)(o=$a[i])&&(w=(y=(a=o.site)[0]-t)*y+(b=a[1]-e)*b)<_&&(_=w,v=o);if(v){var x=[t,e],S=[t,r],M=[n,r],C=[n,e];v.halfedges.push(es.push(Da(a=v.site,x,S))-1,es.push(Da(a,S,M))-1,es.push(Da(a,M,C))-1,es.push(Da(a,C,x))-1)}}for(i=0;i<g;++i)(o=$a[i])&&(o.halfedges.length||delete $a[i])}(a,s,u,c)}this.edges=es,this.cells=$a,Qa=ts=es=$a=null}os.prototype={constructor:os,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Fa(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,h=-1,f=e[i[o-1]],d=f.left===l?f.right:f.left;++h<o;)a=d,d=(f=e[i[h]]).left===l?f.right:f.left,a&&d&&r<a.index&&r<d.index&&((s=l)[0]-(c=d)[0])*((u=a)[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0&&t.push([l.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],h=u*u+c*c;h<l&&(l=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var as=function(){var t=Ca,e=Ea,n=null;function r(r){return new os(r.map(function(n,i){var o=[Math.round(t(n,i,r)/ns)*ns,Math.round(e(n,i,r)/ns)*ns];return o.index=i,o.data=n,o}),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:Ma(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:Ma(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},ss=function(t,e){var n,r,i,o,a=Object(rr.dispatch)("beforesend","progress","load","error"),s=u(),c=new XMLHttpRequest,l=null,h=null,f=0;function d(t){var e,r=c.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||r>=200&&r<300||304===r){if(i)try{e=i.call(n,c)}catch(t){return void a.call("error",n,t)}else e=c;a.call("load",n,e)}else a.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=d:c.onreadystatechange=function(t){c.readyState>3&&d(t)},c.onprogress=function(t){a.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s.get(t):(null==e?s.remove(t):s.set(t,e+""),n)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",n):r},responseType:function(t){return arguments.length?(o=t,n):o},timeout:function(t){return arguments.length?(f=+t,n):f},user:function(t){return arguments.length<1?l:(l=null==t?null:t+"",n)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",n)},response:function(t){return i=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,i,u){return c.open(e,t,!0,l,h),null==r||s.has("accept")||s.set("accept",r+",*/*"),c.setRequestHeader&&s.each(function(t,e){c.setRequestHeader(e,t)}),null!=r&&c.overrideMimeType&&c.overrideMimeType(r),null!=o&&(c.responseType=o),f>0&&(c.timeout=f),null==u&&"function"==typeof i&&(u=i,i=null),null!=u&&1===u.length&&(u=function(t){return function(e,n){t(null==e?n:null)}}(u)),null!=u&&n.on("error",u).on("load",function(t){u(null,t)}),a.call("beforesend",n,c),c.send(null==i?null:i),n},abort:function(){return c.abort(),n},on:function(){var t=a.on.apply(a,arguments);return t===a?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n},us=function(t,e){return function(n,r){var i=ss(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},cs=us("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),ls=us("application/json",function(t){return JSON.parse(t.responseText)}),hs=us("text/plain",function(t){return t.responseText}),fs=us("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),ds=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=ss(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,r=t)):r},o.row(r),i?o.get(i):o}},ps=ds("text/csv",Xn),ms=ds("text/tab-separated-values",$n);function gs(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,h,f,d=t._root,p={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=d,!(d=d[h=l<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((h=l<<1|c)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}var vs=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function ys(t){return t[0]}function bs(t){return t[1]}function ws(t,e,n){var r=new _s(null==e?ys:e,null==n?bs:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function _s(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function xs(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ss=ws.prototype=_s.prototype;Ss.copy=function(){var t,e,n=new _s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=xs(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=xs(e));return n},Ss.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return gs(this.cover(e,n),e,n,t)},Ss.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>h&&(h=i));for(l<u&&(u=this._x0,l=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(u,c).cover(l,h),n=0;n<o;++n)gs(this,a[n],s[n],t[n]);return this},Ss.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,c=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),t>(i=n+u)||e>o);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),(n=i-u)>t||e>o);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),t>(i=n+u)||r>e);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),(n=i-u)>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Ss.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Ss.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ss.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new vs(m,l,h,f,d)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(m=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<h))if(m.length){var g=(i+a)/2,v=(o+s)/2;p.push(new vs(m[3],g,v,a,s),new vs(m[2],i,v,g,s),new vs(m[1],g,o,a,v),new vs(m[0],i,o,g,v)),(c=(e>=v)<<1|t>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),w=y*y+b*b;if(w<n){var _=Math.sqrt(n=w);l=t-_,h=e-_,f=t+_,d=e+_,r=m.data}}return r},Ss.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,h,f,d=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(m+v)/2))?m=u:v=u,e=d,!(d=d[h=l<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},Ss.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ss.root=function(){return this._root},Ss.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Ss.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new vs(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new vs(n,c,l,o,a)),(n=u[2])&&s.push(new vs(n,r,l,c,a)),(n=u[1])&&s.push(new vs(n,c,i,o,l)),(n=u[0])&&s.push(new vs(n,r,i,c,l))}return this},Ss.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new vs(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,h=(s+c)/2;(o=i[0])&&n.push(new vs(o,a,s,l,h)),(o=i[1])&&n.push(new vs(o,l,s,u,h)),(o=i[2])&&n.push(new vs(o,a,h,l,c)),(o=i[3])&&n.push(new vs(o,l,h,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ss.x=function(t){return arguments.length?(this._x=t,this):this._x},Ss.y=function(t){return arguments.length?(this._y=t,this):this._y};var Ms=function(){return new Cs};function Cs(){this.reset()}Cs.prototype={constructor:Cs,reset:function(){this.s=this.t=0},add:function(t){Ts(Es,t,this.t),Ts(this,Es.s,this.s),this.s?this.t+=Es.t:this.s=Es.t},valueOf:function(){return this.s}};var Es=new Cs;function Ts(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}var Os=1e-6,Ps=Math.PI,As=Ps/2,ks=Ps/4,Ls=2*Ps,Rs=180/Ps,Ds=Ps/180,Ns=Math.abs,Is=Math.atan,js=Math.atan2,zs=Math.cos,Fs=Math.ceil,Vs=Math.exp,Bs=(Math,Math.log),Us=Math.pow,Hs=Math.sin,Gs=Math.sign||function(t){return t>0?1:t<0?-1:0},Ws=Math.sqrt,qs=Math.tan;function Ys(t){return t>1?0:t<-1?Ps:Math.acos(t)}function Xs(t){return t>1?As:t<-1?-As:Math.asin(t)}function Zs(t){return(t=Hs(t/2))*t}function Js(){}function Ks(t,e){t&&$s.hasOwnProperty(t.type)&&$s[t.type](t,e)}var Qs={Feature:function(t,e){Ks(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ks(n[r].geometry,e)}},$s={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){tu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)tu(n[r],e,0)},Polygon:function(t,e){eu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)eu(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ks(n[r],e)}};function tu(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function eu(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)tu(t[n],e,1);e.polygonEnd()}var nu,ru,iu,ou,au,su=function(t,e){t&&Qs.hasOwnProperty(t.type)?Qs[t.type](t,e):Ks(t,e)},uu=Ms(),cu=Ms(),lu={point:Js,lineStart:Js,lineEnd:Js,polygonStart:function(){uu.reset(),lu.lineStart=hu,lu.lineEnd=fu},polygonEnd:function(){var t=+uu;cu.add(t<0?Ls+t:t),this.lineStart=this.lineEnd=this.point=Js},sphere:function(){cu.add(Ls)}};function hu(){lu.point=du}function fu(){pu(nu,ru)}function du(t,e){lu.point=pu,nu=t,ru=e,iu=t*=Ds,ou=zs(e=(e*=Ds)/2+ks),au=Hs(e)}function pu(t,e){e=(e*=Ds)/2+ks;var n=(t*=Ds)-iu,r=n>=0?1:-1,i=r*n,o=zs(e),a=Hs(e),s=au*a,u=ou*o+s*zs(i),c=s*r*Hs(i);uu.add(js(c,u)),iu=t,ou=o,au=a}var mu=function(t){return cu.reset(),su(t,lu),2*cu};function gu(t){return[js(t[1],t[0]),Xs(t[2])]}function vu(t){var e=t[0],n=t[1],r=zs(n);return[r*zs(e),r*Hs(e),Hs(n)]}function yu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function bu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function wu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _u(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xu(t){var e=Ws(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Su,Mu,Cu,Eu,Tu,Ou,Pu,Au,ku,Lu,Ru=Ms(),Du={point:Nu,lineStart:ju,lineEnd:zu,polygonStart:function(){Du.point=Fu,Du.lineStart=Vu,Du.lineEnd=Bu,Ru.reset(),lu.polygonStart()},polygonEnd:function(){lu.polygonEnd(),Du.point=Nu,Du.lineStart=ju,Du.lineEnd=zu,uu<0?(Su=-(Cu=180),Mu=-(Eu=90)):Ru>Os?Eu=90:Ru<-Os&&(Mu=-90),Lu[0]=Su,Lu[1]=Cu}};function Nu(t,e){ku.push(Lu=[Su=t,Cu=t]),e<Mu&&(Mu=e),e>Eu&&(Eu=e)}function Iu(t,e){var n=vu([t*Ds,e*Ds]);if(Au){var r=bu(Au,n),i=bu([r[1],-r[0],0],r);xu(i),i=gu(i);var o,a=t-Tu,s=a>0?1:-1,u=i[0]*Rs*s,c=Ns(a)>180;c^(s*Tu<u&&u<s*t)?(o=i[1]*Rs)>Eu&&(Eu=o):c^(s*Tu<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*Rs)<Mu&&(Mu=o):(e<Mu&&(Mu=e),e>Eu&&(Eu=e)),c?t<Tu?Uu(Su,t)>Uu(Su,Cu)&&(Cu=t):Uu(t,Cu)>Uu(Su,Cu)&&(Su=t):Cu>=Su?(t<Su&&(Su=t),t>Cu&&(Cu=t)):t>Tu?Uu(Su,t)>Uu(Su,Cu)&&(Cu=t):Uu(t,Cu)>Uu(Su,Cu)&&(Su=t)}else ku.push(Lu=[Su=t,Cu=t]);e<Mu&&(Mu=e),e>Eu&&(Eu=e),Au=n,Tu=t}function ju(){Du.point=Iu}function zu(){Lu[0]=Su,Lu[1]=Cu,Du.point=Nu,Au=null}function Fu(t,e){if(Au){var n=t-Tu;Ru.add(Ns(n)>180?n+(n>0?360:-360):n)}else Ou=t,Pu=e;lu.point(t,e),Iu(t,e)}function Vu(){lu.lineStart()}function Bu(){Fu(Ou,Pu),lu.lineEnd(),Ns(Ru)>Os&&(Su=-(Cu=180)),Lu[0]=Su,Lu[1]=Cu,Au=null}function Uu(t,e){return(e-=t)<0?e+360:e}function Hu(t,e){return t[0]-e[0]}function Gu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Wu,qu,Yu,Xu,Zu,Ju,Ku,Qu,$u,tc,ec,nc,rc,ic,oc,ac,sc=function(t){var e,n,r,i,o,a,s;if(Eu=Cu=-(Su=Mu=1/0),ku=[],su(t,Du),n=ku.length){for(ku.sort(Hu),e=1,o=[r=ku[0]];e<n;++e)Gu(r,(i=ku[e])[0])||Gu(r,i[1])?(Uu(r[0],i[1])>Uu(r[0],r[1])&&(r[1]=i[1]),Uu(i[0],r[1])>Uu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)(s=Uu(r[1],(i=o[e])[0]))>a&&(a=s,Su=i[0],Cu=r[1])}return ku=Lu=null,Su===1/0||Mu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Su,Mu],[Cu,Eu]]},uc={sphere:Js,point:cc,lineStart:hc,lineEnd:pc,polygonStart:function(){uc.lineStart=mc,uc.lineEnd=gc},polygonEnd:function(){uc.lineStart=hc,uc.lineEnd=pc}};function cc(t,e){t*=Ds;var n=zs(e*=Ds);lc(n*zs(t),n*Hs(t),Hs(e))}function lc(t,e,n){Yu+=(t-Yu)/++Wu,Xu+=(e-Xu)/Wu,Zu+=(n-Zu)/Wu}function hc(){uc.point=fc}function fc(t,e){t*=Ds;var n=zs(e*=Ds);ic=n*zs(t),oc=n*Hs(t),ac=Hs(e),uc.point=dc,lc(ic,oc,ac)}function dc(t,e){t*=Ds;var n=zs(e*=Ds),r=n*zs(t),i=n*Hs(t),o=Hs(e),a=js(Ws((a=oc*o-ac*i)*a+(a=ac*r-ic*o)*a+(a=ic*i-oc*r)*a),ic*r+oc*i+ac*o);qu+=a,Ju+=a*(ic+(ic=r)),Ku+=a*(oc+(oc=i)),Qu+=a*(ac+(ac=o)),lc(ic,oc,ac)}function pc(){uc.point=cc}function mc(){uc.point=vc}function gc(){yc(nc,rc),uc.point=cc}function vc(t,e){nc=t,rc=e,t*=Ds,e*=Ds,uc.point=yc;var n=zs(e);ic=n*zs(t),oc=n*Hs(t),ac=Hs(e),lc(ic,oc,ac)}function yc(t,e){t*=Ds;var n=zs(e*=Ds),r=n*zs(t),i=n*Hs(t),o=Hs(e),a=oc*o-ac*i,s=ac*r-ic*o,u=ic*i-oc*r,c=Ws(a*a+s*s+u*u),l=Xs(c),h=c&&-l/c;$u+=h*a,tc+=h*s,ec+=h*u,qu+=l,Ju+=l*(ic+(ic=r)),Ku+=l*(oc+(oc=i)),Qu+=l*(ac+(ac=o)),lc(ic,oc,ac)}var bc=function(t){Wu=qu=Yu=Xu=Zu=Ju=Ku=Qu=$u=tc=ec=0,su(t,uc);var e=$u,n=tc,r=ec,i=e*e+n*n+r*r;return i<1e-12&&(e=Ju,n=Ku,r=Qu,qu<Os&&(e=Yu,n=Xu,r=Zu),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[js(n,e)*Rs,Xs(r/Ws(i))*Rs]},wc=function(t){return function(){return t}},_c=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function xc(t,e){return[t>Ps?t-Ls:t<-Ps?t+Ls:t,e]}function Sc(t,e,n){return(t%=Ls)?e||n?_c(Cc(t),Ec(e,n)):Cc(t):e||n?Ec(e,n):xc}function Mc(t){return function(e,n){return[(e+=t)>Ps?e-Ls:e<-Ps?e+Ls:e,n]}}function Cc(t){var e=Mc(t);return e.invert=Mc(-t),e}function Ec(t,e){var n=zs(t),r=Hs(t),i=zs(e),o=Hs(e);function a(t,e){var a=zs(e),s=zs(t)*a,u=Hs(t)*a,c=Hs(e),l=c*n+s*r;return[js(u*i-l*o,s*n-c*r),Xs(l*i+u*o)]}return a.invert=function(t,e){var a=zs(e),s=zs(t)*a,u=Hs(t)*a,c=Hs(e),l=c*i-u*o;return[js(u*i+c*o,s*n+l*r),Xs(l*n-s*r)]},a}xc.invert=xc;var Tc=function(t){function e(e){return(e=t(e[0]*Ds,e[1]*Ds))[0]*=Rs,e[1]*=Rs,e}return t=Sc(t[0]*Ds,t[1]*Ds,t.length>2?t[2]*Ds:0),e.invert=function(e){return(e=t.invert(e[0]*Ds,e[1]*Ds))[0]*=Rs,e[1]*=Rs,e},e};function Oc(t,e,n,r,i,o){if(n){var a=zs(e),s=Hs(e),u=r*n;null==i?(i=e+r*Ls,o=e-u/2):(i=Pc(a,i),o=Pc(a,o),(r>0?i<o:i>o)&&(i+=r*Ls));for(var c,l=i;r>0?l>o:l<o;l-=u)c=gu([a,-s*zs(l),-s*Hs(l)]),t.point(c[0],c[1])}}function Pc(t,e){(e=vu(e))[0]-=t,xu(e);var n=Ys(-e[1]);return((-e[2]<0?-n:n)+Ls-Os)%Ls}var Ac=function(){var t,e,n=wc([0,0]),r=wc(90),i=wc(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Rs,n[1]*=Rs}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*Ds,u=i.apply(this,arguments)*Ds;return t=[],e=Sc(-a[0]*Ds,-a[1]*Ds,0).invert,Oc(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:wc([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:wc(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:wc(+t),a):i},a},kc=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Js,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Lc=function(t,e){return Ns(t[0]-e[0])<Os&&Ns(t[1]-e[1])<Os};function Rc(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Dc=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Lc(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new Rc(r,t,null,!0)),u.push(n.o=new Rc(r,null,n,!1)),s.push(n=new Rc(a,t,null,!1)),u.push(n.o=new Rc(a,null,n,!0))}}),s.length){for(u.sort(e),Nc(s),Nc(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(o=(c=f.p.z).length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function Nc(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var Ic=Ms(),jc=function(t,e){var n=e[0],r=e[1],i=[Hs(n),-zs(n),0],o=0,a=0;Ic.reset();for(var s=0,u=t.length;s<u;++s)if(l=(c=t[s]).length)for(var c,l,h=c[l-1],f=h[0],d=h[1]/2+ks,p=Hs(d),m=zs(d),g=0;g<l;++g,f=y,p=w,m=_,h=v){var v=c[g],y=v[0],b=v[1]/2+ks,w=Hs(b),_=zs(b),x=y-f,S=x>=0?1:-1,M=S*x,C=M>Ps,E=p*w;if(Ic.add(js(E*S*Hs(M),m*_+E*zs(M))),o+=C?x+S*Ls:x,C^f>=n^y>=n){var T=bu(vu(h),vu(v));xu(T);var O=bu(i,T);xu(O);var P=(C^x>=0?-1:1)*Xs(O[2]);(r>P||r===P&&(T[0]||T[1]))&&(a+=C^x>=0?1:-1)}}return(o<-Os||o<Os&&Ic<-Os)^1&a},zc=function(t,e,n,r){return function(i){var a,s,u,c=e(i),l=kc(),h=e(l),f=!1,d={point:p,lineStart:g,lineEnd:v,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=w,s=[],a=[]},polygonEnd:function(){d.point=p,d.lineStart=g,d.lineEnd=v,s=Object(o.n)(s);var t=jc(a,r);s.length?(f||(i.polygonStart(),f=!0),Dc(s,Vc,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function m(t,e){c.point(t,e)}function g(){d.point=m,c.lineStart()}function v(){d.point=p,c.lineEnd()}function y(t,e){u.push([t,e]),h.point(t,e)}function b(){h.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),h.lineEnd();var t,e,n,r,o=h.clean(),c=l.result(),d=c.length;if(u.pop(),a.push(u),u=null,d)if(1&o){if((e=(n=c[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&o&&c.push(c.pop().concat(c.shift())),s.push(c.filter(Fc))}return d}};function Fc(t){return t.length>1}function Vc(t,e){return((t=t.x)[0]<0?t[1]-As-Os:As-t[1])-((e=e.x)[0]<0?e[1]-As-Os:As-e[1])}var Bc=zc(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ps:-Ps,u=Ns(o-n);Ns(u-Ps)<Os?(t.point(n,r=(r+a)/2>0?As:-As),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ps&&(Ns(n-i)<Os&&(n-=i*Os),Ns(o-s)<Os&&(o-=s*Os),r=function(t,e,n,r){var i,o,a=Hs(t-n);return Ns(a)>Os?Is((Hs(e)*(o=zs(r))*Hs(n)-Hs(r)*(i=zs(e))*Hs(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-Ps,i=n*As),r.point(0,i),r.point(Ps,i),r.point(Ps,0),r.point(Ps,-i),r.point(0,-i),r.point(-Ps,-i),r.point(-Ps,0),r.point(-Ps,i);else if(Ns(t[0]-e[0])>Os){var o=t[0]<e[0]?Ps:-Ps;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Ps,-As]),Uc=function(t){var e=zs(t),n=6*Ds,r=e>0,i=Ns(e)>Os;function o(t,n){return zs(t)*zs(n)>e}function a(t,n,r){var i=[1,0,0],o=bu(vu(t),vu(n)),a=yu(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var c=e*a/u,l=-e*s/u,h=bu(i,o),f=_u(i,c);wu(f,_u(o,l));var d=h,p=yu(f,d),m=yu(d,d),g=p*p-m*(yu(f,f)-1);if(!(g<0)){var v=Ws(g),y=_u(d,(-p-v)/m);if(wu(y,f),y=gu(y),!r)return y;var b,w=t[0],_=n[0],x=t[1],S=n[1];_<w&&(b=w,w=_,_=b);var M=_-w,C=Ns(M-Ps)<Os;if(!C&&S<x&&(b=x,x=S,S=b),C||M<Os?C?x+S>0^y[1]<(Ns(y[0]-w)<Os?x:S):x<=y[1]&&y[1]<=S:M>Ps^(w<=y[0]&&y[0]<=_)){var E=_u(d,(-p+v)/m);return wu(E,f),[y,gu(E)]}}}function s(e,n){var i=r?t:Ps-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return zc(o,function(t){var e,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var d,p=[h,f],m=o(h,f),g=r?m?0:s(h,f):m?s(h+(h<0?Ps:-Ps),f):0;if(!e&&(c=u=m)&&t.lineStart(),m!==u&&(!(d=a(e,p))||Lc(e,d)||Lc(p,d))&&(p[0]+=Os,p[1]+=Os,m=o(p[0],p[1])),m!==u)l=0,m?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(i&&e&&r^m){var v;g&n||!(v=a(p,e,!0))||(l=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||e&&Lc(e,p)||t.point(p[0],p[1]),e=p,u=m,n=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}},function(e,r,i,o){Oc(o,t,n,i,e,r)},r?[0,-t]:[-Ps,t-Ps])},Hc=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*h,t[1]=u+c*f),l<1&&(e[0]=s+l*h,e[1]=u+l*f),!0}}}}},Gc=1e9,Wc=-Gc;function qc(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function a(i,o,a,u){var l=0,h=0;if(null==i||(l=s(i,a))!==(h=s(o,a))||c(i,o)<0^a>0)do{u.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+a+4)%4)!==h);else u.point(o[0],o[1])}function s(r,i){return Ns(r[0]-t)<Os?i>0?0:3:Ns(r[0]-n)<Os?i>0?2:1:Ns(r[1]-e)<Os?i>0?1:0:i>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var c,l,h,f,d,p,m,g,v,y,b,w=s,_=kc(),x={point:S,lineStart:function(){x.point=M,l&&l.push(h=[]),y=!0,v=!1,m=g=NaN},lineEnd:function(){c&&(M(f,d),p&&v&&_.rejoin(),c.push(_.result())),x.point=S,v&&w.lineEnd()},polygonStart:function(){w=_,c=[],l=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],u=1,c=s.length,h=s[0],f=h[0],d=h[1];u<c;++u)o=f,a=d,f=(h=s[u])[0],d=h[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(f-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=b&&e,i=(c=Object(o.n)(c)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),i&&Dc(c,u,e,a,s),s.polygonEnd()),w=s,c=l=h=null}};function S(t,e){i(t,e)&&w.point(t,e)}function M(o,a){var s=i(o,a);if(l&&h.push([o,a]),y)f=o,d=a,p=s,y=!1,s&&(w.lineStart(),w.point(o,a));else if(s&&v)w.point(o,a);else{var u=[m=Math.max(Wc,Math.min(Gc,m)),g=Math.max(Wc,Math.min(Gc,g))],c=[o=Math.max(Wc,Math.min(Gc,o)),a=Math.max(Wc,Math.min(Gc,a))];Hc(u,c,t,e,n,r)?(v||(w.lineStart(),w.point(u[0],u[1])),w.point(c[0],c[1]),s||w.lineEnd(),b=!1):s&&(w.lineStart(),w.point(o,a),b=!1)}m=o,g=a,v=s}return x}}var Yc,Xc,Zc,Jc=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=qc(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},Kc=Ms(),Qc={sphere:Js,point:Js,lineStart:function(){Qc.point=tl,Qc.lineEnd=$c},lineEnd:Js,polygonStart:Js,polygonEnd:Js};function $c(){Qc.point=Qc.lineEnd=Js}function tl(t,e){Yc=t*=Ds,Xc=Hs(e*=Ds),Zc=zs(e),Qc.point=el}function el(t,e){t*=Ds;var n=Hs(e*=Ds),r=zs(e),i=Ns(t-Yc),o=zs(i),a=r*Hs(i),s=Zc*n-Xc*r*o,u=Xc*n+Zc*r*o;Kc.add(js(Ws(a*a+s*s),u)),Yc=t,Xc=n,Zc=r}var nl=function(t){return Kc.reset(),su(t,Qc),+Kc},rl=[null,null],il={type:"LineString",coordinates:rl},ol=function(t,e){return rl[0]=t,rl[1]=e,nl(il)},al={Feature:function(t,e){return ul(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(ul(n[r].geometry,e))return!0;return!1}},sl={Sphere:function(){return!0},Point:function(t,e){return cl(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(cl(n[r],e))return!0;return!1},LineString:function(t,e){return ll(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ll(n[r],e))return!0;return!1},Polygon:function(t,e){return hl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(hl(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(ul(n[r],e))return!0;return!1}};function ul(t,e){return!(!t||!sl.hasOwnProperty(t.type))&&sl[t.type](t,e)}function cl(t,e){return 0===ol(t,e)}function ll(t,e){var n=ol(t[0],t[1]);return ol(t[0],e)+ol(e,t[1])<=n+Os}function hl(t,e){return!!jc(t.map(fl),dl(e))}function fl(t){return(t=t.map(dl)).pop(),t}function dl(t){return[t[0]*Ds,t[1]*Ds]}var pl=function(t,e){return(t&&al.hasOwnProperty(t.type)?al[t.type]:ul)(t,e)};function ml(t,e,n){var r=Object(o.s)(t,e-Os,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function gl(t,e,n){var r=Object(o.s)(t,e-Os,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function vl(){var t,e,n,r,i,a,s,u,c,l,h,f,d=10,p=d,m=90,g=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return Object(o.s)(Fs(r/m)*m,n,m).map(h).concat(Object(o.s)(Fs(u/g)*g,s,g).map(f)).concat(Object(o.s)(Fs(e/d)*d,t,d).filter(function(t){return Ns(t%m)>Os}).map(c)).concat(Object(o.s)(Fs(a/p)*p,i,p).filter(function(t){return Ns(t%g)>Os}).map(l))}return y.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(s).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(u=+t[0][1],s=+t[1][1],(r=+t[0][0])>(n=+t[1][0])&&(t=r,r=n,n=t),u>s&&(t=u,u=s,s=t),y.precision(v)):[[r,u],[n,s]]},y.extentMinor=function(n){return arguments.length?(a=+n[0][1],i=+n[1][1],(e=+n[0][0])>(t=+n[1][0])&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),y.precision(v)):[[e,a],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(m=+t[0],g=+t[1],y):[m,g]},y.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],y):[d,p]},y.precision=function(o){return arguments.length?(v=+o,c=ml(a,i,90),l=gl(e,t,v),h=ml(u,s,90),f=gl(r,n,v),y):v},y.extentMajor([[-180,-90+Os],[180,90-Os]]).extentMinor([[-180,-80-Os],[180,80+Os]])}function yl(){return vl()()}var bl,wl,_l,xl,Sl=function(t,e){var n=t[0]*Ds,r=t[1]*Ds,i=e[0]*Ds,o=e[1]*Ds,a=zs(r),s=Hs(r),u=zs(o),c=Hs(o),l=a*zs(n),h=a*Hs(n),f=u*zs(i),d=u*Hs(i),p=2*Xs(Ws(Zs(o-r)+a*u*Zs(i-n))),m=Hs(p),g=p?function(t){var e=Hs(t*=p)/m,n=Hs(p-t)/m,r=n*l+e*f,i=n*h+e*d,o=n*s+e*c;return[js(i,r)*Rs,js(o,Ws(r*r+i*i))*Rs]}:function(){return[n*Rs,r*Rs]};return g.distance=p,g},Ml=function(t){return t},Cl=Ms(),El=Ms(),Tl={point:Js,lineStart:Js,lineEnd:Js,polygonStart:function(){Tl.lineStart=Ol,Tl.lineEnd=kl},polygonEnd:function(){Tl.lineStart=Tl.lineEnd=Tl.point=Js,Cl.add(Ns(El)),El.reset()},result:function(){var t=Cl/2;return Cl.reset(),t}};function Ol(){Tl.point=Pl}function Pl(t,e){Tl.point=Al,bl=_l=t,wl=xl=e}function Al(t,e){El.add(xl*t-_l*e),_l=t,xl=e}function kl(){Al(bl,wl)}var Ll,Rl,Dl,Nl,Il=Tl,jl=1/0,zl=jl,Fl=-jl,Vl=Fl,Bl={point:function(t,e){t<jl&&(jl=t),t>Fl&&(Fl=t),e<zl&&(zl=e),e>Vl&&(Vl=e)},lineStart:Js,lineEnd:Js,polygonStart:Js,polygonEnd:Js,result:function(){var t=[[jl,zl],[Fl,Vl]];return Fl=Vl=-(zl=jl=1/0),t}},Ul=0,Hl=0,Gl=0,Wl=0,ql=0,Yl=0,Xl=0,Zl=0,Jl=0,Kl={point:Ql,lineStart:$l,lineEnd:nh,polygonStart:function(){Kl.lineStart=rh,Kl.lineEnd=ih},polygonEnd:function(){Kl.point=Ql,Kl.lineStart=$l,Kl.lineEnd=nh},result:function(){var t=Jl?[Xl/Jl,Zl/Jl]:Yl?[Wl/Yl,ql/Yl]:Gl?[Ul/Gl,Hl/Gl]:[NaN,NaN];return Ul=Hl=Gl=Wl=ql=Yl=Xl=Zl=Jl=0,t}};function Ql(t,e){Ul+=t,Hl+=e,++Gl}function $l(){Kl.point=th}function th(t,e){Kl.point=eh,Ql(Dl=t,Nl=e)}function eh(t,e){var n=t-Dl,r=e-Nl,i=Ws(n*n+r*r);Wl+=i*(Dl+t)/2,ql+=i*(Nl+e)/2,Yl+=i,Ql(Dl=t,Nl=e)}function nh(){Kl.point=Ql}function rh(){Kl.point=oh}function ih(){ah(Ll,Rl)}function oh(t,e){Kl.point=ah,Ql(Ll=Dl=t,Rl=Nl=e)}function ah(t,e){var n=t-Dl,r=e-Nl,i=Ws(n*n+r*r);Wl+=i*(Dl+t)/2,ql+=i*(Nl+e)/2,Yl+=i,Xl+=(i=Nl*t-Dl*e)*(Dl+t),Zl+=i*(Nl+e),Jl+=3*i,Ql(Dl=t,Nl=e)}var sh=Kl;function uh(t){this._context=t}uh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ls)}},result:Js};var ch,lh,hh,fh,dh,ph=Ms(),mh={point:Js,lineStart:function(){mh.point=gh},lineEnd:function(){ch&&vh(lh,hh),mh.point=Js},polygonStart:function(){ch=!0},polygonEnd:function(){ch=null},result:function(){var t=+ph;return ph.reset(),t}};function gh(t,e){mh.point=vh,lh=fh=t,hh=dh=e}function vh(t,e){ph.add(Ws((fh-=t)*fh+(dh-=e)*dh)),fh=t,dh=e}var yh=mh;function bh(){this._string=[]}function wh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}bh.prototype={_radius:4.5,_circle:wh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=wh(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var _h=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),su(t,n(r))),r.result()}return o.area=function(t){return su(t,n(Il)),Il.result()},o.measure=function(t){return su(t,n(yh)),yh.result()},o.bounds=function(t){return su(t,n(Bl)),Bl.result()},o.centroid=function(t){return su(t,n(sh)),sh.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Ml):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new bh):new uh(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},xh=function(t){return{stream:Sh(t)}};function Sh(t){return function(e){var n=new Mh;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Mh(){}function Ch(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),su(n,t.stream(Bl)),e(Bl.result()),null!=r&&t.clipExtent(r),t}function Eh(t,e,n){return Ch(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}function Th(t,e,n){return Eh(t,[[0,0],e],n)}function Oh(t,e,n){return Ch(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function Ph(t,e,n){return Ch(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}Mh.prototype={constructor:Mh,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ah=16,kh=zs(30*Ds),Lh=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,c,l,h,f,d,p,m,g){var v=c-r,y=l-i,b=v*v+y*y;if(b>4*e&&m--){var w=a+f,_=s+d,x=u+p,S=Ws(w*w+_*_+x*x),M=Xs(x/=S),C=Ns(Ns(x)-1)<Os||Ns(o-h)<Os?(o+h)/2:js(_,w),E=t(C,M),T=E[0],O=E[1],P=T-r,A=O-i,k=y*P-v*A;(k*k/b>e||Ns((v*P+y*A)/b-.5)>.3||a*f+s*d+u*p<kh)&&(n(r,i,o,a,s,u,T,O,C,w/=S,_/=S,x,m,g),g.point(T,O),n(T,O,C,w,_,x,c,l,h,f,d,p,m,g))}}return function(e){var r,i,o,a,s,u,c,l,h,f,d,p,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=w},polygonEnd:function(){e.polygonEnd(),m.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){l=NaN,m.point=y,e.lineStart()}function y(r,i){var o=vu([r,i]),a=t(r,i);n(l,h,c,f,d,p,l=a[0],h=a[1],c=r,f=o[0],d=o[1],p=o[2],Ah,e),e.point(l,h)}function b(){m.point=g,e.lineEnd()}function w(){v(),m.point=_,m.lineEnd=x}function _(t,e){y(r=t,e),i=l,o=h,a=f,s=d,u=p,m.point=y}function x(){n(l,h,c,f,d,p,i,o,r,a,s,u,Ah,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return Sh({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Rh=Sh({point:function(t,e){this.stream.point(t*Ds,e*Ds)}});function Dh(t){return Nh(function(){return t})()}function Nh(t){var e,n,r,i,o,a,s,u,c,l,h=150,f=480,d=250,p=0,m=0,g=0,v=0,y=0,b=null,w=Bc,_=null,x=Ml,S=.5,M=Lh(T,S);function C(t){return[(t=o(t[0]*Ds,t[1]*Ds))[0]*h+n,r-t[1]*h]}function E(t){return(t=o.invert((t[0]-n)/h,(r-t[1])/h))&&[t[0]*Rs,t[1]*Rs]}function T(t,i){return[(t=e(t,i))[0]*h+n,r-t[1]*h]}function O(){o=_c(i=Sc(g,v,y),e);var t=e(p,m);return n=f-t[0]*h,r=d+t[1]*h,P()}function P(){return c=l=null,C}return C.stream=function(t){return c&&l===t?c:c=Rh(function(t){return Sh({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(i)(w(M(x(l=t)))))},C.preclip=function(t){return arguments.length?(w=t,b=void 0,P()):w},C.postclip=function(t){return arguments.length?(x=t,_=a=s=u=null,P()):x},C.clipAngle=function(t){return arguments.length?(w=+t?Uc(b=t*Ds):(b=null,Bc),P()):b*Rs},C.clipExtent=function(t){return arguments.length?(x=null==t?(_=a=s=u=null,Ml):qc(_=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),P()):null==_?null:[[_,a],[s,u]]},C.scale=function(t){return arguments.length?(h=+t,O()):h},C.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],O()):[f,d]},C.center=function(t){return arguments.length?(p=t[0]%360*Ds,m=t[1]%360*Ds,O()):[p*Rs,m*Rs]},C.rotate=function(t){return arguments.length?(g=t[0]%360*Ds,v=t[1]%360*Ds,y=t.length>2?t[2]%360*Ds:0,O()):[g*Rs,v*Rs,y*Rs]},C.precision=function(t){return arguments.length?(M=Lh(T,S=t*t),P()):Ws(S)},C.fitExtent=function(t,e){return Eh(C,t,e)},C.fitSize=function(t,e){return Th(C,t,e)},C.fitWidth=function(t,e){return Oh(C,t,e)},C.fitHeight=function(t,e){return Ph(C,t,e)},function(){return e=t.apply(this,arguments),C.invert=e.invert&&E,O()}}function Ih(t){var e=0,n=Ps/3,r=Nh(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ds,n=t[1]*Ds):[e*Rs,n*Rs]},i}function jh(t,e){var n=Hs(t),r=(n+Hs(e))/2;if(Ns(r)<Os)return function(e){var n=zs(t);function r(t,e){return[t*n,Hs(e)/n]}return r.invert=function(t,e){return[t/n,Xs(e*n)]},r}();var i=1+n*(2*r-n),o=Ws(i)/r;function a(t,e){var n=Ws(i-2*r*Hs(e))/r;return[n*Hs(t*=r),o-n*zs(t)]}return a.invert=function(t,e){var n=o-e;return[js(t,Ns(n))/r*Gs(n),Xs((i-(t*t+n*n)*r*r)/(2*r))]},a}var zh=function(){return Ih(jh).scale(155.424).center([0,33.6442])},Fh=function(){return zh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Vh=function(){var t,e,n,r,i,o,a=Fh(),s=zh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=zh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),u.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),h()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=s.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+Os,l+.12*e+Os],[o-.214*e-Os,l+.234*e-Os]]).stream(c),i=u.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+Os,l+.166*e+Os],[o-.115*e-Os,l+.234*e-Os]]).stream(c),h()},l.fitExtent=function(t,e){return Eh(l,t,e)},l.fitSize=function(t,e){return Th(l,t,e)},l.fitWidth=function(t,e){return Oh(l,t,e)},l.fitHeight=function(t,e){return Ph(l,t,e)},l.scale(1070)};function Bh(t){return function(e,n){var r=zs(e),i=zs(n),o=t(r*i);return[o*i*Hs(e),o*Hs(n)]}}function Uh(t){return function(e,n){var r=Ws(e*e+n*n),i=t(r),o=Hs(i),a=zs(i);return[js(e*o,r*a),Xs(r&&n*o/r)]}}var Hh=Bh(function(t){return Ws(2/(1+t))});Hh.invert=Uh(function(t){return 2*Xs(t/2)});var Gh=function(){return Dh(Hh).scale(124.75).clipAngle(179.999)},Wh=Bh(function(t){return(t=Ys(t))&&t/Hs(t)});Wh.invert=Uh(function(t){return t});var qh=function(){return Dh(Wh).scale(79.4188).clipAngle(179.999)};function Yh(t,e){return[t,Bs(qs((As+e)/2))]}Yh.invert=function(t,e){return[t,2*Is(Vs(e))-As]};var Xh=function(){return Zh(Yh).scale(961/Ls)};function Zh(t){var e,n,r,i=Dh(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var o=Ps*a(),s=i(Tc(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Yh?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function Jh(t){return qs((As+t)/2)}function Kh(t,e){var n=zs(t),r=t===e?Hs(t):Bs(n/zs(e))/Bs(Jh(e)/Jh(t)),i=n*Us(Jh(t),r)/r;if(!r)return Yh;function o(t,e){i>0?e<-As+Os&&(e=-As+Os):e>As-Os&&(e=As-Os);var n=i/Us(Jh(e),r);return[n*Hs(r*t),i-n*zs(r*t)]}return o.invert=function(t,e){var n=i-e,o=Gs(r)*Ws(t*t+n*n);return[js(t,Ns(n))/r*Gs(n),2*Is(Us(i/o,1/r))-As]},o}var Qh=function(){return Ih(Kh).scale(109.5).parallels([30,30])};function $h(t,e){return[t,e]}$h.invert=$h;var tf=function(){return Dh($h).scale(152.63)};function ef(t,e){var n=zs(t),r=t===e?Hs(t):(n-zs(e))/(e-t),i=n/r+t;if(Ns(r)<Os)return $h;function o(t,e){var n=i-e,o=r*t;return[n*Hs(o),i-n*zs(o)]}return o.invert=function(t,e){var n=i-e;return[js(t,Ns(n))/r*Gs(n),i-Gs(r)*Ws(t*t+n*n)]},o}var nf=function(){return Ih(ef).scale(131.154).center([0,13.9389])};function rf(t,e){var n=zs(e),r=zs(t)*n;return[n*Hs(t)/r,Hs(e)/r]}rf.invert=Uh(Is);var of=function(){return Dh(rf).scale(144.049).clipAngle(60)};function af(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Ml:Sh({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var sf=function(){var t,e,n,r,i,o,a=1,s=0,u=0,c=1,l=1,h=Ml,f=null,d=Ml;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=h(d(i=t))},postclip:function(r){return arguments.length?(d=r,f=t=e=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(f=t=e=n=null,Ml):qc(f=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),p()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=af((a=+t)*c,a*l,s,u),p()):a},translate:function(t){return arguments.length?(h=af(a*c,a*l,s=+t[0],u=+t[1]),p()):[s,u]},reflectX:function(t){return arguments.length?(h=af(a*(c=t?-1:1),a*l,s,u),p()):c<0},reflectY:function(t){return arguments.length?(h=af(a*c,a*(l=t?-1:1),s,u),p()):l<0},fitExtent:function(t,e){return Eh(o,t,e)},fitSize:function(t,e){return Th(o,t,e)},fitWidth:function(t,e){return Oh(o,t,e)},fitHeight:function(t,e){return Ph(o,t,e)}}};function uf(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}uf.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ns(n)>Os&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var cf=function(){return Dh(uf).scale(175.295)};function lf(t,e){return[zs(e)*Hs(t),Hs(e)]}lf.invert=Uh(Xs);var hf=function(){return Dh(lf).scale(249.5).clipAngle(90+Os)};function ff(t,e){var n=zs(e),r=1+zs(t)*n;return[n*Hs(t)/r,Hs(e)/r]}ff.invert=Uh(function(t){return 2*Is(t)});var df=function(){return Dh(ff).scale(250).clipAngle(142)};function pf(t,e){return[Bs(qs((As+e)/2)),-t]}pf.invert=function(t,e){return[-e,2*Is(Vs(t))-As]};var mf=function(){var t=Zh(pf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},gf=n("KHOH");n.d(e,"create",function(){return r.create}),n.d(e,"creator",function(){return r.creator}),n.d(e,"local",function(){return r.local}),n.d(e,"matcher",function(){return r.matcher}),n.d(e,"mouse",function(){return r.mouse}),n.d(e,"namespace",function(){return r.namespace}),n.d(e,"namespaces",function(){return r.namespaces}),n.d(e,"clientPoint",function(){return r.clientPoint}),n.d(e,"select",function(){return r.select}),n.d(e,"selectAll",function(){return r.selectAll}),n.d(e,"selection",function(){return r.selection}),n.d(e,"selector",function(){return r.selector}),n.d(e,"selectorAll",function(){return r.selectorAll}),n.d(e,"style",function(){return r.style}),n.d(e,"touch",function(){return r.touch}),n.d(e,"touches",function(){return r.touches}),n.d(e,"window",function(){return r.window}),n.d(e,"event",function(){return r.event}),n.d(e,"customEvent",function(){return r.customEvent}),n.d(e,"drag",function(){return i.drag}),n.d(e,"dragDisable",function(){return i.dragDisable}),n.d(e,"dragEnable",function(){return i.dragEnable}),n.d(e,"scaleBand",function(){return E}),n.d(e,"scalePoint",function(){return T}),n.d(e,"scaleIdentity",function(){return it}),n.d(e,"scaleLinear",function(){return rt}),n.d(e,"scaleLog",function(){return ft}),n.d(e,"scaleOrdinal",function(){return C}),n.d(e,"scaleImplicit",function(){return M}),n.d(e,"scalePow",function(){return pt}),n.d(e,"scaleSqrt",function(){return mt}),n.d(e,"scaleQuantile",function(){return gt}),n.d(e,"scaleQuantize",function(){return vt}),n.d(e,"scaleThreshold",function(){return yt}),n.d(e,"scaleTime",function(){return _n}),n.d(e,"scaleUtc",function(){return xn}),n.d(e,"schemeCategory10",function(){return Mn}),n.d(e,"schemeCategory20b",function(){return Cn}),n.d(e,"schemeCategory20c",function(){return En}),n.d(e,"schemeCategory20",function(){return Tn}),n.d(e,"interpolateCubehelixDefault",function(){return Pn}),n.d(e,"interpolateRainbow",function(){return Rn}),n.d(e,"interpolateWarm",function(){return An}),n.d(e,"interpolateCool",function(){return kn}),n.d(e,"interpolateViridis",function(){return Nn}),n.d(e,"interpolateMagma",function(){return In}),n.d(e,"interpolateInferno",function(){return jn}),n.d(e,"interpolatePlasma",function(){return zn}),n.d(e,"scaleSequential",function(){return Fn}),n.d(e,"bisect",function(){return o.b}),n.d(e,"bisectRight",function(){return o.d}),n.d(e,"bisectLeft",function(){return o.c}),n.d(e,"ascending",function(){return o.a}),n.d(e,"bisector",function(){return o.e}),n.d(e,"cross",function(){return o.f}),n.d(e,"descending",function(){return o.g}),n.d(e,"deviation",function(){return o.h}),n.d(e,"extent",function(){return o.i}),n.d(e,"histogram",function(){return o.j}),n.d(e,"thresholdFreedmanDiaconis",function(){return o.w}),n.d(e,"thresholdScott",function(){return o.x}),n.d(e,"thresholdSturges",function(){return o.y}),n.d(e,"max",function(){return o.k}),n.d(e,"mean",function(){return o.l}),n.d(e,"median",function(){return o.m}),n.d(e,"merge",function(){return o.n}),n.d(e,"min",function(){return o.o}),n.d(e,"pairs",function(){return o.p}),n.d(e,"permute",function(){return o.q}),n.d(e,"quantile",function(){return o.r}),n.d(e,"range",function(){return o.s}),n.d(e,"scan",function(){return o.t}),n.d(e,"shuffle",function(){return o.u}),n.d(e,"sum",function(){return o.v}),n.d(e,"ticks",function(){return o.B}),n.d(e,"tickIncrement",function(){return o.z}),n.d(e,"tickStep",function(){return o.A}),n.d(e,"transpose",function(){return o.C}),n.d(e,"variance",function(){return o.D}),n.d(e,"zip",function(){return o.E}),n.d(e,"dsvFormat",function(){return qn}),n.d(e,"csvParse",function(){return Xn}),n.d(e,"csvParseRows",function(){return Zn}),n.d(e,"csvFormat",function(){return Jn}),n.d(e,"csvFormatRows",function(){return Kn}),n.d(e,"tsvParse",function(){return $n}),n.d(e,"tsvParseRows",function(){return tr}),n.d(e,"tsvFormat",function(){return er}),n.d(e,"tsvFormatRows",function(){return nr}),n.d(e,"dispatch",function(){return rr.dispatch}),n.d(e,"zoom",function(){return vr}),n.d(e,"zoomTransform",function(){return ur}),n.d(e,"zoomIdentity",function(){return sr}),n.d(e,"formatDefaultLocale",function(){return K}),n.d(e,"format",function(){return q}),n.d(e,"formatPrefix",function(){return Y}),n.d(e,"formatLocale",function(){return J}),n.d(e,"formatSpecifier",function(){return H}),n.d(e,"precisionFixed",function(){return Q}),n.d(e,"precisionPrefix",function(){return $}),n.d(e,"precisionRound",function(){return tt}),n.d(e,"axisTop",function(){return Pr}),n.d(e,"axisRight",function(){return Ar}),n.d(e,"axisBottom",function(){return kr}),n.d(e,"axisLeft",function(){return Lr}),n.d(e,"arc",function(){return ii}),n.d(e,"area",function(){return li}),n.d(e,"line",function(){return ci}),n.d(e,"pie",function(){return di}),n.d(e,"areaRadial",function(){return bi}),n.d(e,"radialArea",function(){return bi}),n.d(e,"lineRadial",function(){return yi}),n.d(e,"radialLine",function(){return yi}),n.d(e,"pointRadial",function(){return wi}),n.d(e,"linkHorizontal",function(){return Oi}),n.d(e,"linkVertical",function(){return Pi}),n.d(e,"linkRadial",function(){return Ai}),n.d(e,"symbol",function(){return Xi}),n.d(e,"symbols",function(){return Yi}),n.d(e,"symbolCircle",function(){return ki}),n.d(e,"symbolCross",function(){return Li}),n.d(e,"symbolDiamond",function(){return Ni}),n.d(e,"symbolSquare",function(){return Vi}),n.d(e,"symbolStar",function(){return Fi}),n.d(e,"symbolTriangle",function(){return Ui}),n.d(e,"symbolWye",function(){return qi}),n.d(e,"curveBasisClosed",function(){return to}),n.d(e,"curveBasisOpen",function(){return no}),n.d(e,"curveBasis",function(){return Qi}),n.d(e,"curveBundle",function(){return io}),n.d(e,"curveCardinalClosed",function(){return co}),n.d(e,"curveCardinalOpen",function(){return ho}),n.d(e,"curveCardinal",function(){return so}),n.d(e,"curveCatmullRomClosed",function(){return vo}),n.d(e,"curveCatmullRomOpen",function(){return bo}),n.d(e,"curveCatmullRom",function(){return mo}),n.d(e,"curveLinearClosed",function(){return _o}),n.d(e,"curveLinear",function(){return ai}),n.d(e,"curveMonotoneX",function(){return Po}),n.d(e,"curveMonotoneY",function(){return Ao}),n.d(e,"curveNatural",function(){return Ro}),n.d(e,"curveStep",function(){return No}),n.d(e,"curveStepAfter",function(){return jo}),n.d(e,"curveStepBefore",function(){return Io}),n.d(e,"stack",function(){return Bo}),n.d(e,"stackOffsetExpand",function(){return Uo}),n.d(e,"stackOffsetDiverging",function(){return Ho}),n.d(e,"stackOffsetNone",function(){return zo}),n.d(e,"stackOffsetSilhouette",function(){return Go}),n.d(e,"stackOffsetWiggle",function(){return Wo}),n.d(e,"stackOrderAscending",function(){return qo}),n.d(e,"stackOrderDescending",function(){return Xo}),n.d(e,"stackOrderInsideOut",function(){return Zo}),n.d(e,"stackOrderNone",function(){return Fo}),n.d(e,"stackOrderReverse",function(){return Jo}),n.d(e,"brush",function(){return _a}),n.d(e,"brushX",function(){return ba}),n.d(e,"brushY",function(){return wa}),n.d(e,"brushSelection",function(){return ya}),n.d(e,"easeLinear",function(){return Sa.y}),n.d(e,"easeQuad",function(){return Sa.D}),n.d(e,"easeQuadIn",function(){return Sa.E}),n.d(e,"easeQuadOut",function(){return Sa.G}),n.d(e,"easeQuadInOut",function(){return Sa.F}),n.d(e,"easeCubic",function(){return Sa.m}),n.d(e,"easeCubicIn",function(){return Sa.n}),n.d(e,"easeCubicOut",function(){return Sa.p}),n.d(e,"easeCubicInOut",function(){return Sa.o}),n.d(e,"easePoly",function(){return Sa.z}),n.d(e,"easePolyIn",function(){return Sa.A}),n.d(e,"easePolyOut",function(){return Sa.C}),n.d(e,"easePolyInOut",function(){return Sa.B}),n.d(e,"easeSin",function(){return Sa.H}),n.d(e,"easeSinIn",function(){return Sa.I}),n.d(e,"easeSinOut",function(){return Sa.K}),n.d(e,"easeSinInOut",function(){return Sa.J}),n.d(e,"easeExp",function(){return Sa.u}),n.d(e,"easeExpIn",function(){return Sa.v}),n.d(e,"easeExpOut",function(){return Sa.x}),n.d(e,"easeExpInOut",function(){return Sa.w}),n.d(e,"easeCircle",function(){return Sa.i}),n.d(e,"easeCircleIn",function(){return Sa.j}),n.d(e,"easeCircleOut",function(){return Sa.l}),n.d(e,"easeCircleInOut",function(){return Sa.k}),n.d(e,"easeBounce",function(){return Sa.e}),n.d(e,"easeBounceIn",function(){return Sa.f}),n.d(e,"easeBounceOut",function(){return Sa.h}),n.d(e,"easeBounceInOut",function(){return Sa.g}),n.d(e,"easeBack",function(){return Sa.a}),n.d(e,"easeBackIn",function(){return Sa.b}),n.d(e,"easeBackOut",function(){return Sa.d}),n.d(e,"easeBackInOut",function(){return Sa.c}),n.d(e,"easeElastic",function(){return Sa.q}),n.d(e,"easeElasticIn",function(){return Sa.r}),n.d(e,"easeElasticOut",function(){return Sa.t}),n.d(e,"easeElasticInOut",function(){return Sa.s}),n.d(e,"voronoi",function(){return as}),n.d(e,"request",function(){return ss}),n.d(e,"html",function(){return cs}),n.d(e,"json",function(){return ls}),n.d(e,"text",function(){return hs}),n.d(e,"xml",function(){return fs}),n.d(e,"csv",function(){return ps}),n.d(e,"tsv",function(){return ms}),n.d(e,"nest",function(){return c}),n.d(e,"set",function(){return v}),n.d(e,"map",function(){return u}),n.d(e,"keys",function(){return y}),n.d(e,"values",function(){return b}),n.d(e,"entries",function(){return w}),n.d(e,"interpolate",function(){return O.interpolate}),n.d(e,"interpolateArray",function(){return O.interpolateArray}),n.d(e,"interpolateBasis",function(){return O.interpolateBasis}),n.d(e,"interpolateBasisClosed",function(){return O.interpolateBasisClosed}),n.d(e,"interpolateDate",function(){return O.interpolateDate}),n.d(e,"interpolateNumber",function(){return O.interpolateNumber}),n.d(e,"interpolateObject",function(){return O.interpolateObject}),n.d(e,"interpolateRound",function(){return O.interpolateRound}),n.d(e,"interpolateString",function(){return O.interpolateString}),n.d(e,"interpolateTransformCss",function(){return O.interpolateTransformCss}),n.d(e,"interpolateTransformSvg",function(){return O.interpolateTransformSvg}),n.d(e,"interpolateZoom",function(){return O.interpolateZoom}),n.d(e,"interpolateRgb",function(){return O.interpolateRgb}),n.d(e,"interpolateRgbBasis",function(){return O.interpolateRgbBasis}),n.d(e,"interpolateRgbBasisClosed",function(){return O.interpolateRgbBasisClosed}),n.d(e,"interpolateHsl",function(){return O.interpolateHsl}),n.d(e,"interpolateHslLong",function(){return O.interpolateHslLong}),n.d(e,"interpolateLab",function(){return O.interpolateLab}),n.d(e,"interpolateHcl",function(){return O.interpolateHcl}),n.d(e,"interpolateHclLong",function(){return O.interpolateHclLong}),n.d(e,"interpolateCubehelix",function(){return O.interpolateCubehelix}),n.d(e,"interpolateCubehelixLong",function(){return O.interpolateCubehelixLong}),n.d(e,"quantize",function(){return O.quantize}),n.d(e,"transition",function(){return ir.transition}),n.d(e,"active",function(){return ir.active}),n.d(e,"interrupt",function(){return ir.interrupt}),n.d(e,"quadtree",function(){return ws}),n.d(e,"geoArea",function(){return mu}),n.d(e,"geoBounds",function(){return sc}),n.d(e,"geoCentroid",function(){return bc}),n.d(e,"geoCircle",function(){return Ac}),n.d(e,"geoClipAntimeridian",function(){return Bc}),n.d(e,"geoClipCircle",function(){return Uc}),n.d(e,"geoClipExtent",function(){return Jc}),n.d(e,"geoClipRectangle",function(){return qc}),n.d(e,"geoContains",function(){return pl}),n.d(e,"geoDistance",function(){return ol}),n.d(e,"geoGraticule",function(){return vl}),n.d(e,"geoGraticule10",function(){return yl}),n.d(e,"geoInterpolate",function(){return Sl}),n.d(e,"geoLength",function(){return nl}),n.d(e,"geoPath",function(){return _h}),n.d(e,"geoAlbers",function(){return Fh}),n.d(e,"geoAlbersUsa",function(){return Vh}),n.d(e,"geoAzimuthalEqualArea",function(){return Gh}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return Hh}),n.d(e,"geoAzimuthalEquidistant",function(){return qh}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return Wh}),n.d(e,"geoConicConformal",function(){return Qh}),n.d(e,"geoConicConformalRaw",function(){return Kh}),n.d(e,"geoConicEqualArea",function(){return zh}),n.d(e,"geoConicEqualAreaRaw",function(){return jh}),n.d(e,"geoConicEquidistant",function(){return nf}),n.d(e,"geoConicEquidistantRaw",function(){return ef}),n.d(e,"geoEquirectangular",function(){return tf}),n.d(e,"geoEquirectangularRaw",function(){return $h}),n.d(e,"geoGnomonic",function(){return of}),n.d(e,"geoGnomonicRaw",function(){return rf}),n.d(e,"geoIdentity",function(){return sf}),n.d(e,"geoProjection",function(){return Dh}),n.d(e,"geoProjectionMutator",function(){return Nh}),n.d(e,"geoMercator",function(){return Xh}),n.d(e,"geoMercatorRaw",function(){return Yh}),n.d(e,"geoNaturalEarth1",function(){return cf}),n.d(e,"geoNaturalEarth1Raw",function(){return uf}),n.d(e,"geoOrthographic",function(){return hf}),n.d(e,"geoOrthographicRaw",function(){return lf}),n.d(e,"geoStereographic",function(){return df}),n.d(e,"geoStereographicRaw",function(){return ff}),n.d(e,"geoTransverseMercator",function(){return mf}),n.d(e,"geoTransverseMercatorRaw",function(){return pf}),n.d(e,"geoRotation",function(){return Tc}),n.d(e,"geoStream",function(){return su}),n.d(e,"geoTransform",function(){return xh}),n.d(e,"minStrict",function(){return gf.d}),n.d(e,"maxStrict",function(){return gf.b}),n.d(e,"meanStrict",function(){return gf.c}),n.d(e,"extentStrict",function(){return gf.a})},eihs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},fARj:function(t,e,n){var r=n("uEMh").Context,i=n("JSe9"),o=function(t,e){this.left=t,this.right=e,this.pipe="diff"};(o.prototype=new r).setResult=function(t){if(this.options.cloneDiffValues&&"object"==typeof t){var e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:i;"object"==typeof t[0]&&(t[0]=e(t[0])),"object"==typeof t[1]&&(t[1]=e(t[1]))}return r.prototype.setResult.apply(this,arguments)},e.DiffContext=o},fNPK:function(t,e,n){"use strict";n.d(e,"d",function(){return d}),n.d(e,"e",function(){return p}),n.d(e,"f",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y});var r=n("mrSG"),i=n("eh5z"),o=n("2fsI"),a=n("7c6v"),s=n("9CsZ"),u=n("LBxW"),c=n("OBMz"),l=n("YJNB"),h=n("MtUu"),f=n("kNgp"),d=function(){function t(t){this.inner=t}return t.prototype.render=function(t){return this.inner.render(t),this},t.prototype.domainEventProcessed=function(t){return this.inner.domainEventProcessed(t),this},t.prototype.primaryDomainName=function(t){return this.inner.primaryDomainName=t,this},t.prototype.layout=function(t){return this.inner.layout=t,this},t.prototype.sourceData=function(t){return this.inner.sourceData=t,this},t.prototype.chartSettings=function(t){return this.inner.setSettings(t),this},t.prototype.canvasData=function(t){return this.inner.setCanvasData(t),this},t.prototype.xLegendList=function(t){return this.inner.xLegendList=t,this},t.prototype.sharedState=function(t){return this.inner.sharedState=t,this},t.prototype.domainSnapBehaviour=function(t){return this.inner.domainSnapBehaviour=t,this},t.prototype.getDomainSnapBehaviour=function(){return this.inner.domainSnapBehaviour},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.inner.listeners.on.apply(this.inner.listeners,t),this},t.prototype.dispose=function(){return this.inner.dispose(),this},t}(),p=function(t){function e(e,n){var r=t.call(this,"multi-plot-data-renderer",[e+"-viewer-canvas"])||this;return r.getInterpolatedChannelValueAtDomainValue=n,r.listeners=i.dispatch("legendChanged"),r.domainSnapBehaviour=y.nearest,r}return r.d(e,t),e.prototype.setSettings=function(t){this.settings=t},e.prototype.setCanvasData=function(t){this.canvasData=t},e.prototype.render=function(e){this.layout&&this.sourceData&&this.primaryDomainName&&t.prototype.performRender.call(this,new h.b)},e.prototype.dispose=function(){},e.prototype.renderContext=function(t,e){if(this.settings&&this.canvasData&&this.layout&&this.layout.processed)for(var n=e.canvases.first.canvasContext,r=this.canvasData.settings.pixelRatio,i=0,o=this.layout.processed.plots;i<o.length;i++){var a=o[i];this.canvasUtilities.resetTransform(n,r);var s=a.column.processed.plotSize,u=a.row.processed.plotSize;n.translate(a.absoluteRenderArea.x,a.absoluteRenderArea.y),n.strokeStyle="#eee",n.strokeRect(.5,.5,s,u),n.save();try{n.beginPath(),n.rect(0,0,s,u),n.clip(),this.drawZeroLines(n,a),this.drawPlotFeatures(n,a);for(var c=0,l=a.sources;c<l.length;c++)for(var h=0,f=l[c].channels;h<f.length;h++)this.drawChannelData(n,a,f[h])}finally{n.restore()}}},e.prototype.drawZeroLines=function(t,e){if(this.sourceData){var n=this.sourceData.map(function(t){return t.isVisible}),r=e.column.processed.getVisibleMinimum(n),i=e.column.processed.getVisibleMaximum(n),o=e.row.processed.getVisibleMinimum(n),a=e.row.processed.getVisibleMaximum(n);if(r<0&&i>0||o<0&&a>0){t.save();try{t.lineWidth=1,t.strokeStyle="#bbb",t.setLineDash([15,5]),t.beginPath();var s=e.column.processed.scale,u=e.row.processed.scale;if(o<0&&a>0){var c=u(0)+.5;t.moveTo(s(r),c),t.lineTo(s(i),c)}if(r<0&&i>0){var l=s(0)-.5;t.moveTo(l,u(o)),t.lineTo(l,u(a))}t.stroke()}finally{t.restore()}}}},e.prototype.attachCanvasMouseMoveHandler=function(t){var e=this,n=!1;t.on("mousedown.data-renderer-base",function(){n=!0}).on("mouseup.data-renderer-base",function(){n=!1}).on("mousemove.data-renderer-base",function(){var t=o.event,r=new a.a(t.offsetX,t.offsetY);n||(e.handleMouseMoveEvent(r),e.listeners.call("legendChanged"))}).on("mouseleave.data-renderer-base",function(){n=!1,e.handleMouseLeaveEvent(),e.listeners.call("legendChanged")})},e.prototype.domainEventProcessed=function(t){this.resetInteractionData(),this.renderMultiPlotCursorDataPoints(t.plotCursorDataPoints)},e.prototype.renderMultiPlotCursorDataPoints=function(t){if(this.container&&this.sourceData){var e=this.definedSettings,n=this.sourceData,r=this.container.selectAll(".cursor-point").data(t,function(t){return t.id});r.exit().remove();var o=function(t,r){(r?t.transition().duration(r).ease(i.easeLinear):t).attr("clip-path",function(t,n){return"url(#"+c.a.getPlotClipPathId(e.uniqueId,t.plot.plotIndex)+")"}).attr("cx",function(t){return t.point.x+t.plot.absoluteRenderArea.x}).attr("cy",function(t){return t.point.y+t.plot.absoluteRenderArea.y}).attr("display",function(t){return n[t.point.sourceIndex].isVisible&&t.point.channel.isVisible?"inherit":"none"}).attr("fill",function(t){return e.getChannelColor(t.point.channel.channelIndex,t.point.sourceIndex)})};o(r.enter().append("circle").attr("class","cursor-point").attr("r","2.5").attr("stroke","black").lower(),0),o(r,0)}},e.prototype.drawCursorLine=function(t){if(this.container){var e=this.definedSettings,n=this.container.selectAll(".cursor-line").data(t?[t]:[]);n.exit().remove();var r=n.enter().append("line").attr("class","cursor-line").attr("stroke","black").attr("stroke-width",1);n.merge(r).attr("x1",function(t){return t.x+.5}).attr("y1",e.svgPadding.top+e.chartMargin.top).attr("x2",function(t){return t.x+.5}).attr("y2",e.svgPadding.top+e.chartMargin.top+e.chartSize.height-e.spaceBetweenPlots)}},e.prototype.drawClosestPointLines=function(t,e,n){if(this.container){var r=this.definedSettings;if(n.length){if(!t)throw new Error("Plot must be defined when points are provided.");if(!e)throw new Error("Position must be defined when points are provided.")}var i=e,o=t,a=this.container.selectAll(".closest-point-lines").data([null]),s=a.enter().append("g").attr("class","closest-point-lines").merge(a).selectAll(".closest-point-line").data(Object(f.a)(n),function(t){return"point-line-"+t.plotIndex+"-"+t.sourceIndex});s.exit().remove();var u=s.enter().append("line").attr("class","closest-point-line").attr("stroke","black").attr("stroke-width",1).attr("x2",function(t){return t.x+i.absoluteRenderArea.x}).attr("y2",function(t){return t.y+i.absoluteRenderArea.y});s.merge(u).attr("clip-path",function(){return"url(#"+c.a.getPlotClipPathId(r.uniqueId,i.plotIndex)+")"}).attr("x1",function(){return o.x}).attr("y1",function(){return o.y}),s.attr("x2",function(t){return t.x+i.absoluteRenderArea.x}).attr("y2",function(t){return t.y+i.absoluteRenderArea.y})}},e.prototype.renderCursorDataPoints=function(t,e){if(e.length&&!t)throw new Error("Plot must be defined when points are provided.");var n=t;this.renderMultiPlotCursorDataPoints(e.map(function(t,e){return new m("point-"+e,n,t)}))},e.prototype.handleMouseLeaveEvent=function(){},e.prototype.resetInteractionData=function(){this.renderCursorDataPoints(void 0,[]),this.drawCursorLine(void 0),this.drawClosestPointLines(void 0,void 0,[])},e.prototype.handleMouseMoveEvent=function(t){if(this.layout&&this.svg){var e=this.layout.processed.plots.find(function(e){return e.isInPlot(t)});if(e){this.svg.style("cursor","crosshair");var n=e.column.processed.channels.find(function(t){return t.isVisible&&t.hasData});if(!n||n.monotonicStatus!==u.a.Increasing&&n.monotonicStatus!==u.a.Decreasing){var r=this.handleMouseMoveEventNonMonotonic(t,e);this.drawCursorLine(void 0),this.drawClosestPointLines(t,e,r)}else this.handleMouseMoveEventMonotonic(t,e,n),this.drawClosestPointLines(void 0,void 0,[]),this.drawCursorLine(t)}else this.svg.style("cursor","inherit")}},e.prototype.handleMouseMoveEventMonotonic=function(t,e,n){var r=this;if(this.layout&&this.sharedState){var i=n.monotonicStatus,o=e.column.processed.channels.slice();o.every(function(t){return t.name!==r.primaryDomainName})&&o.push(this.layout.processed.primaryDomain);for(var u=this.layout.processed.secondaryDomain,c=new a.a(t.x-e.absoluteRenderArea.x,t.y-e.absoluteRenderArea.y),l=e.column.processed.scale.invert(c.x),h=0,f=o;h<f.length;h++){var d=f[h],p=this.sharedState.getDomainNews(d.name),m=this.getDomainNewsEventForChannel(d,l,n,i);if(u&&d.name===this.primaryDomainName){var g=this.getDomainNewsEventForChannel(u,l,n,i);m=new s.c(m.sourceValues,new s.d(u.name,g))}p.raise(m)}}},e.prototype.getDomainNewsEventForChannel=function(t,e,n,r){if(t.isVisible)return new s.c(t.sources.map(function(n){return l.a.convertValueToSi(e,t.units)}));for(var i=[],o=0;o<t.sources.length;++o){var a=t.sources[o].data,u=n.sources[o].data;if(a&&u){var c=this.getInterpolatedChannelValueAtDomainValue.execute(a,e,u,r);c=l.a.convertValueToSi(c,t.units),i.push(c)}else i.push(NaN)}return new s.c(i)},e.prototype.handleMouseMoveEventNonMonotonic=function(t,e){var n=e.getClosestPointsForSources(t);if(this.layout&&this.sharedState&&this.sourceData){var r=this.layout.processed.primaryDomain;this.sharedState.getDomainNews(r.name).raise(new s.c(this.sourceData.map(function(t,e){var i=n.find(function(t){return!!t&&t.sourceIndex===e});if(i){var o=r.sources[i.sourceIndex];if(o.data)return l.a.convertValueToSi(o.data[i.index],o.units)}return NaN})))}return n},e}(h.a),m=function(t,e,n){this.id=t,this.plot=e,this.point=n},g=function(t,e,n,r){this.x=t,this.y=e,this.channel=n,this.sourceIndex=r},v=function(t,e,n){this.nearestIndex=t,this.previousIndex=e,this.ratio=n},y=function(t){return t[t.nearest=0]="nearest",t[t.linearInterpolation=1]="linearInterpolation",t}({})},fyiX:function(t,e,n){"use strict";function r(t){return"()"===t||""===t}n.d(e,"a",function(){return r})},g2vt:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var r=function(){function t(t){this.elem=t}return t.prototype.ngAfterViewInit=function(){this.resize()},t.prototype.resize=function(){var t=this.elem.nativeElement;t.style.height="auto",t.style.height=t.scrollHeight+"px"},t}(),i=function(){}},gI3B:function(t,e,n){"use strict";var r=n("6blF"),i=n("T1DM"),o=n("isby");function a(t){return!Object(o.a)(t)&&t-parseFloat(t)+1>=0}var s=n("nkY7");function u(t,e,n){void 0===t&&(t=0);var o=-1;return a(e)?o=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e),Object(s.a)(n)||(n=i.a),new r.a(function(e){var r=a(t)?t:+t-n.now();return n.schedule(c,r,{index:0,period:o,subscriber:e})})}function c(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}n.d(e,"a",function(){return u})},gIcY:function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("6blF"),a=n("isby"),s=n("G5J1"),u=n("zotm"),c=n("MGBS"),l=n("67Y/"),h=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],s=Object(u.a)(r,a,null,o);s&&r.add(s)}return r}return r.d(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(c.a),f=n("0/uQ"),d=n("ZYjt");n.d(e,"x",function(){return Ct}),n.d(e,"y",function(){return Mt}),n.d(e,"z",function(){return R}),n.d(e,"A",function(){return pt}),n.d(e,"B",function(){return G}),n.d(e,"b",function(){return C}),n.d(e,"c",function(){return m}),n.d(e,"o",function(){return M}),n.d(e,"a",function(){return E}),n.d(e,"d",function(){return T}),n.d(e,"p",function(){return L}),n.d(e,"q",function(){return ot}),n.d(e,"r",function(){return at}),n.d(e,"t",function(){return D}),n.d(e,"g",function(){return mt}),n.d(e,"h",function(){return wt}),n.d(e,"j",function(){return gt}),n.d(e,"s",function(){return B}),n.d(e,"v",function(){return V}),n.d(e,"l",function(){return xt}),n.d(e,"m",function(){return _t}),n.d(e,"e",function(){return St}),n.d(e,"f",function(){return ht}),n.d(e,"i",function(){return ft}),n.d(e,"n",function(){return v}),n.d(e,"w",function(){return w}),n.d(e,"k",function(){return Et}),n.d(e,"u",function(){return Tt});var p=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(p);function g(t){return null==t||0===t.length}var v=new i.s("NgValidators"),y=new i.s("NgAsyncValidators"),b=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,w=function(){function t(){}return t.min=function(t){return function(e){if(g(e.value)||g(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(g(e.value)||g(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return g(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return g(t.value)?null:b.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(g(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(g(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(_);return 0==e.length?null:function(t){return S(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(_);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(a.a)(n[0])&&(n=n[0]),0===n.length?s.a:e?t(n).pipe(Object(l.a)(function(t){return e.apply(void 0,t)})):new o.a(function(t){return new h(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(x)).pipe(Object(l.a)(S))}},t}();function _(t){return null!=t}function x(t){var e=Object(i.zb)(t)?Object(f.a)(t):t;if(!Object(i.yb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function S(t){var e=t.reduce(function(t,e){return null!=e?Object(r.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var M=new i.s("NgValueAccessor"),C=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),E=new i.s("CompositionEventMode"),T=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(d.s)()?Object(d.s)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},Object(r.c)([Object(r.g)(2,Object(i.D)()),Object(r.g)(2,Object(i.q)(E))],t)}();function O(t){return t.validate?function(e){return t.validate(e)}:t}function P(t){return t.validate?function(e){return t.validate(e)}:t}var A=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function k(){throw new Error("unimplemented")}var L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return k()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return k()},enumerable:!0,configurable:!0}),e}(p),R=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),D=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(L),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),N=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),I='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',j='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',z=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+I)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+j+'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>')},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+I)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+j)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}();function F(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var V=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.Ab}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=F(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var i=Object(r.j)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a),t))return a}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),B=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(F(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},Object(r.c)([Object(r.g)(2,Object(i.D)()),Object(r.g)(2,Object(i.o)())],t)}();function U(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var H=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.Ab}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var i=Object(r.j)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a)._value,t))return a}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),G=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(U(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(U(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},Object(r.c)([Object(r.g)(2,Object(i.D)()),Object(r.g)(2,Object(i.o)())],t)}();function W(t,e){return Object(r.i)(e.path,[t])}function q(t,e){t||J(e,"Cannot find control with"),e.valueAccessor||J(e,"No value accessor for form control with"),t.validator=w.compose([t.validator,e.validator]),t.asyncValidator=w.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Y(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Y(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Y(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function X(t,e){null==t&&J(e,"Cannot find control with"),t.validator=w.compose([t.validator,e.validator]),t.asyncValidator=w.composeAsync([t.asyncValidator,e.asyncValidator])}function Z(t){return J(t,"There is no FormControl instance attached to form control element with")}function J(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function K(t){return null!=t?w.compose(t.map(O)):null}function Q(t){return null!=t?w.composeAsync(t.map(P)):null}function $(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i.Ab)(e,n.currentValue)}var tt=[C,N,A,V,H,D];function et(t,e){if(!e)return null;Array.isArray(e)||J(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===T?n=e:(o=e,tt.some(function(t){return o.constructor===t})?(r&&J(t,"More than one built-in value accessor matches form control with"),r=e):(i&&J(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(J(t,"No valid value accessor for form control with"),null)}function nt(t,e,n,r){Object(i.cb)()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(z.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return W(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return K(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Q(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(m),it=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),ot=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),Object(r.c)([Object(r.g)(0,Object(i.M)())],e)}(it),at=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),Object(r.c)([Object(r.g)(0,Object(i.M)())],e)}(it);function st(t){var e=ct(t)?t.validators:t;return Array.isArray(e)?K(e):e||null}function ut(t,e){var n=ct(e)?e.asyncValidators:t;return Array.isArray(n)?Q(n):n||null}function ct(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var lt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=st(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=ut(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.a)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.a)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=x(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof ft?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof dt&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new i.n,this.statusChanges=new i.n},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){ct(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),ht=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,st(n),ut(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(r.d)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(lt),ft=function(t){function e(e,n,r){var i=t.call(this,st(n),ut(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.d)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof ht?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.j)(Object.keys(this.controls)),i=n.next();!i.done;i=n.next())if(this.controls[i.value].enabled)return!1}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(lt),dt=function(t){function e(e,n,r){var i=t.call(this,st(n),ut(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.d)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof ht?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.j)(this.controls),i=n.next();!i.done;i=n.next())if(i.value.enabled)return!1}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(lt),pt=new i.s("NgModelWithFormControlWarning"),mt=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a._ngModelWarningConfig=o,a.update=new i.n,a._ngModelWarningSent=!1,a._rawValidators=e||[],a._rawAsyncValidators=n||[],a.valueAccessor=et(a,r),a}var n;return Object(r.d)(e,t),n=e,Object.defineProperty(e.prototype,"isDisabled",{set:function(t){z.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(q(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),$(t,this.viewModel)&&(nt("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return K(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Q(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e._ngModelWarningSentOnce=!1,n=Object(r.c)([Object(r.g)(0,Object(i.D)()),Object(r.g)(0,Object(i.M)()),Object(r.g)(0,Object(i.q)(v)),Object(r.g)(1,Object(i.D)()),Object(r.g)(1,Object(i.M)()),Object(r.g)(1,Object(i.q)(y)),Object(r.g)(2,Object(i.D)()),Object(r.g)(2,Object(i.M)()),Object(r.g)(2,Object(i.q)(M)),Object(r.g)(3,Object(i.D)()),Object(r.g)(3,Object(i.q)(pt))],e)}(L),gt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new i.n,r}return Object(r.d)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return q(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e,n;(n=(e=this.directives).indexOf(t))>-1&&e.splice(n,1)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);X(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);X(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return Z(e)}),e.valueAccessor.registerOnTouched(function(){return Z(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&q(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=K(this._validators);this.form.validator=w.compose([this.form.validator,t]);var e=Q(this._asyncValidators);this.form.asyncValidator=w.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||z.missingFormException()},Object(r.c)([Object(r.g)(0,Object(i.D)()),Object(r.g)(0,Object(i.M)()),Object(r.g)(0,Object(i.q)(v)),Object(r.g)(1,Object(i.D)()),Object(r.g)(1,Object(i.M)()),Object(r.g)(1,Object(i.q)(y))],e)}(m),vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.d)(e,t),e.prototype._checkParentType=function(){bt(this._parent)&&z.groupParentException()},Object(r.c)([Object(r.g)(0,Object(i.D)()),Object(r.g)(0,Object(i.o)()),Object(r.g)(0,Object(i.N)()),Object(r.g)(1,Object(i.D)()),Object(r.g)(1,Object(i.M)()),Object(r.g)(1,Object(i.q)(v)),Object(r.g)(2,Object(i.D)()),Object(r.g)(2,Object(i.M)()),Object(r.g)(2,Object(i.q)(y))],e)}(rt),yt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.d)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return W(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return K(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Q(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){bt(this._parent)&&z.arrayParentException()},Object(r.c)([Object(r.g)(0,Object(i.D)()),Object(r.g)(0,Object(i.o)()),Object(r.g)(0,Object(i.N)()),Object(r.g)(1,Object(i.D)()),Object(r.g)(1,Object(i.M)()),Object(r.g)(1,Object(i.q)(v)),Object(r.g)(2,Object(i.D)()),Object(r.g)(2,Object(i.M)()),Object(r.g)(2,Object(i.q)(y))],e)}(m);function bt(t){return!(t instanceof vt||t instanceof gt||t instanceof yt)}var wt=function(t){function e(e,n,r,o,a){var s=t.call(this)||this;return s._ngModelWarningConfig=a,s._added=!1,s.update=new i.n,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=r||[],s.valueAccessor=et(s,o),s}var n;return Object(r.d)(e,t),n=e,Object.defineProperty(e.prototype,"isDisabled",{set:function(t){z.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),$(t,this.viewModel)&&(nt("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return W(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return K(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Q(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof vt)&&this._parent instanceof rt?z.ngModelGroupException():this._parent instanceof vt||this._parent instanceof gt||this._parent instanceof yt||z.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e._ngModelWarningSentOnce=!1,n=Object(r.c)([Object(r.g)(0,Object(i.D)()),Object(r.g)(0,Object(i.o)()),Object(r.g)(0,Object(i.N)()),Object(r.g)(1,Object(i.D)()),Object(r.g)(1,Object(i.M)()),Object(r.g)(1,Object(i.q)(v)),Object(r.g)(2,Object(i.D)()),Object(r.g)(2,Object(i.M)()),Object(r.g)(2,Object(i.q)(y)),Object(r.g)(3,Object(i.D)()),Object(r.g)(3,Object(i.M)()),Object(r.g)(3,Object(i.q)(M)),Object(r.g)(4,Object(i.D)()),Object(r.g)(4,Object(i.q)(pt))],e)}(L),_t=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=w.minLength(parseInt(this.minlength,10))},t}(),xt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=w.maxLength(parseInt(this.maxlength,10))},t}(),St=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new ft(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new ht(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new dt(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof ht||t instanceof ft||t instanceof dt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),Mt=function(){},Ct=function(){},Et=function(){},Tt=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:pt,useValue:t.warnOnNgModelWithFormControl}]}},t}()},gbwj:function(t,e){var n=function(t,e,n,r){return t[n]===e[r]},r=function(t,e,n,i,o,a){if(0===i||0===o)return{sequence:[],indices1:[],indices2:[]};if(t.match(e,n,i-1,o-1,a)){var s=r(t,e,n,i-1,o-1,a);return s.sequence.push(e[i-1]),s.indices1.push(i-1),s.indices2.push(o-1),s}return t[i][o-1]>t[i-1][o]?r(t,e,n,i,o-1,a):r(t,e,n,i-1,o,a)};e.get=function(t,e,i,o){o=o||{};var a=function(t,e,n,r){var i,o,a=t.length,s=e.length,u=[a+1];for(i=0;i<a+1;i++)for(u[i]=[s+1],o=0;o<s+1;o++)u[i][o]=0;for(u.match=n,i=1;i<a+1;i++)for(o=1;o<s+1;o++)u[i][o]=n(t,e,i-1,o-1,r)?u[i-1][o-1]+1:Math.max(u[i-1][o],u[i][o-1]);return u}(t,e,i||n,o),s=r(a,t,e,t.length,e.length,o);return"string"==typeof t&&"string"==typeof e&&(s.sequence=s.sequence.join("")),s}},gozj:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("eh5z"),i=n("a8jH"),o=n("MCLT"),a=function(){function t(){}return t.prototype.deepClone=function(t,e){return Object(o.isNullOrUndefined)(t)?t:JSON.parse(JSON.stringify(t,e))},t.prototype.standardDeviation=function(t){var e=r.mean(t)||0,n=t.map(function(t){var n=t-e;return n*n}),i=r.mean(n)||0;return Math.sqrt(i)},t.prototype.point2pointDistance=function(t,e){for(var n=0,r=t.length,i=0;i<r;i++)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.prototype.matrixTimesVector=function(t,e){for(var n=new Array(e.length),r=0;r<t.length;r++){n[r]=0;for(var i=0;i<e.length;i++)n[r]+=t[r][i]*e[i]}return n},t.prototype.diff=function(t){return t[1]-t[0]},t.prototype.nest=function(t,e){return r.nest().key(function(t){return t[e]}).entries(t).map(function(t){return t.values})},t.prototype.flatten=function(t){if(!Array.isArray(t))return t;for(var e=[],n=0;n<t.length;n++)e=e.concat(this.flatten(t[n]));return e},t.prototype.linspace=function(t,e){var n=[],r=this.diff(t);e=Math.ceil(e);for(var i=0;i<e;i++)n.push(t[0]+r*i/(e-1));return n},t.prototype.unique=function(t){for(var e={},n=[],r=0,i=t;r<i.length;r++){var o=i[r],a=o.toString();e[a]||(e[a]=!0,n.push(o))}return n},t.prototype.containsUnique=function(t,e){for(var n={},r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.toString();if(!n[s]&&(n[s]=!0,r.push(a),r.length>=e))return!0}return!1},t.prototype.strip=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=t.get(),i=r.length-1;i>=0;i--)for(var o=r[i],a=0,s=e;a<s.length;a++)s[a].splice(o,1)},t.prototype.stripOriginal=function(t,e){for(var n=e.get(),r=n.length-1;r>=0;r--)t.splice(n[r],1);return t},t.prototype.condenseDimension=function(t){for(var e=[],n=0;n<t.length;n++)"."===t[n]&&e.push(n);return t.slice(e[1]+1)},t.prototype.getViewport=function(){var t,e;return void 0!==window.innerWidth?(t=window.innerWidth,e=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight),[t,e]},t.prototype.getClientViewSize=function(t,e){return t||(t=e),t?t<300?300:t:800},t.prototype.getClientViewWidth=function(t,e){var n=document.getElementById(t);return this.getClientViewSize(n?n.clientWidth:0,e)},t.prototype.getClientViewHeight=function(t,e){var n=document.getElementById(t);return this.getClientViewSize(n?n.clientHeight:0,e)},t.prototype.getAvailableTileHeight=function(t,e){var n=t.slice(0,t.lastIndexOf("-")),r=$("#"+n);if(r&&r.length){var i=r.height()||0,o=r.offset(),a=o?o.top:0,s=$("#"+t).offset();return this.getClientViewSize(i+a-(s?s.top:0),e)}return this.getClientViewHeight(t,e)},t.prototype.getRequiredSvgSize=function(t,e){return new i.a(this.getClientViewWidth(t,e?e.width:0),this.getAvailableTileHeight(t,e?e.height:0))},t.prototype.deNaN=function(t){for(var e=t.length-1;e>=0;e--)isNaN(t[e])&&t.splice(e,1);return t},t.prototype.transpose=function(t){return t.length?t[0].map(function(e,n){return t.map(function(t){return t[n]})}):[]},t.prototype.download=function(t,e,n){var r=new Blob([e],{type:n||"text/plain"}),i=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)},t.prototype.after=function(t,e,n){return 1===t?e>n:e<n},t.prototype.before=function(t,e,n){return 1===t?e<n:e>n},t.prototype.findIndexInMonotonicallyIncreasingData=function(t,e,n){var r=n===s.Forwards?function(t,e){return t>e}:function(t,e){return t<e};return(t||[]).findIndex(function(t){return r(t,e)})},t.prototype.findIndexInMonotonicallyDecreasingData=function(t,e,n){var r=n===s.Forwards?function(t,e){return t<e}:function(t,e){return t>e};return(t||[]).findIndex(function(t){return r(t,e)})},t}(),s=function(t){return t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t}({}),u=new a},gveB:function(t,e,n){var r=n("yqz1"),i=n("E0m9"),o=n("aNjz"),a=r.ParseNode;function s(t,e){for(var n=[],r=[n],o=[];;){var s=t.parseExpression(!1,null);n.push(new a("ordgroup",s,t.mode));var u=t.nextToken.text;if("&"===u)t.consume();else{if("\\end"===u)break;if("\\\\"!==u&&"\\cr"!==u)throw new i("Expected & or \\\\ or \\end",t.nextToken);var c=t.parseFunction();o.push(c.value.size),r.push(n=[])}}return e.body=r,e.rowGaps=o,new a(e.type,e,t.mode)}function u(e,n,r){"string"==typeof e&&(e=[e]),"number"==typeof n&&(n={numArgs:n});for(var i={numArgs:n.numArgs||0,argTypes:n.argTypes,greediness:1,allowedInText:!!n.allowedInText,numOptionalArgs:n.numOptionalArgs||0,handler:r},o=0;o<e.length;++o)t.exports[e[o]]=i}u("array",{numArgs:1},function(t,e){var n=e[0],r={type:"array",cols:(n=n.value.map?n.value:[n]).map(function(t){var e=t.value;if(-1!=="lcr".indexOf(e))return{type:"align",align:e};if("|"===e)return{type:"separator",separator:"|"};throw new i("Unknown column alignment: "+t.value,t)}),hskipBeforeAndAfter:!0};return s(t.parser,r)}),u(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],{},function(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName],n={type:"array",hskipBeforeAndAfter:!1};return n=s(t.parser,n),e&&(n=new a("leftright",{body:[n],left:e[0],right:e[1]},t.mode)),n}),u("cases",{},function(t){var e={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:o.TEXT.metrics.quad},{type:"align",align:"l",pregap:0,postgap:0}]};return e=s(t.parser,e),new a("leftright",{body:[e],left:"\\{",right:"."},t.mode)}),u("aligned",{},function(t){var e={type:"array",cols:[]};e=s(t.parser,e);var n=new a("ordgroup",[],t.mode),r=0;e.value.body.forEach(function(t){var e;for(e=1;e<t.length;e+=2)t[e].value.unshift(n);r<t.length&&(r=t.length)});for(var i=0;i<r;++i){var o="r",u=0;i%2==1?o="l":i>0&&(u=2),e.value.cols[i]={type:"align",align:o,pregap:u,postgap:0}}return e})},gy9U:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("LBxW"),o=function(){function t(t){this.content=t}return t.prototype.get=function(t){return this.content[t]||this.getDefault(t)},t.prototype.set=function(t,e){if(!e)throw new Error("Cannot set viewer channel data to undefined: "+t);this.content[t]=e},t.prototype.getContent=function(){return r.a({},this.content)},t.prototype.getDefault=function(t){return new i.c(t,t,t,t,"","()",!1,void 0,void 0)},t}()},h8Xd:function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"d",function(){return h}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return d}),n.d(e,"a",function(){return c});var r,i=n("CcnG"),o=function(){function t(t){this.element=t,this.onMenuToggled=new i.n,this.showCaret=!0}return t.prototype.toggleMenu=function(){this.onMenuToggled.emit(!0)},t.prototype.getPosition=function(){return this.element.nativeElement.getBoundingClientRect()},t}(),a=((r={})[9]=function(t,e,n){n.select(t<e.length-1?e[t+1]:e[0],!0)},r[38]=function(t,e,n){t>0&&n.select(e[t-1],!0)},r[40]=function(t,e,n){t<e.length-1&&n.select(e[t+1],!0)},r[13]=function(t,e,n){return n.selectedItem?n.selectedItem.click():void 0},r[27]=function(){this.hide()},r);function s(t){[38,40].indexOf(t.keyCode)>-1&&t.preventDefault()}var u=function(){function t(){this.onItemSelected=new i.n,this.onItemClicked=new i.n,this.onItemDestroyed=new i.n}return Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:!0,configurable:!0}),t.prototype.select=function(t,e){void 0===e&&(e=!0),this._selectedItem=t,e&&t&&(t.focus(),this.onItemSelected.emit(t))},t.prototype.unselect=function(){this._selectedItem=void 0},t}(),c=function(){return function(){this.menuState={isVisible:!1,toString:function(){return!0===this.isVisible?"visible":"hidden"}},this.dropdownState=new u}}(),l=function(){function t(t,e,n){this.state=t,this.element=e,this.renderer=n,this.preventClose=!1}return t.prototype.ngOnDestroy=function(){this.state.dropdownState.onItemDestroyed.emit(this)},Object.defineProperty(t.prototype,"isSelected",{get:function(){return this===this.state.dropdownState.selectedItem},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this.state.dropdownState.select(this,!0),t&&(t.stopPropagation(),t.preventDefault())},t.prototype.click=function(){this.state.dropdownState.onItemClicked.emit(this)},t.prototype.focus=function(){this.renderer.invokeElementMethod(this.element.nativeElement.children[0],"focus")},t}(),h=function(){function t(t,e,n){this.state=t,this.element=e,this.renderer=n,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:void 0,handleKeypress:void 0}}return t.prototype.show=function(t,e){void 0===e&&(e=!0);var n="undefined"!=typeof document?document:void 0,r="undefined"!=typeof window?window:void 0;this.state.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(n.body,"keydown",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(r,"keydown",s)),this.state.menuState.isVisible=!0,t&&this.updatePosition(t,e)},t.prototype.hide=function(){this.state.menuState.isVisible=!1,this.state.dropdownState.unselect(),this.listeners.arrowHandler&&this.listeners.arrowHandler(),this.listeners.handleKeypress&&this.listeners.handleKeypress()},t.prototype.updatePosition=function(t,e){this.position=t,this.updateOnChange(e)},t.prototype.handleKeypress=function(t){var e=t.keyCode,n=this.items.toArray(),r=n.indexOf(this.state.dropdownState.selectedItem);a.hasOwnProperty(e)&&a[e].call(this,r,n,this.state.dropdownState)},t.prototype.getMenuElement=function(){return this.element.nativeElement.children[0]},t.prototype.calcPositionOffset=function(t){var e="undefined"!=typeof window?window:void 0,n="undefined"!=typeof document?document:void 0;if(e&&n&&t){var r=this.getMenuElement(),i=void 0!==e.pageXOffset,o="CSS1Compat"===(n.compatMode||""),a=i?e.pageYOffset:o?n.documentElement.scrollTop:n.body.scrollTop,s=this.applyOffset(t.top+(this.appendToBody?a-15:0)+"px",t.left+(i?e.pageXOffset:o?n.documentElement.scrollLeft:n.body.scrollLeft)-5+"px"),u=s.top,c=s.left,l=r.clientWidth,h=r.clientHeight,f=parseInt(u)+h+(this.appendToBody?0:a-15),d=parseInt(c)+l,p=e.innerWidth+e.scrollX;if(f>=e.innerHeight+e.scrollY&&(u=parseInt(u.replace("px",""))-h+"px"),d>=p){var m=d-p+30;c=parseInt(c.replace("px",""))-m+"px"}return{top:u,left:c}}},t.prototype.applyOffset=function(t,e){if(!this.offset)return{top:t,left:e};var n=this.offset.split(" ");return n[1]||(n[1]="0"),{top:t=parseInt(t.replace("px",""))+parseInt(n[0])+"px",left:e=parseInt(e.replace("px",""))+parseInt(n[1])+"px"}},t.prototype.ngOnInit=function(){var t="undefined"!=typeof document?document:void 0;this.appendToBody&&t.body.appendChild(this.element.nativeElement)},t.prototype.updateOnChange=function(t){void 0===t&&(t=!0);var e=this.getMenuElement(),n=this.calcPositionOffset(this.position);n&&(this.renderer.setElementStyle(e,"top",n.top.toString()),this.renderer.setElementStyle(e,"left",n.left.toString())),this.focusFirstElement&&this.items.first&&!this.state.dropdownState.selectedItem&&this.state.dropdownState.select(this.items.first,!1)},t.prototype.ngOnDestroy=function(){var t=this.element.nativeElement;t.parentNode.removeChild(t),this.listeners.handleKeypress&&this.listeners.handleKeypress()},t}(),f=function(){function t(t){this.state=t,this.dynamicUpdate=!0,this.onItemClicked=new i.n,this.onItemSelected=new i.n,this.onShow=new i.n,this.onHide=new i.n}return t.prototype.ngOnInit=function(){var t=this;this.state.dropdownState.onItemClicked.subscribe(function(e){t.onItemClicked.emit(e),e.preventClose||t.hide.call(t)}),this.button&&this.button.onMenuToggled.subscribe(function(){t.toggleMenu()}),this.state.dropdownState.onItemSelected.subscribe(function(e){t.onItemSelected.emit(e)}),this.state.dropdownState.onItemDestroyed.subscribe(function(e){var n,r=t.menu.items.toArray();e===t.state.dropdownState.selectedItem&&(t.menu.focusFirstElement&&(n=e===r[0]&&r.length>1?r[1]:r[0]),t.state.dropdownState.select(n))})},t.prototype.toggleMenu=function(t){void 0===t&&(t=this.button.getPosition()),this.state.menuState.isVisible?this.hide():this.show(t)},t.prototype.hide=function(){this.menu.hide(),this.onHide.emit(this)},t.prototype.show=function(t){void 0===t&&(t=this.button.getPosition()),this.menu.show(t,this.dynamicUpdate),this.onShow.emit(this)},t.prototype.scrollListener=function(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)},t}(),d=function(){}},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},ihYY:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return a}),n.d(e,"d",function(){return p}),n.d(e,"m",function(){return g}),n.d(e,"l",function(){return m});var r=function(){},i=function(){},o="*";function a(t,e){return{type:7,name:t,definitions:e,options:{}}}function s(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function u(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function l(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t){return{type:5,steps:t}}function f(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}function d(t){Promise.resolve(null).then(t)}var p=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;d(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),m=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?d(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),g="!"},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},ixgt:function(t,e,n){"use strict";function r(t,e){for(var n=[],r=new Set,i=0,o=t;i<o.length;i++){var a=o[i],s=e(a);r.has(s)||(n.push(a),r.add(s))}return n}n.d(e,"a",function(){return r})},"j+Vh":function(t,e,n){var r=n("5XgJ");function i(t,e){this.lexer=new r(t),this.macros=e,this.stack=[],this.discardedWhiteSpace=[]}i.prototype.nextToken=function(){for(;;){0===this.stack.length&&this.stack.push(this.lexer.lex());var t=this.stack.pop(),e=t.text;if("\\"!==e.charAt(0)||!this.macros.hasOwnProperty(e))return t;var n=this.macros[e];if("string"==typeof n){var i=new r(n);n=[];for(var o=i.lex();"EOF"!==o.text;)n.push(o),o=i.lex();n.reverse(),this.macros[e]=n}this.stack=this.stack.concat(n)}},i.prototype.get=function(t){this.discardedWhiteSpace=[];var e=this.nextToken();if(t)for(;" "===e.text;)this.discardedWhiteSpace.push(e),e=this.nextToken();return e},i.prototype.unget=function(t){for(this.stack.push(t);0!==this.discardedWhiteSpace.length;)this.stack.push(this.discardedWhiteSpace.pop())},t.exports=i},jT1Q:function(t,e,n){var r=n("4af/"),i=n("BjAV"),o=n("2yAJ"),a=n("v9aN"),s=n("vYjF"),u=s.isErrorEvent,c=s.isDOMError,l=s.isDOMException,h=s.isError,f=s.isObject,d=s.isPlainObject,p=s.isUndefined,m=s.isFunction,g=s.isString,v=s.isArray,y=s.isEmptyObject,b=s.each,w=s.objectMerge,_=s.truncate,x=s.objectFrozen,S=s.hasKey,M=s.joinRegExp,C=s.urlencode,E=s.uuid4,T=s.htmlTreeAsString,O=s.isSameException,P=s.isSameStacktrace,A=s.parseUrl,k=s.fill,L=s.supportsFetch,R=s.supportsReferrerPolicy,D=s.serializeKeysForMessage,N=s.serializeException,I=s.sanitize,j=n("AKyF").wrapMethod,z="source protocol user pass host port path".split(" "),F=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function V(){return+new Date}var B="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},U=B.document,H=B.navigator;function G(t,e){return m(e)?function(n){return e(n,t)}:e}function W(){for(var t in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!p(U),this._hasNavigator=!p(H),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:B.SENTRY_RELEASE&&B.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=B.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=V(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._location=B.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}(W.prototype={VERSION:"3.25.2",debug:!1,TraceKit:r,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var i=n._globalOptions;e&&b(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:i[t]=e}),n.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=M(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&M(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&M(i.whitelistUrls),i.includePaths=M(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=w(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},u=i.instrument;return"[object Object]"==={}.toString.call(u)?u=w(s,u):!1!==u&&(u=s),i.instrument=u,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(r.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this._parseDSN(t),n=e.path.lastIndexOf("/"),r=e.path.substr(1,n);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(n+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return m(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){var r=this;if(p(e)&&!m(t))return t;if(m(t)&&(e=t,t=void 0),!m(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}function i(){var i=[],o=arguments.length,a=!t||t&&!1!==t.deep;for(n&&m(n)&&n.apply(this,arguments);o--;)i[o]=a?r.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,i)}catch(e){throw r._ignoreNextOnError(),r.captureException(e,t),e}}for(var o in e)S(e,o)&&(i[o]=e[o]);return i.prototype=e.prototype,e.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=e,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{extra:{unhandledPromiseRejection:!0}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),B.addEventListener&&B.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return B.removeEventListener&&B.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=w({trimHeadFrames:0},e||{}),u(t)&&t.error)t=t.error;else{if(c(t)||l(t)){var n=t.name||(c(t)?"DOMError":"DOMException");return this.captureMessage(t.message?n+": "+t.message:n,w(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(h(t))t=t;else{if(!d(t))return this.captureMessage(t,w(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var i=r.computeStackTrace(t);this._handleStackInfo(i,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,e){var n=Object.keys(e).sort(),r=w(t,{message:"Non-Error exception captured with keys: "+D(n),fingerprint:[o(n)],extra:t.extra||{}});return r.extra.__serialized__=N(e),r},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var n,i=w({message:t+=""},e=e||{});try{throw new Error(t)}catch(t){n=t}n.name=null;var o=r.computeStackTrace(n),a=v(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||e&&e.stacktrace){i.fingerprint=null==i.fingerprint?t:i.fingerprint,(e=w({trimHeadFrames:0},e)).trimHeadFrames+=1;var u=this._prepareFrames(o,e);i.stacktrace={frames:u.reverse()}}return i.fingerprint&&(i.fingerprint=v(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(t){var e=w({timestamp:V()/1e3},t);if(m(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(f(n)&&!y(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){return this._globalOptions.dataCallback=G(this._globalOptions.dataCallback,t),this},setBreadcrumbCallback:function(t){return this._globalOptions.breadcrumbCallback=G(this._globalOptions.breadcrumbCallback,t),this},setShouldSendCallback:function(t){return this._globalOptions.shouldSendCallback=G(this._globalOptions.shouldSendCallback,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!(!this._hasJSON||!this._globalServer&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var t=B.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(U){var e=(t=t||{}).eventId||this.lastEventId();if(!e)throw new a("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new a("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(e),i+="&dsn="+r(n);var o=t.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var s=this._getGlobalServer(this._parseDSN(n)),u=U.createElement("script");u.async=!0,u.src=s+"/api/embed/error-page/"+i,(U.head||U.body).appendChild(u)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){for(r in e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),U.createEvent?(n=U.createEvent("HTMLEvents")).initEvent(t,!0,!0):(n=U.createEventObject()).eventType=t,e)S(e,r)&&(n[r]=e[r]);if(U.createEvent)U.dispatchEvent(n);else try{U.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){var r;e._lastCapturedEvent=n;try{r=T(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this;return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(e),clearTimeout(i),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},1e3)}}},_captureUrlChange:function(t,e){var n=A(this._location.href),r=A(e),i=A(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return t._originalFunctionToString.apply("function"==typeof this&&this.__raven__?this.__orig__:this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var t=this,e=t._wrappedBuiltIns;function n(e){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return m(a)&&(i[0]=t.wrap(a)),e.apply?e.apply(this,i):e(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(n){var i=B[n]&&B[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(k(i,"addEventListener",function(e){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=t.wrap(o.handleEvent))}catch(t){}var u,c,l;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(c=t._breadcrumbEventHandler("click"),l=t._keypressEventHandler(),u=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?c(t):"keypress"===e?l(t):void 0}}),e.call(this,i,t.wrap(o,void 0,u),a,s)}},e),k(i,"removeEventListener",function(t){return function(e,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,i)}},e))}k(B,"setTimeout",n,e),k(B,"setInterval",n,e),B.requestAnimationFrame&&k(B,"requestAnimationFrame",function(e){return function(n){return e(t.wrap(n))}},e);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)i(o[a])},_instrumentBreadcrumbs:function(){var t=this,e=this._globalOptions.autoBreadcrumbs,n=t._wrappedBuiltIns;function r(e,n){e in n&&m(n[e])&&k(n,e,function(e){return t.wrap(e)})}if(e.xhr&&"XMLHttpRequest"in B){var i=B.XMLHttpRequest&&B.XMLHttpRequest.prototype;k(i,"open",function(e){return function(n,r){return g(r)&&-1===r.indexOf(t._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}},n),k(i,"send",function(e){return function(){var n=this;function i(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(t){}t.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)r(o[a],n);return"onreadystatechange"in n&&m(n.onreadystatechange)?k(n,"onreadystatechange",function(e){return t.wrap(e,void 0,i)}):n.onreadystatechange=i,e.apply(this,arguments)}},n)}e.xhr&&L()&&k(B,"fetch",function(e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in B&&o instanceof B.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(t._globalKey))return e.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return e.apply(this,n).then(function(e){return s.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:s}),e}).catch(function(e){throw t.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),e})}},n),e.dom&&this._hasDocument&&(U.addEventListener?(U.addEventListener("click",t._breadcrumbEventHandler("click"),!1),U.addEventListener("keypress",t._keypressEventHandler(),!1)):U.attachEvent&&(U.attachEvent("onclick",t._breadcrumbEventHandler("click")),U.attachEvent("onkeypress",t._keypressEventHandler())));var o=B.chrome;if(e.location&&!(o&&o.app&&o.app.runtime)&&B.history&&B.history.pushState&&B.history.replaceState){var a=B.onpopstate;B.onpopstate=function(){if(t._captureUrlChange(t._lastHref,t._location.href),a)return a.apply(this,arguments)};var s=function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}};k(B.history,"pushState",s,n),k(B.history,"replaceState",s,n)}if(e.console&&"console"in B&&console.log){var u=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};b(["debug","info","warn","error","log"],function(t,e){j(console,e,u)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;)(t=this._wrappedBuiltIns.shift())[0][t[1]]=t[2]},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;b(this._plugins,function(e,n){n[0].apply(t,[t].concat(n[1]))})},_parseDSN:function(t){var e=F.exec(t),n={},r=7;try{for(;r--;)n[z[r]]=e[r]||""}catch(e){throw new a("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(b(t.stack,function(e,i){var o=n._normalizeFrame(i,t.url);o&&r.push(o)}),e&&e.trimHeadFrames))for(var i=0;i<e.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,r,i,o){var a,s=(t?t+": ":"")+(e||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var u=w({exception:{values:[{type:t,value:e,stacktrace:a}]},transaction:n},o);this._send(u)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=_(t.message,e)),t.exception){var n=t.exception.values[0];n.value=_(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=_(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=_(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,r,i=["to","from","url"],o=0;o<t.values.length;++o)if((n=t.values[o]).hasOwnProperty("data")&&f(n.data)&&!x(n.data)){r=w({},n.data);for(var a=0;a<i.length;++a)r.hasOwnProperty(e=i[a])&&r[e]&&(r[e]=_(r[e],this._globalOptions.maxUrlLength));t.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&H.userAgent&&(t.headers={"User-Agent":H.userAgent}),B.location&&B.location.href&&(t.url=B.location.href),this._hasDocument&&U.referrer&&(t.headers||(t.headers={}),t.headers.Referer=U.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&V()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?P(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||O(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=L()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n||2*this._backoffDuration||1e3,this._backoffStart=V()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=w(n,t)).tags=w(w({},this._globalContext.tags),t.tags),t.extra=w(w({},this._globalContext.extra),t.extra),t.extra["session:duration"]=V()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||y(t[e]))&&delete t[e]}),m(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!y(t)&&(m(e.shouldSendCallback)&&!e.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function(t){return I(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return E()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:t,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function(t){var e=t.url+"?"+C(t.auth),n=null,r={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),L()){r.body=i(t.data);var o=w({},this._fetchDefaults),a=w(o,r);return n&&(a.headers=n),B.fetch(e,a).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}}).catch(function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var s=B.XMLHttpRequest&&new B.XMLHttpRequest;s&&("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,t.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(s.onload=t.onSuccess),t.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,t.onError(e)})),s.open("POST",e),n&&b(n,function(t,e){s.setRequestHeader(t,e)}),s.send(i(t.data)))},_evaluateHash:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]="function"==typeof r?r():r}return e},_logDebug:function(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){p(e)?delete this._globalContext[t]:this._globalContext[t]=w(this._globalContext[t]||{},e)}}).setUser=W.prototype.setUserContext,W.prototype.setReleaseContext=W.prototype.setRelease,t.exports=W},k4pR:function(t,e,n){"use strict";n.d(e,"d",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"i",function(){return g}),n.d(e,"h",function(){return v}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"m",function(){return _}),n.d(e,"n",function(){return x}),n.d(e,"l",function(){return S}),n.d(e,"k",function(){return M}),n.d(e,"b",function(){return C}),n.d(e,"a",function(){return E}),n.d(e,"c",function(){return T});var r=n("mrSG"),i=n("eh5z"),o=n("6rnH"),a=n("LBxW"),s=n("7c6v"),u=n("4zky"),c=n("x4dx"),l=n("kNgp"),h=function(){function t(){}return t.prototype.createChannel=function(t,e,n,r,i,o,a,s){return void 0===s&&(s=void 0),new f(t,e,n,r,i,o,a,s)},t.prototype.createSide=function(t,e){return new p(t,e)},t}(),f=function(){function t(t,e,n,r,i,o,s,u){void 0===u&&(u=void 0),this.unprocessed=t,this.name=e,this.genericName=n,this.channelIndex=r,this.sources=i,this.units=o,this.isUserSpecifiedUnits=s,this.renderOnlyForDomain=u,this._monotonicStatus=a.a.Unknown,this.legendValues=this.sources.map(function(t){return NaN})}return Object.defineProperty(t.prototype,"hasData",{get:function(){return this.sources.some(function(t){return t.hasData})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimum",{get:function(){return i.minStrict(this.sources.filter(function(t){return t.data}).map(function(t){return t.minimum}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return i.maxStrict(this.sources.filter(function(t){return t.data}).map(function(t){return t.maximum}))},enumerable:!0,configurable:!0}),t.prototype.getVisibleMinimum=function(t){return i.minStrict(this.sources.filter(function(e,n){return e.data&&t[n]}).map(function(t){return t.minimum}))},t.prototype.getVisibleMaximum=function(t){return i.maxStrict(this.sources.filter(function(e,n){return e.data&&t[n]}).map(function(t){return t.maximum}))},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.unprocessed.isVisible},set:function(t){this.unprocessed.isVisible=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseAxis",{get:function(){return this.unprocessed.reverseAxis},set:function(t){this.unprocessed.reverseAxis=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monotonicStatus",{get:function(){return this._monotonicStatus===a.a.Unknown&&(this._monotonicStatus=this.sources.filter(function(t){return t.hasData}).every(function(t){return t.monotonicStatus===a.a.Increasing})?a.a.Increasing:this.sources.filter(function(t){return t.hasData}).every(function(t){return t.monotonicStatus===a.a.Decreasing})?a.a.Decreasing:a.a.None),this._monotonicStatus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMonotonic",{get:function(){return this.monotonicStatus===a.a.Decreasing||this._monotonicStatus===a.a.Increasing},enumerable:!0,configurable:!0}),t}(),d=function(t){return t[t.row=0]="row",t[t.column=1]="column",t}({}),p=function(){function t(t,e){this.channels=t,this.sideType=e,this._plotSize=0,this._size=0,this._offset=0,this._scale=i.scaleLinear()}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotSize",{get:function(){return this._plotSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimum",{get:function(){return i.minStrict(Object(l.a)(this.channels.map(function(t){return t.minimum})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return i.maxStrict(Object(l.a)(this.channels.map(function(t){return t.maximum})))},enumerable:!0,configurable:!0}),t.prototype.getVisibleMinimum=function(t){return i.minStrict(Object(l.a)(this.channels.filter(function(t){return t.isVisible}).map(function(e){return e.getVisibleMinimum(t)})))},t.prototype.getVisibleMaximum=function(t){return i.maxStrict(Object(l.a)(this.channels.filter(function(t){return t.isVisible}).map(function(e){return e.getVisibleMaximum(t)})))},Object.defineProperty(t.prototype,"reverseAxis",{get:function(){var t=this.channels.filter(function(t){return t.isVisible});return t.length>0&&t.every(function(t){return t.reverseAxis})},enumerable:!0,configurable:!0}),t.prototype.updateSize=function(t,e,n){this._offset=t,this._size=e,this._plotSize=e-n,this.scale.range(this.sideType===d.row?this.reverseAxis?[0,this._plotSize]:[this._plotSize,0]:this.reverseAxis?[this._plotSize,0]:[0,this._plotSize])},t}(),m=function(t,e,n,r,i,o,a,s){this.primaryDomain=t,this.secondaryDomain=e,this.colorChannel=n,this.sizeChannel=r,this.plots=i,this.columns=o,this.rows=a,this.sourceData=s},g=function(){function t(t,e,n,r){this.plotIndex=t,this.sourceIndex=e,this.xChannel=n,this.yChannel=r,this.xCoordinates=[],this.yCoordinates=[]}return t.prototype.onRescaled=function(t,e){var n=this.xChannel.sources[this.sourceIndex];this.xCoordinates=n&&n.data?n.data.map(function(e){return t(e)}):[];var r=this.yChannel.sources[this.sourceIndex];this.yCoordinates=r&&r.data?r.data.map(function(t){return e(t)}):[],this.quadTree=void 0},t.prototype.getClosestPoint=function(t){this.quadTree||(this.quadTree=i.quadtree().x(function(t){return t.x}).y(function(t){return t.y}).addAll(i.zip(this.xCoordinates,this.yCoordinates).map(function(t,e){return{x:t[0],y:t[1],index:e}}).filter(function(t){return Object(c.a)(t.x)&&Object(c.a)(t.y)})));var e=this.quadTree.find(t.x,t.y);if(e)return new function(t,e,n,r,i,o){this.x=t,this.y=e,this.index=n,this.channel=r,this.plotIndex=i,this.sourceIndex=o}(e.x,e.y,e.index,this.yChannel,this.plotIndex,this.sourceIndex)},t}(),v=function(){function t(t){this.channels=t}return t.prototype.onRescaled=function(t,e){this.channels.forEach(function(n){return n.onRescaled(t,e)})},t.prototype.getClosestPoint=function(t){for(var e,n=1/0,r=0,i=this.channels;r<i.length;r++){var o=i[r].getClosestPoint(t);if(o){var a=t.x-o.x,s=t.y-o.y,u=a*a+s*s;u<n&&(n=u,e=o)}}return e},t}(),y=function(){function t(t,e,n,r){this.plotIndex=t,this.column=e,this.row=n,this.sources=r,this._absoluteRenderArea=new u.a(0,0,0,0),this._includedRowChannels=new Set,this._includedColumnChannels=new Set,this._includedChannelPairs=new Set;for(var i=0,o=r;i<o.length;i++)for(var a=0,s=o[i].channels;a<s.length;a++){var c=s[a];this._includedRowChannels.add(c.yChannel.name),this._includedColumnChannels.add(c.xChannel.name),this._includedChannelPairs.add(this.getChannelPairName(c.xChannel.name,c.yChannel.name))}}return t.prototype.hasChannelPair=function(t,e){return this._includedChannelPairs.has(this.getChannelPairName(t,e))},t.prototype.hasRowChannel=function(t){return this._includedRowChannels.has(t)},t.prototype.hasColumnChannel=function(t){return this._includedColumnChannels.has(t)},Object.defineProperty(t.prototype,"absoluteRenderArea",{get:function(){return this._absoluteRenderArea},enumerable:!0,configurable:!0}),t.prototype.isInPlot=function(t){var e=this._absoluteRenderArea;return t.x>=e.x&&t.y>=e.y&&t.x<e.x+e.width&&t.y<e.y+e.height},t.prototype.onRescaled=function(){var t=this;this.sources.forEach(function(e){return e.onRescaled(t.column.processed.scale,t.row.processed.scale)})},t.prototype.updateRenderArea=function(t){this._absoluteRenderArea=t,this.onRescaled()},t.prototype.getClosestPointsForSources=function(t){for(var e=new s.a(t.x-this._absoluteRenderArea.x,t.y-this._absoluteRenderArea.y),n=[],r=0,i=this.sources;r<i.length;r++)n.push(i[r].getClosestPoint(e));return n},t.prototype.getChannelPairName=function(t,e){return t+"+"+e},t}(),b=function(t,e,n){this.plots=t,this.columns=e,this.rows=n},w=function(){this.flags={},this.custom={}},_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e}(w),x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHidden=!1,e}return r.d(e,t),e}(w),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e}(w),M=function(){function t(t,e,n,r){this.name=t,this.channels=e,this.featureChannels=n,this._loader=r}return Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._loader.isVisible},set:function(t){this._loader.isVisible=t},enumerable:!0,configurable:!0}),t}(),C=function(t,e){this.integrationChannel=t,this.splitChannel=e},E=function(){function t(t,e){this.integrationChannel=t,this.splitChannel=e}return Object.defineProperty(t.prototype,"allChannelNames",{get:function(){return[this.integrationChannel,this.splitChannel].filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t}(),T=function(t){function e(e,n,r,i){return t.call(this,e,n,function(){return i()[r]?i()[r].name:void 0},function(t){return i()[r]=t?{name:t}:void 0})||this}return r.d(e,t),e}(o.a)},kNgp:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("soU0");function i(t){return t.filter(function(t){return Object(r.a)(t)})}},l8dc:function(t,e,n){"use strict";var r=n("mrSG"),i=n("gozj"),o=n("rzGS"),a=function(){return function(t,e,n,r,i,a,s){this.name=t,this.genericName=e,this.units=n,this.description=r,this.iLap=i,this.specificUnits=a,this.binaryFormat=s,this.direction=1,this.values=[],this.sanitizedName=Object(o.a)(this.name)}}(),s=function(){function t(t,e,n,r,i,a,s,u,c,l,h,f,d){void 0===d&&(d=!1),this.name=t,this.genericName=e,this.fullName=n,this.requestedName=r,this.units=i,this.description=a,this.iChannelInPane=s,this.iPane=u,this.iLap=c,this.colour=l,this.specificUnits=h,this.binaryFormat=f,this.deltaChannel=d,this.yMax=NaN,this.yMin=NaN,this.direction=1,this.isChannelVisible=!0,this.isLapVisible=!0,this.values=[],this.sValues=[],this.sanitizedName=Object(o.a)(this.name)}return Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.isChannelVisible&&this.isLapVisible},enumerable:!0,configurable:!0}),t}(),u=function(){function t(t,e,n,r,i,a,s,u,c,l,h){void 0===h&&(h=!1),this.name=t,this.genericName=e,this.fullName=n,this.requestedName=r,this.units=i,this.description=a,this.iPane=s,this.iLap=u,this.specificUnits=c,this.binaryFormat=l,this.deltaChannel=h,this.zMax=NaN,this.zMin=NaN,this.direction=1,this.isChannelVisible=!0,this.isLapVisible=!0,this.values=[],this.sValues=[],this.sanitizedName=Object(o.a)(this.name)}return Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.isChannelVisible&&this.isLapVisible},enumerable:!0,configurable:!0}),t}(),c=n("YJNB"),l=n("8i/y"),h=n("v0d7"),f=n("LXbF"),d=n("HLL/"),p=n("tcJB"),m=function(){function t(t,e,n){this.simTypes=t,this.urlFileLoader=e,this.siteHooks=n,this.channelInterpolatorFactory=new p.a}return t.prototype.extractVectorDataForJobs=function(t,e,n,o){return r.b(this,void 0,void 0,function(){var c,p,m,g,v,y,b,w,_,x,S,M,C,E,T,O,P,A,k,L,R,D,N,I,j,z,F,V,B,U,H,G,W,q,Y,X,Z,J,K,Q,$,tt=this;return r.e(this,function(r){switch(r.label){case 0:return[4,this.urlFileLoader.loadVectorMetadata(o[0].studyId,o[0].jobIndex,n)];case 1:for(c=r.sent(),p={},m=0,g=c;m<g.length;m++)p[(v=g[m]).name]=v,p[Object(l.a)(v.name,n)]=v;y=[],b=0,w=e.xDomains,r.label=2;case 2:return b<w.length?[4,this.siteHooks.getUserChannelUnits(_=w[b])]:[3,5];case 3:for(q=r.sent(),X=p[_],Z=q||X.units,G=X.description,x=0;x<o.length;x++)y.push(new a(_,X.name,Z,G,x,!!q,X.binaryFormat));r.label=4;case 4:return b++,[3,2];case 5:return S=i.b.nest(y,"iLap"),M=[],C=[],E=new h.a(t,this.simTypes),T=[],O=y.map(function(t){return tt.loadChannelData(S,o,n,t)}),[4,Promise.all(O)];case 6:r.sent(),P=0,r.label=7;case 7:if(!(P<e.panes.length))return[3,30];A=e.panes[P],F=0,r.label=8;case 8:if(!(F<e.panes[P].channels.length))return[3,14];V=0,r.label=9;case 9:return V<o.length?(U=B=A.channels[F],H=B,G=d.b,W="",q=void 0,Y=void 0,(X=p[B])?(U=X.name,H=Object(l.a)(U,n),G=X.description,[4,this.siteHooks.getUserChannelUnits(U)]):[3,11]):[3,13];case 10:q=r.sent(),W=X.units,Y=X.binaryFormat,r.label=11;case 11:Z=q||W,M.push(new s(t===f.a.Generic?U:H,U,H,B,Z,G,F,P,V,"black",!!q,Y)),E.add(U,H,n),r.label=12;case 12:return++V,[3,9];case 13:return++F,[3,8];case 14:if(!e.panes[P].background)return[3,21];V=0,r.label=15;case 15:return V<o.length?(U=B=e.panes[P].background.channel,H=B,G=d.b,W="",q=void 0,Y=void 0,(X=p[B])?(U=X.name,H=Object(l.a)(U,n),G=X.description,[4,this.siteHooks.getUserChannelUnits(U)]):[3,17]):[3,21];case 16:q=r.sent(),W=X.units,Y=X.binaryFormat,r.label=17;case 17:return Z=q||W,C.push(new u(t===f.a.Generic?U:H,U,H,B,Z,G,P,V,!!q,Y)),E.add(U,H,n),L=k=e.panes[P].background.yDomain,R=k,D=d.b,N="",I=void 0,j=void 0,(z=p[k])?(L=z.name,R=Object(l.a)(L,n),D=z.description,[4,this.siteHooks.getUserChannelUnits(L)]):[3,19];case 18:I=r.sent(),N=z.units,j=z.binaryFormat,r.label=19;case 19:C[C.length-1].yDomain=new s(t===f.a.Generic?L:R,L,R,k,I||N,D,0,P,V,"black",!!q,j),E.add(U,H,n),r.label=20;case 20:return++V,[3,15];case 21:if(!e.panes[P].deltaChannels)return[3,28];F=0,r.label=22;case 22:if(!(F<e.panes[P].deltaChannels.length))return[3,28];V=0,r.label=23;case 23:return V<o.length?(U=B=A.deltaChannels[F],H=B,G=d.b,W="",q=void 0,Y=void 0,(X=p[B])?(U="\u0394"+X.name,H=Object(l.a)(U,n),G=X.description,[4,this.siteHooks.getUserChannelUnits(U)]):[3,25]):[3,27];case 24:q=r.sent(),W=X.units,Y=X.binaryFormat,r.label=25;case 25:Z=q||W,M.push(new s(t===f.a.Generic?U:H,U,H,B,Z,G,F+e.panes[P].channels.length,P,V,"black",!!q,Y,!0)),E.add(U,H,n),r.label=26;case 26:return++V,[3,23];case 27:return++F,[3,22];case 28:T.push(A.relativeSize),r.label=29;case 29:return++P,[3,7];case 30:return J=new function(t,e,n,r){void 0===e&&(e=[]),void 0===r&&(r=[]),this.xData=t,this.yData=e,this.channelNameMap=n,this.rPaneSizes=r}(S,M,E.getMap(),T),C.length>0?(J.zData=C,K=J.zData.map(function(t){return tt.loadChannelData(S,o,n,t.yDomain)}),[4,Promise.all(K)]):[3,33];case 31:return r.sent(),Q=J.zData.map(function(t){return tt.loadzChannelData(S,t.yDomain,o,n,t)}),[4,Promise.all(Q)];case 32:r.sent(),r.label=33;case 33:return $=J.yData.map(function(t){return tt.loadChannelData(S,o,n,t)}),[4,Promise.all($)];case 34:return r.sent(),J.yData=J.yData.map(function(t){if(t.deltaChannel&&t.iLap>0){var e=J.yData.filter(function(e){return 0===e.iLap&&e.name===t.name&&!0===e.deltaChannel});t.values=t.values.map(function(t,n){return t-e[0].values[n]}),t.name=t.name}return t}),J.yData=J.yData.map(function(t){return t.deltaChannel&&0===t.iLap&&(t.values=t.values.map(function(t){return NaN}),t.name=t.name),t}),[2,J]}})})},t.prototype.loadChannelData=function(t,e,n,i){return r.b(this,void 0,void 0,function(){var o,a,s,u,l;return r.e(this,function(r){switch(r.label){case 0:if(o=i.name.startsWith("\u0394")?i.name.slice(1):i.name,i.description!==d.b)return[3,1];for(a=[],s=0;s<t[i.iLap][0].values.length;s++)a.push(NaN);return i.values=a,[3,3];case 1:return[4,this.urlFileLoader.loadChannelData((u=e[i.iLap]).studyId,u.jobIndex,n,o,i.binaryFormat)];case 2:l=r.sent(),i.values=l?c.a.convertValuesFromSi([].slice.call(l),i.units):[],r.label=3;case 3:return[2]}})})},t.prototype.loadzChannelData=function(t,e,n,i,o){return r.b(this,void 0,void 0,function(){var a,s,u,l,h,f;return r.e(this,function(r){switch(r.label){case 0:if(a=o.name.startsWith("\u0394")?o.name.slice(1):o.name,o.description!==d.b)return[3,1];for(s=[],u=0;u<t[o.iLap][0].values.length;u++)for(l=0;l<e.values.length;l++)s.push(NaN);return o.values=s,[3,3];case 1:return[4,this.urlFileLoader.loadChannelData((h=n[o.iLap]).studyId,h.jobIndex,i,a,o.binaryFormat)];case 2:f=r.sent(),o.values=f?c.a.convertValuesFromSi([].slice.call(f),o.units):[],r.label=3;case 3:return[2]}})})},t}(),g=n("YjDc"),v=n("lFWV"),y=n("9CsZ"),b=n("4Yz0"),w=n("9WsI"),_=n("HNUh"),x=n("OzDC"),S=n("eh5z"),M=n("3Fae"),C=Array.prototype.slice,E=function(t,e){return t-e},T=function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r},O=function(t){return function(){return t}},P=function(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=A(t,e[r]))return n;return 0};function A(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],l=u[1],h=t[s],f=h[0],d=h[1];if(k(u,h,e))return 0;l>r!=d>r&&n<(f-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function k(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],a=e[r],i<=(o=n[r])&&o<=a||a<=o&&o<=i)}var L=function(){},R=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],D=function(){var t=1,e=1,n=M.y,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(E);else{var r=Object(M.i)(t),i=r[0],a=r[1];e=Object(M.A)(i,a,e),e=Object(M.s)(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map(function(e){return o(t,e)})}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,c,l,h=new Array,f=new Array;for(o=s=-1,R[(u=n[0]>=r)<<1].forEach(d);++o<t-1;)R[u|(u=n[o+1]>=r)<<1].forEach(d);for(R[u<<0].forEach(d);++s<e-1;){for(o=-1,R[(u=n[s*t+t]>=r)<<1|(c=n[s*t]>=r)<<2].forEach(d);++o<t-1;)l=c,R[u|(u=n[s*t+t+o+1]>=r)<<1|(c=n[s*t+o+1]>=r)<<2|l<<3].forEach(d);R[u|c<<3].forEach(d)}for(o=-1,R[(c=n[s*t]>=r)<<2].forEach(d);++o<t-1;)l=c,R[(c=n[s*t+o+1]>=r)<<2|l<<3].forEach(d);function d(t){var e,n,r=[t[0][0]+o,t[0][1]+s],u=[t[1][0]+o,t[1][1]+s],c=a(r),l=a(u);(e=f[c])?(n=h[l])?(delete f[e.end],delete h[n.start],e===n?(e.ring.push(u),i(e.ring)):h[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(u),f[e.end=l]=e):(e=h[l])?(n=f[c])?(delete h[e.start],delete f[n.end],e===n?(e.ring.push(u),i(e.ring)):h[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=c]=e):h[c]=f[l]={start:c,end:l,ring:[r,u]}}R[c<<3].forEach(d)}(n,i,function(t){r(t,n,i),T(t)>0?o.push([t]):s.push(t)}),s.forEach(function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==P((e=o[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach(function(n){var o,a=n[0],s=n[1],u=0|a,c=0|s,l=r[c*t+u];a>0&&a<t&&u===a&&(n[0]=a+(i-(o=r[c*t+u-1]))/(l-o)-.5),s>0&&s<e&&c===s&&(n[1]=s+(i-(o=r[(c-1)*t+u]))/(l-o)-.5)})}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?O(C.call(t)):O(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:L,i):r===s},i},N=n("pDbJ"),I=n("mS5I"),j=function(t){function e(e){var n=t.call(this,e)||this;return n.chartMargin=new I.a(10,10,40,40),n}return r.d(e,t),e.build=function(t){return new e(t)},e}(N.a),z=n("K9Ia"),F=function(t){function e(e,n,r,i,o){var a=t.call(this,o)||this;return a.jobs=e,a.layout=n,a.dataService=r,a.sharedState=i,a}return r.d(e,t),e.prototype.dispose=function(){},e.prototype.canImportData=function(){return!1},e.prototype.canExportData=function(){return!1},e.prototype.canStackDiagonals=function(){return!1},e.prototype.importCsvData=function(t,e){},e.prototype.exportCsvData=function(){return Promise.resolve()},e.prototype.load=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return[4,this.dataService.extractVectorDataForJobs(f.a.Generic,this.layout,"ComponentSweeps",this.jobs)];case 1:if(!(t=e.sent()).zData)throw new Error("Z data not found.");return this.xData[0]=t.xData[0][0],this.xData[0].fullDomain=[S.minStrict(this.xData[0].values),S.maxStrict(this.xData[0].values)],this.yData=t.yData,this.yData[0].yMax=S.maxStrict(this.yData[0].values),this.yData[0].yMin=S.minStrict(this.yData[0].values),this.zData=t.zData,this.zData[0].zMax=S.maxStrict(this.zData[0].values),this.zData[0].zMin=S.minStrict(this.zData[0].values),console.log("zData min: "+this.zData[0].zMin),console.log("zData max: "+this.zData[0].zMax),isNaN(this.zData[0].zMin)&&console.log("Oh no"),this.zData[0].yDomain.yMax=S.maxStrict(this.zData[0].yDomain.values),this.zData[0].yDomain.yMin=S.minStrict(this.zData[0].yDomain.values),[2]}})})},e.prototype.getLayout=function(){return this.layout},e.prototype.setLayout=function(){return this.reBuild()},e.prototype.getEditChannelsTypes=function(){return[]},e.prototype.getEditChannelsOptions=function(t){return Promise.resolve(void 0)},e.prototype.setEditChannelsResult=function(t,e){return Promise.resolve()},e}(function(){function t(t){this.siteHooks=t,this.errorEvent=new z.a,this.svgHeight=400,this.xData=[],this.yData=[],this.zData=[],this.xs=S.scaleLinear(),this.ys=S.scaleLinear(),this.zsLin=S.scaleLinear(),this.xActiveIndex=0,this.NLengthOfColourBar=100,this.NWidthOfColourBar=4,this.NLevels=25,this.rMaxMaxTopLevel=1e-6}return t.prototype.reBuild=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){switch(t.label){case 0:return this.select().selectAll("*").remove(),[4,this.build(this.elementId)];case 1:return t.sent(),[2]}})})},t.prototype.build=function(t){return r.b(this,void 0,void 0,function(){var e,n,o,a,s,u,c,l,h,f,p,m,g,v,y,b,w,_,x,M,C,E,T=this;return r.e(this,function(r){switch(r.label){case 0:return this.elementId=t,this.settings=j.build(1),this.sharedState&&(this.settings.sourceCount=this.sharedState.sourceLoaderSet.sources.length,this.sourceLoaderSetChangedSubscription||(this.sourceLoaderSetChangedSubscription=this.sharedState.sourceLoaderSet.changed.subscribe(function(t){T.settings.sourceCount=T.sharedState.sourceLoaderSet.sources.length}))),this.settings.svgSize=i.b.getRequiredSvgSize(this.elementId,this.settings.svgSize),this.parent=this.select().append("div").attr("class","contour-viewer-container"),[4,this.load()];case 1:for(r.sent(),e=this.parent.append("div").append("svg").attr("class","contour-viewer").attr("width",this.settings.svgSize.width).attr("height",this.settings.svgSize.height).attr("id","svg").attr("transform","translate("+this.settings.svgPadding.left+","+this.settings.svgPadding.top+")"),this.svg=e,n=+this.svg.attr("height")-this.settings.chartMargin.top-this.settings.chartMargin.bottom,o=+this.svg.attr("width")-this.settings.chartMargin.left-this.settings.chartMargin.right-n*(this.NWidthOfColourBar/this.NLengthOfColourBar)-1.5*this.settings.legend.valueWidth,a=o/this.xData[0].values.length,s=n/this.zData[0].yDomain.values.length,this.conWidth=o,this.conHeight=n,u=S.scaleLinear().domain([this.zData[0].zMin,this.zData[0].zMax]).range([d.a,d.g]).interpolate(S.interpolateHcl),this.xs=S.scaleLinear().domain(this.xData[0].fullDomain).range([0,this.conWidth]),this.ys=S.scaleLinear().domain([this.zData[0].yDomain.yMin,this.zData[0].yDomain.yMax]).range([this.conHeight,0]),this.zsLin=S.scaleLinear().domain([this.zData[0].zMin,this.zData[0].zMax]).range([this.conHeight,0]),this.zData[0].zMin>(1-this.rMaxMaxTopLevel)*this.zData[0].zMax&&(this.NLevels=2,u.range([d.g,d.g])),c=e.append("g").attr("class","chart-area").attr("transform","translate("+this.settings.chartMargin.left+","+this.settings.chartMargin.top+")"),l=D().size([this.xData[0].values.length,this.zData[0].yDomain.values.length]).thresholds(this.NLevels)(this.zData[0].values),h=c.append("g").attr("class","contour").selectAll("path").data(l),f=S.geoProjection(function(t,e){return[a*t,s*e]}).translate([0,0]).fitSize([this.conWidth,this.conHeight],l[0]),h.enter().append("path").attr("d",S.geoPath(f)).attr("fill",function(t){return u(t.value)}),(p=this.svg.append("g").attr("class","xAxes").attr("transform","translate("+this.settings.chartMargin.left+","+(this.settings.chartMargin.top+this.conHeight)+")")).append("g").attr("class","axis").call(this.makeXAxis()),p.append("text").attr("class","label").attr("x",this.conWidth/2).attr("y",0).attr("dy",30).attr("text-anchor","middle").text(this.xAxisLabel()),(m=this.svg.append("g").attr("class","yAxes").attr("transform","translate("+this.settings.chartMargin.left+","+this.settings.chartMargin.top+")")).append("g").attr("class","axis").call(this.makeYAxis()),m.append("text").attr("class","label").attr("x",-this.conHeight/2).attr("y",0).attr("dy",-30).attr("text-anchor","middle").attr("transform","rotate(-90)").text(this.yAxisLabel()),g=e.append("g").attr("class","colourbar").attr("transform","translate("+(this.settings.chartMargin.left+this.conWidth+1.5*this.settings.legend.valueWidth)+","+this.settings.chartMargin.top+")"),v=S.range(this.zData[0].zMax,this.zData[0].zMin,(this.zData[0].zMin-this.zData[0].zMax)/this.NLengthOfColourBar),y=Array(this.NLengthOfColourBar*this.NWidthOfColourBar),b=0;b<this.NLengthOfColourBar;b++)for(w=0;w<this.NWidthOfColourBar;w++)y[b*this.NWidthOfColourBar+w]=v[b];for(console.log("Data length: "+y.length),console.log("Bar width: "+this.NWidthOfColourBar),console.log("Bar length: "+this.NLengthOfColourBar),console.log("Levels: "+this.NLevels),console.log("Z Scale Domain[0]: "+this.zsLin.domain()[0]),console.log("Z Scale Domain[1]: "+this.zsLin.domain()[1]),console.log("Z Scale Range[0]: "+this.zsLin.range()[0]),console.log("Z Scale Range[1]: "+this.zsLin.range()[1]),g.selectAll("path").data(D().size([this.NWidthOfColourBar,this.NLengthOfColourBar]).thresholds(this.NLevels)(y)).enter().append("path").attr("d",S.geoPath(S.geoIdentity().scale(this.conHeight/this.NLengthOfColourBar))).attr("fill",function(t){return u(t.value)}),(_=g.append("g").attr("class","zAxes")).append("g").attr("class","axis").call(this.makeZAxis().ticks(this.NLevels)),_.append("text").attr("class","label").attr("x",-this.conHeight/2).attr("y",0).attr("dy",-this.settings.legend.valueWidth).attr("text-anchor","middle").attr("transform","rotate(-90)").text(this.zAxisLabel()),x=function(t){var e=M.xData[M.xActiveIndex].values.map(function(e,n){return[e,t.values[n]]});c.append("path").data([e]).attr("d",S.line().x(function(t){return T.xs(t[0])}).y(function(t){return T.ys(t[1])}).curve(S.curveLinear)).style("stroke","black").attr("fill","none")},M=this,C=0,E=this.yData;C<E.length;C++)x(E[C]);return this.sharedState?this.windowResizeSubscription||(this.windowResizeSubscription=this.sharedState.windowResizeNews.subscribe(function(t){return T.resizeChart()})):window.onresize=function(t){return T.resizeChart()},[2]}})})},t.prototype.resizeChart=function(){this.reBuild()},t.prototype.makeXAxis=function(){var t=S.axisBottom(this.xs);if(1===this.xData.length&&this.xData[0].valueLabels){var e=this.xData[0];t.tickValues(S.range(e.valueLabels.length)),t.tickFormat(function(t,n){return e.valueLabels[n]})}return t},t.prototype.makeXGrid=function(){return this.makeXAxis().tickSize(-this.conHeight)},t.prototype.makeYAxis=function(){return S.axisLeft(this.ys)},t.prototype.makeZAxis=function(){return S.axisLeft(this.zsLin)},t.prototype.xAxisLabel=function(){return this.xData[this.xActiveIndex].name+" ("+this.xData[this.xActiveIndex].units+")"},t.prototype.yAxisLabel=function(){return this.yData[0]?this.yData[0].name+" ("+this.yData[0].units+")":this.zData[0].yDomain.name+" ("+this.zData[0].yDomain.units+")"},t.prototype.zAxisLabel=function(){return this.zData[0].name+" ("+this.zData[0].units+")"},t.prototype.select=function(t){return void 0===t&&(t=""),S.select("#"+this.elementId+" "+t)},t.prototype.selectAll=function(t){return void 0===t&&(t=""),S.selectAll("#"+this.elementId+" "+t)},t}()),V=n("JSrw"),B=n("48aD"),U=n("21LU"),H=n("Aze8");n.d(e,"b",function(){return G}),n.d(e,"a",function(){return W});var G=function(t){return t[t.all=0]="all",t[t.suspension=1]="suspension",t[t.tyreSlip=2]="tyreSlip",t[t.suspensionKinematics=3]="suspensionKinematics",t[t.powertrain=4]="powertrain",t}({}),W=function(t){function e(e,n,r,i,o,a){void 0===o&&(o=G.all),void 0===a&&(a=!1);var s=t.call(this,e,n,r,i)||this;return s.filter=o,s.showContourPlot=a,s.getJobSimTypeMetadata=new b.a,s.loadVectorMetadataMap=H.a.create(s.fileLoader,U.b.none),s}return r.d(e,t),e.prototype.build=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i,o,a,s,u,c,l,h,d,p,g,b,S,M,C,E,T,O,P,A,k,L,R,D,N,I,j,z,H,W,q,Y,X,Z,J,K,Q,$,tt=this;return r.e(this,function(et){switch(et.label){case 0:return e={channelNameStyle:f.a.Generic,sharedStates:[],views:[]},i=this.studyJobs[0].jobIndex,[4,this.fileLoader.loadStudyMetadata(n=this.studyJobs[0].studyId)];case 1:return o=et.sent(),a=Object(B.a)(o.simVersion),[4,this.getJobSimTypeMetadata.execute(n,i,this.simTypes,this.loadVectorMetadataMap)];case 2:return s=et.sent(),u=s.find(function(t){return"ComponentSweeps"===t.name}),c=new y.e,e.sharedStates.push(c),l=U.b.none,a>3374&&(l=new U.b([new U.a(["xRackFL","xRackFR"],"xRackF"),new U.a(["aRockerFL","aRockerFR","aRockerRL","aRockerRR","aRockerF","aRockerR"],"aRocker")])),u&&(h=this.studyJobs.map(function(t){return new w.b(_.a.create(tt.siteHooks,tt.fileLoader,t,"ComponentSweeps",l),!0)}),(t=c.sourceLoaderSet).add.apply(t,h)),d={x:0,y:0,width:this.studyJobs.length>5?12:6,height:8},this.filter!==G.all&&this.filter!==G.suspension||(T=d.width,d.width=12,d.height=8,e.views.push({title:"Suspension",viewerType:V.a,layout:void 0,viewer:V.b.create(this.siteHooks,c),grid:d}),(d=this.getNextGridSlot(d)).width=T),p=function(t,e){return t.replace(/([FR])_/,"$1"+e+"_")},g=function(t){return t.concat(t.map(function(t){return p(t,"L")}),t.map(function(t){return p(t,"R")}))},!u||this.filter!==G.all&&this.filter!==G.tyreSlip?[3,6]:(d.height=6,K={columns:[{channels:["aSlipTyre"],relativeSize:1}],rows:[{channels:g(["rMuyTyreF_Fz2kN","rMuyTyreF_Fz4kN","rMuyTyreF_Fz6kN","rMuyTyreF_Fz8kN","rMuyTyreR_Fz2kN","rMuyTyreR_Fz4kN","rMuyTyreR_Fz6kN","rMuyTyreR_Fz8kN"]),relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-TyreLateralSlip"),K)]);case 3:return Q=et.sent(),e.views.push({title:"Tyre Lateral Slip Behaviour",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("aSlipTyre",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),K={columns:[{channels:["rSlipTyre"],relativeSize:1}],rows:[{channels:g(["rMuxTyreF_Fz2kN","rMuxTyreF_Fz4kN","rMuxTyreF_Fz6kN","rMuxTyreF_Fz8kN","rMuxTyreR_Fz2kN","rMuxTyreR_Fz4kN","rMuxTyreR_Fz6kN","rMuxTyreR_Fz8kN"]),relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-TyreLongitudinalSlip"),K)];case 4:return Q=et.sent(),e.views.push({title:"Tyre Longitudinal Slip Behaviour",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("rSlipTyre",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),b=["rMuyOnEllipseAtaThetaF_Fz2kN","rMuyOnEllipseAtaThetaF_Fz4kN","rMuyOnEllipseAtaThetaF_Fz6kN","rMuyOnEllipseAtaThetaF_Fz8kN"],K={columns:g(["rMuxOnEllipseAtaThetaF_Fz2kN","rMuxOnEllipseAtaThetaF_Fz4kN","rMuxOnEllipseAtaThetaF_Fz6kN","rMuxOnEllipseAtaThetaF_Fz8kN"]).map(function(t){return{channels:[t],relativeSize:1}}),rows:g(b).map(function(t){return{channels:[t],relativeSize:1}}),stackDiagonalsHorizontally:!0,stackDiagonalsVertically:!0},[4,this.resolveViewerLayout(x.b,new v.c("Default-TyreEllipse"),K)];case 5:Q=et.sent(),S=d.width,M=d.height,d.width=12,d.height=10,e.views.push({title:"Tyre Ellipse",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("aSlipPlane",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),(d=this.getNextGridSlot(d)).width=S,d.height=M,et.label=6;case 6:return!u||this.filter!==G.all&&this.filter!==G.suspensionKinematics?[3,21]:a<=3374?(K={columns:[{channels:["aRockerF","xBumpF_aRockerF"],relativeSize:1}],rows:[{channels:["aCamberWheelF_aRockerF","aCasterWheelF_aRockerF","aToeWheelF_aRockerF","aKingPinInclinationF_aRockerF"],relativeSize:1},{channels:["xHubF_aRockerF"],relativeSize:1},{channels:["yHubF_aRockerF"],relativeSize:1},{channels:["xBumpF_aRockerF"],relativeSize:1},{channels:["xKinematicTrailF_aRockerF"],relativeSize:1},{channels:["xScrubRadiusF_aRockerF"],relativeSize:1},{channels:["hRollCentreF_aRockerF"],relativeSize:1},{channels:["rAntiRise_aRockerF"],relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-FrontExternalSuspensionKinematics-aRocker"),K)]):[3,12];case 7:return Q=et.sent(),e.views.push({title:"Front External Suspension Kinematics with aRocker",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("aRockerF",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),K={columns:[{channels:["xRackF"],relativeSize:1}],rows:[{channels:["aCamberWheelF_xRackF","aCasterWheelF_xRackF","aToeWheelF_xRackF","aKingPinInclinationF_xRackF"],relativeSize:1},{channels:["xHubF_xRackF"],relativeSize:1},{channels:["yHubF_xRackF"],relativeSize:1},{channels:["xBumpF_xRackF"],relativeSize:1},{channels:["xKinematicTrailF_xRackF"],relativeSize:1},{channels:["xScrubRadiusF_xRackF"],relativeSize:1},{channels:["hRollCentreF_xRackF"],relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-FrontExternalSuspensionKinematics-xRack"),K)];case 8:return Q=et.sent(),e.views.push({title:"Front External Suspension Kinematics with xRack",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("xRackF",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),K={columns:[{channels:["aRockerR","xBumpR_aRockerR"],relativeSize:1}],rows:[{channels:["aCamberWheelR_aRockerR","aCasterWheelR_aRockerR","aToeWheelR_aRockerR","aKingPinInclinationR_aRockerR"],relativeSize:1},{channels:["xHubR_aRockerR"],relativeSize:1},{channels:["yHubR_aRockerR"],relativeSize:1},{channels:["xBumpR_aRockerR"],relativeSize:1},{channels:["xKinematicTrailR_aRockerR"],relativeSize:1},{channels:["xScrubRadiusR_aRockerR"],relativeSize:1},{channels:["hRollCentreR_aRockerR"],relativeSize:1},{channels:["rAntiSquat_aRockerR"],relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-RearExternalSuspensionKinematics-aRocker"),K)];case 9:return Q=et.sent(),e.views.push({title:"Rear External Suspension Kinematics with aRocker",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("aRockerR",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),K={columns:[{channels:["aRockerF","xBumpF_aRockerF"],relativeSize:1}],rows:[{channels:["xSpringFR","xDamperFR","xInerterFR","xBumpStopFR"],relativeSize:1},{channels:["aTorsionBarTwistFR"],relativeSize:1},{channels:["xTriSpringF","xTriDamperF","xTriInerterF","xTriBumpStopF","xTriSpringFR","xTriDamperFR","xTriInerterFR","xTriBumpStopFR"],relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-FrontInternalSuspensionKinematics-aRocker"),K)];case 10:return Q=et.sent(),e.views.push({title:"Front Internal Suspension Kinematics with aRocker",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("aRockerF",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),K={columns:[{channels:["aRockerR","xBumpR_aRockerR"],relativeSize:1}],rows:[{channels:["xSpringRR","xDamperRR","xInerterRR","xBumpStopRR"],relativeSize:1},{channels:["aTorsionBarTwistRR"],relativeSize:1},{channels:["xTriSpringR","xTriDamperR","xTriInerterR","xTriBumpStopR","xTriSpringRR","xTriDamperRR","xTriInerterRR","xTriBumpStopRR"],relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-RearInternalSuspensionKinematics-aRocker"),K)];case 11:return Q=et.sent(),e.views.push({title:"Rear Internal Suspension Kinematics with aRocker",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("aRockerR",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),[3,21];case 12:C=function(t,e,n){this.domains=t,this.suffix=e,this.primaryDomain=n},E=["L","R"],T=d.width,O=d.height,d.width=12,d.height=12,P=[new C(["xRackF"],"F","xRackF"),new C(["aRockerF","xBumpF{side}_aRockerF"],"F","aRocker"),new C(["aRockerR","xBumpR{side}_aRockerR"],"R","aRocker")],A=function(t){var n,i;return r.e(this,function(r){switch(r.label){case 0:return n={columns:E.map(function(e){return{channels:t.domains.map(function(t){return(t+e).replace("{side}",e)}),relativeSize:1}}).slice(),rows:E.map(function(e){return{channels:["aCamberWheel"+t.suffix+e+"_"+t.domains[0]+e,"aCasterWheel"+t.suffix+e+"_"+t.domains[0]+e,"aToeWheel"+t.suffix+e+"_"+t.domains[0]+e,"aKingPinInclination"+t.suffix+e+"_"+t.domains[0]+e],relativeSize:1}}).concat(E.map(function(e){return{channels:["xHub"+t.suffix+e+"_"+t.domains[0]+e],relativeSize:1}}),E.map(function(e){return{channels:["yHub"+t.suffix+e+"_"+t.domains[0]+e],relativeSize:1}}),E.map(function(e){return{channels:["xBump"+t.suffix+e+"_"+t.domains[0]+e],relativeSize:1}}),E.map(function(e){return{channels:["xKinematicTrail"+t.suffix+e+"_"+t.domains[0]+e],relativeSize:1}}),E.map(function(e){return{channels:["xScrubRadius"+t.suffix+e+"_"+t.domains[0]+e],relativeSize:1}}),E.map(function(e){return{channels:["hRollCentre"+t.suffix+e+"_"+t.domains[0]+e],relativeSize:1}}),E.map(function(e){return t.domains[0].startsWith("aRockerF")?{channels:["rAntiRise_"+t.domains[0]+e],relativeSize:1}:t.domains[0].startsWith("aRockerR")?{channels:["rAntiSquat_"+t.domains[0]+e],relativeSize:1}:void 0})),stackDiagonalsHorizontally:!0},[4,k.resolveViewerLayout(x.b,new v.c("Default-ExternalSuspensionKinematics-"+t.domains[0]),n)];case 1:return i=r.sent(),e.views.push({title:"External Suspension Kinematics with "+t.domains[0],viewerType:x.b,layout:i,viewer:x.a.createLinePlotViewer(t.primaryDomain,i.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,k.siteHooks),grid:d}),d=k.getNextGridSlot(d),[2]}})},k=this,L=0,R=P,et.label=13;case 13:return L<R.length?[5,A(R[L])]:[3,16];case 14:et.sent(),et.label=15;case 15:return L++,[3,13];case 16:d.width=12,d.height=8,D=[new C(["aRockerF","xBumpF{side}_aRockerF"],"F","aRocker"),new C(["aRockerR","xBumpR{side}_aRockerR"],"R","aRocker")],N=function(t){var n,i;return r.e(this,function(r){switch(r.label){case 0:return n={columns:E.map(function(e){return{channels:t.domains.map(function(t){return(t+e).replace("{side}",e)}),relativeSize:1}}).slice(),rows:E.map(function(e){return{channels:["xSpring"+t.suffix+e,"xDamper"+t.suffix+e,"xInerter"+t.suffix+e,"xBumpStop"+t.suffix+e],relativeSize:1}}).concat(E.map(function(e){return{channels:["aTorsionBarTwist"+t.suffix+e],relativeSize:1}}),E.map(function(e){return{channels:["xTriSpring"+t.suffix,"xTriDamper"+t.suffix,"xTriInerter"+t.suffix,"xTriBumpStop"+t.suffix],relativeSize:1}})),stackDiagonalsHorizontally:!0},[4,I.resolveViewerLayout(x.b,new v.c("Default-InternalSuspensionKinematics-"+t.domains[0]),n)];case 1:return i=r.sent(),e.views.push({title:"Internal Suspension Kinematics with "+t.domains[0],viewerType:x.b,layout:i,viewer:x.a.createLinePlotViewer(t.primaryDomain,i.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,I.siteHooks),grid:d}),d=I.getNextGridSlot(d),[2]}})},I=this,j=0,z=D,et.label=17;case 17:return j<z.length?[5,N(z[j])]:[3,20];case 18:et.sent(),et.label=19;case 19:return j++,[3,17];case 20:d.width=T,d.height=O,et.label=21;case 21:return!u||this.filter!==G.all&&this.filter!==G.powertrain?[3,29]:(d.height=8,H=u.channelNames.filter(function(t){return t.startsWith("MEngine")}),W=u.channelNames.filter(function(t){return t.startsWith("M")&&!t.startsWith("MEngine")&&!t.endsWith("EfficiencyBasis")}),q=W.map(function(t){return t.slice(1,t.length)}),H.length?(K={columns:[{channels:["nEngine"],relativeSize:1}],rows:[{channels:H,relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-EngineTorqueOverFullEngineSpeedRange"),K,!0)]):[3,23]);case 22:Q=et.sent(),e.views.push({title:"Engine Torque Over Full Engine Speed Range",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("nEngine",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),et.label=23;case 23:return W.length?(K={columns:[{channels:["nMotor"],relativeSize:1}],rows:[{channels:W,relativeSize:1}]},[4,this.resolveViewerLayout(x.b,new v.c("Default-MotorTorqueOverFullMotorSpeedRange"),K,!0)]):[3,25];case 24:Q=et.sent(),e.views.push({title:"Motor Torque Over Full Motor Speed Range",viewerType:x.b,layout:Q,viewer:x.a.createLinePlotViewer("nMotor",Q.resolvedLayout.getConfigCopy(),e.channelNameStyle,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),et.label=25;case 25:if(!this.showContourPlot||!q.length)return[3,29];Y=new m(s.map(function(t){return t.name}),this.fileLoader,this.siteHooks),X=0,Z=q,et.label=26;case 26:return X<Z.length?(K={xDomains:["nMotor"],panes:[{channels:["M"+(J=Z[X])],relativeSize:1,background:{yDomain:"M"+J+"EfficiencyBasis",channel:"e"+J+"Deployment"}}]},[4,this.resolveViewerLayout("lineContourOverlayViewer",new v.c("Default-MotorTorqueAndEfficiency"),K,!0)]):[3,29];case 27:Q=et.sent(),e.views.push({title:J+" Torque and Efficiency",viewerType:"lineContourOverlayViewer",layout:Q,viewer:new F(this.studyJobs,Q.resolvedLayout.getConfigCopy(),Y,c,this.siteHooks),grid:d}),d=this.getNextGridSlot(d),et.label=28;case 28:return X++,[3,26];case 29:return 1===e.views.length&&(($=e.views[0]).grid={x:0,y:0,width:12,height:$.grid.height}),[2,e]}})})},e}(g.a)},lFWV:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("gozj"),i=function(t,e){void 0===e&&(e=[]),this.primary=t,this.fallback=e},o=function(){function t(t,e,n){this._layoutId=t,this._name=e,this._config=n}return Object.defineProperty(t.prototype,"layoutId",{get:function(){return this._layoutId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.getConfigCopy=function(){return r.b.deepClone(this._config)},Object.defineProperty(t.prototype,"hasConfig",{get:function(){return!!this._config},enumerable:!0,configurable:!0}),t}(),a=function(){function t(t,e){this.name=t,this.description=e}return t.prototype.getSourceData=function(){return{}},t}()},lf6A:function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("K9Ia"),a=n("p0ib"),s=n("6blF"),u=n("MGBS"),c=n("zotm");function l(t){return function(e){return e.lift(new h(t))}}var h=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new f(t),r=Object(c.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),f=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r.d(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(u.a),d=n("S1nX"),p=n("VnD/"),m=n("T1DM"),g=n("Ehmk"),v=n("eihs"),y=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new b(t,this.durationSelector))},t}(),b=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.d(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=Object(g.a)(this.durationSelector)(t);if(e===v.a)this.destination.error(v.a.e);else{var n=Object(c.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(u.a),w=n("gI3B"),_=n("psW0"),x=n("t9fZ"),S=n("67Y/"),M=n("FFOo"),C=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new E(t))},t}(),E=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r.d(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(M.a);function T(t,e,n){return void 0===n&&(n=3),Math.abs(t-e)<n}function O(t,e,n,r){var i={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return e.top&&(i.top+=r),e.bottom&&(i.bottom+=r),e.left&&(i.left+=n),e.right&&(i.right+=n),i.height=i.bottom-i.top,i.width=i.right-i.left,i}function P(t){var e=t.clientY,n=t.rect;return e>=n.top&&e<=n.bottom}function A(t){var e=t.clientX,n=t.rect;return e>=n.left&&e<=n.right}function k(t){var e=t.clientX,n=t.clientY,r=t.allowedEdges,i=t.cursorPrecision,o=t.elm.nativeElement.getBoundingClientRect(),a={};return r.left&&T(e,o.left,i)&&P({clientY:n,rect:o})&&(a.left=!0),r.right&&T(e,o.right,i)&&P({clientY:n,rect:o})&&(a.right=!0),r.top&&T(n,o.top,i)&&A({clientX:e,rect:o})&&(a.top=!0),r.bottom&&T(n,o.bottom,i)&&A({clientX:e,rect:o})&&(a.bottom=!0),a}n.d(e,"a",function(){return N}),n.d(e,"b",function(){return j});var L=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function R(t,e){return t.left&&t.top?e.topLeft:t.right&&t.top?e.topRight:t.left&&t.bottom?e.bottomLeft:t.right&&t.bottom?e.bottomRight:t.left||t.right?e.leftOrRight:t.top||t.bottom?e.topOrBottom:""}function D(t){var e=t.initialRectangle,n=t.newRectangle,r={};return Object.keys(t.edges).forEach(function(t){r[t]=(n[t]||0)-(e[t]||0)}),r}var N=function(){function t(t,e,n){this.renderer=t,this.elm=e,this.zone=n,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=L,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.resizeStart=new i.n,this.resizing=new i.n,this.resizeEnd=new i.n,this.mouseup=new o.a,this.mousedown=new o.a,this.mousemove=new o.a,this.destroy$=new o.a,this.pointerEventListeners=I.getInstance(t,n)}return t.prototype.ngOnInit=function(){var t,e=this;this.pointerEventListeners.pointerDown.pipe(l(this.destroy$)).subscribe(function(t){e.mousedown.next({clientX:t.clientX,clientY:t.clientY})}),this.pointerEventListeners.pointerMove.pipe(l(this.destroy$)).subscribe(function(t){e.mousemove.next({clientX:t.clientX,clientY:t.clientY,event:t.event})}),this.pointerEventListeners.pointerUp.pipe(l(this.destroy$)).subscribe(function(t){e.mouseup.next({clientX:t.clientX,clientY:t.clientY})});var n,i,o=function(){t&&t.clonedNode&&(e.elm.nativeElement.parentElement.removeChild(t.clonedNode),e.renderer.setStyle(e.elm.nativeElement,"visibility","inherit"))},s=this.mousemove.pipe(Object(d.a)());s.pipe(Object(p.a)(function(){return!!t})).subscribe(function(t){t.event.preventDefault()}),s.pipe((50,void 0===n&&(n=m.a),i=function(){return Object(w.a)(50,n)},function(t){return t.lift(new y(i))})).subscribe(function(n){var r=k({clientX:n.clientX,clientY:n.clientY,elm:e.elm,allowedEdges:e.resizeEdges,cursorPrecision:e.resizeCursorPrecision}),i=Object.assign({},L,e.resizeCursors);if(t){var o=R(t.edges,i);e.renderer.setStyle(document.body,"cursor",o)}else o=R(r,i),e.renderer.setStyle(e.elm.nativeElement,"cursor",o);e.setElementClass(e.elm,"resize-active",!!t),e.setElementClass(e.elm,"resize-left-hover",!0===r.left),e.setElementClass(e.elm,"resize-right-hover",!0===r.right),e.setElementClass(e.elm,"resize-top-hover",!0===r.top),e.setElementClass(e.elm,"resize-bottom-hover",!0===r.bottom)}),this.mousedown.pipe(Object(_.a)(function(n){function i(t){return{clientX:t.clientX-n.clientX,clientY:t.clientY-n.clientY}}var o=function(){var n={x:1,y:1};return t&&(e.resizeSnapGrid.left&&t.edges.left?n.x=+e.resizeSnapGrid.left:e.resizeSnapGrid.right&&t.edges.right&&(n.x=+e.resizeSnapGrid.right),e.resizeSnapGrid.top&&t.edges.top?n.y=+e.resizeSnapGrid.top:e.resizeSnapGrid.bottom&&t.edges.bottom&&(n.y=+e.resizeSnapGrid.bottom)),n};function u(t,e){return{x:Math.ceil(t.clientX/e.x),y:Math.ceil(t.clientY/e.y)}}return Object(a.a)(s.pipe(Object(x.a)(1)).pipe(Object(S.a)(function(t){return[,t]})),s.pipe(function(t){return t.lift(new C)})).pipe(Object(S.a)(function(t){var e=Object(r.h)(t,2),n=e[0],o=e[1];return[n?i(n):n,i(o)]})).pipe(Object(p.a)(function(t){var e=Object(r.h)(t,2),n=e[0],i=e[1];if(!n)return!0;var a=o(),s=u(n,a),c=u(i,a);return s.x!==c.x||s.y!==c.y})).pipe(Object(S.a)(function(t){var e=Object(r.h)(t,2)[1],n=o();return{clientX:Math.round(e.clientX/n.x)*n.x,clientY:Math.round(e.clientY/n.y)*n.y}})).pipe(l(Object(a.a)(e.mouseup,e.mousedown)))})).pipe(Object(p.a)(function(){return!!t})).pipe(Object(S.a)(function(e){return O(t.startingRect,t.edges,e.clientX,e.clientY)})).pipe(Object(p.a)(function(t){return e.allowNegativeResizes||!!(t.height&&t.width&&t.height>0&&t.width>0)})).pipe(Object(p.a)(function(n){return!e.validateResize||e.validateResize({rectangle:n,edges:D({edges:t.edges,initialRectangle:t.startingRect,newRectangle:n})})})).subscribe(function(n){t&&t.clonedNode&&(e.renderer.setStyle(t.clonedNode,"height",n.height+"px"),e.renderer.setStyle(t.clonedNode,"width",n.width+"px"),e.renderer.setStyle(t.clonedNode,"top",n.top+"px"),e.renderer.setStyle(t.clonedNode,"left",n.left+"px")),e.zone.run(function(){e.resizing.emit({edges:D({edges:t.edges,initialRectangle:t.startingRect,newRectangle:n}),rectangle:n})}),t.currentRect=n}),this.mousedown.pipe(Object(S.a)(function(t){return t.edges||k({clientX:t.clientX,clientY:t.clientY,elm:e.elm,allowedEdges:e.resizeEdges,cursorPrecision:e.resizeCursorPrecision})})).pipe(Object(p.a)(function(t){return Object.keys(t).length>0})).subscribe(function(n){t&&o();var r=function(t,e){var n=0,r=0,i=t.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(function(t){return i[t]}).find(function(t){return!!t});if(o&&o.includes("translate")&&(n=o.replace(/.*translate\((.*)px, (.*)px\).*/,"$1"),r=o.replace(/.*translate\((.*)px, (.*)px\).*/,"$2")),"absolute"===e)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-r,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-r,left:t.nativeElement.offsetLeft-n,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-n};var a=t.nativeElement.getBoundingClientRect();return{height:a.height,width:a.width,top:a.top-r,bottom:a.bottom-r,left:a.left-n,right:a.right-n,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}(e.elm,e.ghostElementPositioning);if(t={edges:n,startingRect:r,currentRect:r},e.enableGhostResize){t.clonedNode=e.elm.nativeElement.cloneNode(!0);var i=Object.assign({},L,e.resizeCursors);e.elm.nativeElement.parentElement.appendChild(t.clonedNode),e.renderer.setStyle(e.elm.nativeElement,"visibility","hidden"),e.renderer.setStyle(t.clonedNode,"position",e.ghostElementPositioning),e.renderer.setStyle(t.clonedNode,"left",t.startingRect.left+"px"),e.renderer.setStyle(t.clonedNode,"top",t.startingRect.top+"px"),e.renderer.setStyle(t.clonedNode,"height",t.startingRect.height+"px"),e.renderer.setStyle(t.clonedNode,"width",t.startingRect.width+"px"),e.renderer.setStyle(t.clonedNode,"cursor",R(t.edges,i)),e.renderer.addClass(t.clonedNode,"resize-ghost-element"),t.clonedNode.scrollTop=t.startingRect.scrollTop,t.clonedNode.scrollLeft=t.startingRect.scrollLeft}e.zone.run(function(){e.resizeStart.emit({edges:D({edges:n,initialRectangle:r,newRectangle:r}),rectangle:O(r,{},0,0)})})}),this.mouseup.subscribe(function(){t&&(e.renderer.removeClass(e.elm.nativeElement,"resize-active"),e.renderer.setStyle(document.body,"cursor",""),e.renderer.setStyle(e.elm.nativeElement,"cursor",""),e.zone.run(function(){e.resizeEnd.emit({edges:D({edges:t.edges,initialRectangle:t.startingRect,newRectangle:t.currentRect}),rectangle:t.currentRect})}),o(),t=null)})},t.prototype.ngOnDestroy=function(){this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()},t.prototype.setElementClass=function(t,e,n){n?this.renderer.addClass(t.nativeElement,e):this.renderer.removeClass(t.nativeElement,e)},t}(),I=function(){function t(t,e){this.pointerDown=new s.a(function(n){var r,i;return e.runOutsideAngular(function(){r=t.listen("document","mousedown",function(t){n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchstart",function(t){n.next({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,event:t})})}),function(){r(),i()}}).pipe(Object(d.a)()),this.pointerMove=new s.a(function(n){var r,i;return e.runOutsideAngular(function(){r=t.listen("document","mousemove",function(t){n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchmove",function(t){n.next({clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY,event:t})})}),function(){r(),i()}}).pipe(Object(d.a)()),this.pointerUp=new s.a(function(n){var r,i,o;return e.runOutsideAngular(function(){r=t.listen("document","mouseup",function(t){n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchend",function(t){n.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})}),o=t.listen("document","touchcancel",function(t){n.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})})}),function(){r(),i(),o()}}).pipe(Object(d.a)())}return t.getInstance=function(e,n){return t.instance||(t.instance=new t(e,n)),t.instance},t}(),j=function(){}},liD0:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(){function t(){}return t.getDistinctRequestableChannels=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h;return r.e(this,function(r){switch(r.label){case 0:i=[],o=new Set,a=0,s=t,r.label=1;case 1:return a<s.length?[4,s[a].getRequestableChannels(e,n)]:[3,4];case 2:for(u=r.sent(),c=0,l=u;c<l.length;c++)o.has((h=l[c]).name)||(o.add(h.name),i.push(h));r.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})},t}()},lrVJ:function(t,e){t.exports={cjkRegex:/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,hangulRegex:/[\uAC00-\uD7AF]/}},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mMBe:function(t,e,n){"use strict";var r=n("mrSG"),i=n("eh5z"),o=n("pDbJ"),a=n("mS5I"),s=function(t){function e(e){var n=t.call(this,e)||this;return n.svgPadding=new a.a(5,5,18,5),n}return r.d(e,t),e.build=function(t){return new e(t)},Object.defineProperty(e.prototype,"spaceBetweenPlots",{get:function(){return 6},enumerable:!0,configurable:!0}),e}(o.a),u=n("Womt"),c=n("XTo3"),l=n("TDx+"),h=n("LXWq"),f=n("oaYw");function d(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a,s,u,c,l,h,f,d,p,m,g,v=t._root,y={data:i},b=t._x0,w=t._y0,_=t._z0,x=t._x1,S=t._y1,M=t._z1;if(!v)return t._root=y,t;for(;v.length;)if((f=e>=(a=(b+x)/2))?b=a:x=a,(d=n>=(s=(w+S)/2))?w=s:S=s,(p=r>=(u=(_+M)/2))?_=u:M=u,o=v,!(v=v[m=p<<2|d<<1|f]))return o[m]=y,t;if(c=+t._x.call(null,v.data),l=+t._y.call(null,v.data),h=+t._z.call(null,v.data),e===c&&n===l&&r===h)return y.next=v,o?o[m]=y:t._root=y,t;do{o=o?o[m]=new Array(8):t._root=new Array(8),(f=e>=(a=(b+x)/2))?b=a:x=a,(d=n>=(s=(w+S)/2))?w=s:S=s,(p=r>=(u=(_+M)/2))?_=u:M=u}while((m=p<<2|d<<1|f)==(g=(h>=u)<<2|(l>=s)<<1|c>=a));return o[g]=v,o[m]=y,t}var p=function(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a};function m(t){return t[0]}function g(t){return t[1]}function v(t){return t[2]}function y(t,e,n,r){var i=new b(null==e?m:e,null==n?g:n,null==r?v:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function b(t,e,n,r,i,o,a,s,u){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=u,this._root=void 0}function w(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var _=y.prototype=b.prototype;_.copy=function(){var t,e,n=new b(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=w(r),n;for(t=[{source:r,target:n._root=new Array(8)}];r=t.pop();)for(var i=0;i<8;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(8)}):r.target[i]=w(e));return n},_.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return d(this.cover(e,n,r),e,n,r,t)},_.addAll=function(t){var e,n,r,i,o,a=t.length,s=new Array(a),u=new Array(a),c=new Array(a),l=1/0,h=1/0,f=1/0,p=-1/0,m=-1/0,g=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||isNaN(o=+this._z.call(null,e))||(s[n]=r,u[n]=i,c[n]=o,r<l&&(l=r),r>p&&(p=r),i<h&&(h=i),i>m&&(m=i),o<f&&(f=o),o>g&&(g=o));for(p<l&&(l=this._x0,p=this._x1),m<h&&(h=this._y0,m=this._y1),g<f&&(f=this._z0,g=this._z1),this.cover(l,h,f).cover(p,m,g),n=0;n<a;++n)d(this,s[n],u[n],c[n],t[n]);return this},_.cover=function(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,u=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1,u=(o=Math.floor(n))+1;else{if(!(r>t||t>a||i>e||e>s||o>n||n>u))return this;var c,l,h=a-r,f=this._root;switch(l=(n<(o+u)/2)<<2|(e<(i+s)/2)<<1|t<(r+a)/2){case 0:do{(c=new Array(8))[l]=f,f=c}while(s=i+(h*=2),u=o+h,t>(a=r+h)||e>s||n>u);break;case 1:do{(c=new Array(8))[l]=f,f=c}while(s=i+(h*=2),u=o+h,(r=a-h)>t||e>s||n>u);break;case 2:do{(c=new Array(8))[l]=f,f=c}while(i=s-(h*=2),u=o+h,t>(a=r+h)||i>e||n>u);break;case 3:do{(c=new Array(8))[l]=f,f=c}while(i=s-(h*=2),u=o+h,(r=a-h)>t||i>e||n>u);break;case 4:do{(c=new Array(8))[l]=f,f=c}while(s=i+(h*=2),o=u-h,t>(a=r+h)||e>s||o>n);break;case 5:do{(c=new Array(8))[l]=f,f=c}while(s=i+(h*=2),o=u-h,(r=a-h)>t||e>s||o>n);break;case 6:do{(c=new Array(8))[l]=f,f=c}while(i=s-(h*=2),o=u-h,t>(a=r+h)||i>e||o>n);break;case 7:do{(c=new Array(8))[l]=f,f=c}while(i=s-(h*=2),o=u-h,(r=a-h)>t||i>e||o>n)}this._root&&this._root.length&&(this._root=f)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=u,this},_.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},_.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},_.find=function(t,e,n,r){var i,o,a,s,u,c,l,h,f,d=this._x0,m=this._y0,g=this._z0,v=this._x1,y=this._y1,b=this._z1,w=[],_=this._root;for(_&&w.push(new p(_,d,m,g,v,y,b)),null==r?r=1/0:(d=t-r,m=e-r,g=n-r,v=t+r,y=e+r,b=n+r,r*=r);h=w.pop();)if(!(!(_=h.node)||(o=h.x0)>v||(a=h.y0)>y||(s=h.z0)>b||(u=h.x1)<d||(c=h.y1)<m||(l=h.z1)<g))if(_.length){var x=(o+u)/2,S=(a+c)/2,M=(s+l)/2;w.push(new p(_[7],x,S,M,u,c,l),new p(_[6],o,S,M,x,c,l),new p(_[5],x,a,M,u,S,l),new p(_[4],o,a,M,x,S,l),new p(_[3],x,S,s,u,c,M),new p(_[2],o,S,s,x,c,M),new p(_[1],x,a,s,u,S,M),new p(_[0],o,a,s,x,S,M)),(f=(n>=M)<<2|(e>=S)<<1|t>=x)&&(h=w[w.length-1],w[w.length-1]=w[w.length-1-f],w[w.length-1-f]=h)}else{var C=t-+this._x.call(null,_.data),E=e-+this._y.call(null,_.data),T=n-+this._z.call(null,_.data),O=C*C+E*E+T*T;if(O<r){var P=Math.sqrt(r=O);d=t-P,m=e-P,g=n-P,v=t+P,y=e+P,b=n+P,i=_.data}}return i},_.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t))||isNaN(s=+this._z.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g=this._root,v=this._x0,y=this._y0,b=this._z0,w=this._x1,_=this._y1,x=this._z1;if(!g)return this;if(g.length)for(;;){if((h=o>=(u=(v+w)/2))?v=u:w=u,(f=a>=(c=(y+_)/2))?y=c:_=c,(d=s>=(l=(b+x)/2))?b=l:x=l,e=g,!(g=g[p=d<<2|f<<1|h]))return this;if(!g.length)break;(e[p+1&7]||e[p+2&7]||e[p+3&7]||e[p+4&7]||e[p+5&7]||e[p+6&7]||e[p+7&7])&&(n=e,m=p)}for(;g.data!==t;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):e?(i?e[p]=i:delete e[p],(g=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&g===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=i,this)},_.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},_.root=function(){return this._root},_.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},_.visit=function(t){var e,n,r,i,o,a,s,u,c=[],l=this._root;for(l&&c.push(new p(l,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=c.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.z0,a=e.x1,s=e.y1,u=e.z1)&&l.length){var h=(r+a)/2,f=(i+s)/2,d=(o+u)/2;(n=l[7])&&c.push(new p(n,h,f,d,a,s,u)),(n=l[6])&&c.push(new p(n,r,f,d,h,s,u)),(n=l[5])&&c.push(new p(n,h,i,d,a,f,u)),(n=l[4])&&c.push(new p(n,r,i,d,h,f,u)),(n=l[3])&&c.push(new p(n,h,f,o,a,s,d)),(n=l[2])&&c.push(new p(n,r,f,o,h,s,d)),(n=l[1])&&c.push(new p(n,h,i,o,a,f,d)),(n=l[0])&&c.push(new p(n,r,i,o,h,f,d))}return this},_.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new p(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.z0,c=e.x1,l=e.y1,h=e.z1,f=(a+c)/2,d=(s+l)/2,m=(u+h)/2;(o=i[0])&&n.push(new p(o,a,s,u,f,d,m)),(o=i[1])&&n.push(new p(o,f,s,u,c,d,m)),(o=i[2])&&n.push(new p(o,a,d,u,f,l,m)),(o=i[3])&&n.push(new p(o,f,d,u,c,l,m)),(o=i[4])&&n.push(new p(o,a,s,m,f,d,h)),(o=i[5])&&n.push(new p(o,f,s,m,c,d,h)),(o=i[6])&&n.push(new p(o,a,d,m,f,l,h)),(o=i[7])&&n.push(new p(o,f,d,m,c,l,h))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this},_.x=function(t){return arguments.length?(this._x=t,this):this._x},_.y=function(t){return arguments.length?(this._y=t,this):this._y},_.z=function(t){return arguments.length?(this._z=t,this):this._z};var x=n("tnqf"),S=n("d7hM"),M=n("Cjpe"),C=n("gozj"),E=function(){function t(t,e,n){this.x=t,this.y=e,this.z=n}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.z},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"worldZ",{get:function(){return-this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"worldVector",{get:function(){return new u.Vector3(this.worldX,this.worldY,this.worldZ)},enumerable:!0,configurable:!0}),t.prototype.asVector3=function(){return new u.Vector3(this.x,this.y,this.z)},t}(),T=(new(function(){function t(){}return t.prototype.fromArray=function(t){return new E(t[0],t[1],t[2])},t.prototype.fromWorldVector=function(t){return new E(t.x,-t.z,t.y)},t}()),n("JW5y")),O=function(){return function(t,e,n,r,o,a,s,u,c){this.innerEdge=t,this.outerEdge=e,this.centreLine=n,this.carPath=r,this.carNormals=o,this.sLap=a,this.sLapCentreLine=s,this.isFigureOfEight=u,this.startFinishOffset=c;var l=-i.minStrict([t,e,r].filter(function(t){return t.trackCoordinates.length}).map(function(t){return t.minHeight}));this.innerEdge.adjustWorldElevationCoordinates(1,l),this.outerEdge.adjustWorldElevationCoordinates(1,l),this.centreLine.adjustWorldElevationCoordinates(1,l),this.carPath.adjustWorldElevationCoordinates(1,l)}}(),P=function(){function t(t){if(this.trackCoordinates=t,this._minHeight=0,this._maxHeight=0,this._elevationOffset=0,this._elevationScale=1,this.vertices=this.trackCoordinates.reduce(function(t,e,n){var r=3*n;return t[r]=e.worldX,t[r+1]=e.worldY,t[r+2]=e.worldZ,t},new Float32Array(3*this.trackCoordinates.length)),t.length){this._minHeight=this._maxHeight=t[0].worldY;for(var e=0,n=t;e<n.length;e++){var r=n[e].worldY;r>this._maxHeight&&(this._maxHeight=r),r<this._minHeight&&(this._minHeight=r)}}}return Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elevationOffset",{get:function(){return this._elevationOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elevationScale",{get:function(){return this._elevationScale},enumerable:!0,configurable:!0}),t.prototype.cloneRange=function(e,n){for(var r=new Array(n),i=e,o=0;o<n&&i<this.trackCoordinates.length;++o,++i)r[o]=this.trackCoordinates[i];var a=new t(r);return a.adjustWorldElevationCoordinates(this._elevationScale,this._elevationOffset),a},t.prototype.getWorldCoordinate=function(t){var e=this.trackCoordinates[t];if(!e)return L();var n=e.worldVector;return n.setY((n.y+this._elevationOffset)*this._elevationScale),n},t.prototype.adjustWorldElevationCoordinates=function(t,e){this.resetWorldElevationCoordinates(),this._elevationScale=t,this._elevationOffset=e,this._minHeight=(this._minHeight+e)*t,this._maxHeight=(this._maxHeight+e)*t;for(var n=1;n<this.vertices.length;n+=3)this.vertices[n]=(this.vertices[n]+e)*t},t.prototype.resetWorldElevationCoordinates=function(){if(1!==this._elevationScale||0!==this._elevationOffset){this._minHeight=this._minHeight/this._elevationScale-this._elevationOffset,this._maxHeight=this._maxHeight/this._elevationScale-this._elevationOffset;for(var t=1;t<this.vertices.length;t+=3)this.vertices[t]=this.vertices[t]/this._elevationScale-this._elevationOffset;this._elevationScale=1,this._elevationOffset=0}},t}(),A=n("x4dx"),k=n("soU0"),L=function(){return new u.Vector3(0,0,0)},R=Math.PI/8,D=function(t){return t[t.auto=0]="auto",t[t.outline=1]="outline",t[t.centreLine=2]="centreLine",t[t.racingLine=3]="racingLine",t}({}),N=function(t){return t[t.OuterNext=0]="OuterNext",t[t.OuterPrevious=1]="OuterPrevious",t[t.InnerNext=2]="InnerNext",t[t.InnerPrevious=3]="InnerPrevious",t}({}),I=function(){function t(){}return t.prototype.execute=function(t,e){void 0===e&&(e=D.auto);var n=this.extractFromOutline(t),r=!Object(k.b)(n),o=n||{},a=this.getValidatedTrackCoordinates("left",o.xLeft,o.yLeft,o.zLeft),s=this.getValidatedTrackCoordinates("right",o.xRight,o.yRight,o.zRight);if(e!==D.outline)switch(e){case D.centreLine:this.applyFromCentreLine(t,o);break;case D.racingLine:this.applyFromRacingLine(t,o);break;default:this.applyFromCentreLine(t,o)||r||this.applyFromRacingLine(t,o)}var u=this.isTrackPeriodic(t),c=this.getValidatedTrackCoordinates("inner",o.xLeft,o.yLeft,o.zLeft),l=this.getValidatedTrackCoordinates("outer",o.xRight,o.yRight,o.zRight),h=this.getValidatedTrackCoordinates("centreLine",o.xCentreLine,o.yCentreLine,o.zCentreLine),f=this.getValidatedTrackCoordinates("car",o.xCar,o.yCar,o.zCar),d=!1,p=s,m=a,g=l,v=c;i.minStrict(c.map(function(t){return t.x}))<i.minStrict(l.map(function(t){return t.x}))?(i.maxStrict(c.map(function(t){return t.x}))<i.maxStrict(l.map(function(t){return t.x}))&&(d=!0),p=a,m=s,g=c,v=l):i.maxStrict(c.map(function(t){return t.x}))>i.maxStrict(l.map(function(t){return t.x}))&&(d=!0);for(var y=new M.a,b=0;b<f.length-1;b++)(isNaN(f[b].x)||isNaN(f[b].y)||f[b].x===f[b+1].x&&f[b].y===f[b+1].y)&&y.add(b);C.b.strip(y,f),u&&(this.wrapCoordinates(m),this.wrapCoordinates(p),this.wrapCoordinates(v),this.wrapCoordinates(g),this.wrapCoordinates(h),this.wrapCoordinates(f)),f.every(function(t){return 0===t.z})&&this.applyTrackElevation(m,p,v,g,h,f);var w=this.computeDistanceVector(f.length?f:g),_=[];h.length&&(_=this.computeDistanceVector(h));var x=this.findCarNormals(v,g,f),S=t.racingLine&&t.racingLine.sLap?t.racingLine.sLap[t.racingLine.sLap.length-1]:void 0;if(S){var E=w.findIndex(function(t){return t>S});-1!==E&&(f=f.slice(0,E),x=x.slice(0,E))}return new O(new P(v),new P(g),new P(h),new P(f),new P(x),w,_,d,this.getStartFinishOffset(t))},t.prototype.getStartFinishOffset=function(t){var e=t.startFinishOffset?+t.startFinishOffset:0;return isNaN(e)?0:e},t.prototype.computeDistanceVector=function(t){for(var e=[0],n=0;n<t.length-1;n++){var r=Math.sqrt(Math.pow(t[n+1].x-t[n].x,2)+Math.pow(t[n+1].y-t[n].y,2)+Math.pow(t[n+1].z-t[n].z,2));e.push(e[n]+r)}return e},t.prototype.findCarNormals=function(t,e,n){if(!n.length)return[];for(var r=new Array(n.length).fill(new E(0,0,1)),i=this.createOctree(t),o=this.createOctree(e),a=0;a<n.length;a+=10){var s=n[a],u=i.find(s.x,s.y,s.z),c=o.find(s.x,s.y,s.z);if(u&&c){var l=this.getDistance3D(u.coordinate,s),h=this.getDistance3D(c.coordinate,s),f=new j(u.coordinate,u.index,l),d=new j(c.coordinate,c.index,h),p=this.calculateNormalUsingTrackCoordinates(f,t,d,e);if(!p.equals(L())){p.normalize();for(var m=new E(p.x,p.y,p.z),g=0;g<10&&a+g<n.length;++g)r[a+g]=m;if(a>=10)for(g=1;g<10;++g){var v=g/10,y=1-v,b=r[a],w=r[a-10];r[a-10+g]=new E(b.x*v+w.x*y,b.y*v+w.y*y,b.z*v+w.z*y)}}}}return r},t.prototype.getAverageVector=function(t,e,n){for(var r=Math.min(e,n),i=Math.max(e,n),o=L(),a=0,s=r;s<=i;++s)s>=0&&s<t.length&&(o.add(t[s].asVector3()),++a);return 0===a?L():(o.divideScalar(a),o)},t.prototype.getReferenceVector=function(t,e,n,r,i){switch(i){case N.OuterNext:return this.getAverageVector(r,n.index+1,n.index+4);case N.OuterPrevious:return this.getAverageVector(r,n.index-1,n.index-4);case N.InnerNext:return this.getAverageVector(e,t.index+1,t.index+4);case N.InnerPrevious:return this.getAverageVector(e,t.index-1,t.index-4)}return L()},t.prototype.calculateNormalUsingTrackCoordinates=function(t,e,n,r){var i=new u.Vector3(t.coordinate.x,t.coordinate.y,t.coordinate.z),o=new u.Vector3(n.coordinate.x,n.coordinate.y,n.coordinate.z);if(i.equals(o))return L();for(var a=[],s=0,c=[N.OuterNext,N.OuterPrevious,N.InnerNext,N.InnerPrevious];s<c.length;s++){var l=c[s],h=L(),f=this.getReferenceVector(t,e,n,r,l),d=(new u.Vector3).subVectors(i,f),p=(new u.Vector3).subVectors(o,f),m=Math.abs(d.angleTo(p));m<R||Math.abs(m-Math.PI)<R||i.distanceTo(f)<.1||o.distanceTo(f)<.1||((h=(new u.Vector3).crossVectors(d,p)).z<0&&(h=(new u.Vector3).crossVectors(p,d)),h.equals(L())||(h.normalize(),a.push(h)))}if(0===a.length)return L();for(var g=L(),v=0,y=a;v<y.length;v++)g.add(y[v]);return g},t.prototype.calculateNormalUsingCarCoordinate=function(t,e,n,r){var i=new u.Vector3(n.coordinate.x,n.coordinate.y,n.coordinate.z),o=new u.Vector3(r.coordinate.x,r.coordinate.y,r.coordinate.z);if(i.equals(o))return L();for(var a=L(),s=t;a.equals(L())&&s<e.length;){var c=e[s],l=new u.Vector3(c.x,c.y,c.z),h=(new u.Vector3).subVectors(i,l),f=(new u.Vector3).subVectors(o,l),d=Math.abs(h.angleTo(f));d<R||Math.abs(d-Math.PI)<R||i.distanceTo(l)<.1||o.distanceTo(l)<.1?a=L():(a=(new u.Vector3).crossVectors(h,f)).z<0&&(a=(new u.Vector3).crossVectors(f,h)),++s}return a},t.prototype.applyTrackElevation=function(t,e,n,r,i,o){!t.length||!e.length||t.every(function(t){return 0===t.z})&&e.every(function(t){return 0===t.z})||(this.applyTrackElevationToPath(t,e,n),this.applyTrackElevationToPath(t,e,r),this.applyTrackElevationToPath(t,e,i),this.applyTrackElevationToPath(t,e,o))},t.prototype.applyTrackElevationToPath=function(t,e,n){for(var r=this.createQuadTree(t),i=this.createQuadTree(e),o=0;o<n.length;o+=10){var a=n[o],s=r.find(a.x,a.y),u=i.find(a.x,a.y);if(s&&u){var c=this.getDistance2D(s.coordinate,a),l=this.getDistance2D(u.coordinate,a),h=s.coordinate.z,f=c+l;f&&(h=s.coordinate.z*(1-c/f)+u.coordinate.z*(1-l/f));for(var d=0;d<10&&o+d<n.length;++d)if(h!==a.z){var p=n[o+d];n[o+d]=new E(p.x,p.y,h)}if(o>=10)for(d=1;d<10;++d){var m=d/10,g=n[o-10+d];n[o-10+d]=new E(g.x,g.y,n[o].z*m+n[o-10].z*(1-m))}}}},t.prototype.createQuadTree=function(t){return i.quadtree().x(function(t){return t.coordinate.x}).y(function(t){return t.coordinate.y}).addAll(t.map(function(t,e){return{coordinate:t,index:e}}).filter(function(t){return Object(A.a)(t.coordinate.x)&&Object(A.a)(t.coordinate.y)}))},t.prototype.createOctree=function(t){return y().x(function(t){return t.coordinate.x}).y(function(t){return t.coordinate.y}).z(function(t){return t.coordinate.z}).addAll(t.map(function(t,e){return{coordinate:t,index:e}}).filter(function(t){return Object(A.a)(t.coordinate.x)&&Object(A.a)(t.coordinate.y)&&Object(A.a)(t.coordinate.z)}))},t.prototype.getDistance2D=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},t.prototype.getDistance3D=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)},t.prototype.extractFromOutline=function(t){if(t.trackOutline&&!$.isEmptyObject(t.trackOutline))return{xLeft:t.trackOutline.xTrackEdgeLeft,yLeft:t.trackOutline.yTrackEdgeLeft,zLeft:t.trackOutline.zTrackEdgeLeft,xRight:t.trackOutline.xTrackEdgeRight,yRight:t.trackOutline.yTrackEdgeRight,zRight:t.trackOutline.zTrackEdgeRight,xCar:void 0,yCar:void 0,zCar:void 0,sLap:void 0}},t.prototype.applyFromCentreLine=function(t,e){if(!t.centreLine||0===Object.keys(t.centreLine).length)return!1;if(!t.centreLine.xHalfWidth)throw new T.a("Centre line xHalfWidth is missing.");if(!t.centreLine.xCentreLine)throw new T.a("Centre line xCentreLine is missing.");if(!t.centreLine.yCentreLine)throw new T.a("Centre line yCentreLine is missing.");var n=t.centreLine.xCentreLine,r=t.centreLine.yCentreLine,i=[];if(t.centreLine.aYawCentreLine&&t.centreLine.aYawCentreLine.length)i=t.centreLine.aYawCentreLine;else{for(var o=0;o<n.length-1;o++)i.push(Math.atan2(r[o+1]-r[o],n[o+1]-n[o]));i.push(i[i.length-1])}var a,s,u=t.centreLine.xHalfWidth.map(function(t,e){return-t*Math.sin(i[e])}),c=t.centreLine.xHalfWidth.map(function(t,e){return t*Math.cos(i[e])}),l=n.map(function(t,e){return t+u[e]}),h=r.map(function(t,e){return t+c[e]}),f=n.map(function(t,e){return t-u[e]}),d=r.map(function(t,e){return t-c[e]});if(t.centreLine.rTrackCentreOffset){var p=u.map(function(e,n){return e*t.centreLine.rTrackCentreOffset[n]}),m=c.map(function(e,n){return e*t.centreLine.rTrackCentreOffset[n]});a=n.map(function(t,e){return t+p[e]}),s=r.map(function(t,e){return t+m[e]})}else a=f,s=d;var g=new Array(l.length).fill(0),v=new Array(f.length).fill(0),y=new Array(a.length).fill(0),b=new Array(n.length).fill(0);return e.xLeft=l,e.yLeft=h,e.zLeft=g,e.xRight=f,e.yRight=d,e.zRight=v,e.xCar=a,e.yCar=s,e.zCar=y,e.xCentreLine=n,e.yCentreLine=r,e.zCentreLine=b,!0},t.prototype.applyFromRacingLine=function(t,e){if(!t.racingLine)return!1;var n=function(t){return!(!t||!t.length)},r=n(t.racingLine.sLap)&&n(t.racingLine.cLap),i=n(t.racingLine.xRacingLine)&&n(t.racingLine.yRacingLine),o=n(t.racingLine.gLat)&&n(t.racingLine.vCar)&&(n(t.racingLine.sLap)||n(t.racingLine.tLap));if(!(r||o||i))return!1;var a,s=this.isTrackPeriodic(t),c=(a=i?this.extractRacingLineFromXY(t.racingLine.xRacingLine,t.racingLine.yRacingLine):o?this.extractRacingLineFromgLat(t.racingLine.gLat,t.racingLine.vCar,t.racingLine.tLap,t.racingLine.sLap,s):this.extractRacingLineFromCurvature(t.racingLine.sLap,t.racingLine.cLap,s)).xCar,l=a.yCar,h=a.sLap,f=t.racingLine.zTrack;if(f&&f.length){if(h.length!==f.length)throw new T.a("Racing line sLap and zTrack differ in length.")}else{var d=t.racingLine.aTrackIncline;if(d&&d.length){f=[0];for(var p=1;p<h.length;p++)f.push(f[p-1]+(h[p]-h[p-1])*Math.tan(d[p-1]))}}f||(f=new Array(c.length).fill(0)),e.sLap=h.slice(),e.xCar=c.slice(),e.yCar=l.slice(),e.zCar=f;var m=t.racingLine.aTrackCamber;if(m&&m.length){if(h.length!==m.length)throw new T.a("Racing line sLap and aTrackCamber differ in length.");if(!e.xLeft||!e.xLeft.length)for(e.xLeft=c.slice(),e.yLeft=l.slice(),e.zLeft=f.slice(),e.xRight=c.slice(),e.yRight=l.slice(),e.zRight=f.slice(),p=0;p<h.length;p++){var g=.5*Math.tan(m[p]);e.zLeft[p]+=g,e.zRight[p]-=g;var v=0,y=-1;0===p&&(v=1,y=0);var b=new u.Vector2(e.xCar[p+v]-e.xCar[p+y],e.yCar[p+v]-e.yCar[p+y]);b.normalize(),e.xLeft[p]-=b.y,e.yLeft[p]+=b.x,e.xRight[p]+=b.y,e.yRight[p]-=b.x}}return!0},t.prototype.extractRacingLineFromXY=function(t,e){if(t.length!==e.length)throw new T.a("Racing line X and Y coordinates must be the same length.");var n=t.map(function(t,n){return new E(t,e[n],0)}),r=this.computeDistanceVector(n);return new z(t,e,r)},t.prototype.extractRacingLineFromgLat=function(t,e,n,r,i){if(t.length!==e.length)throw new T.a("Racing line gLat and vCar vectors do not have consistent lengths.");for(var o=[],a=0;a<e.length;a++)o.push(t[a]/(e[a]*e[a]));if(!r||!r.length){if(!n)throw new T.a("Racing line must have either sLap or tLap.");if(n.length!==e.length)throw new T.a("Racing line tLap and vCar vectors do not have consistent lengths.");if(0!==n[0])throw new T.a("Racing line tLap must start at tLap = 0.");var s=[];for(s.push(0),a=0;a<n.length-1;a++)s.push(.5*(e[a+1]+e[a])*(n[a+1]-n[a])+s[a]);r=s}return this.extractRacingLineFromCurvature(r,o,i)},t.prototype.extractRacingLineFromCurvature=function(t,e,n){if(t.length!==e.length)throw new T.a("Racing line sLap and cLap differ in length ("+t.length+" vs "+e.length+").");var r=Array(t.length-1).fill(0),i=3.141592;r[0]=0;for(var o=1;o<t.length-1;o++)r[o]=r[o-1]+(t[o+1]-t[o-1])/2*e[o];if(n){var a=1,s=0,u=r[r.length-1];for(Math.abs(u)>i?(a=Math.abs(2*i/u),s=0):(a=1,s=-u),o=0;o<r.length;o++)r[o]*=a,r[o]+=s*o/r.length,r[o]-=i/2}var c=[],l=[];for(c.push(0),l.push(0),o=1;o<t.length;o++){var h=t[o]-t[o-1];c.push(c[o-1]+h*Math.sin(r[o-1])),l.push(l[o-1]-h*Math.cos(r[o-1]))}if(n){var f=c[c.length-1]-c[0],d=l[c.length-1]-l[0];for(o=0;o<c.length;o++)c[o]-=f*o/(c.length-1),l[o]-=d*o/(c.length-1)}return new z(c,l,t)},t.prototype.getValidatedTrackCoordinates=function(t,e,n,r){if(!e||!n)return[];r&&r.length||(r=new Array(e.length).fill(0));var i=r;if(e.length!==n.length||e.length!==r.length)throw new T.a("Track "+t+" vector lengths do not match ("+e.length+","+n.length+","+r.length+").");return e.map(function(t,r){return new E(e[r],n[r],i[r])})},t.prototype.isTrackPeriodic=function(t){return!t.trackPeriodicity||t.trackPeriodicity.bTrackPeriodic},t.prototype.wrapCoordinates=function(t){t.length&&t.push(t[0])},t}(),j=function(t,e,n){this.coordinate=t,this.index=e,this.distance=n},z=function(t,e,n){this.xCar=t,this.yCar=e,this.sLap=n},F=n("HLL/"),V=n("DUrn"),B=n("YJNB"),U=n("TTnQ"),H=function(t){this.event=t,this.processed=!1},G=function(t){function e(e,n){var r=t.call(this,e)||this;return r.extractTrackData=n,r.sLapEvent=new H(void 0),r.trackDataByIndex={},r.groundPlane=new u.Plane(new u.Vector3(0,1,0),0),r.getInterpolatedChannelValueAtDomainValue=new V.a,r}return r.d(e,t),e.prototype.performBuild=function(){var t=this;this.subscriptions.add(this.sharedState.sLapCursorNews.subscribe(function(e){t.sLapEvent=new H(e)}))},e.prototype.setLayout=function(t){return this.layout=t,this},e.prototype.setChannelData=function(t){this.sourceData=t,this.updateAll=!0},e.prototype.getEventValues=function(t){return t?t.sourceValues.slice():new Array(this.configs.length).fill(0)},e.prototype.performUpdate=function(t){if(t){var e=!1,n=this.getEventValues(this.sLapEvent.event),r=this.getEventValues(this.sLapEvent.event&&this.sLapEvent.event.secondary?this.sLapEvent.event.secondary.event:void 0),i=new u.Vector3;t.ray.intersectPlane(this.groundPlane,i);for(var o=0;o<this.configs.length;++o)if(h=this.configs[o]){var a=this.trackDataByIndex[o];if(a&&this.renderedConfigs[h.id]){var s,c=t.intersectObjects(a.intersectGroup.children,!0);if(s=c.length?c[0].point:i){var l=a.findNearest(s);-1!==l&&(n[o]=a.trackData.sLap[l],r[o]=a.trackData.sLapCentreLine.length?a.trackData.sLapCentreLine[l]:NaN,e=!0)}}}e&&this.sharedState.sLapCursorSetAll(n,r)}if(this.configs&&!this.sLapEvent.processed)for(this.sLapEvent.processed=!0,o=0;o<this.configs.length;++o){var h;if((h=this.configs[o])&&h.data){var f=this.trackDataByIndex[o];if(f){var d=f.trackData.sLap,p=this.sLapEvent.event,m=p?p.getSourceValue(o):0;if(f.trackData.sLapCentreLine.length&&p&&p.secondary&&p.secondary.event&&p.secondary.domainName===F.r){var g=p.secondary.event.getSourceValue(o);isNaN(g)||(m=g,d=f.trackData.sLapCentreLine,p=p.secondary.event)}var v=d[d.length-1];m=Object(U.a)(m,v);var y=C.b.findIndexInMonotonicallyIncreasingData(d,m,C.a.Forwards);(y<0||y>=d.length)&&(y=0);var b=f.trackData.carPath.getWorldCoordinate(y),w=f.trackData.carNormals.getWorldCoordinate(y),_=f.cursor;_.position.copy(b);var x=new u.Vector3(0,1,0);_.quaternion.setFromUnitVectors(x,w)}}}},e.prototype.getCoordinateForDistance=function(t,e,n){if(!n.trackCoordinates.length)return new u.Vector3(0,0,0);if(!e.length)return n.getWorldCoordinate(0);t=Object(U.a)(t,e[e.length-1]);for(var r=0;r<e.length;++r){var i=e[r];if(i===t)return n.getWorldCoordinate(r);if(i>t){if(0===r)return n.getWorldCoordinate(0);var o=e[r-1],a=n.getWorldCoordinate(r-1),s=e[r],c=n.getWorldCoordinate(r),l=(t-o)/(s-o),h=new u.Line3(a,c),f=new u.Vector3;return h.at(l,f),f}}return n.getWorldCoordinate(0)},e.prototype.renderConfig=function(t,e){var n=this.extractTrackData.execute(e),r=new u.Group,i=new u.Group;r.add(i);var o=this.settings.getChannelColor(0,t),a=new u.Color(o),s=new u.Color(11184810),c=new u.Color(7829367);this.drawTrack(i,n.innerEdge,n.outerEdge,s,c),this.drawRacingLine(t,r,n.carPath,n.carNormals,a,n.sLap),this.drawZerothTrackOutlineVertexLine(r,n);var l=this.drawStartFinishLine(r,n,c.clone().offsetHSL(0,0,-.1));this.drawStartFinishOffsets(r,n,t,a,l);var h=this.drawCursor(r,a.clone().offsetHSL(0,0,-.1),l);return this.trackDataByIndex[t]=new W(n,h,i),new S.b(t,r)},e.prototype.drawCursor=function(t,e,n){var r=new u.Group;t.add(r);var i=new u.SphereGeometry(n,16,16,0,Math.PI,0,Math.PI),o=new u.MeshPhongMaterial({color:e,side:u.DoubleSide,flatShading:!1,specular:4473924,overdraw:.5}),a=new u.Mesh(i,o);return a.rotateX(-Math.PI/2),r.add(a),r},e.prototype.drawZerothTrackOutlineVertexLine=function(t,e){if(e.innerEdge.trackCoordinates.length&&e.outerEdge.trackCoordinates.length){var n=e.innerEdge.getWorldCoordinate(0),r=e.outerEdge.getWorldCoordinate(0),i=n.distanceTo(r)/9,o=new u.LineDashedMaterial({color:16711680,dashSize:i,gapSize:i}),a=new u.Geometry;a.vertices.push(n),a.vertices.push(r);var s=new u.Line(a,o);s.computeLineDistances(),t.add(s)}},e.prototype.drawStartFinishOffsets=function(t,e,n,r,i){var o=e.startFinishOffset;if(0!==o){if(e.centreLine.trackCoordinates.length){var a=this.getCoordinateForDistance(o,e.sLapCentreLine,e.centreLine);this.drawLabel(t,a,"Start/Finish Offset (Centre Line)",n,0,r,i)}e.carPath.trackCoordinates.length&&(a=this.getCoordinateForDistance(o,e.sLap,e.carPath),this.drawLabel(t,a,"Start/Finish Offset (Racing Line)",n,1,r,i))}},e.prototype.drawLabel=function(t,e,n,r,i,o,a){var s=new u.LineBasicMaterial({color:o}),c=e.clone(),l=new u.Vector3(5*a,2*a*(r+1)+i*a,r*a*-3).add(c),h=new u.Vector3(5*a,0,0).add(l),f=new u.Geometry;f.vertices.push(c,h);var d=new u.Line(f,s);d.computeLineDistances(),t.add(d);var p=new x({textSize:.75*a,redrawInterval:250,texture:{text:n,fontFamily:"Arial, Helvetica, sans-serif"},material:{color:0,fog:!1,depthTest:!1}});p.center.copy(new u.Vector2(0,.5)),p.position.copy(h),t.add(p)},e.prototype.drawStartFinishLine=function(t,e,n){var r=e.carPath;if(r.trackCoordinates.length||(r=e.innerEdge),!r.trackCoordinates.length)return 1;var o,a,s=r.getWorldCoordinate(0),c=r.getWorldCoordinate(i.minStrict([r.trackCoordinates.length-1,10]));if(e.innerEdge.trackCoordinates.length&&e.outerEdge.trackCoordinates.length){var l=e.innerEdge.getWorldCoordinate(0),h=e.outerEdge.getWorldCoordinate(0);a=new u.Vector3((l.x+h.x)/2,(l.y+h.y)/2,(l.z+h.z)/2),o=l.distanceTo(h)/2}else a=s.clone(),o=5;o=Math.max(o,5);var f=new u.ConeGeometry(o,3*o,16),d=new u.MeshPhongMaterial({color:n,flatShading:!1,transparent:!0,opacity:.6,specular:4473924,overdraw:.5}),p=new u.Mesh(f,d),m=-1*(new u.Box3).setFromObject(p).min.y;p.position.copy(a),c.equals(s)&&(c=s.clone().setX(s.x-1));var g=c.sub(s).normalize(),v=new u.Vector3(0,1,0);return p.quaternion.setFromUnitVectors(v,g),p.position.add(g.clone().multiplyScalar(m)),t.add(p),o},e.prototype.drawRacingLine=function(t,e,n,r,o,a){var s=this;if(n.trackCoordinates.length){var c=new u.Group;e.add(c),c.position.setY(.01);var l=void 0,h=function(){return 3};if(this.sourceData&&this.layout){var f=this.sourceData[t];if(f){var d=f.channels.get(this.layout.processed.primaryDomain.name);if(d){var p=this.layout.processed.colorChannel;if(p){var m=p.sources[t];if(m){var g=i.scaleLinear().domain([p.minimum,p.maximum]).range([F.a,F.g]).interpolate(i.interpolateHcl);l=function(t){var e=a[t];e=B.a.convertValueFromSi(e,d.units);var n=s.getInterpolatedChannelValueAtDomainValue.execute(m.data,e,d.data,d.monotonicStatus),r=new u.Color(g(n));return[r.r,r.g,r.b]}}}var v=this.layout.processed.sizeChannel;if(v){var y=v.sources[t];if(y){var b=v.minimum,w=v.maximum;h=function(t){var e=a[t];return e=B.a.convertValueFromSi(e,d.units),3+(s.getInterpolatedChannelValueAtDomainValue.execute(y.data,e,d.data,d.monotonicStatus)-b)/(w-b)*18}}}}}}var _=new P(n.trackCoordinates.map(function(t,e){var i=h(e);return new E(t.x+i*r.trackCoordinates[e].x,t.y+i*r.trackCoordinates[e].y,t.z+i*r.trackCoordinates[e].z/n.elevationScale)}));_.adjustWorldElevationCoordinates(n.elevationScale,n.elevationOffset),this.drawStrip(c,n,_,o,new u.Color(o).offsetHSL(0,0,-.1),!1,l,!0)}},e.prototype.drawTrack=function(t,e,n,r,i){if(this.drawStrip(t,e,n,r,i),e.trackCoordinates.length===n.trackCoordinates.length){var o=new P(e.trackCoordinates.map(function(t,e){return new E((t.x+n.trackCoordinates[e].x)/2,(t.y+n.trackCoordinates[e].y)/2,(t.z+n.trackCoordinates[e].z)/2-.1)}));o.adjustWorldElevationCoordinates(e.elevationScale,e.elevationOffset);var a=new P(o.trackCoordinates.map(function(t){return new E(t.x,t.y,-.1)}));this.drawStrip(t,o,a,new u.Color(r).offsetHSL(0,0,.15),r,!0)}},e.prototype.drawPerimeterLine=function(t,e,n){if(e.trackCoordinates.length){var r=new u.BufferGeometry;r.addAttribute("position",new u.BufferAttribute(e.vertices,3));var i=new u.LineBasicMaterial({color:n}),o=new u.Line(r,i);t.add(o)}},e.prototype.drawStrip=function(t,e,n,r,i,o,a,s){if(void 0===o&&(o=!1),void 0===a&&(a=void 0),void 0===s&&(s=!1),e.trackCoordinates.length===n.trackCoordinates.length&&e.trackCoordinates.length){var c=e.trackCoordinates.length,l=3*c,h=2*c,f=3*h;if(c>32768){for(var d=e.trackCoordinates.length,p=0;d>0;){var m=p+32768;m>e.trackCoordinates.length&&(m=e.trackCoordinates.length);var g=new P(e.trackCoordinates.slice(p,p+32768)),v=new P(n.trackCoordinates.slice(p,p+32768));this.drawStrip(t,g,v,r,i,o,a,s),d-=32768,p=m}return}var y=new Float32Array(f);y.set(e.vertices,0),y.set(n.vertices,l);var b=void 0;if(a){b=new Float32Array(f);for(var w=[r.r,r.g,r.b],_=0,x=0,S=l;_<c;++_,x+=3,S+=3){var M=a(_)||w;b[x]=M[0],b[x+1]=M[1],b[x+2]=M[2],b[S]=M[0],b[S+1]=M[1],b[S+2]=M[2]}}for(var C=new Uint16Array(3*(h-2)),E=0,T=0;E<c;++E)0!==E&&(C[T++]=E,C[T++]=E+c,C[T++]=E-1),E!==c-1&&(C[T++]=E,C[T++]=E+c+1,C[T++]=E+c);var O=new u.BufferGeometry;O.addAttribute("position",new u.Float32BufferAttribute(y,3)),O.setIndex(new u.Uint16BufferAttribute(C,1)),b&&O.addAttribute("color",new u.Float32BufferAttribute(b,3)),O.computeVertexNormals();var A={side:u.DoubleSide,wireframe:!1};s&&(A.transparent=!0,A.opacity=.6),a?A.vertexColors=u.VertexColors:A.color=r;var k=new u.MeshLambertMaterial(A),L=new u.Mesh(O,k);t.add(L)}if(i){var R=new u.Group;t.add(R),R.position.setY(.01),o||this.drawPerimeterLine(R,e,i),this.drawPerimeterLine(R,n,i)}},e}(S.a),W=function(){function t(t,e,n){this.trackData=t,this.cursor=e,this.intersectGroup=n,this._worldTrackCoordinatesOctree=y().x(function(t){return t.coordinate.worldX}).y(function(t){return t.coordinate.worldY}).z(function(t){return t.coordinate.worldZ}).addAll(t.carPath.trackCoordinates.map(function(t,e){return{coordinate:t,index:e}}).filter(function(t){return Object(A.a)(t.coordinate.x)&&Object(A.a)(t.coordinate.y)&&Object(A.a)(t.coordinate.z)}))}return t.prototype.findNearest=function(t){var e=this._worldTrackCoordinatesOctree.find(t.x,t.y,t.z);return e?e.index:-1},t}(),q=n("OkkV"),Y=n("6EN/"),X=n("liD0"),Z=n("LXbF"),J=n("k4pR"),K=n("KFNO"),Q=n("6rnH"),tt=n("L0sa"),et=n("fNPK");n.d(e,"a",function(){return nt}),n.d(e,"b",function(){return rt});var nt="trackViewer",rt=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,0,i,o,!!r)||this;return u.primaryDomainName=e,u.channelNameStyle=n,u.layout=r,u.trackRenderer=a,u.multiPlotUtilities=s,u.loadedTracks=[],u.legendRenderChannels=[new J.c("Fill","\uf1fc","colorChannel",function(){return u.populatedLayout}),new J.c("Size","\uf07d","sizeChannel",function(){return u.populatedLayout})],u.multiPlotUtilities.autoScaleChannelsIndividually=!0,u.cameraNear=10,u.cameraFar=5e4,u}return r.d(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.trackRenderer&&this.trackRenderer.dispose(),this.domainEventHandler&&this.domainEventHandler.dispose()},e.create=function(t,n,r,i){r=r||F.t;var o=Z.a.Generic,a=new V.a;return new e(r,o,i,t,n,new G(n,new I),K.a.create(r,t,n.sourceLoaderSet,o,a))},Object.defineProperty(e.prototype,"populatedLayout",{get:function(){if(!this.layout)throw new Error("Layout is not defined.");return this.layout},enumerable:!0,configurable:!0}),e.prototype.build=function(e){return r.b(this,void 0,void 0,function(){var n,i,o,a,c,d,p,m,g,v,y=this;return r.e(this,function(r){switch(r.label){case 0:return this.settings=s.build(this.sharedState.sourceLoaderSet.sources.length),this.layout&&(this.settings.legend.renderChannelCount=this.legendRenderChannels.length),[4,this.loadCurrentTracks()];case 1:return r.sent(),[4,t.prototype.build.call(this,e,this.settings,this.layout)];case 2:return r.sent()&&this.scene&&this.sceneParent&&this.svg&&this.cameraState&&this.element?(this.trackRendererGroup=this.trackRenderer.build(this.settings,this.svg,this.loadedTracks),this.scene.add(this.trackRendererGroup),n=this.trackRenderer.groupWithoutIgnoredObjects(this.trackRendererGroup),i=(new u.Box3).setFromObject(n),o=(i.max.x+i.min.x)/2,a=(i.max.z+i.min.z)/2,c=Math.abs(i.max.x-o),d=Math.abs(i.max.z-a),p=i.max.y+this.calculateCameraHeight(this.settings.svgSize.width,this.settings.svgSize.height,this.cameraState.fov,c,d),m=new u.Vector3(o,p,a),g=new u.Vector3(o,0,a),this.orbitControlsRenderer=new l.a(this.settings,this.element,this.svg,this.sceneParent,this.scene,this.cameraState),this.orbitControlsRenderer.build(m,g,1),this.isRenderingManually&&(this.orbitControlsRenderer.addEventListener("change",function(){return y.render3d()}),this.subscriptions.add(this.sharedState.getDomainNews(this.primaryDomainName).observable.subscribe(function(){return y.render3d()}))),this.lightingRenderer=new h.a(this.scene),this.lightingRenderer.build(),this.floorRenderer=new f.a(this.scene,.01,v=i.min.y-10),this.floorRenderer.build(this.trackRendererGroup),this.drawCompass(o,v,a),this.beginRender(),[2]):[2]}})})},e.prototype.calculateCameraHeight=function(t,e,n,r,o){if(e>t)return this.calculateCameraHeight(e,t,n,o,r);var a=n/2*Math.PI/180,s=e/Math.tan(a),u=Math.atan(t/s),c=r/Math.tan(u),l=o/Math.tan(a);return 1.05*i.maxStrict([c,l])},e.prototype.drawCompass=function(t,e,n){if(this.scene){var r=new u.Vector3(0,0,-1),i=new u.Vector3(t,e,n),o=new u.ArrowHelper(r,i,33,11141120,7,5);this.scene.add(o)}},e.prototype.loadCurrentTracks=function(){return r.b(this,void 0,void 0,function(){var t,e;return r.e(this,function(n){switch(n.label){case 0:return[4,Object(q.a)(this.sharedState,F.d,!0)];case 1:return e=n.sent(),this.loadedTracks.length=0,(t=this.loadedTracks).push.apply(t,e),[2]}})})},e.prototype.updateChartMargin=function(){if(this.settings&&(this.layout&&this.multiPlotUtilities.updatePlotSizes(this.populatedLayout,this.settings),t.prototype.updateChartMargin.call(this),this.layout)){var e=this.settings.sourceCount,n=this.populatedLayout.rows.concat(this.populatedLayout.columns).reduce(function(t,e){return t.concat(e.processed.channels.map(function(t){return t.name}))},[]);this.settings.chartMargin=new a.a(this.settings.chartMargin.top,this.settings.legend.getRequiredHorizontalSpace(e,n),this.settings.chartMargin.bottom,this.settings.chartMargin.left)}},e.prototype.processLayout=function(){this.layout&&this.sourceData&&this.multiPlotUtilities.processLayout(this.layout,this.sourceData)},e.prototype.onLegendChanged=function(){this.svg&&this.svgParent&&this.rowLegendRenderer&&this.rowLegendRenderer.render(this.svg,this.svgParent)},e.prototype.performSourcesChanged=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){switch(t.label){case 0:return[4,this.loadCurrentTracks()];case 1:return t.sent(),[2]}})})},e.prototype.performBuild2d=function(){var t=this;this.processLayout(),this.layout&&this.settings&&(this.xLegendList=new Y.a(this.settings.legend,-10),this.rowLegendRenderer=new Q.b,this.rowLegendRenderer.chartSettings(this.settings).orientation(Q.c.vertical).siteHooks(this.siteHooks).renderChannels(this.legendRenderChannels).setError(function(e){return t.setError(e)}).on("changed",function(){t.renderAll(!0),t.isRenderingManually&&t.render3d()}),this.domainEventHandler=new tt.b(this.sharedState,this.primaryDomainName),this.domainEventHandler.setXLegendList(this.xLegendList).setDomainSnapBehaviour(et.c.linearInterpolation).on(tt.c,function(){return t.onLegendChanged()}),this.domainEventHandler.build())},e.prototype.performSetData2d=function(){this.xLegendList&&this.sourceData&&(this.rowLegendRenderer&&this.rowLegendRenderer.data(this.populatedLayout.rows.map(function(t){return t.processed}).concat([this.xLegendList])),this.domainEventHandler&&this.domainEventHandler.setLayout(this.populatedLayout).setSourceData(this.sourceData),this.trackRenderer.setLayout(this.populatedLayout).setChannelData(this.sourceData))},e.prototype.performRender2d=function(){this.svg&&this.svgParent&&(this.rowLegendRenderer&&this.rowLegendRenderer.render(this.svg,this.svgParent),this.domainEventHandler&&this.domainEventHandler.render(),this.orbitControlsRenderer&&this.orbitControlsRenderer.render2d())},e.prototype.performAnimate3d=function(t){this.lightingRenderer&&this.lightingRenderer.animate(),this.orbitControlsRenderer&&this.orbitControlsRenderer.animate(),this.trackRenderer.update(t)&&this.floorRenderer&&this.floorRenderer.update()},e.prototype.loadFromLayout=function(e){return r.b(this,void 0,void 0,function(){var n,i;return r.e(this,function(r){switch(r.label){case 0:return e?(n=this,[4,this.multiPlotUtilities.getValidatedLayout(e)]):[3,2];case 1:n.layout=r.sent(),r.label=2;case 2:return this.layout?(i=this,[4,this.multiPlotUtilities.loadChannelData(this.layout)]):[3,4];case 3:return i.sourceData=r.sent(),[3,6];case 4:return[4,t.prototype.loadFromLayout.call(this)];case 5:r.sent(),r.label=6;case 6:return[2]}})})},e.prototype.getLayout=function(){if(this.layout)return this.multiPlotUtilities.getUnprocessedLayout(this.layout)},e.prototype.setLayout=function(t){return r.b(this,void 0,void 0,function(){return r.e(this,function(e){switch(e.label){case 0:return t&&(t.columns=[{channels:[{name:this.primaryDomainName}]}],t.rows>0&&(t.rows=[t.rows[0]])),[4,this.loadFromLayout(t)];case 1:return e.sent(),[4,this.handleSourcesChanged()];case 2:return e.sent(),[2]}})})},e.prototype.canImportData=function(){return!1},e.prototype.canExportData=function(){return!1},e.prototype.canStackDiagonals=function(){return!1},e.prototype.importCsvData=function(t,e){},e.prototype.exportCsvData=function(){return Promise.resolve()},e.prototype.getEditChannelsTypes=function(){return this.layout?[{name:"Edit Channels",icon:"paint-brush",id:"channels"}]:[]},e.prototype.getEditChannelsOptions=function(t){return r.b(this,void 0,void 0,function(){var e,n,i,o;return r.e(this,function(r){switch(r.label){case 0:if(!(e=this.getLayout()))throw new Error("Layout not present.");return[4,X.a.getDistinctRequestableChannels(this.sharedState.sourceLoaderSet.sources,this.channelNameStyle,this.primaryDomainName)];case 1:switch(n=r.sent(),t.id){case"channels":this.padLayoutRows(e,1),i=e.rows[0]}return o=i?i.channels.map(function(t){return{channels:[t]}}):[],[2,{channels:n,panes:o,oneChannelPerPane:!0}]}})})},e.prototype.setEditChannelsResult=function(t,e){return r.b(this,void 0,void 0,function(){var n,i,o;return r.e(this,function(r){switch(r.label){case 0:if(!(n=this.getLayout()))return[2];switch(i=e.map(function(t){return t.channels[0]}),o={channels:i,relativeSize:1,processed:void 0},t.id){case"channels":this.padLayoutRows(n,1),n.rows[0]=o;break;default:throw new Error("Unexpected edit type: "+t.id)}return[4,this.setLayout(n)];case 1:return r.sent(),[2]}})})},e.prototype.padLayoutRows=function(t,e){for(;t.rows.length<e;)t.rows.push({channels:[],relativeSize:1})},e}(c.a)},mS5I:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r){this._top=t,this._right=e,this._bottom=n,this._left=r}return Object.defineProperty(t.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._right},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._bottom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),t}()},mrSG:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return d});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}},nMsr:function(t,e,n){var r=n("yyeZ"),i={linear:function(t){return t},cubic:function(t){return Math.pow(t,3)},quintic:function(t){return Math.pow(t,5)},"thin-plate":function(t){return 0===t?0:Math.pow(t,2)*Math.log(t)},gaussian:function(t,e){return Math.exp(-Math.pow(t/e,2))},"inverse-multiquadric":function(t,e){return 1/Math.sqrt(Math.pow(t/e,2)+1)},multiquadric:function(t,e){return Math.sqrt(Math.pow(t/e,2)+1)}};function o(t,e){return r.norm2(r.sub(e,t))}t.exports=function(t,e,n,a){var s=i.linear;n&&(s="string"!=typeof n?n:i[n]);for(var u=r.identity(t.length),c=0;c<t.length;c++)for(var l=0;l<t.length;l++)u[c][l]=o(t[l],t[c]);for(void 0===a&&(a=r.sum(u)/(Math.pow(t.length,2)-t.length)),c=0;c<t.length;c++)for(l=0;l<t.length;l++)u[c][l]=s(u[c][l],a);var h=e[0],f="number"==typeof h?1:h.length;1===f&&(e=e.map(function(t){return[t]}));var d=new Array(f);for(l=0;l<f;l++)d[l]=e.map(function(t){return t[l]});e=d;var p=new Array(f),m=r.LU(u);for(l=0;l<f;l++)p[l]=r.LUsolve(m,e[l]);return function(e){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=s(o(e,t[i]),a);var u=new Array(f);for(i=0;i<f;i++)u[i]=r.sum(r.mul(n,p[i]));return u}}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},oaYw:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("Womt"),i=n("eh5z"),o=n("TTnQ"),a=function(){function t(t,e,n){void 0===e&&(e=1),void 0===n&&(n=0),this.scene=t,this.divisionsPerMeter=e,this.verticalOffset=n,this.floorSize=1,this.carBoundingBox=new r.Box3}return t.prototype.build=function(t){this.contentGroup=t,this.update()},t.prototype.update=function(){var t=2;if(this.contentGroup&&this.contentGroup.children.length){this.carBoundingBox.setFromObject(this.contentGroup);var e=Math.ceil(i.maxStrict([this.carBoundingBox.max.x,this.carBoundingBox.max.z,this.carBoundingBox.min.x,this.carBoundingBox.min.z].map(function(t){return Math.abs(t)}))),n=1/this.divisionsPerMeter;n>1&&(e+=n-Object(o.a)(e,n)),t=2*e}if(this.floor&&t!==this.floorSize&&(this.scene.remove(this.floor),this.floor=void 0),!this.floor){var a=new r.GridHelper(t,t*this.divisionsPerMeter,14540253,15658734);this.floor=new r.Group,this.floor.add(a),this.floor.position.setY(this.verticalOffset),this.floorSize=t,this.scene.add(this.floor)}},t}()},okAn:function(t,e){function n(t,e){return void 0===t?e:t}t.exports=function(t){this.displayMode=n((t=t||{}).displayMode,!1),this.throwOnError=n(t.throwOnError,!0),this.errorColor=n(t.errorColor,"#cc0000"),this.macros=t.macros||{}}},p0ib:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("nkY7"),o=n("Zn8D"),a=n("IUTb");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(i.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(a.a)(t,s))}},pDbJ:function(t,e,n){"use strict";var r=n("a8jH"),i=n("mS5I"),o=n("eh5z"),a=function(){function t(t){this._blobSize=t.blobSize,this._blobSpacing=t.blobSpacing,this._valueWidth=t.valueWidth,this._unitsWidth=t.unitsWidth,this._maximumLabelWidth=t.maximumLabelWidth,this._renderChannelCount=t.renderChannelCount}return Object.defineProperty(t.prototype,"blobSize",{get:function(){return this._blobSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blobSpacing",{get:function(){return this._blobSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueWidth",{get:function(){return this._valueWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unitsWidth",{get:function(){return this._unitsWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumLabelWidth",{get:function(){return this._maximumLabelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderChannelCount",{get:function(){return this._renderChannelCount},set:function(t){this._renderChannelCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderChannelWidth",{get:function(){return this.renderChannelCount*(this.blobSize+this.blobSpacing)},enumerable:!0,configurable:!0}),t.prototype.getRequiredHorizontalSpace=function(t,e){var n=50;return e&&e.length&&(n=o.maxStrict([40,5.8*o.maxStrict(e.map(function(t){return t.length}))])),n=o.minStrict([n,this._maximumLabelWidth]),t*this.valueWidth+this.unitsWidth+this.blobSize+n+this.renderChannelWidth},t.prototype.trimLabel=function(t){if(!t)return t;var e=Math.ceil(this._maximumLabelWidth/5.8);return t.length<=e?t:"\u2026"+t.substr(t.length-e,e)},t.prototype.getRequiredVerticalSpace=function(t){return t*this.blobSize},t}(),s=n("yIpB");n.d(e,"a",function(){return u});var u=function(){function t(t){var e;this._uniqueId=Object(s.a)(10),this.sourceCount=t,this._legend=new a({blobSize:10,blobSpacing:2,valueWidth:55,unitsWidth:26,maximumLabelWidth:150,renderChannelCount:0,renderChannelWidth:0}),this._pixelRatio=(window.devicePixelRatio||1)/[(e=document.createElement("canvas").getContext("2d")).webkitBackingStorePixelRatio,e.mozBackingStorePixelRatio,e.msBackingStorePixelRatio,e.oBackingStorePixelRatio,e.backingStorePixelRatio,1].reduce(function(t,e){return t||e}),this._svgPadding=new i.a(0,0,0,0),this._chartMargin=new i.a(0,0,0,0),this.svgSize=new r.a(1024,768)}return Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceCount",{get:function(){return this._sourceCount},set:function(t){switch(this._sourceCount=t,t){case 1:var e=o.scaleOrdinal(o.schemeCategory10).domain(o.range(0,10));this._getChannelColor=function(t,n){return e(t%10)};break;case 2:var n=o.scaleOrdinal(o.schemeCategory20).domain(o.range(0,20));this._getChannelColor=function(t,e){return n((2*t+e)%20)};break;default:var r=o.scaleOrdinal(o.schemeCategory10).domain(o.range(0,10));this._getChannelColor=function(t,e){return r(e%10)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgSize",{get:function(){return this._svgSize},set:function(t){this._svgSize=t,this.updateChartSize(),this.updateCanvasRetinaSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPadding",{get:function(){return this._svgPadding},set:function(t){this._svgPadding=t,this.updateChartSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartMargin",{get:function(){return this._chartMargin},set:function(t){this._chartMargin=t,this.updateChartSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartSize",{get:function(){return this._chartSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getChannelColor",{get:function(){return this._getChannelColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvasRetinaSize",{get:function(){return this._canvasRetinaSize},enumerable:!0,configurable:!0}),t.prototype.updateChartSize=function(){this._chartSize=new r.a(this._svgSize.width-this._svgPadding.left-this._svgPadding.right-this._chartMargin.left-this._chartMargin.right,this._svgSize.height-this._svgPadding.top-this._svgPadding.bottom-this._chartMargin.top-this._chartMargin.bottom)},t.prototype.updateCanvasRetinaSize=function(){this._canvasRetinaSize=t.getCanvasRetinaSize(this.svgSize,this.pixelRatio)},t.getCanvasRetinaSize=function(t,e){return new r.a(t.width*e,t.height*e)},t.build=function(e){return new t(e)},t}()},pMnS:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("CcnG"),i=n("ZYCi"),o=r.sb({encapsulation:2,styles:[],data:{}});function a(t){return r.Ob(0,[(t()(),r.ub(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.tb(1,212992,null,0,i.q,[i.b,r.T,r.k,[8,null],r.i],null,null)],function(t,e){t(e,1,0)},null)}var s=r.qb("ng-component",i.u,function(t){return r.Ob(0,[(t()(),r.ub(0,0,null,null,1,"ng-component",[],null,null,null,a,o)),r.tb(1,49152,null,0,i.u,[],null,null)],null,null)},{},{},[])},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.d(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var r=n("isby"),i=n("McSo"),o=n("2Bdj"),a=n("Ehmk"),s=n("eihs");function u(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}u.prototype=Object.create(Error.prototype);var c=u;n.d(e,"a",function(){return l});var l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,u=this._parents,l=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,p=u?u.length:0;n;)n.remove(this),n=++d<p&&u[d]||null;if(Object(o.a)(l)&&Object(a.a)(l).call(this)===s.a&&(e=!0,t=t||(s.a.e instanceof c?h(s.a.e.errors):[s.a.e])),Object(r.a)(f))for(d=-1,p=f.length;++d<p;){var m=f[d];if(Object(i.a)(m)&&Object(a.a)(m.unsubscribe).call(m)===s.a){e=!0,t=t||[];var g=s.a.e;g instanceof c?t=t.concat(h(g.errors)):t.push(g)}}if(e)throw new c(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function h(t){return t.reduce(function(t,e){return t.concat(e instanceof c?e.errors:e)},[])}},qj1s:function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.monteCarlo="Monte Carlo",t.factorial="Factorial",t.star="Star"}(r||(r={}))},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.d(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},rq37:function(t,e){t.exports=function(t,e,n){if(t.global||t.sticky)throw new Error("matchAt(...): Only non-global regexes are supported");var r=function(t){return t.__matchAtRelocatable||(t.__matchAtRelocatable=new RegExp(t.source+"|()","g"+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":""))),t.__matchAtRelocatable}(t);r.lastIndex=n;var i=r.exec(e);return null==i[i.length-1]?(i.length=i.length-1,i):null}},rzGS:function(t,e,n){"use strict";function r(t){return t?t.replace("+","PLUS").replace("*","MULTIPLY").replace("=","EQUALS").replace(/\W/g,"-"):""}n.d(e,"a",function(){return r})},"s+xS":function(t,e,n){"use strict";function r(t){return+t}function i(t){return t*t}function o(t){return t*(2-t)}function a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function s(t){return t*t*t}function u(t){return--t*t*t+1}function c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var l=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),h=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),f=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),d=Math.PI,p=d/2;function m(t){return 1-Math.cos(t*p)}function g(t){return Math.sin(t*p)}function v(t){return(1-Math.cos(d*t))/2}function y(t){return Math.pow(2,10*t-10)}function b(t){return 1-Math.pow(2,-10*t)}function w(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function _(t){return 1-Math.sqrt(1-t*t)}function x(t){return Math.sqrt(1- --t*t)}function S(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var M=4/11,C=6/11,E=8/11,T=.75,O=9/11,P=10/11,A=.9375,k=21/22,L=63/64,R=1/M/M;function D(t){return 1-N(1-t)}function N(t){return(t=+t)<M?R*t*t:t<E?R*(t-=C)*t+T:t<P?R*(t-=O)*t+A:R*(t-=k)*t+L}function I(t){return((t*=2)<=1?1-N(1-t):N(t-1)+1)/2}var j=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),z=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),F=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),V=2*Math.PI,B=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=V);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*V)},i.period=function(n){return t(e,n)},i}(1,.3),U=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=V);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*V)},i.period=function(n){return t(e,n)},i}(1,.3),H=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=V);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*V)},i.period=function(n){return t(e,n)},i}(1,.3);n.d(e,"y",function(){return r}),n.d(e,"D",function(){return a}),n.d(e,"E",function(){return i}),n.d(e,"G",function(){return o}),n.d(e,"F",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return s}),n.d(e,"p",function(){return u}),n.d(e,"o",function(){return c}),n.d(e,"z",function(){return f}),n.d(e,"A",function(){return l}),n.d(e,"C",function(){return h}),n.d(e,"B",function(){return f}),n.d(e,"H",function(){return v}),n.d(e,"I",function(){return m}),n.d(e,"K",function(){return g}),n.d(e,"J",function(){return v}),n.d(e,"u",function(){return w}),n.d(e,"v",function(){return y}),n.d(e,"x",function(){return b}),n.d(e,"w",function(){return w}),n.d(e,"i",function(){return S}),n.d(e,"j",function(){return _}),n.d(e,"l",function(){return x}),n.d(e,"k",function(){return S}),n.d(e,"e",function(){return N}),n.d(e,"f",function(){return D}),n.d(e,"h",function(){return N}),n.d(e,"g",function(){return I}),n.d(e,"a",function(){return F}),n.d(e,"b",function(){return j}),n.d(e,"d",function(){return z}),n.d(e,"c",function(){return F}),n.d(e,"q",function(){return U}),n.d(e,"r",function(){return B}),n.d(e,"t",function(){return U}),n.d(e,"s",function(){return H})},s847:function(t,e){var n,r=Array.prototype.indexOf,i=function(t,e){if(null==t)return-1;if(r&&t.indexOf===r)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},o=/([A-Z])/g,a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g;function u(t){return a[t]}if("undefined"!=typeof document){var c=document.createElement("span");n="textContent"in c?function(t,e){t.textContent=e}:function(t,e){t.innerText=e}}t.exports={contains:function(t,e){return-1!==i(t,e)},deflt:function(t,e){return void 0===t?e:t},escape:function(t){return(""+t).replace(s,u)},hyphenate:function(t){return t.replace(o,"-$1").toLowerCase()},indexOf:i,setTextContent:n,clearNode:function(t){n(t,"")}}},soU0:function(t,e,n){"use strict";function r(t){return!i(t)}function i(t){return void 0===t}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},"t+Vl":function(t,e,n){"use strict";n.r(e);var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,c=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=o[u]).type)i[n]=s(i[n],t.name,e);else if(null==e)for(n in i)i[n]=s(i[n],t.name,null);return this}for(;++u<c;)if((n=(t=o[u]).type)&&(n=a(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var u=i;n.d(e,"dispatch",function(){return u})},"t/Na":function(t,e,n){"use strict";n.d(e,"l",function(){return R}),n.d(e,"o",function(){return z}),n.d(e,"p",function(){return F}),n.d(e,"m",function(){return N}),n.d(e,"n",function(){return I}),n.d(e,"b",function(){return f}),n.d(e,"f",function(){return h}),n.d(e,"c",function(){return T}),n.d(e,"g",function(){return d}),n.d(e,"a",function(){return P}),n.d(e,"d",function(){return U}),n.d(e,"e",function(){return B}),n.d(e,"k",function(){return V}),n.d(e,"h",function(){return D}),n.d(e,"j",function(){return L}),n.d(e,"i",function(){return j});var r=n("mrSG"),i=n("CcnG"),o=n("F/XL"),a=n("6blF"),s=n("Phjn"),u=n("VnD/"),c=n("67Y/"),l=n("Ip0R"),h=function(){},f=function(){},d=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,Object(r.i)(n)),this.headers.set(e,i);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),p=function(){function t(){}return t.prototype.encodeKey=function(t){return m(t)},t.prototype.encodeValue=function(t){return m(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function m(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var g=function(){function t(t){void 0===t&&(t={});var e,n,i,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,i=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),o=Object(r.h)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),a=o[0],s=o[1],u=i.get(a)||[];u.push(s),i.set(a,u)}),i)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];o.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function v(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function y(t){return"undefined"!=typeof Blob&&t instanceof Blob}function b(t){return"undefined"!=typeof FormData&&t instanceof FormData}var w=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new g,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:v(this.body)||y(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:b(this.body)?null:y(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})},t}(),_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),x=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),S=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=_.ResponseHeader,n}return Object(r.d)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(x),M=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=_.Response,n.body=void 0!==e.body?e.body:null,n}return Object(r.d)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(x),C=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(r.d)(e,t),e}(x);function E(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var T=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof w)r=t;else{var a;a=n.headers instanceof d?n.headers:new d(n.headers);var l=void 0;n.params&&(l=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new w(t,e,void 0!==n.body?n.body:null,{headers:a,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var h=Object(o.a)(r).pipe(Object(s.a)(function(t){return i.handler.handle(t)}));if(t instanceof w||"events"===n.observe)return h;var f=h.pipe(Object(u.a)(function(t){return t instanceof M}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return f.pipe(Object(c.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return f.pipe(Object(c.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return f.pipe(Object(c.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return f.pipe(Object(c.a)(function(t){return t.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,E(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,E(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,E(n,e))},t}(),O=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),P=new i.s("HTTP_INTERCEPTORS"),A=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),k=/^\)\]\}',?\n/,L=function(){},R=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),D=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new a.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new d(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new S({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(k,"");try{c=""!==c?JSON.parse(c):null}catch(t){c=h,l&&(l=!1,c={error:t,text:c})}}l?(n.next(new M({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new C({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=new C({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(e)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:_.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(t){var e={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:_.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}})},t}(),N=new i.s("XSRF_COOKIE_NAME"),I=new i.s("XSRF_HEADER_NAME"),j=function(){},z=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.z)(t,this.cookieName),this.lastCookieString=t),this.lastToken},Object(r.c)([Object(r.g)(0,Object(i.q)(l.d)),Object(r.g)(1,Object(i.q)(i.E)),Object(r.g)(2,Object(i.q)(N))],t)}(),F=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},Object(r.c)([Object(r.g)(1,Object(i.q)(I))],t)}(),V=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(P,[]);this.chain=e.reduceRight(function(t,e){return new O(t,e)},this.backend)}return this.chain.handle(t)},t}(),B=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:F,useClass:A}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:N,useValue:t.cookieName}:[],t.headerName?{provide:I,useValue:t.headerName}:[]]}},t}(),U=function(){}},t9fZ:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("FFOo"),o=n("b7mW"),a=n("G5J1");function s(t){return function(e){return 0===t?Object(a.b)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.d(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.a)},tNVB:function(t,e,n){"use strict";var r=n("mrSG"),i=n("FFOo"),o=n("+umK"),a=n("2Bdj"),s=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(t){function e(e,n,r,i){var s=t.call(this,e)||this;return s._tapNext=o.a,s._tapError=o.a,s._tapComplete=o.a,s._tapError=r||o.a,s._tapComplete=i||o.a,Object(a.a)(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||o.a,s._tapError=n.error||o.a,s._tapComplete=n.complete||o.a),s}return r.d(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.a),c=n("3fWJ");n.d(e,"a",function(){return l});var l=function(t){return void 0===t&&(t=h),e={hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}},function(t){return t.lift(new s(e,void 0,void 0))};var e};function h(){return new c.a}},tNgD:function(t,e,n){var r,i=n("Ilow"),o=n("+W+n").DiffPatcher;if(e.DiffPatcher=o,e.create=function(t){return new o(t)},e.dateReviver=n("wX0t"),e.diff=function(){return r||(r=new o),r.diff.apply(r,arguments)},e.patch=function(){return r||(r=new o),r.patch.apply(r,arguments)},e.unpatch=function(){return r||(r=new o),r.unpatch.apply(r,arguments)},e.reverse=function(){return r||(r=new o),r.reverse.apply(r,arguments)},e.clone=function(){return r||(r=new o),r.clone.apply(r,arguments)},i.isBrowser)e.homepage="{{package-homepage}}",e.version="{{package-version}}";else{var a=n("QsGe")("../package.json");e.homepage=a.homepage,e.version=a.version;var s=n("QsGe")("./formatters");e.formatters=s,e.console=s.console}},tTpF:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("mrSG"),i=n("lFWV"),o=n("vRuM"),a=n("LXbF"),s=n("9CsZ"),u=n("tcJB"),c=n("BcC1"),l=n("TTnQ"),h=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return r.d(e,t),e.prototype.build=function(){return r.b(this,void 0,void 0,function(){var t,e,n,o,h,f,d,p,m;return r.e(this,function(r){switch(r.label){case 0:return[4,this.load()];case 1:if(r.sent(),!this.explorationAndScalarDataCache)throw new Error("Builder not initialized.");return t=new s.a(this.rCoordinates,this.rDomainExtents),e={channelNameStyle:a.a.FullyQualified,sharedStates:[],views:[]},n=new u.a,[4,this.explorationAndScalarDataCache.get()];case 2:return(o=r.sent())?(h=n.create(o),[4,this.resolveViewerLayout(c.b,new i.c("Default-Star"))]):[2,e];case 3:f=r.sent(),d=0,r.label=4;case 4:return d<this.numberOfDimensions?(p={x:6*Object(l.a)(d,2),y:6*Math.floor(d/2),width:6,height:10},[4,this.createDimensionViewer(t,d,h,e,f,!1,p)]):[3,7];case 5:r.sent(),r.label=6;case 6:return d++,[3,4];case 7:return 1===e.views.length&&((m=e.views[0]).grid={x:0,y:0,width:12,height:m.grid.height}),[2,e]}})})},e}(o.a)},tcJB:function(t,e,n){"use strict";var r=n("qj1s"),i=n("mrSG");function o(t){return t.reduce(function(t,e){return t[e]=[],t},{})}function a(t,e,n){for(var r=o(t),i=0,a=n.getCoordinatesSets();i<a.length;i++)for(var s=e(a[i]),u=0,c=t;u<c.length;u++){var l=c[u];r[l].push(s[l])}return r}var s=n("gozj"),u=function(){return function(t){var e=this;if(this.channels=t,this.channels||(this.channels=[]),this.dataLength=0,this.channels.length){var n=this.channels.find(function(t){return!!t.values});n&&(this.dataLength=n.values.length)}if(t.some(function(t){return!(!t.values||t.values.length===e.dataLength)}))throw new Error("All channels containing data must have the same data length.")}}();function c(t){return t.reduce(function(t,e){return t[e]=NaN,t},{})}var l=function(t,e){this.name=t,this.values=e},h=n("TTnQ");function f(t,e,n){for(var r=c(t.channels.map(function(t){return t.name})),i=0,o=t.channels;i<o.length;i++){var a=o[i];r[a.name]=d(a.values,e,n)}return r}function d(t,e,n){return t?0===e?t[0]:t[e-1]+n*(t[e]-t[e-1]):NaN}var p=function(){function t(){}return t.prototype.createScalarDataList=function(t,e){e||(e=t.getChannelNames());for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=t.getScalarData(o);n.push(new l(o,a?a.values:void 0))}return new u(n)},t}(),m=function(t){function e(e){var n=t.call(this)||this;return n.explorationAndScalarData=e,n}return i.d(e,t),e.prototype.initialize=function(){},e.prototype.execute=function(t,e){var n=this.explorationAndScalarData.explorationMap,r=this.createScalarDataList(this.explorationAndScalarData.scalarData,t);return a(t,function(t){return function t(e,n,r){if(!n.dataLength)return c(n.channels.map(function(t){return t.name}));var i=r.length,o=s.b.unique(e.map(function(t){return t[0]})).length,a=r[0]*(o-1),d=Math.ceil(a),p=a===d?1:Object(h.a)(a,1);if(1===i)return f(n,d,p);for(var m=[],g=n.channels.map(function(t){return new l(t.name,[])}),v=n.dataLength/o,y=0;y<v;y++){m.push(e[y*o].slice(1,i));for(var b=f(n,d+y*o,p),w=0,_=g;w<_.length;w++){var x=_[w];x.values.push(b[x.name])}}return t(m,new u(g),r.slice(1,i))}(n.rCoordinates,r,t)},e)},e}(p),g=n("eh5z"),v=n("nMsr"),y=function(){function t(t,e){this.rCoordinates=t,this.channelList=e}return t.prototype.train=function(){for(var t=[],e={},n=0,r=function(r){var i=r.values;if(!i)return"continue";var o=g.meanStrict(i);t.push(i.map(function(t){return t-o})),e[r.name]=new b(n,o),n++},i=0,o=this.channelList.channels;i<o.length;i++)r(o[i]);t=s.b.transpose(t),this.interpolant=v(this.rCoordinates,t),this.channelMetadata=e},t.prototype.setCoordinates=function(t){this.interpolant&&(this.resultsAtLastPoint=this.interpolant(t))},t.prototype.getChannelValue=function(t){if(!this.resultsAtLastPoint||!this.channelMetadata)return NaN;var e=this.channelMetadata[t];return e?this.resultsAtLastPoint[e.index]+e.mean:NaN},t}(),b=function(t,e){this.index=t,this.mean=e},w=function(t){function e(e){var n=t.call(this)||this;return n.explorationAndScalarData=e,n}return i.d(e,t),e.prototype.initialize=function(){this.allScalarDataList=this.createScalarDataList(this.explorationAndScalarData.scalarData),this.rbf=new y(this.explorationAndScalarData.explorationMap.rCoordinates,this.allScalarDataList),this.rbf.train()},e.prototype.execute=function(t,e){var n=this;return a(t,function(e){return n.valueInterpolator(t,e)},e)},e.prototype.valueInterpolator=function(t,e){var n=c(t);if(this.rbf){this.rbf.setCoordinates(e);for(var r=0,i=t;r<i.length;r++){var o=i[r];n[o]=this.rbf.getChannelValue(o)}}return n},e}(p),_=function(){function t(t){this.explorationAndScalarData=t}return t.prototype.initialize=function(){},t.prototype.execute=function(t,e){return this.sweepExtractionFunction(this.explorationAndScalarData.explorationMap,this.explorationAndScalarData.scalarData,t,e)},t.prototype.sweepExtractionFunction=function(t,e,n,r){for(var i=r.explorationDimensionIndex,a=o(n),s=0;s<t.rCoordinates.length;s++)if(!isNaN(t.indexMatrix[s][i]))for(var u=0,c=n;u<c.length;u++){var l=c[u],h=e.getScalarData(l);a[l].push(h?h.values[s]:NaN)}return a},t}(),x=n("JW5y");n.d(e,"a",function(){return S});var S=function(){function t(){}return t.prototype.create=function(t){if(!t)throw new x.a("No exploration or scalar data found.");var e,n=t.explorationMap;switch(n.designName){case r.a.factorial:e=new m(t);break;case r.a.monteCarlo:e=new w(t);break;case r.a.star:e=new _(t);break;default:throw new Error("Unsupported design type: "+n.designName)}return e.initialize(),e},t}()},tnqf:function(t,e,n){t.exports=function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var n=new t.Vector3,r=new t.Vector3,i=new t.Vector3;return function(o){function a(n){void 0===n&&(n={});var r=n.textSize;void 0===r&&(r=1);var i=n.redrawInterval;void 0===i&&(i=1);var a=n.maxFontSize;void 0===a&&(a=1/0);var s=n.material;void 0===s&&(s={});var u=n.texture;void 0===u&&(u={}),o.call(this,new t.SpriteMaterial(Object.assign({},s,{map:new e(u)}))),this.textSize=r,this.redrawInterval=i,this.maxFontSize=a,this.lastRedraw=0}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var s={isTextSprite:{configurable:!0}};return s.isTextSprite.get=function(){return!0},a.prototype.onBeforeRender=function(t,e,n){this.redraw(t,n)},a.prototype.updateScale=function(){this.scale.set(this.material.map.imageAspect,1,1).multiplyScalar(this.textSize*this.material.map.imageHeight)},a.prototype.updateMatrix=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.updateScale(),o.prototype.updateMatrix.apply(this,t)},a.prototype.redraw=function(t,e){var n=this;this.lastRedraw+this.redrawInterval<Date.now()&&(this.redrawInterval?setTimeout(function(){n.redrawNow(t,e)},1):this.redrawNow(t,e))},a.prototype.redrawNow=function(e,o){this.updateScale(),this.material.map.autoRedraw=!0,this.material.map.fontSize=Math.min(t.Math.ceilPowerOfTwo(function(t,e,o){if(e.domElement.width&&e.domElement.height&&t.material.map.textLines.length){var a=t.getWorldPosition(n).distanceTo(o.getWorldPosition(r));if(a){var s=t.getWorldScale(i).y*e.domElement.height/a;if(s)return Math.round(s/t.material.map.imageHeight)}}return 0}(this,e,o)),this.maxFontSize),this.lastRedraw=Date.now()},a.prototype.dispose=function(){this.material.map.dispose(),this.material.dispose()},Object.defineProperties(a.prototype,s),a}(t.Sprite)}(n("Womt"),n("LZlT"))},tton:function(t,e,n){var r=null,i=function(t){if(!r){var e;if("undefined"!=typeof diff_match_patch)e="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else try{var i=n("aBC6")("./diff_match_patch_uncompressed");e=new i.diff_match_patch}catch(t){e=null}if(!e){if(!t)return null;var o=new Error("text diff_match_patch library not found");throw o.diff_match_patch_not_found=!0,o}r={diff:function(t,n){return e.patch_toText(e.patch_make(t,n))},patch:function(t,n){for(var r=e.patch_apply(e.patch_fromText(n),t),i=0;i<r[1].length;i++)r[1][i]||(new Error("text patch failed").textPatchFailed=!0);return r[0]}}}return r},o=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||60;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var n=i();n?t.setResult([(0,n.diff)(t.left,t.right),0,2]).exit():t.setResult([t.left,t.right]).exit()}}};o.filterName="texts";var a=function(t){if(!t.nested&&2===t.delta[2]){var e=i(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};a.filterName="texts";var s=function(t){t.nested||2===t.delta[2]&&t.setResult([function(e){var n,r,i,o,a,s=null,u=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(n=0,r=(i=t.delta[0].split("\n")).length;n<r;n++){var c=(o=i[n]).slice(0,1);"@"===c?(s=u.exec(o),i[n]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):"+"===c?(i[n]="-"+i[n].slice(1),"+"===i[n-1].slice(0,1)&&(a=i[n],i[n]=i[n-1],i[n-1]=a)):"-"===c&&(i[n]="+"+i[n].slice(1))}return i.join("\n")}(),0,2]).exit()};s.filterName="texts",e.diffFilter=o,e.patchFilter=a,e.reverseFilter=s},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uEMh:function(t,e,n){var r=n("eTM3").Pipe,i=function(){};i.prototype.setResult=function(t){return this.result=t,this.hasResult=!0,this},i.prototype.exit=function(){return this.exiting=!0,this},i.prototype.switchTo=function(t,e){return"string"==typeof t||t instanceof r?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this},i.prototype.push=function(t,e){return t.parent=this,void 0!==e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this},e.Context=i},uV16:function(t,e,n){"use strict";var r=n("mrSG"),i=n("48aD"),o=n("HLL/"),a=function(){function t(){}return t.simTypeRequiresNegationForIso=function(t,e){return!t||!e||t!==o.q||Object(i.a)(e)>=1157},t.channelRequiresNegationForIso=function(e,n,r){if(!t.simTypeRequiresNegationForIso(n,r))return!1;for(var i=0,o=["RacingLine_"];i<o.length;i++){var a=o[i];if(e.startsWith(a)){e=e.substring(a.length);break}}switch(e){case"cLap":case"aTrackIncline":case"aWind":case"aYawCentreLine":case"yCentreLine":case"yTrackEdgeLeft":case"yTrackEdgeRight":case"zTrackEdgeLeft":case"zTrackEdgeRight":case"zTrack":case"rTrackCentreOffset":return!0}return!1},t.channelAsIso=function(e,n,r,i){return t.channelRequiresNegationForIso(n,r,i)?e.map(function(t){return-t}):e},t}(),s=n("JW5y");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var u=2380,c="RacingLine_",l=function(){function t(t,e,n,r,o){this.studyType=t,this.simVersion=e,this.vectorMetadata=n,this.loadChannelData=r,this.loadJsonData=o,this.racingLineHasMetadata=Object(i.a)(this.simVersion)>=u}return t.prototype.pick=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})},t.prototype.execute=function(t){return r.b(this,void 0,void 0,function(){var e,n,i;return r.e(this,function(a){switch(a.label){case 0:return[4,this.getRacingLine()];case 1:return e=a.sent(),n=r.a({},t),i=!1,e.racingLine&&(this.studyType===o.x?n.racingLine=r.a({},this.pick(n.racingLine||{},"aTrackCamber","aTrackIncline","xDynamicLapFixedLineWidth","notes","customProperties"),e.racingLine):(n.racingLine=e.racingLine,i=!0)),e.centreLine&&(n.centreLine=e.centreLine,i=!0),i&&delete n.startFinishOffset,[2,n]}})})},t.prototype.getRacingLine=function(){switch(this.studyType){case o.x:return this.getRacingLineFromJson();default:return this.getRacingLineFromBinaryData()}},t.prototype.getRacingLineFromJson=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return[4,this.loadJsonData("racingLine.json")];case 1:if(!(t=e.sent()))throw new s.a("Racing line output not found.");return[2,{racingLine:t.config,centreLine:void 0}]}})})},t.prototype.getRacingLineFromBinaryData=function(){return r.b(this,void 0,void 0,function(){var t,e,n,i,o,a,s,u,c,l,h,f,d;return r.e(this,function(r){switch(r.label){case 0:return t=this.getRacingLineMetadata(this.studyType),[4,this.getRacingLineChannel("sRun",t)];case 1:return(e=r.sent())?[3,3]:[4,this.getRacingLineChannel("sLap",t)];case 2:e=r.sent(),r.label=3;case 3:return[4,this.getRacingLineChannel("cLap",t)];case 4:return n=r.sent(),[4,this.getRacingLineChannel("aTrackCamber",t)];case 5:return i=r.sent(),[4,this.getRacingLineChannel("zTrack",t)];case 6:return o=r.sent(),[4,this.getRacingLineChannel("aTrackIncline",t)];case 7:return a=r.sent(),s={racingLine:this.simplifyObject({sLap:e,cLap:n,aTrackCamber:i,zTrack:o,aTrackIncline:a}),centreLine:void 0},[4,this.getRacingLineChannel("xCentreLine",t)];case 8:return u=r.sent(),[4,this.getRacingLineChannel("yCentreLine",t)];case 9:return c=r.sent(),[4,this.getRacingLineChannel("sLapCentreLine",t)];case 10:return l=r.sent(),[4,this.getRacingLineChannel("aYawCentreLine",t)];case 11:return h=r.sent(),[4,this.getRacingLineChannel("xHalfWidth",t)];case 12:return f=r.sent(),[4,this.getRacingLineChannel("rTrackCentreOffset",t)];case 13:return d=r.sent(),s.centreLine=this.simplifyObject({xCentreLine:u,yCentreLine:c,sLapCentreLine:l,aYawCentreLine:h,xHalfWidth:f,rTrackCentreOffset:d}),[2,s]}})})},t.prototype.getRacingLineChannel=function(t,e){return r.b(this,void 0,void 0,function(){var n,i,o;return r.e(this,function(r){switch(r.label){case 0:return n=e.channelPrefix+t,i=this.vectorMetadata.find(function(t){return t.name===n}),this.racingLineHasMetadata&&!i?[2,void 0]:[4,this.loadChannelData(e.simType+"_"+n+".bin",i?i.binaryFormat:void 0)];case 1:return(o=r.sent())&&(o=a.channelAsIso(o,t,e.simType,this.simVersion)),[2,o]}})})},t.prototype.getRacingLineMetadata=function(t){var e,n="";switch(t){case o.u:case o.v:case o.w:e=o.q;break;default:e=t[0].toUpperCase()+t.substr(1),n=c}return new h(e,n)},t.prototype.simplifyObject=function(t){if(t){for(var e=r.a({},t),n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];e[o]||delete e[o]}if(0!==Object.keys(e).length)return e}},t}(),h=function(t,e){this.simType=t,this.channelPrefix=e}},uahL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("KHOH"),i=function(){function t(t,e){if(this.values=t,this.rCoordinates=e,this.rCoordinatesDirectionReversed=!1,this.rCoordinatesExtent=r.a(e),t.length>1&&this.rCoordinatesExtent[1]<=1){var n=e.indexOf(this.rCoordinatesExtent[0]),i=e.indexOf(this.rCoordinatesExtent[1]);this.rCoordinatesDirectionReversed=t[i]<t[n]}}return t.prototype.toNormalized=function(t){return(this.rCoordinatesExtent[0]>0||this.rCoordinatesExtent[1]<1)&&(this.rCoordinatesExtent[0]>0&&(t-=this.rCoordinatesExtent[0]),t/=this.rCoordinatesExtent[1]-this.rCoordinatesExtent[0]),this.rCoordinatesDirectionReversed&&(t=1-t),t},t.prototype.fromNormalized=function(t){return this.rCoordinatesDirectionReversed&&(t=1-t),(this.rCoordinatesExtent[0]>0||this.rCoordinatesExtent[1]<1)&&(t*=this.rCoordinatesExtent[1]-this.rCoordinatesExtent[0],this.rCoordinatesExtent[0]>0&&(t+=this.rCoordinatesExtent[0])),t},t.fromProcessedMultiPlotChannel=function(e){for(var n=0,r=e.sources;n<r.length;n++){var i=r[n];if(i.loaderMetadata&&i.loaderMetadata instanceof t)return i.loaderMetadata}},t}()},"ukm+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("9CsZ"),i=function(){function t(){this._cache={}}return t.prototype.getDomainNews=function(t){var e=this._cache[t];return e||(this._cache[t]=e=new r.b),e},t}()},v0d7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("LXbF"),i=function(){function t(t,e){this.channelNameStyle=t,this.simTypes=e,this.items={}}return t.prototype.add=function(t,e,n){if(this.channelNameStyle===r.a.FullyQualified){var i=this.items[t];(!i||this.simTypes.indexOf(n)<this.simTypes.indexOf(i.simType))&&(this.items[t]={fullName:e,simType:n})}},t.prototype.getMap=function(){var t={};for(var e in this.items)this.items.hasOwnProperty(e)&&(t[e]=this.items[e].fullName);return t},t}()},v9aN:function(t,e){function n(t){this.name="RavenConfigError",this.message=t}(n.prototype=new Error).constructor=n,t.exports=n},vRuM:function(t,e,n){"use strict";var r=n("mrSG"),i=n("YjDc"),o=n("eh5z"),a=n("qj1s"),s=n("Cjpe"),u=n("gozj"),c=function(){function t(){}return t.prototype.execute=function(t,e){for(var n=t.getSimTypes(),r={},i=0,c=n;i<c.length;i++)r[m=c[i]]=t.getChannelNamesForSimType(m);for(var l=new s.a,h=e.rCoordinates.length,f=0;f<h;f++)for(var d=0,p=n;d<p.length;d++){for(var m,g=!0,v=0,y=r[m=p[d]];v<y.length;v++){var b=t.getScalarData(y[v]);b&&(isNaN(b.values[f])||(g=!1))}if(g){l.add(f);break}}var w=t.getScalarData("tLapTotal");if(w&&e.designName===a.a.monteCarlo){var _=w.values.slice().sort(function(t,e){return t-e}),x=Math.floor(_.length/50),S=u.b.standardDeviation(_.slice(x,-x)),M=o.meanStrict(_.slice(x,-x)),C=M-2*S,E=M+2.5*S;for(f=0;f<_.length;f++){var T=w.values[f];T>E?l.add(f):T<C&&l.add(f)}}this.stripFromMapAndChannels(l,e,t)},t.prototype.stripFromMapAndChannels=function(t,e,n){u.b.strip.apply(u.b,[t,e.coordinates,e.jobNames,e.rCoordinates,e.indexMatrix,n.lineIndexToJobIndexMap].concat(n.getChannelNames().map(function(t){return n.data[t].values})))},t}(),l=n("8i/y"),h=n("LXbF"),f=n("v0d7"),d=function(){function t(t,e,n,r){this.data=t,this.map=e,this.inputsMetadataMap=n,this.lineIndexToJobIndexMap=r}return t.prototype.getScalarData=function(t){var e=this.data[t];if(e)return e;var n=this.map[t];return n?this.data[n]:void 0},t.prototype.getChannelNames=function(){return this.getKeys(this.data)},t.prototype.getAllChannels=function(){var t=this;return this.getKeys(this.data).map(function(e){return t.data[e]})},t.prototype.getChannelNamesForSimType=function(t){for(var e=[],n=0,r=this.getChannelNames();n<r.length;n++){var i=r[n];this.data[i].simType===t&&e.push(i)}return e},t.prototype.getSimTypes=function(){for(var t={},e=0,n=this.getChannelNames();e<n.length;e++)t[this.data[n[e]].simType]=!0;return this.getKeys(t)},t.prototype.getKeys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},t}(),p=function(){function t(t){this.urlFileLoader=t}return t.prototype.execute=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,a,s,u,c,p,m,g;return r.e(this,function(r){switch(r.label){case 0:return[4,this.urlFileLoader.loadScalarResultsForStudy(t)];case 1:for(i=r.sent(),a={},s=new f.a(h.a.FullyQualified,e),u=function(t){var e=t.name,n=Object(l.a)(e,t.simType),r={fullName:n,genericName:e,simType:t.simType,values:i.data.map(function(t){return t[n]}),units:t.units,description:t.description};s.add(e,n,t.simType),a[n]=r},c=0,p=i.metadata;c<p.length;c++)u(p[c]);return m=o.range(n.coordinates.length),g=i.inputsMetadata.reduce(function(t,e){return t[e.inputName]=e,t},{}),[2,new d(a,s.getMap(),g,m)]}})})},t}(),m=function(){function t(t){this.urlFileLoader=t}return t.prototype.execute=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,a,s,u,c,l,p,m,g,v,y;return r.e(this,function(r){switch(r.label){case 0:return[4,this.loadAllScalarResultsForStudy(t,i=n.coordinates.length,e)];case 1:for(a=r.sent(),s=o.range(a.length),this.removeFailedPoints(a,e,n,s),i=n.coordinates.length,u={},c=new f.a(h.a.FullyQualified,e),l=0;l<i;l++)for(p=0;p<e.length;p++)if(m=a[l*e.length+p])for(g=e[p],v=0,y=m;v<y.length;v++)this.processScalarResult(y[v],g,c,u);return[2,new d(u,c.getMap(),{},s)]}})})},t.prototype.loadAllScalarResultsForStudy=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,o,a,s;return r.e(this,function(r){switch(r.label){case 0:for(i=[],o=0;o<e;o++)for(a=0,s=n;a<s.length;a++)i.push(this.urlFileLoader.loadScalarResultsForSim(t,o,s[a]));return[4,Promise.all(i)];case 1:return[2,r.sent()]}})})},t.prototype.removeFailedPoints=function(t,e,n,r){for(var i=new s.a,o=0;o<n.coordinates.length;o++){for(var a=!0,u=0;u<e.length;u++)t[u+e.length*o]&&(a=!1);a&&i.add(o)}for(var c=i.get(),l=c.length-1;l>=0;l--)t.splice(e.length*c[l],e.length);this.stripFromMapAndIndexMap(i,n,r)},t.prototype.processScalarResult=function(t,e,n,r){var i=t.name,o=Object(l.a)(i,e);n.add(i,o,e);var a=r[o];if(a)a.values.push(t.value);else{var s=[t.value];delete t.value,r[o]=a={fullName:o,genericName:i,simType:e,values:s,units:t.units,description:t.description}}},t.prototype.stripFromMapAndIndexMap=function(t,e,n){u.b.strip(t,e.coordinates,e.jobNames,e.rCoordinates,e.indexMatrix,n)},t}(),g=n("JW5y"),v=function(){function t(t,e,n){this.studyId=t,this.simTypes=e,this.loadStudyExplorationAndScalarData=n}return t.create=function(e,n,r){return new t(e,n,y.create(r))},t.prototype.get=function(){return this.data||(this.data=this.loadStudyExplorationAndScalarData.execute(this.studyId,this.simTypes)),this.data},t.prototype.getDefined=function(){return r.b(this,void 0,void 0,function(){var t;return r.e(this,function(e){switch(e.label){case 0:return[4,this.get()];case 1:if(!(t=e.sent()))throw new g.a("No exploration or scalar data found.");return[2,t]}})})},t}(),y=function(){function t(t,e,n,r){this.urlFileLoader=t,this.removeBadJobsFromStudy=e,this.getScalarDataFromConsolidatedFiles=n,this.getScalarDataFromIndividualJobs=r}return t.create=function(e){return new t(e,new c,new p(e),new m(e))},t.prototype.execute=function(t,e){return r.b(this,void 0,void 0,function(){var n,i;return r.e(this,function(r){switch(r.label){case 0:return[4,this.urlFileLoader.loadExplorationMap(t)];case 1:if(!(n=r.sent()))return[2,void 0];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.getScalarDataFromConsolidatedFiles.execute(t,e,n)];case 3:return i=r.sent(),[3,6];case 4:return r.sent(),console.log("Something went wrong with getting data from consolidated files."),[4,this.getScalarDataFromIndividualJobs.execute(t,e,n)];case 5:return i=r.sent(),[3,6];case 6:return this.removeBadJobsFromStudy.execute(i,n),[2,new b(i,n)]}})})},t}(),b=function(t,e){this.scalarData=t,this.explorationMap=e},w=n("2iCe"),_=n("BcC1"),x=n("8/63"),S=n("aEMu"),M=function(){function t(t){this.explorationAndScalarDataCache=t,this.cache={}}return t.prototype.get=function(t){return this.cache[t]||(this.cache[t]=this.loadStudyData(t)),this.cache[t]},t.prototype.getDefined=function(t){return r.b(this,void 0,void 0,function(){var e;return r.e(this,function(n){switch(n.label){case 0:return[4,this.get(t)];case 1:if(!(e=n.sent()))throw new g.a("No single dimension evaluation data found.");return[2,e]}})})},t.prototype.loadStudyData=function(t){return r.b(this,void 0,void 0,function(){var e,n,i,c,l,h,f,d,p,m,g;return r.e(this,function(r){switch(r.label){case 0:return[4,this.explorationAndScalarDataCache.get()];case 1:if(!(e=r.sent()))return[2,void 0];switch(i=(n=e.explorationMap).basis[t],c=[],l=[],n.designName){case a.a.monteCarlo:for(c=u.b.linspace([0,1],h=21),f=function(e){var r=n.coordinates[0][t][e];if(r.constructor===Array){for(var i=[],a=function(r){i.push(u.b.linspace([o.minStrict(n.coordinates.map(function(n){return n[t][e][r]})),o.maxStrict(n.coordinates.map(function(n){return n[t][e][r]}))],h))},s=0;s<r.length;s++)a(s);l.push(u.b.transpose(i))}else l.push(u.b.linspace([o.minStrict(n.coordinates.map(function(n){return n[t][e]})),o.maxStrict(n.coordinates.map(function(n){return n[t][e]}))],h))},d=0;d<i.length;d++)f(d);l=u.b.transpose(l);break;case a.a.factorial:case a.a.star:for(c=u.b.unique(n.rCoordinates.map(function(e){return e[t]})),l=u.b.unique(n.coordinates.map(function(e){return e[t]})),p=new s.a,m=0;m<c.length;m++)isNaN(c[m])&&p.add(m);u.b.strip(p,c),u.b.strip(p,l),n.designName===a.a.factorial&&0!==(g=o.maxStrict(c))&&(c=c.map(function(t){return t/g}))}return[2,new C(i,l,c)]}})})},t}(),C=function(t,e,n){this.dimensionNames=t,this.evaluationValues=e,this.evaluationRatios=n},E=n("gy9U"),T=n("T/I+"),O=n("zBeG"),P=n("YJNB"),A=n("HrTc"),k=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.dimensionIndex=e,u.sharedState=n,u.studySourceLoader=r,u.explorationAndScalarDataCache=i,u.dimensionDataCache=o,u.channelInterpolator=a,u.channelDataFactory=s,u}return r.d(e,t),e.create=function(t,n,r,i,o,a,s){var u=new M(a);return new e(t,n,S.c.create(r,i,o,a,u,t),a,u,s,new A.c(r))},e.prototype.getSourceMetadata=function(){return this.studySourceLoader.getSourceMetadata()},e.prototype.getChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){return r.e(this,function(r){switch(r.label){case 0:return[4,this.getMultipleChannelData([t],e,n)];case 1:return[2,r.sent().get(t)]}})})},e.prototype.getMultipleChannelData=function(t,e,n){return r.b(this,void 0,void 0,function(){var i,a,s,u,c,l,h,f,d,p,m,g,v,y,b,w,_=this;return r.e(this,function(x){switch(x.label){case 0:return[4,this.explorationAndScalarDataCache.get()];case 1:return i=x.sent(),[4,this.dimensionDataCache.get(this.dimensionIndex)];case 2:return a=x.sent(),[4,this.studySourceLoader.cache.get()];case 3:return s=x.sent(),a&&s&&i?[4,this.studySourceLoader.getMultipleChannelData(t,e,n)]:[2,new E.a(t.reduce(function(t,n){return t[n]=_.channelDataFactory.createChannelData(n,void 0,e),t},{}))];case 4:for(u=x.sent(),c=u.getContent(),l=t.filter(function(t){return t!==S.b&&!s.inputDimensionMap[t]}),h=l.map(function(t){return u.get(t).fullName}),f=this.getInterpolatedChannelData(this.channelInterpolator,a,h),d=0,p=l;d<p.length;d++)(g=u.get(m=p[d]))&&(v=f[g.fullName],(y=i.scalarData.getScalarData(g.fullName))&&(v=P.a.convertValuesBetweenUnits(v,y.units,g.units,!0)),b=o.extentStrict(v),c[m]=g.clone(v,g.units,g.isUserSpecifiedUnits,g.dataLabels,r.a({},g.options,{overrideExtents:new O.a(o.minStrict([b[0],g.minimum]),o.maxStrict([b[1],g.maximum]))})));return(w=u.get(S.b))&&(c[S.b]=w.clone(o.range(a.evaluationValues.length))),[2,new E.a(c)]}})})},e.prototype.getRequestableChannels=function(t,e){return this.studySourceLoader.getRequestableChannels(t,e)},e.prototype.getInputDomainNames=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){switch(t.label){case 0:return[4,this.studySourceLoader.cache.get()];case 1:return[2,t.sent().inputDimensionList.map(function(t){return t.fullName})]}})})},e.prototype.getInterpolatedChannelData=function(t,e,n){if(!this.sharedState.dimensions)throw new Error("No dimensions supplied.");var r=e.evaluationRatios,i=this.sharedState.dimensions.rCoordinates.slice().map(function(t){return[t]});i[this.dimensionIndex]=r.slice();var o=T.a.fromArray(i);return t.execute(n,o)},e}(x.b),L=n("9CsZ"),R=n("6EN/"),D=n("HLL/"),N=n("9WsI");n.d(e,"a",function(){return I});var I=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.numberOfDimensions=0,o.rCoordinates=[],o.rDomainExtents=[],o}return r.d(e,t),e.prototype.load=function(){return r.b(this,void 0,void 0,function(){var t,e;return r.e(this,function(n){switch(n.label){case 0:return this.explorationAndScalarDataCache=v.create(this.studyJobs[0].studyId,this.simTypes,this.fileLoader),t=this,[4,this.explorationAndScalarDataCache.getDefined()];case 1:for(t.explorationAndScalarData=n.sent(),1===this.studyJobs.length&&this.studyJobs[0].jobIndex===w.b&&(this.studyJobs[0].jobIndex=this.explorationAndScalarData.scalarData.lineIndexToJobIndexMap.length?this.explorationAndScalarData.scalarData.lineIndexToJobIndexMap[0]:0),this.numberOfDimensions=this.explorationAndScalarData.explorationMap.basis.length,this.rCoordinates=[],this.rDomainExtents=[],e=0;e<this.numberOfDimensions;e++)this.rCoordinates.push(.5),this.rDomainExtents.push([0,1]);return[2]}})})},e.prototype.createDimensionViewer=function(t,e,n,i,o,a,s){return r.b(this,void 0,void 0,function(){var c,l,h,f,d,p,m=this;return r.e(this,function(r){switch(r.label){case 0:return this.explorationAndScalarDataCache&&this.explorationAndScalarData?(l=this.explorationAndScalarDataCache,h=new L.e(void 0,t),f=this.studyJobs.map(function(t){return k.create(e,h,m.siteHooks,m.fileLoader,t.studyId,l,n)}),(c=h.sourceLoaderSet).add.apply(c,f.map(function(t){return new N.b(t)})),i.sharedStates.push(h),d=o.resolvedLayout.getConfigCopy(),Object(R.e)(d),p=[],f.length?[4,f[0].getInputDomainNames()]:[3,2]):[2];case 1:p=r.sent(),r.label=2;case 2:return i.views.push({title:u.b.condenseDimension(this.explorationAndScalarData.explorationMap.basis[e][0]),viewerType:_.b,layout:o,viewer:_.a.createDimensionLinePlotViewer(e,p,a,D.j,d,i.channelNameStyle,h,this.siteHooks),grid:s}),[2]}})})},e}(i.a)},vYjF:function(t,e,n){var r=n("BjAV"),i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){return void 0===t}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function l(t,e){var n,r;if(o(t.length))for(n in t)f(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function h(t,e){if("number"!=typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"\u2026"}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t){for(var e,n=[],r=0,i=t.length;r<i;r++)s(e=t[r])?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function p(t){var e,n,r,i,o,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&s(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var u=["type","name","title","alt"];for(o=0;o<u.length;o++)(i=t.getAttribute(r=u[o]))&&a.push("["+r+'="'+i+'"]');return a.join("")}function m(t,e){return!!(!!t^!!e)}function g(t,e){if(m(t,e))return!1;var n,r,i=t.frames,o=e.frames;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if((n=i[a]).filename!==(r=o[a]).filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}function v(t){if("string"==typeof t)return h(t,40);if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}t.exports={isObject:function(t){return"object"==typeof t&&null!==t},isError:function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isErrorEvent:function(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},isDOMError:function(t){return"[object DOMError]"===Object.prototype.toString.call(t)},isDOMException:function(t){return"[object DOMException]"===Object.prototype.toString.call(t)},isUndefined:o,isFunction:function(t){return"function"==typeof t},isPlainObject:a,isString:s,isArray:u,isEmptyObject:function(t){if(!a(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(t){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(t){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(t){return!1}},supportsFetch:c,supportsReferrerPolicy:function(){if(!c())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(t){return function(e,n){var r=t(e)||e;return n&&n(r)||r}},each:l,objectMerge:function(t,e){return e?(l(e,function(e,n){t[e]=n}),t):t},truncate:h,objectFrozen:function(t){return!!Object.isFrozen&&Object.isFrozen(t)},hasKey:f,joinRegExp:d,urlencode:function(t){var e=[];return l(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")},uuid4:function(){var t=i.crypto||i.msCrypto;if(!o(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},htmlTreeAsString:function(t){for(var e,n=[],r=0,i=0,o=" > ".length;t&&r++<5&&!("html"===(e=p(t))||r>1&&i+n.length*o+e.length>=80);)n.push(e),i+=e.length,t=t.parentNode;return n.reverse().join(" > ")},htmlElementAsString:p,isSameException:function(t,e){return!m(t,e)&&(t=t.values[0]).type===(e=e.values[0]).type&&t.value===e.value&&(n=e.stacktrace,(!o(t.stacktrace)||!o(n))&&g(t.stacktrace,e.stacktrace));var n},isSameStacktrace:g,parseUrl:function(t){if("string"!=typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+(e[6]||"")+(e[8]||"")}},fill:function(t,e,n,r){if(null!=t){var i=t[e];t[e]=n(i),t[e].__raven__=!0,t[e].__orig__=i,r&&r.push([t,e,i])}},safeJoin:function(t,e){if(!u(t))return"";for(var n=[],r=0;r<t.length;r++)try{n.push(String(t[r]))}catch(t){n.push("[value cannot be serialized]")}return n.join(e)},serializeException:function t(e,n,i){if(!a(e))return e;i="number"!=typeof(n="number"!=typeof n?3:n)?51200:i;var o,s=function t(e,n){return 0===n?v(e):a(e)?Object.keys(e).reduce(function(r,i){return r[i]=t(e[i],n-1),r},{}):Array.isArray(e)?e.map(function(e){return t(e,n-1)}):v(e)}(e,n);return o=r(s),function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>i?t(e,n-1):s},serializeKeysForMessage:function(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(0===(t=t.filter(function(t){return"string"==typeof t})).length)return"[object has no keys]";if(t[0].length>=(e="number"!=typeof e?40:e))return t[0];for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:r+"\u2026"}return""},sanitize:function(t,e){if(!u(e)||u(e)&&0===e.length)return t;var n,i=d(e);try{n=JSON.parse(r(t))}catch(e){return t}return function t(e){return u(e)?e.map(function(e){return t(e)}):a(e)?Object.keys(e).reduce(function(n,r){return n[r]=i.test(r)?"********":t(e[r]),n},{}):e}(n)}}},"vkw/":function(t,e,n){var r=n("fARj").DiffContext,i=n("MmxI").PatchContext,o=n("+i0I").ReverseContext,a=function(t){if(t&&t.children){for(var e,n=t.children.length,r=t.result,i=0;i<n;i++)void 0!==(e=t.children[i]).result&&((r=r||{})[e.childName]=e.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()}};a.filterName="collectChildren";var s=function(t){if(!t.leftIsArray&&"object"===t.leftType){var e,n,i=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(i&&!i(e,t)||(n=new r(t.left[e],t.right[e]),t.push(n,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(i&&!i(e,t)||void 0===t.left[e]&&(n=new r(void 0,t.right[e]),t.push(n,e)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()}};s.filterName="objects";var u=function(t){if(t.nested&&!t.delta._t){var e,n;for(e in t.delta)n=new i(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};u.filterName="objects";var c=function(t){if(t&&t.children&&!t.delta._t){for(var e,n=t.children.length,r=0;r<n;r++)e=t.children[r],Object.prototype.hasOwnProperty.call(t.left,e.childName)&&void 0===e.result?delete t.left[e.childName]:t.left[e.childName]!==e.result&&(t.left[e.childName]=e.result);t.setResult(t.left).exit()}};c.filterName="collectChildren";var l=function(t){if(t.nested&&!t.delta._t){var e,n;for(e in t.delta)n=new o(t.delta[e]),t.push(n,e);t.exit()}};l.filterName="objects";var h=function(t){if(t&&t.children&&!t.delta._t){for(var e,n=t.children.length,r={},i=0;i<n;i++)r[(e=t.children[i]).childName]!==e.result&&(r[e.childName]=e.result);t.setResult(r).exit()}};h.filterName="collectChildren",e.collectChildrenDiffFilter=a,e.objectsDiffFilter=s,e.patchFilter=u,e.collectChildrenPatchFilter=c,e.reverseFilter=l,e.collectChildrenReverseFilter=h},vpYX:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new(function(){function t(){}return t.prototype.yield=function(){return new Promise(function(t,e){setTimeout(t)})},t.prototype.delay=function(t){return new Promise(function(e,n){setTimeout(e,t)})},t}())},wBcM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("gozj"),i=n("eh5z"),o=n("kNgp"),a=function(){function t(){}return t.formatAxis=function(e,n,a,s){var u=t.getDataLabelsIfSingleChannelWithLabels(n);if(u){var c=u,l=n.processed.scale.domain();e.tickValues(Object(o.a)(i.range(u.length).map(function(t){return t>=l[0]&&t<=l[1]?t:void 0}))).tickFormat(function(t,e){return e>=l[0]&&e<=l[1]?c[e]:""})}else s&&e.tickFormat(i.format(s)),e.ticks(i.max([3,Math.abs(r.b.diff(n.processed.scale.range()))/a]))},t.getDataLabelsIfSingleChannelWithLabels=function(t){if(1===t.processed.channels.length&&t.processed.channels[0].sources.length&&t.processed.channels[0].sources[0].dataLabels)return t.processed.channels[0].sources[0].dataLabels},t}()},wFw1:function(t,e,n){"use strict";n.d(e,"d",function(){return g}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"e",function(){return v}),n.d(e,"b",function(){return _}),n.d(e,"a",function(){return w}),n.d(e,"c",function(){return c});var r=n("mrSG"),i=n("ihYY"),o=n("CcnG"),a=n("ZYjt"),s=n("NSYL"),u=n("Ip0R"),c=function(t){function e(e,n){var r=t.call(this)||this;return r._nextAnimationId=0,r._renderer=e.createRenderer(n.body,{id:"0",encapsulation:o.U.None,styles:[],data:{animation:[]}}),r}return Object(r.d)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Object(i.g)(t):t;return f(this._renderer,null,e,"register",[n]),new l(e,this._renderer)},Object(r.c)([Object(r.g)(1,Object(o.q)(a.b))],e)}(i.b),l=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return Object(r.d)(e,t),e.prototype.create=function(t,e){return new h(this._id,t,e||{},this._renderer)},e}(i.c),h=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return f(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function f(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}var d=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new p("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new m(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var e=Object(r.h)(t,2);(0,e[0])(e[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),p=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),m=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return Object(r.d)(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var i,o,a,s=this;if("@"==e.charAt(0)){var u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=e.substr(1),l="";return"@"!=c.charAt(0)&&(c=(i=Object(r.h)((o=c,a=o.indexOf("."),[o.substring(0,a),o.substr(a+1)]),2))[0],l=i[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){s.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)},e}(p),g=function(t){function e(e,n,r){return t.call(this,e.body,n,r)||this}return Object(r.d)(e,t),Object(r.c)([Object(r.g)(0,Object(o.q)(u.d))],e)}(s.b);function v(){return Object(s.h)()?new s.f:new s.d}function y(){return new s.g}function b(t,e,n){return new d(t,e,n)}var w=new o.s("AnimationModuleType"),_=function(){}},wX0t:function(t,e){t.exports=function(t,e){var n;return"string"==typeof e&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):e}},"wd/R":function(t,e,n){(function(t){t.exports=function(){"use strict";var e;function r(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return Te(t,e,n,r,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}var p=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function m(t){if(null==t._isValid){var e=d(t),n=p.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function g(t){var e=f(NaN);return null!=t?h(d(e),t):d(e).userInvalidated=!0,e}var v=r.momentProperties=[];function y(t,e){var n,r,i;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=d(e)),a(e._locale)||(t._locale=e._locale),v.length>0)for(n=0;n<v.length;n++)a(i=e[r=v[n]])||(t[r]=i);return t}var b=!1;function w(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function _(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function M(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&S(t[r])!==S(e[r]))&&a++;return a+o}function C(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var n=!0;return h(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}C(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var T={};function O(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),T[t]||(C(e),T[t]=!0)}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var n,r=h({},t);for(n in e)l(e,n)&&(o(t[n])&&o(e[n])?(r[n]={},h(r[n],t[n]),h(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)l(t,n)&&!l(e,n)&&o(t[n])&&(r[n]=h({},r[n]));return r}function k(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;var L=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n},R={};function D(t,e){var n=t.toLowerCase();R[n]=R[n+"s"]=R[e]=t}function N(t){return"string"==typeof t?R[t]||R[t.toLowerCase()]:void 0}function I(t){var e,n,r={};for(n in t)l(t,n)&&(e=N(n))&&(r[e]=t[n]);return r}var j={};function z(t,e){j[t]=e}function F(t,e){return function(n){return null!=n?(B(this,t,n),r.updateOffset(this,e),this):V(this,t)}}function V(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function B(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function U(t,e,n){var r=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},q={};function Y(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(q[t]=i),e&&(q[e[0]]=function(){return U(i.apply(this,arguments),e[1],e[2])}),n&&(q[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function X(t,e){return t.isValid()?(e=Z(e,t.localeData()),W[e]=W[e]||function(t){var e,n,r,i=t.match(H);for(e=0,n=i.length;e<n;e++)i[e]=q[i[e]]?q[i[e]]:(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=P(i[r])?i[r].call(e,t):i[r];return o}}(e),W[e](t)):t.localeData().invalidDate()}function Z(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(G.lastIndex=0;n>=0&&G.test(t);)t=t.replace(G,r),G.lastIndex=0,n-=1;return t}var J=/\d/,K=/\d\d/,Q=/\d{3}/,$=/\d{4}/,tt=/[+-]?\d{6}/,et=/\d\d?/,nt=/\d\d\d\d?/,rt=/\d\d\d\d\d\d?/,it=/\d{1,3}/,ot=/\d{1,4}/,at=/[+-]?\d{1,6}/,st=/\d+/,ut=/[+-]?\d+/,ct=/Z|[+-]\d\d:?\d\d/gi,lt=/Z|[+-]\d\d(?::?\d\d)?/gi,ht=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ft={};function dt(t,e,n){ft[t]=P(e)?e:function(t,r){return t&&n?n:e}}function pt(t,e){return l(ft,t)?ft[t](e._strict,e._locale):new RegExp(mt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})))}function mt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var gt={};function vt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),s(e)&&(r=function(t,n){n[e]=S(t)}),n=0;n<t.length;n++)gt[t[n]]=r}function yt(t,e){vt(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function bt(t,e,n){null!=e&&l(gt,t)&&gt[t](e,n._a,n,t)}var wt=0,_t=1,xt=2,St=3,Mt=4,Ct=5,Et=6,Tt=7,Ot=8,Pt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function At(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),z("month",8),dt("M",et),dt("MM",et,K),dt("MMM",function(t,e){return e.monthsShortRegex(t)}),dt("MMMM",function(t,e){return e.monthsRegex(t)}),vt(["M","MM"],function(t,e){e[_t]=S(t)-1}),vt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[_t]=i:d(n).invalidMonth=t});var kt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Dt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),At(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Nt(t){return null!=t?(Dt(this,t),r.updateOffset(this,!0),this):V(this,"Month")}var It=ht,jt=ht;function zt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=mt(r[e]),i[e]=mt(i[e]);for(e=0;e<24;e++)o[e]=mt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ft(t){return Vt(t)?366:365}function Vt(t){return t%4==0&&t%100!=0||t%400==0}Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),D("year","y"),z("year",1),dt("Y",ut),dt("YY",et,K),dt("YYYY",ot,$),dt("YYYYY",at,tt),dt("YYYYYY",at,tt),vt(["YYYYY","YYYYYY"],wt),vt("YYYY",function(t,e){e[wt]=2===t.length?r.parseTwoDigitYear(t):S(t)}),vt("YY",function(t,e){e[wt]=r.parseTwoDigitYear(t)}),vt("Y",function(t,e){e[wt]=parseInt(t,10)}),r.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var Bt=F("FullYear",!0);function Ut(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ht(t,e,n){var r=7+e-n;return-(7+Ut(t,0,r).getUTCDay()-e)%7+r-1}function Gt(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+Ht(t,r,i);return s<=0?a=Ft(o=t-1)+s:s>Ft(t)?(o=t+1,a=s-Ft(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Wt(t,e,n){var r,i,o=Ht(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+qt(i=t.year()-1,e,n):a>qt(t.year(),e,n)?(r=a-qt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function qt(t,e,n){var r=Ht(t,e,n),i=Ht(t+1,e,n);return(Ft(t)-r+i)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),z("week",5),z("isoWeek",5),dt("w",et),dt("ww",et,K),dt("W",et),dt("WW",et,K),yt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=S(t)}),Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),dt("d",et),dt("e",et),dt("E",et),dt("dd",function(t,e){return e.weekdaysMinRegex(t)}),dt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),dt("dddd",function(t,e){return e.weekdaysRegex(t)}),yt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:d(n).invalidWeekday=t}),yt(["d","e","E"],function(t,e,n,r){e[r]=S(t)});var Yt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Jt=ht,Kt=ht,Qt=ht;function $t(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=mt(s[e]),u[e]=mt(u[e]),c[e]=mt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function te(){return this.hours()%12||12}function ee(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ne(t,e){return e._meridiemParse}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,te),Y("k",["kk",2],0,function(){return this.hours()||24}),Y("hmm",0,0,function(){return""+te.apply(this)+U(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+te.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),ee("a",!0),ee("A",!1),D("hour","h"),z("hour",13),dt("a",ne),dt("A",ne),dt("H",et),dt("h",et),dt("k",et),dt("HH",et,K),dt("hh",et,K),dt("kk",et,K),dt("hmm",nt),dt("hmmss",rt),dt("Hmm",nt),dt("Hmmss",rt),vt(["H","HH"],St),vt(["k","kk"],function(t,e,n){var r=S(t);e[St]=24===r?0:r}),vt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),vt(["h","hh"],function(t,e,n){e[St]=S(t),d(n).bigHour=!0}),vt("hmm",function(t,e,n){var r=t.length-2;e[St]=S(t.substr(0,r)),e[Mt]=S(t.substr(r)),d(n).bigHour=!0}),vt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[St]=S(t.substr(0,r)),e[Mt]=S(t.substr(r,2)),e[Ct]=S(t.substr(i)),d(n).bigHour=!0}),vt("Hmm",function(t,e,n){var r=t.length-2;e[St]=S(t.substr(0,r)),e[Mt]=S(t.substr(r))}),vt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[St]=S(t.substr(0,r)),e[Mt]=S(t.substr(r,2)),e[Ct]=S(t.substr(i))});var re,ie=F("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Lt,monthsShort:Rt,week:{dow:0,doy:6},weekdays:Yt,weekdaysMin:Zt,weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},ae={},se={};function ue(t){return t?t.toLowerCase().replace("_","-"):t}function ce(e){var r=null;if(!ae[e]&&void 0!==t&&t&&t.exports)try{r=re._abbr,n("/SFx")("./"+e),le(r)}catch(t){}return ae[e]}function le(t,e){var n;return t&&(n=a(e)?fe(t):he(t,e))&&(re=n),re._abbr}function he(t,e){if(null!==e){var n=oe;if(e.abbr=t,null!=ae[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ae[t]._config;else if(null!=e.parentLocale){if(null==ae[e.parentLocale])return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;n=ae[e.parentLocale]._config}return ae[t]=new k(A(n,e)),se[t]&&se[t].forEach(function(t){he(t.name,t.config)}),le(t),ae[t]}return delete ae[t],null}function fe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return re;if(!i(t)){if(e=ce(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=ue(t[o]).split("-")).length,n=(n=ue(t[o+1]))?n.split("-"):null;e>0;){if(r=ce(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&M(i,n,!0)>=e-1)break;e--}o++}return null}(t)}function de(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[_t]<0||n[_t]>11?_t:n[xt]<1||n[xt]>At(n[wt],n[_t])?xt:n[St]<0||n[St]>24||24===n[St]&&(0!==n[Mt]||0!==n[Ct]||0!==n[Et])?St:n[Mt]<0||n[Mt]>59?Mt:n[Ct]<0||n[Ct]>59?Ct:n[Et]<0||n[Et]>999?Et:-1,d(t)._overflowDayOfYear&&(e<wt||e>xt)&&(e=xt),d(t)._overflowWeeks&&-1===e&&(e=Tt),d(t)._overflowWeekday&&-1===e&&(e=Ot),d(t).overflow=e),t}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/Z|[+-]\d\d(?::?\d\d)?/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],be=/^\/?Date\((\-?\d+)/i;function we(t){var e,n,r,i,o,a,s=t._i,u=pe.exec(s)||me.exec(s);if(u){for(d(t).iso=!0,e=0,n=ve.length;e<n;e++)if(ve[e][1].exec(u[1])){i=ve[e][0],r=!1!==ve[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(u[3])){o=(u[2]||" ")+ye[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ge.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Ce(t)}else t._isValid=!1}var _e=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function xe(t){var e,n,r,i,o,a,s,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=_e.exec(e)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==c)return d(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:a=0===s?" +0000":((s="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12)<0?" -":" +")+(""+s).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:a=u[n[5]];break;default:a=u[" GMT"]}n[5]=a,t._i=n.splice(1).join(""),t._f=r+i+o+" ZZ",Ce(t),d(t).rfc2822=!0}else t._isValid=!1}function Se(t,e,n){return null!=t?t:null!=e?e:n}function Me(t){var e,n,i,o,a=[];if(!t._d){for(i=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[xt]&&null==t._a[_t]&&function(t){var e,n,r,i,o,a,s,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=Se(e.GG,t._a[wt],Wt(Oe(),1,4).year),r=Se(e.W,1),((i=Se(e.E,1))<1||i>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var c=Wt(Oe(),o,a);n=Se(e.gg,t._a[wt],c.year),r=Se(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o}r<1||r>qt(n,o,a)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(s=Gt(n,r,i,o,a),t._a[wt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=Se(t._a[wt],i[wt]),(t._dayOfYear>Ft(o)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=Ut(o,0,t._dayOfYear),t._a[_t]=n.getUTCMonth(),t._a[xt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[St]&&0===t._a[Mt]&&0===t._a[Ct]&&0===t._a[Et]&&(t._nextDay=!0,t._a[St]=0),t._d=(t._useUTC?Ut:function(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[St]=24)}}function Ce(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],d(t).empty=!0;var e,n,i,o,a,s=""+t._i,u=s.length,c=0;for(i=Z(t._f,t._locale).match(H)||[],e=0;e<i.length;e++)(n=(s.match(pt(o=i[e],t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),q[o]?(n?d(t).empty=!1:d(t).unusedTokens.push(o),bt(o,n,t)):t._strict&&!n&&d(t).unusedTokens.push(o);d(t).charsLeftOver=u-c,s.length>0&&d(t).unusedInput.push(s),t._a[St]<=12&&!0===d(t).bigHour&&t._a[St]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[St]=(l=t._locale,h=t._a[St],null==(f=t._meridiem)?h:null!=l.meridiemHour?l.meridiemHour(h,f):null!=l.isPM?((p=l.isPM(f))&&h<12&&(h+=12),p||12!==h||(h=0),h):h),Me(t),de(t)}else xe(t);else we(t);var l,h,f,p}function Ee(t){var e=t._i,n=t._f;return t._locale=t._locale||fe(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new w(de(e)):(u(e)?t._d=e:i(n)?function(t){var e,n,r,i,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Ce(e),m(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==r||o<r)&&(r=o,n=e));h(t,n||e)}(t):n?Ce(t):function(t){var e=t._i;a(e)?t._d=new Date(r.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=be.exec(t._i);null===e?(we(t),!1===t._isValid&&(delete t._isValid,xe(t),!1===t._isValid&&(delete t._isValid,r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):i(e)?(t._a=c(e.slice(0),function(t){return parseInt(t,10)}),Me(t)):o(e)?function(t){if(!t._d){var e=I(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Me(t)}}(t):s(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),m(t)||(t._d=null),t))}function Te(t,e,n,r,a){var s,u={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=t,u._f=e,u._strict=r,(s=new w(de(Ee(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Oe(t,e,n,r){return Te(t,e,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var Pe=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Oe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Ae=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Oe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function ke(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Oe();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Re(t){var e=I(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Le.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Le.length;++r)if(t[Le[r]]){if(n)return!1;parseFloat(t[Le[r]])!==S(t[Le[r]])&&(n=!0)}return!0}(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=fe(),this._bubble()}function De(t){return t instanceof Re}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+U(~~(t/60),2)+e+U(~~t%60,2)})}Ie("Z",":"),Ie("ZZ",""),dt("Z",lt),dt("ZZ",lt),vt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=ze(lt,t)});var je=/([\+\-]|\d\d)/gi;function ze(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(je)||["-",0,0],i=60*r[1]+S(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Fe(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(_(t)||u(t)?t.valueOf():Oe(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Oe(t).local()}function Ve(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Be(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ue=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,He=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Ge(t,e){var n,r,i,o,a,u,c=t,h=null;return De(t)?c={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(c={},e?c[e]=t:c.milliseconds=t):(h=Ue.exec(t))?(n="-"===h[1]?-1:1,c={y:0,d:S(h[xt])*n,h:S(h[St])*n,m:S(h[Mt])*n,s:S(h[Ct])*n,ms:S(Ne(1e3*h[Et]))*n}):(h=He.exec(t))?c={y:We(h[2],n="-"===h[1]?-1:1),M:We(h[3],n),w:We(h[4],n),d:We(h[5],n),h:We(h[6],n),m:We(h[7],n),s:We(h[8],n)}:null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(o=Oe(c.from),a=Oe(c.to),i=o.isValid()&&a.isValid()?(a=Fe(a,o),o.isBefore(a)?u=qe(o,a):((u=qe(a,o)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(c={}).ms=i.milliseconds,c.M=i.months),r=new Re(c),De(t)&&l(t,"_locale")&&(r._locale=t._locale),r}function We(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function qe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ye(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Xe(this,Ge(n="string"==typeof n?+n:n,r),t),this}}function Xe(t,e,n,i){var o=e._milliseconds,a=Ne(e._days),s=Ne(e._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*n),a&&B(t,"Date",V(t,"Date")+a*n),s&&Dt(t,V(t,"Month")+s*n),i&&r.updateOffset(t,a||s))}Ge.fn=Re.prototype,Ge.invalid=function(){return Ge(NaN)};var Ze=Ye(1,"add"),Je=Ye(-1,"subtract");function Ke(t){var e;return void 0===t?this._locale._abbr:(null!=(e=fe(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function $e(){return this._locale}function tn(t,e){Y(0,[t,t.length],0,e)}function en(t,e,n,r,i){var o;return null==t?Wt(this,r,i).year:(e>(o=qt(t,r,i))&&(e=o),(function(t,e,n,r,i){var o=Gt(t,e,n,r,i),a=Ut(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}).call(this,t,e,n,r,i))}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),dt("G",ut),dt("g",ut),dt("GG",et,K),dt("gg",et,K),dt("GGGG",ot,$),dt("gggg",ot,$),dt("GGGGG",at,tt),dt("ggggg",at,tt),yt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=S(t)}),yt(["gg","GG"],function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),D("quarter","Q"),z("quarter",7),dt("Q",J),vt("Q",function(t,e){e[_t]=3*(S(t)-1)}),Y("D",["DD",2],"Do","date"),D("date","D"),z("date",9),dt("D",et),dt("DD",et,K),dt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),vt(["D","DD"],xt),vt("Do",function(t,e){e[xt]=S(t.match(et)[0])});var nn=F("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),z("dayOfYear",4),dt("DDD",it),dt("DDDD",Q),vt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=S(t)}),Y("m",["mm",2],0,"minute"),D("minute","m"),z("minute",14),dt("m",et),dt("mm",et,K),vt(["m","mm"],Mt);var rn=F("Minutes",!1);Y("s",["ss",2],0,"second"),D("second","s"),z("second",15),dt("s",et),dt("ss",et,K),vt(["s","ss"],Ct);var on,an=F("Seconds",!1);for(Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),z("millisecond",16),dt("S",it,J),dt("SS",it,K),dt("SSS",it,Q),on="SSSS";on.length<=9;on+="S")dt(on,st);function sn(t,e){e[Et]=S(1e3*("0."+t))}for(on="S";on.length<=9;on+="S")vt(on,sn);var un=F("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var cn=w.prototype;function ln(t){return t}cn.add=Ze,cn.calendar=function(t,e){var n=t||Oe(),i=Fe(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=e&&(P(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Oe(n)))},cn.clone=function(){return new w(this)},cn.diff=function(t,e,n){var r,i,o,a,s,u,c,l;return this.isValid()&&(r=Fe(t,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),"year"===(e=N(e))||"month"===e||"quarter"===e?(s=this,a=-((c=12*((u=r).year()-s.year())+(u.month()-s.month()))+(u-(l=s.clone().add(c,"months"))<0?(u-l)/(l-s.clone().add(c-1,"months")):(u-l)/(s.clone().add(c+1,"months")-l)))||0,"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-r,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-i)/864e5:"week"===e?(o-i)/6048e5:o),n?a:x(a)):NaN},cn.endOf=function(t){return void 0===(t=N(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},cn.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=X(this,t);return this.localeData().postformat(e)},cn.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||Oe(t).isValid())?Ge({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.fromNow=function(t){return this.from(Oe(),t)},cn.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||Oe(t).isValid())?Ge({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.toNow=function(t){return this.to(Oe(),t)},cn.get=function(t){return P(this[t=N(t)])?this[t]():this},cn.invalidAt=function(){return d(this).overflow},cn.isAfter=function(t,e){var n=_(t)?t:Oe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(a(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},cn.isBefore=function(t,e){var n=_(t)?t:Oe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(a(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},cn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},cn.isSame=function(t,e){var n,r=_(t)?t:Oe(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=N(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},cn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},cn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},cn.isValid=function(){return m(this)},cn.lang=Qe,cn.locale=Ke,cn.localeData=$e,cn.max=Ae,cn.min=Pe,cn.parsingFlags=function(){return h({},d(this))},cn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:j[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(P(this[t=N(t)]))return this[t](e);return this},cn.startOf=function(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},cn.subtract=Je,cn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},cn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?X(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(Date.prototype.toISOString)?this.toDate().toISOString():X(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=Bt,cn.isLeapYear=function(){return Vt(this.year())},cn.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},cn.month=Nt,cn.daysInMonth=function(){return At(this.year(),this.month())},cn.week=cn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},cn.isoWeek=cn.isoWeeks=function(t){var e=Wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},cn.weeksInYear=function(){var t=this.localeData()._week;return qt(this.year(),t.dow,t.doy)},cn.isoWeeksInYear=function(){return qt(this.year(),1,4)},cn.date=nn,cn.day=cn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},cn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},cn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},cn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},cn.hour=cn.hours=ie,cn.minute=cn.minutes=rn,cn.second=cn.seconds=an,cn.millisecond=cn.milliseconds=un,cn.utcOffset=function(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ze(lt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Ve(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Xe(this,Ge(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ve(this)},cn.utc=function(t){return this.utcOffset(0,t)},cn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ve(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=ze(ct,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Oe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=Be,cn.isUTC=Be,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=E("dates accessor is deprecated. Use date instead.",nn),cn.months=E("months accessor is deprecated. Use month instead",Nt),cn.years=E("years accessor is deprecated. Use year instead",Bt),cn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),cn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=Ee(t))._a){var e=t._isUTC?f(t._a):Oe(t._a);this._isDSTShifted=this.isValid()&&M(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var hn=k.prototype;function fn(t,e,n,r){var i=fe(),o=f().set(r,e);return i[n](o,t)}function dn(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return fn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fn(t,r,n,"month");return i}function pn(t,e,n,r){"boolean"==typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var i,o=fe(),a=t?o._week.dow:0;if(null!=n)return fn(e,(n+a)%7,r,"day");var u=[];for(i=0;i<7;i++)u[i]=fn(e,(i+a)%7,r,"day");return u}hn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return P(r)?r.call(e,n):r},hn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(t){return this._ordinal.replace("%d",t)},hn.preparse=ln,hn.postformat=ln,hn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return P(i)?i(t,e,n,r):i.replace(/%d/i,t)},hn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return P(n)?n(e):n.replace(/%s/i,e)},hn.set=function(t){var e,n;for(n in t)P(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||kt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},hn.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[kt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return(function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Pt.call(this._shortMonthsParse,a))?i:null:-1!==(i=Pt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Pt.call(this._shortMonthsParse,a))?i:-1!==(i=Pt.call(this._longMonthsParse,a))?i:null:-1!==(i=Pt.call(this._longMonthsParse,a))?i:-1!==(i=Pt.call(this._shortMonthsParse,a))?i:null}).call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},hn.monthsRegex=function(t){return this._monthsParseExact?(l(this,"_monthsRegex")||zt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(t){return this._monthsParseExact?(l(this,"_monthsRegex")||zt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=It),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(t){return Wt(t,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},hn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},hn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},hn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return(function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Pt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Pt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Pt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Pt.call(this._weekdaysParse,a))?i:-1!==(i=Pt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Pt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Pt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Pt.call(this._weekdaysParse,a))?i:-1!==(i=Pt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Pt.call(this._minWeekdaysParse,a))?i:-1!==(i=Pt.call(this._weekdaysParse,a))?i:-1!==(i=Pt.call(this._shortWeekdaysParse,a))?i:null}).call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},hn.weekdaysRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},hn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},le("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",le),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",fe);var mn=Math.abs;function gn(t,e,n,r){var i=Ge(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function vn(t){return t<0?Math.floor(t):Math.ceil(t)}function yn(t){return 4800*t/146097}function bn(t){return 146097*t/4800}function wn(t){return function(){return this.as(t)}}var _n=wn("ms"),xn=wn("s"),Sn=wn("m"),Mn=wn("h"),Cn=wn("d"),En=wn("w"),Tn=wn("M"),On=wn("y");function Pn(t){return function(){return this.isValid()?this._data[t]:NaN}}var An=Pn("milliseconds"),kn=Pn("seconds"),Ln=Pn("minutes"),Rn=Pn("hours"),Dn=Pn("days"),Nn=Pn("months"),In=Pn("years"),jn=Math.round,zn={ss:44,s:45,m:45,h:22,d:26,M:11},Fn=Math.abs;function Vn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Fn(this._milliseconds)/1e3,r=Fn(this._days),i=Fn(this._months);e=x((t=x(n/60))/60),n%=60,t%=60;var o=x(i/12),a=i%=12,s=r,u=e,c=t,l=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(u||c||l?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(l?l+"S":""):"P0D"}var Bn=Re.prototype;return Bn.isValid=function(){return this._isValid},Bn.abs=function(){var t=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),t.milliseconds=mn(t.milliseconds),t.seconds=mn(t.seconds),t.minutes=mn(t.minutes),t.hours=mn(t.hours),t.months=mn(t.months),t.years=mn(t.years),this},Bn.add=function(t,e){return gn(this,t,e,1)},Bn.subtract=function(t,e){return gn(this,t,e,-1)},Bn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=N(t))||"year"===t)return n=this._months+yn(e=this._days+r/864e5),"month"===t?n:n/12;switch(e=this._days+Math.round(bn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Bn.asMilliseconds=_n,Bn.asSeconds=xn,Bn.asMinutes=Sn,Bn.asHours=Mn,Bn.asDays=Cn,Bn.asWeeks=En,Bn.asMonths=Tn,Bn.asYears=On,Bn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Bn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*vn(bn(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=x(o/1e3),u.seconds=t%60,e=x(t/60),u.minutes=e%60,n=x(e/60),u.hours=n%24,s+=i=x(yn(a+=x(n/24))),a-=vn(bn(i)),r=x(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Bn.get=function(t){return t=N(t),this.isValid()?this[t+"s"]():NaN},Bn.milliseconds=An,Bn.seconds=kn,Bn.minutes=Ln,Bn.hours=Rn,Bn.days=Dn,Bn.weeks=function(){return x(this.days()/7)},Bn.months=Nn,Bn.years=In,Bn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var r=Ge(t).abs(),i=jn(r.as("s")),o=jn(r.as("m")),a=jn(r.as("h")),s=jn(r.as("d")),u=jn(r.as("M")),c=jn(r.as("y")),l=i<=zn.ss&&["s",i]||i<zn.s&&["ss",i]||o<=1&&["m"]||o<zn.m&&["mm",o]||a<=1&&["h"]||a<zn.h&&["hh",a]||s<=1&&["d"]||s<zn.d&&["dd",s]||u<=1&&["M"]||u<zn.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=n,(function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}).apply(null,l)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Bn.toISOString=Vn,Bn.toString=Vn,Bn.toJSON=Vn,Bn.locale=Ke,Bn.localeData=$e,Bn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Bn.lang=Qe,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),dt("x",ut),dt("X",/[+-]?\d+(\.\d{1,3})?/),vt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),vt("x",function(t,e,n){n._d=new Date(S(t))}),r.version="2.18.1",e=Oe,r.fn=cn,r.min=function(){return ke("isBefore",[].slice.call(arguments,0))},r.max=function(){return ke("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(t){return Oe(1e3*t)},r.months=function(t,e){return dn(t,e,"months")},r.isDate=u,r.locale=le,r.invalid=g,r.duration=Ge,r.isMoment=_,r.weekdays=function(t,e,n){return pn(t,e,n,"weekdays")},r.parseZone=function(){return Oe.apply(null,arguments).parseZone()},r.localeData=fe,r.isDuration=De,r.monthsShort=function(t,e){return dn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return pn(t,e,n,"weekdaysMin")},r.defineLocale=he,r.updateLocale=function(t,e){if(null!=e){var n,r=oe;null!=ae[t]&&(r=ae[t]._config),(n=new k(e=A(r,e))).parentLocale=ae[t],ae[t]=n,le(t)}else null!=ae[t]&&(null!=ae[t].parentLocale?ae[t]=ae[t].parentLocale:null!=ae[t]&&delete ae[t]);return ae[t]},r.locales=function(){return L(ae)},r.weekdaysShort=function(t,e,n){return pn(t,e,n,"weekdaysShort")},r.normalizeUnits=N,r.relativeTimeRounding=function(t){return void 0===t?jn:"function"==typeof t&&(jn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==zn[t]&&(void 0===e?zn[t]:(zn[t]=e,"s"===t&&(zn.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=cn,r}()}).call(this,n("YuTi")(t))},x1ku:function(t,e,n){var r=n("E0m9"),i=n("okAn"),o=n("M9y/"),a=n("6sUn"),s=n("s847"),u=function(t,e,n){s.clearNode(e);var r=new i(n),u=a(t,r),c=o(u,t,r).toNode();e.appendChild(c)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),u=function(){throw new r("KaTeX doesn't work in quirks mode.")}),t.exports={render:u,renderToString:function(t,e){var n=new i(e),r=a(t,n);return o(r,t,n).toMarkup()},__parse:function(t,e){var n=new i(e);return a(t,n)},ParseError:r}},x4dx:function(t,e,n){"use strict";function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}n.d(e,"a",function(){return r})},xHft:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("Womt"),i=n("K9Ia"),o=function(t){return t[t.perspective=0]="perspective",t[t.orthographic=1]="orthographic",t}({}),a=function(){function t(t,e,n,o,a,s,u){this._fov=n,this._modeChanged=new i.a,this.orthographicCamera=new r.OrthographicCamera(t/-2,t/2,e/2,e/-2,s,u),this.perspectiveCamera=new r.PerspectiveCamera(n,t/e,o,a),this.toPerspective()}return Object.defineProperty(t.prototype,"modeChanged",{get:function(){return this._modeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fov",{get:function(){return this._fov},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"camera",{get:function(){return this._mode===o.perspective?this.perspectiveCamera:this.orthographicCamera},enumerable:!0,configurable:!0}),t.prototype.toPerspective=function(){this.perspectiveCamera.fov=this._fov,this.perspectiveCamera.updateProjectionMatrix(),this.perspectiveCamera.position.copy(this.orthographicCamera.position),this.perspectiveCamera.quaternion.copy(this.orthographicCamera.quaternion),this._mode=o.perspective,this._modeChanged.next(this._mode)},t.prototype.toOrthographic=function(){this.orthographicCamera.position.copy(this.perspectiveCamera.position),this.orthographicCamera.quaternion.copy(this.perspectiveCamera.quaternion);var t=this._fov,e=this.perspectiveCamera.aspect,n=this.perspectiveCamera.position.distanceTo(this._target),r=Math.tan(t*(Math.PI/180)/2)*n,i=2*r*e/2;this.orthographicCamera.zoom=1,this.orthographicCamera.left=-i,this.orthographicCamera.right=i,this.orthographicCamera.top=r,this.orthographicCamera.bottom=-r,this.orthographicCamera.updateProjectionMatrix(),this._mode=o.orthographic,this._modeChanged.next(this._mode)},t.prototype.setAspect=function(t){var e=this.orthographicCamera.top-this.orthographicCamera.bottom;this.orthographicCamera.left=-e*t/2,this.orthographicCamera.right=e*t/2,this.orthographicCamera.top=e/2,this.orthographicCamera.bottom=-e/2,this.orthographicCamera.updateProjectionMatrix(),this.perspectiveCamera.aspect=t,this.perspectiveCamera.updateProjectionMatrix()},t.prototype.setTarget=function(t){this._target=t},t.prototype.setResetPostion=function(t,e){this.camera.position.copy(t),this._resetPostion=t,this._resetTarget=e},t.prototype.setFov=function(t){this._fov=t,this._mode===o.perspective?this.toPerspective():this.toOrthographic()},t.prototype.setLens=function(t,e){e||(e=43.25);var n=2*Math.atan(e/(2*t));return n=180/Math.PI*n,this.setFov(n),n},t.prototype.toFrontView=function(){var t=this.perspectiveCamera.position.distanceTo(this._target);this.camera.position.x=this._target.x,this.camera.position.y=s,this.camera.position.z=this._target.z+this.negativeIfReversed*t,this.camera.lookAt(this._target)},t.prototype.toBackView=function(){var t=this.perspectiveCamera.position.distanceTo(this._target);this.camera.position.x=this._target.x,this.camera.position.y=s,this.camera.position.z=this._target.z-this.negativeIfReversed*t,this.camera.lookAt(this._target)},t.prototype.toLeftView=function(){var t=this.perspectiveCamera.position.distanceTo(this._target);this.camera.position.x=this._target.x-this.negativeIfReversed*t,this.camera.position.y=s,this.camera.position.z=this._target.z,this.camera.lookAt(this._target)},t.prototype.toRightView=function(){var t=this.perspectiveCamera.position.distanceTo(this._target);this.camera.position.x=this._target.x+this.negativeIfReversed*t,this.camera.position.y=s,this.camera.position.z=this._target.z,this.camera.lookAt(this._target)},t.prototype.toTopView=function(){var t=this.perspectiveCamera.position.distanceTo(this._target);this.camera.position.x=this._target.x,this.camera.position.y=t,this.camera.position.z=this._target.z+this.negativeIfReversed*s,this.camera.lookAt(this._target)},t.prototype.toBottomView=function(){var t=this.perspectiveCamera.position.distanceTo(this._target);this.camera.position.x=this._target.x,this.camera.position.y=-t,this.camera.position.z=this._target.z+this.negativeIfReversed*s,this.camera.lookAt(this._target)},Object.defineProperty(t.prototype,"isFrontBackReversed",{get:function(){return this._resetPostion.z-this._resetTarget.z<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeIfReversed",{get:function(){return this.isFrontBackReversed?-1:1},enumerable:!0,configurable:!0}),t}(),s=1e-5},xQ9F:function(t,e){var n=function(t){this.selfOptions=t||{},this.pipes={}};n.prototype.options=function(t){return t&&(this.selfOptions=t),this.selfOptions},n.prototype.pipe=function(t,e){if("string"==typeof t){if(void 0===e)return this.pipes[t];this.pipes[t]=e}if(t&&t.name){if((e=t).processor===this)return e;this.pipes[e.name]=e}return e.processor=this,e},n.prototype.process=function(t,e){var n=t;n.options=this.options();for(var r,i,o=e||t.pipe||"default";o;)void 0!==n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof o&&(o=this.pipe(o)),o.process(n),i=n,r=o,o=null,n&&n.next&&(n=n.next,o=i.nextPipe||n.pipe||r);return n.hasResult?n.result:void 0},e.Processor=n},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},xm4w:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n("eh5z"),i=n("2fsI"),o=function(t){return t[t.bottom=0]="bottom",t[t.left=1]="left",t}({}),a=function(t,e,n){this.type=t,this.position=e,this.sourceEvent=n};function s(t){var e=100,n=0,s=r.dispatch("start","drag","end","moved"),u=function(t){return t<0?0:t>e?e:t},c=function(t){return"translate("+function(t){return t}(t)+", 0)"},l=function(t,e){var n=new a(t,e,i.event);r.customEvent(n,s.apply,s,[t,this,n])},h=function(a){var s=a.selectAll(".canopy-slider").data([null]),h=s.enter().append("g").attr("class","canopy-slider"),f=h.merge(s);h.append("g").attr("class","handle").append("text").attr("font-size","20px").attr("transform","rotate(180) translate(-5.5, -3)").text("\uf041");var d=f.select(".handle");switch(d.attr("transform",c(n)),h.append("line").attr("class","track-overlay").attr("stroke","transparent").attr("stroke-width","20px").attr("transform","translate(0, 10)").on("click mousemove",function(){i.event.stopPropagation()}).call(r.drag().on("start drag end",function(){d.interrupt(),i.event.sourceEvent.stopPropagation(),n=u(i.event.x),l(i.event.type,n),l("moved",n),d.attr("transform","translate("+u(i.event.x)+", 0)")})),f.select(".track-overlay").attr("x1",-5).attr("x2",e+5),t){case o.bottom:f.attr("transform",null);break;case o.left:f.attr("transform","rotate(90)")}},f=h;return f.trackLength=function(t){return arguments.length?(e=t,h):e},f.position=function(t){return arguments.length?(n=t,h):n},f.resize=function(t){return n=(e?n/e:0)*t,e=t,h},f.on=function(){var t=s.on.apply(s,arguments);return t===s?h:t},f.reposition=function(t,e,r){t.select(".handle").transition().duration(r).attr("transform",c(e)).on("end",function(){n=e})},h}function u(){return s(o.left)}function c(){return s(o.bottom)}},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},yIpB:function(t,e,n){"use strict";function r(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}n.d(e,"a",function(){return r})},ybOZ:function(t,e,n){var r=n("DwkR"),i=n("zJjT"),o=n("FdGB"),a=n("s847"),s=["\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega"],u=["\u0131","\u0237","\xa3"],c=function(t,e,n,a,s){o[n][t]&&o[n][t].replace&&(t=o[n][t].replace);var u,c=i.getCharacterMetrics(t,e);if(c){var l=c.italic;"text"===n&&(l=0),u=new r.symbolNode(t,c.height,c.depth,l,c.skew,s)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+t+"' in style '"+e+"'"),u=new r.symbolNode(t,0,0,0,0,s);return a&&(a.style.isTight()&&u.classes.push("mtight"),a.getColor()&&(u.style.color=a.getColor())),u},l=function(t,e,n,r,i){if("mathord"===i)return h(t,e,n,r);if("textord"===i)return c(t,"Main-Regular",e,n,r.concat(["mathrm"]));throw new Error("unexpected type: "+i+" in mathDefault")},h=function(t,e,n,r){return/[0-9]/.test(t.charAt(0))||a.contains(u,t)||a.contains(s,t)?c(t,"Main-Italic",e,n,r.concat(["mainit"])):c(t,"Math-Italic",e,n,r.concat(["mathit"]))},f=function(t){var e=0,n=0,r=0;if(t.children)for(var i=0;i<t.children.length;i++)t.children[i].height>e&&(e=t.children[i].height),t.children[i].depth>n&&(n=t.children[i].depth),t.children[i].maxFontSize>r&&(r=t.children[i].maxFontSize);t.height=e,t.depth=n,t.maxFontSize=r},d=function(t,e,n){var i=new r.span(t,e,n);return f(i),i},p={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};t.exports={fontMap:p,makeSymbol:c,mathsym:function(t,e,n,r){return"\\"===t||"main"===o[e][t].font?c(t,"Main-Regular",e,n,r):c(t,"AMS-Regular",e,n,r.concat(["amsrm"]))},makeSpan:d,makeFragment:function(t){var e=new r.documentFragment(t);return f(e),e},makeVList:function(t,e,n,i){var o,a,s;if("individualShift"===e){var u=t;for(t=[u[0]],a=o=-u[0].shift-u[0].elem.depth,s=1;s<u.length;s++){var c=-u[s].shift-a-u[s].elem.depth;a+=c,t.push({type:"kern",size:c-(u[s-1].elem.height+u[s-1].elem.depth)}),t.push(u[s])}}else if("top"===e){var l=n;for(s=0;s<t.length;s++)l-="kern"===t[s].type?t[s].size:t[s].elem.height+t[s].elem.depth;o=l}else o="bottom"===e?-n:"shift"===e?-t[0].elem.depth-n:"firstBaseline"===e?-t[0].elem.depth:0;var h=0;for(s=0;s<t.length;s++)"elem"===t[s].type&&(h=Math.max(h,t[s].elem.maxFontSize));var f=function(t,e){var n=d([],[new r.symbolNode("\u200b")]);return n.style.fontSize=e/t.style.sizeMultiplier+"em",d(["fontsize-ensurer","reset-"+t.size,"size5"],[n])}(i,h),p=[];for(a=o,s=0;s<t.length;s++)if("kern"===t[s].type)a+=t[s].size;else{var m=t[s].elem,g=-m.depth-a;a+=m.height+m.depth;var v=d([],[f,m]);v.height-=g,v.depth+=g,v.style.top=g+"em",p.push(v)}var y=d(["baseline-fix"],[f,new r.symbolNode("\u200b")]);p.push(y);var b=d(["vlist"],p);return b.height=Math.max(a,b.height),b.depth=Math.max(-o,b.depth),b},makeOrd:function(t,e,n){var r=t.mode,s=t.value;o[r][s]&&o[r][s].replace&&(s=o[r][s].replace);var f=["mord"],d=e.font;if(d){if("mathit"===d||a.contains(u,s))return h(s,r,e,f);var m=p[d].fontName;return i.getCharacterMetrics(s,m)?c(s,m,r,e,f.concat([d])):l(s,r,e,f,n)}return l(s,r,e,f,n)},prependChildren:function(t,e){t.children=e.concat(t.children),f(t)},sizingMultiplier:{size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49},spacingFunctions:{"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}}}},yqz1:function(t,e){t.exports={ParseNode:function(t,e,n,r,i){this.type=t,this.value=e,this.mode=n,!r||i&&i.lexer!==r.lexer||(this.lexer=r.lexer,this.start=r.start,this.end=(i||r).end)}}},yyeZ:function(module,exports,__webpack_require__){"use strict";var numeric=exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var n,r,i;for(void 0===e&&(e=15),r=.5,n=new Date;;){for(i=r*=2;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;if(new Date-n>e)break}for(i=r;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;return 1e3*(3*r-1)/(new Date-n)},numeric._myIndexOf=function(t){var e,n=this.length;for(e=0;e<n;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){var e=[];return function t(n){var r;if(void 0===n)return e.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof n)return e.push('"'+n+'"'),!1;if("boolean"==typeof n)return e.push(n.toString()),!1;if("number"==typeof n){var i=function t(e){if(0===e)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+t(-e);if(isFinite(e)){var n=Math.floor(Math.log(e)/Math.log(10)),r=e/Math.pow(10,n),i=r.toPrecision(numeric.precision);return 10===parseFloat(i)&&(n++,i=(r=1).toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+n.toString()}return"Infinity"}(n),o=n.toPrecision(numeric.precision),a=parseFloat(n.toString()).toString(),s=[i,o,a,parseFloat(o).toString(),parseFloat(a).toString()];for(r=1;r<s.length;r++)s[r].length<i.length&&(i=s[r]);return e.push(Array(numeric.precision+8-i.length).join(" ")+i),!1}if(null===n)return e.push("null"),!1;if("function"==typeof n){e.push(n.toString());var u=!1;for(r in n)n.hasOwnProperty(r)&&(e.push(u?",\n":"\n{"),u=!0,e.push(r),e.push(": \n"),t(n[r]));return u&&e.push("}\n"),!0}if(n instanceof Array){if(n.length>numeric.largeArray)return e.push("...Large Array..."),!0;for(u=!1,e.push("["),r=0;r<n.length;r++)r>0&&(e.push(","),u&&e.push("\n ")),u=t(n[r]);return e.push("]"),!0}for(r in e.push("{"),u=!1,n)n.hasOwnProperty(r)&&(u&&e.push(",\n"),u=!0,e.push(r),e.push(": \n"),t(n[r]));return e.push("}"),!0}(t),e.join("")},numeric.parseDate=function(t){return function t(e){if("string"==typeof e)return Date.parse(e.replace(/-/g,"/"));if(!(e instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n,r=[];for(n=0;n<e.length;n++)r[n]=t(e[n]);return r}(t)},numeric.parseFloat=function(t){return function t(e){if("string"==typeof e)return parseFloat(e);if(!(e instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n,r=[];for(n=0;n<e.length;n++)r[n]=t(e[n]);return r}(t)},numeric.parseCSV=function(t){var e,n,r,i=t.split("\n"),o=[],a=/(([^'",]*)|('[^']*')|("[^"]*")),/g,s=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,u=0;for(n=0;n<i.length;n++){var c,l=(i[n]+",").match(a);if(l.length>0){for(o[u]=[],e=0;e<l.length;e++)c=(r=l[e]).substr(0,r.length-1),o[u][e]=s.test(c)?parseFloat(c):c;u++}}return o},numeric.toCSV=function(t){var e,n,r,i,o;for(r=numeric.dim(t)[0],o=[],e=0;e<r;e++){for(i=[],n=0;n<r;n++)i[n]=t[e][n].toString();o[e]=i.join(", ")}return o.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var r,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;for(r=e;r<n;r++)o=o>>>8^i[255&(o^t[r])];return-1^o}var n,r,i,o,a,s,u,c,l,h,f=t[0].length,d=t[0][0].length,p=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=e(p,12,29),p[29]=h>>24&255,p[30]=h>>16&255,p[31]=h>>8&255,p[32]=255&h,n=1,r=0,u=0;u<f;u++){for(p.push(u<f-1?0:1),s=3*d+1+(0===u)>>8&255,p.push(a=3*d+1+(0===u)&255),p.push(s),p.push(255&~a),p.push(255&~s),0===u&&p.push(0),c=0;c<d;c++)for(i=0;i<3;i++)r=(r+(n=(n+(a=(a=t[i][u][c])>255?255:a<0?0:Math.round(a)))%65521))%65521,p.push(a);p.push(0)}return p.push((l=(r<<16)+n)>>24&255),p.push(l>>16&255),p.push(l>>8&255),p.push(255&l),p[33]=(o=p.length-41)>>24&255,p[34]=o>>16&255,p[35]=o>>8&255,p[36]=255&o,h=e(p,37),p.push(h>>24&255),p.push(h>>16&255),p.push(h>>8&255),p.push(255&h),p.push(0),p.push(0),p.push(0),p.push(0),p.push(73),p.push(69),p.push(78),p.push(68),p.push(174),p.push(66),p.push(96),p.push(130),"data:image/png;base64,"+function(t){var e,n,r,i,o,a,s,u=t.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";for(e=0;e<u;e+=3)o=((3&(n=t[e]))<<4)+((r=t[e+1])>>4),a=((15&r)<<2)+((i=t[e+2])>>6),s=63&i,e+1>=u?a=s=64:e+2>=u&&(s=64),l+=c.charAt(n>>2)+c.charAt(o)+c.charAt(a)+c.charAt(s);return l}(p)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e;return"object"==typeof t?"object"==typeof(e=t[0])?"object"==typeof e[0]?numeric._dim(t):[t.length,e.length]:[t.length]:[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,n){var r,i;if(!(e instanceof Array&&n instanceof Array))return!1;if((i=e.length)!==n.length)return!1;for(r=0;r<i;r++)if(e[r]!==n[r]){if("object"!=typeof e[r])return!1;if(!t(e[r],n[r]))return!1}return!0},numeric.rep=function(t,e,n){void 0===n&&(n=0);var r,i=t[n],o=Array(i);if(n===t.length-1){for(r=i-2;r>=0;r-=2)o[r+1]=e,o[r]=e;return-1===r&&(o[0]=e),o}for(r=i-1;r>=0;r--)o[r]=numeric.rep(t,e,n+1);return o},numeric.dotMMsmall=function(t,e){var n,r,i,o,a,s,u,c,l,h,f;for(o=t.length,a=e.length,s=e[0].length,u=Array(o),n=o-1;n>=0;n--){for(c=Array(s),l=t[n],i=s-1;i>=0;i--){for(h=l[a-1]*e[a-1][i],r=a-2;r>=1;r-=2)h+=l[r]*e[r][i]+l[f=r-1]*e[f][i];0===r&&(h+=l[0]*e[0][i]),c[i]=h}u[n]=c}return u},numeric._getCol=function(t,e,n){var r;for(r=t.length-1;r>0;--r)n[r]=t[r][e],n[--r]=t[r][e];0===r&&(n[0]=t[0][e])},numeric.dotMMbig=function(t,e){var n,r,i=numeric._getCol,o=e.length,a=Array(o),s=t.length,u=e[0].length,c=new Array(s),l=numeric.dotVV;for(--o,n=--s;-1!==n;--n)c[n]=Array(u);for(n=--u;-1!==n;--n)for(i(e,n,a),r=s;-1!==r;--r)c[r][n]=l(t[r],a);return c},numeric.dotMV=function(t,e){var n,r=t.length,i=Array(r),o=numeric.dotVV;for(n=r-1;n>=0;n--)i[n]=o(t[n],e);return i},numeric.dotVM=function(t,e){var n,r,i,o,a,s,u;for(i=t.length,o=e[0].length,a=Array(o),r=o-1;r>=0;r--){for(s=t[i-1]*e[i-1][r],n=i-2;n>=1;n-=2)s+=t[n]*e[n][r]+t[u=n-1]*e[u][r];0===n&&(s+=t[0]*e[0][r]),a[r]=s}return a},numeric.dotVV=function(t,e){var n,r,i=t.length,o=t[i-1]*e[i-1];for(n=i-2;n>=1;n-=2)o+=t[n]*e[n]+t[r=n-1]*e[r];return 0===n&&(o+=t[0]*e[0]),o},numeric.dot=function(t,e){var n=numeric.dim;switch(1e3*n(t).length+n(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,n,r,i,o=t.length,a=Array(o);for(e=o-1;e>=0;e--){for(i=Array(o),n=e+2,r=o-1;r>=n;r-=2)i[r]=0,i[r-1]=0;for(r>e&&(i[r]=0),i[e]=t[e],r=e-1;r>=1;r-=2)i[r]=0,i[r-1]=0;0===r&&(i[0]=0),a[e]=i}return a},numeric.getDiag=function(t){var e,n=Math.min(t.length,t[0].length),r=Array(n);for(e=n-1;e>=1;--e)r[e]=t[e][e],r[--e]=t[e][e];return 0===e&&(r[0]=t[0][0]),r},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,n){void 0===n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<t.length;r++)a.test(t[r])?s=i=t[r].substring(0,t[r].length-3):i=t[r],"ret"===i&&(u=!0),o.push(i);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(u?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(t,e,n){void 0===n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<t.length;r++)a.test(t[r])?s=i=t[r].substring(0,t[r].length-3):i=t[r],"ret"===i&&(u=!0),o.push(i);return o[t.length]="var _n = "+s+".length;\nvar i"+(u?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function t(e,n,r,i,o){var a;if(i!==r.length-1)for(a=r[i]-1;a>=0;a--)t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,r,i+1,o);else o(e,n)},numeric._biforeach2=function t(e,n,r,i,o){if(i===r.length-1)return o(e,n);var a,s=r[i],u=Array(s);for(a=s-1;a>=0;--a)u[a]=t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,r,i+1,o);return u},numeric._foreach=function t(e,n,r,i){var o;if(r!==n.length-1)for(o=n[r]-1;o>=0;o--)t(e[o],n,r+1,i);else i(e)},numeric._foreach2=function t(e,n,r,i){if(r===n.length-1)return i(e);var o,a=n[r],s=Array(a);for(o=a-1;o>=0;o--)s[o]=t(e[o],n,r+1,i);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)numeric.ops2[e=numeric.mathfuns2[t]]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var n,r,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(i="var "+e+" = Math."+e+";\n",n=function(t,n,r){return t+" = "+e+"("+n+","+r+")"},r=function(t,n){return t+" = "+e+"("+t+","+n+")"}):(n=function(t,n,r){return t+" = "+n+" "+e+" "+r},r=numeric.opseq.hasOwnProperty(t+"eq")?function(t,n){return t+" "+e+"= "+n}:function(t,n){return t+" = "+t+" "+e+" "+n}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),i),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),i),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),i),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+r("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)delete numeric.ops2[e=numeric.mathfuns2[t]];for(t=0;t<numeric.mathfuns.length;++t)numeric.ops1[e=numeric.mathfuns[t]]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(i="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(i="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",i),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",i),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)delete numeric.ops1[e=numeric.mathfuns[t]];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(numeric[t+"V"]=numeric.mapreduce2((e=numeric.mapreducers[t])[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,n,r,i,o,a,s,u=numeric.dim(t),c=Math.abs,l=u[0],h=u[1],f=numeric.clone(t),d=numeric.identity(l);for(a=0;a<h;++a){var p=-1,m=-1;for(o=a;o!==l;++o)(s=c(f[o][a]))>m&&(p=o,m=s);for(n=f[p],f[p]=f[a],f[a]=n,i=d[p],d[p]=d[a],d[a]=i,t=n[a],s=a;s!==h;++s)n[s]/=t;for(s=h-1;-1!==s;--s)i[s]/=t;for(o=l-1;-1!==o;--o)if(o!==a){for(r=d[o],t=(e=f[o])[a],s=a+1;s!==h;++s)e[s]-=n[s]*t;for(s=h-1;s>0;--s)r[s]-=i[s]*t,r[--s]-=i[s]*t;0===s&&(r[0]-=i[0]*t)}}return d},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var n,r,i,o,a,s,u,c,l=e[0],h=1,f=numeric.clone(t);for(r=0;r<l-1;r++){for(i=r,n=r+1;n<l;n++)Math.abs(f[n][r])>Math.abs(f[i][r])&&(i=n);for(i!==r&&(u=f[i],f[i]=f[r],f[r]=u,h*=-1),o=f[r],n=r+1;n<l;n++){for(s=(a=f[n])[r]/o[r],i=r+1;i<l-1;i+=2)c=i+1,a[i]-=o[i]*s,a[c]-=o[c]*s;i!==l&&(a[i]-=o[i]*s)}if(0===o[r])return 0;h*=o[r]}return h*f[r][r]},numeric.transpose=function(t){var e,n,r,i,o,a=t.length,s=t[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(e=a-1;e>=1;e-=2){for(i=t[e],r=t[e-1],n=s-1;n>=1;--n)(o=u[n])[e]=i[n],o[e-1]=r[n],(o=u[--n])[e]=i[n],o[e-1]=r[n];0===n&&((o=u[0])[e]=i[0],o[e-1]=r[0])}if(0===e){for(r=t[0],n=s-1;n>=1;--n)u[n][0]=r[n],u[--n][0]=r[n];0===n&&(u[0][0]=r[0])}return u},numeric.negtranspose=function(t){var e,n,r,i,o,a=t.length,s=t[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(e=a-1;e>=1;e-=2){for(i=t[e],r=t[e-1],n=s-1;n>=1;--n)(o=u[n])[e]=-i[n],o[e-1]=-r[n],(o=u[--n])[e]=-i[n],o[e-1]=-r[n];0===n&&((o=u[0])[e]=-i[0],o[e-1]=-r[0])}if(0===e){for(r=t[0],n=s-1;n>=1;--n)u[n][0]=-r[n],u[--n][0]=-r[n];0===n&&(u[0][0]=-r[0])}return u},numeric._random=function t(e,n){var r,i,o=e[n],a=Array(o);if(n===e.length-1){for(i=Math.random,r=o-1;r>=1;r-=2)a[r]=i(),a[r-1]=i();return 0===r&&(a[0]=i()),a}for(r=o-1;r>=0;r--)a[r]=t(e,n+1);return a},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,n){if(void 0===n&&(n=Math.max(Math.round(e-t)+1,1)),n<2)return 1===n?[t]:[];var r,i=Array(n);for(r=--n;r>=0;r--)i[r]=(r*e+(n-r)*t)/n;return i},numeric.getBlock=function(t,e,n){var r=numeric.dim(t);return function t(i,o){var a,s=e[o],u=n[o]-s,c=Array(u);if(o===r.length-1){for(a=u;a>=0;a--)c[a]=i[a+s];return c}for(a=u;a>=0;a--)c[a]=t(i[a+s],o+1);return c}(t,0)},numeric.setBlock=function(t,e,n,r){var i=numeric.dim(t);return function t(r,o,a){var s,u=e[a],c=n[a]-u;if(a===i.length-1)for(s=c;s>=0;s--)r[s+u]=o[s];for(s=c;s>=0;s--)t(r[s+u],o[s],a+1)}(t,r,0),t},numeric.getRange=function(t,e,n){var r,i,o,a,s=e.length,u=n.length,c=Array(s);for(r=s-1;-1!==r;--r)for(c[r]=Array(u),o=c[r],a=t[e[r]],i=u-1;-1!==i;--i)o[i]=a[n[i]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var n,r,i,o,a,s=e[0],u=e[1];for(n=0,r=0,i=0;i<s;++i)n+=t[i][0].length;for(o=0;o<u;++o)r+=t[0][o][0].length;var c=Array(n);for(i=0;i<n;++i)c[i]=Array(r);var l,h,f,d,p,m=0;for(i=0;i<s;++i){for(l=r,o=u-1;-1!==o;--o)for(l-=(a=t[i][o])[0].length,f=a.length-1;-1!==f;--f)for(h=c[m+f],d=(p=a[f]).length-1;-1!==d;--d)h[l+d]=p[d];m+=t[i][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var n=numeric.dim(t),r=numeric.dim(e);if(1!==n.length||1!==r.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,a,s,u=n[0],c=r[0],l=Array(u);for(o=u-1;o>=0;o--){for(i=Array(c),s=t[o],a=c-1;a>=3;--a)i[a]=s*e[a],i[--a]=s*e[a],i[--a]=s*e[a],i[--a]=s*e[a];for(;a>=0;)i[a]=s*e[a],--a;l[o]=i}return l},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,n,r,i){var o;if("string"!=typeof i)for(o in i="",numeric)numeric.hasOwnProperty(o)&&(t.indexOf(o)>=0||e.indexOf(o)>=0||n.indexOf(o)>=0||r.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+r+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var n=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,n),e(numeric.neg(this.y),n))}return new T(e(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var e=numeric.div;return this.y?new numeric.T(e(this.x,t.x),e(this.y,t.x)):new numeric.T(e(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),t(n)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),numeric.negtranspose(n)):new numeric.T(t(e))},numeric.Tunop=function(t,e,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if(void 0===t.y)return new numeric.T(numeric.inv(t.x));var e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b=t.x.length,w=numeric.identity(b),_=numeric.rep([b,b],0),x=numeric.clone(t.x),S=numeric.clone(t.y);for(c=0;c<b;c++){for(f=(p=x[c][c])*p+(m=S[c][c])*m,h=c,l=c+1;l<b;l++)(d=(p=x[l][c])*p+(m=S[l][c])*m)>f&&(h=l,f=d);for(h!==c&&(y=x[c],x[c]=x[h],x[h]=y,y=S[c],S[c]=S[h],S[h]=y,y=w[c],w[c]=w[h],w[h]=y,y=_[c],_[c]=_[h],_[h]=y),o=w[c],a=_[c],p=(e=x[c])[c],m=(n=S[c])[c],l=c+1;l<b;l++)e[l]=((g=e[l])*p+(v=n[l])*m)/f,n[l]=(v*p-g*m)/f;for(l=0;l<b;l++)o[l]=((g=o[l])*p+(v=a[l])*m)/f,a[l]=(v*p-g*m)/f;for(l=c+1;l<b;l++){for(s=w[l],u=_[l],p=(r=x[l])[c],m=(i=S[l])[c],h=c+1;h<b;h++)r[h]-=(g=e[h])*p-(v=n[h])*m,i[h]-=v*p+g*m;for(h=0;h<b;h++)s[h]-=(g=o[h])*p-(v=a[h])*m,u[h]-=v*p+g*m}}for(c=b-1;c>0;c--)for(o=w[c],a=_[c],l=c-1;l>=0;l--)for(s=w[l],u=_[l],p=x[l][c],m=S[l][c],h=b-1;h>=0;h--)s[h]-=p*(g=o[h])-m*(v=a[h]),u[h]-=p*v+m*g;return new numeric.T(w,_)},numeric.T.prototype.get=function(t){var e,n=this.x,r=this.y,i=0,o=t.length;if(r){for(;i<o;)n=n[e=t[i]],r=r[e],i++;return new numeric.T(n,r)}for(;i<o;)n=n[e=t[i]],i++;return new numeric.T(n)},numeric.T.prototype.set=function(t,e){var n,r=this.x,i=this.y,o=0,a=t.length,s=e.x,u=e.y;if(0===a)return u?this.y=u:i&&(this.y=void 0),this.x=r,this;if(u){for(i||(i=numeric.rep(numeric.dim(r),0),this.y=i);o<a-1;)r=r[n=t[o]],i=i[n],o++;return r[n=t[o]]=s,i[n]=u,this}if(i){for(;o<a-1;)r=r[n=t[o]],i=i[n],o++;return r[n=t[o]]=s,i[n]=s instanceof Array?numeric.rep(numeric.dim(s),0):0,this}for(;o<a-1;)r=r[n=t[o]],o++;return r[n=t[o]]=s,this},numeric.T.prototype.getRows=function(t,e){var n,r,i=e-t+1,o=Array(i),a=this.x,s=this.y;for(n=t;n<=e;n++)o[n-t]=a[n];if(s){for(r=Array(i),n=t;n<=e;n++)r[n-t]=s[n];return new numeric.T(o,r)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,e,n){var r,i=this.x,o=this.y,a=n.x,s=n.y;for(r=t;r<=e;r++)i[r]=a[r-t];if(s)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),r=t;r<=e;r++)o[r]=s[r-t];else if(o)for(r=t;r<=e;r++)o[r]=numeric.rep([a[r-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,n=this.y;return n?new numeric.T(e[t],n[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var n=this.x,r=this.y,i=e.x,o=e.y;return n[t]=i,o?(r||(r=numeric.rep(numeric.dim(n),0),this.y=r),r[t]=o):r&&(r=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var n=this.x,r=this.y,i=numeric.getBlock;return r?new numeric.T(i(n,t,e),i(r,t,e)):new numeric.T(i(n,t,e))},numeric.T.prototype.setBlock=function(t,e,n){n instanceof numeric.T||(n=new numeric.T(n));var r=this.x,i=this.y,o=numeric.setBlock,a=n.x,s=n.y;if(s)return i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(r,t,e,a),o(i,t,e,s),this;o(r,t,e,a),i&&o(i,t,e,numeric.rep(numeric.dim(a),0))},numeric.T.rep=function(t,e){var n=numeric.T;e instanceof n||(e=new n(e));var r=e.x,i=e.y,o=numeric.rep;return i?new n(o(t,r),o(t,i)):new n(o(t,r))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,n=t.y,r=numeric.diag;return n?new numeric.T(r(e),r(n)):new numeric.T(r(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,n=this.y;return n?new t.T(t.getDiag(e),t.getDiag(n)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),n=(t[0]>=0?1:-1)*numeric.norm2(t);e[0]+=n;var r=numeric.norm2(e);if(0===r)throw new Error("eig: internal error");return numeric.div(e,r)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,r,i,o,a,s,u,c,l,h,f=e[0],d=numeric.clone(t),p=numeric.identity(f);for(r=0;r<f-2;r++){for(o=Array(f-r-1),n=r+1;n<f;n++)o[n-r-1]=d[n][r];if(numeric.norm2(o)>0){for(a=numeric.house(o),s=numeric.getBlock(d,[r+1,r],[f-1,f-1]),u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;n<f;n++)for(c=d[n],l=u[n-r-1],i=r;i<f;i++)c[i]-=2*l[i-r];for(s=numeric.getBlock(d,[0,r+1],[f-1,f-1]),u=numeric.tensor(numeric.dot(s,a),a),n=0;n<f;n++)for(c=d[n],l=u[n],i=r+1;i<f;i++)c[i]-=2*l[i-r-1];for(s=Array(f-r-1),n=r+1;n<f;n++)s[n-r-1]=p[n];for(u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;n<f;n++)for(h=p[n],l=u[n-r-1],i=0;i<f;i++)h[i]-=2*l[i]}}return{H:d,Q:p}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(t,e){void 0===e&&(e=1e4),t=numeric.clone(t),numeric.clone(t);var n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y=numeric.dim(t)[0],b=numeric.identity(y);if(y<3)return{Q:b,B:[[0,y-1]]};var w=numeric.epsilon;for(v=0;v<e;v++){for(m=0;m<y-1;m++)if(Math.abs(t[m+1][m])<w*(Math.abs(t[m][m])+Math.abs(t[m+1][m+1]))){var _=numeric.QRFrancis(numeric.getBlock(t,[0,0],[m,m]),e),x=numeric.QRFrancis(numeric.getBlock(t,[m+1,m+1],[y-1,y-1]),e);for(h=Array(m+1),p=0;p<=m;p++)h[p]=b[p];for(f=numeric.dot(_.Q,h),p=0;p<=m;p++)b[p]=f[p];for(h=Array(y-m-1),p=m+1;p<y;p++)h[p-m-1]=b[p];for(f=numeric.dot(x.Q,h),p=m+1;p<y;p++)b[p]=f[p-m-1];return{Q:b,B:_.B.concat(numeric.add(x.B,m+1))}}var S,M,C;for(s=(i=t[y-2][y-2])+(o=t[y-1][y-1]),a=i*o-t[y-2][y-1]*t[y-1][y-2],u=numeric.getBlock(t,[0,0],[2,2]),s*s>=4*a?(S=.5*(s+Math.sqrt(s*s-4*a)),M=.5*(s-Math.sqrt(s*s-4*a)),u=numeric.add(numeric.sub(numeric.dot(u,u),numeric.mul(u,S+M)),numeric.diag(numeric.rep([3],S*M)))):u=numeric.add(numeric.sub(numeric.dot(u,u),numeric.mul(u,s)),numeric.diag(numeric.rep([3],a))),r=numeric.house(n=[u[0][0],u[1][0],u[2][0]]),f=numeric.tensor(r,numeric.dot(r,h=[t[0],t[1],t[2]])),p=0;p<3;p++)for(l=t[p],d=f[p],g=0;g<y;g++)l[g]-=2*d[g];for(h=numeric.getBlock(t,[0,0],[y-1,2]),f=numeric.tensor(numeric.dot(h,r),r),p=0;p<y;p++)for(l=t[p],d=f[p],g=0;g<3;g++)l[g]-=2*d[g];for(f=numeric.tensor(r,numeric.dot(r,h=[b[0],b[1],b[2]])),p=0;p<3;p++)for(c=b[p],d=f[p],g=0;g<y;g++)c[g]-=2*d[g];for(m=0;m<y-2;m++){for(g=m;g<=m+1;g++)if(Math.abs(t[g+1][g])<w*(Math.abs(t[g][g])+Math.abs(t[g+1][g+1]))){for(_=numeric.QRFrancis(numeric.getBlock(t,[0,0],[g,g]),e),x=numeric.QRFrancis(numeric.getBlock(t,[g+1,g+1],[y-1,y-1]),e),h=Array(g+1),p=0;p<=g;p++)h[p]=b[p];for(f=numeric.dot(_.Q,h),p=0;p<=g;p++)b[p]=f[p];for(h=Array(y-g-1),p=g+1;p<y;p++)h[p-g-1]=b[p];for(f=numeric.dot(x.Q,h),p=g+1;p<y;p++)b[p]=f[p-g-1];return{Q:b,B:_.B.concat(numeric.add(x.B,g+1))}}for(C=Math.min(y-1,m+3),n=Array(C-m),p=m+1;p<=C;p++)n[p-m-1]=t[p][m];for(r=numeric.house(n),h=numeric.getBlock(t,[m+1,m],[C,y-1]),f=numeric.tensor(r,numeric.dot(r,h)),p=m+1;p<=C;p++)for(l=t[p],d=f[p-m-1],g=m;g<y;g++)l[g]-=2*d[g-m];for(h=numeric.getBlock(t,[0,m+1],[y-1,C]),f=numeric.tensor(numeric.dot(h,r),r),p=0;p<y;p++)for(l=t[p],d=f[p],g=m+1;g<=C;g++)l[g]-=2*d[g-m-1];for(h=Array(C-m),p=m+1;p<=C;p++)h[p-m-1]=b[p];for(f=numeric.tensor(r,numeric.dot(r,h)),p=m+1;p<=C;p++)for(c=b[p],d=f[p-m-1],g=0;g<y;g++)c[g]-=2*d[g]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b=numeric.toUpperHessenberg(t),w=numeric.QRFrancis(b.H,e),_=numeric.T,x=w.B,S=numeric.dot(w.Q,numeric.dot(b.H,numeric.transpose(w.Q))),M=new _(numeric.dot(w.Q,b.Q)),C=x.length,E=Math.sqrt;for(r=0;r<C;r++)if((n=x[r][0])===x[r][1]);else{if(a=S[n][n],u=S[o=n+1][n],c=S[o][o],0===(s=S[n][o])&&0===u)continue;(h=(l=-a-c)*l-4*(a*c-s*u))>=0?((g=(a-(f=l<0?-.5*(l-E(h)):-.5*(l+E(h))))*(a-f)+s*s)>(v=u*u+(c-f)*(c-f))?(p=(a-f)/(g=E(g)),m=s/g):(p=u/(v=E(v)),m=(c-f)/v),i=new _([[m,-p],[p,m]]),M.setRows(n,o,i.dot(M.getRows(n,o)))):(f=-.5*l,d=.5*E(-h),(g=(a-f)*(a-f)+s*s)>(v=u*u+(c-f)*(c-f))?(p=(a-f)/(g=E(g+d*d)),m=s/g,f=0,d/=g):(p=u/(v=E(v+d*d)),m=(c-f)/v,f=d/v,d=0),i=new _([[m,-p],[p,m]],[[f,d],[d,-f]]),M.setRows(n,o,i.dot(M.getRows(n,o))))}var T=M.dot(t).dot(M.transjugate()),O=numeric.T.identity(y=t.length);for(o=0;o<y;o++)if(o>0)for(r=o-1;r>=0;r--){var P=T.get([r,r]),A=T.get([o,o]);numeric.neq(P.x,A.x)||numeric.neq(P.y,A.y)?(f=T.getRow(r).getBlock([r],[o-1]),d=O.getRow(o).getBlock([r],[o-1]),O.set([o,r],T.get([r,o]).neg().sub(f.dot(d)).div(P.sub(A)))):O.setRow(o,O.getRow(r))}for(o=0;o<y;o++)f=O.getRow(o),O.setRow(o,f.div(f.norm2()));return O=O.transpose(),O=M.transjugate().dot(O),{lambda:T.getDiag(),E:O}},numeric.ccsSparse=function(t){var e,n,r,i=t.length,o=[];for(n=i-1;-1!==n;--n)for(r in e=t[n]){for(r=parseInt(r);r>=o.length;)o[o.length]=0;0!==e[r]&&o[r]++}var a=o.length,s=Array(a+1);for(s[0]=0,n=0;n<a;++n)s[n+1]=s[n]+o[n];var u=Array(s[a]),c=Array(s[a]);for(n=i-1;-1!==n;--n)for(r in e=t[n])0!==e[r]&&(o[r]--,u[s[r]+o[r]]=n,c[s[r]+o[r]]=e[r]);return[s,u,c]},numeric.ccsFull=function(t){var e,n,r,i=t[0],o=t[1],a=t[2],s=numeric.ccsDim(t),u=s[1],c=numeric.rep([s[0],u],0);for(e=0;e<u;e++)for(r=i[e+1],n=i[e];n<r;++n)c[o[n]][e]=a[n];return c},numeric.ccsTSolve=function(t,e,n,r,i){var o,a,s,u,c,l,h,f=t[0],d=t[1],p=t[2],m=Math.max,g=0;function v(t){var e;if(0===n[t]){for(n[t]=1,e=f[t];e<f[t+1];++e)v(d[e]);i[g]=t,++g}}for(void 0===r&&(n=numeric.rep([f.length-1],0)),void 0===r&&(r=numeric.linspace(0,n.length-1)),void 0===i&&(i=[]),o=r.length-1;-1!==o;--o)v(r[o]);for(i.length=g,o=i.length-1;-1!==o;--o)n[i[o]]=0;for(o=r.length-1;-1!==o;--o)n[a=r[o]]=e[a];for(o=i.length-1;-1!==o;--o){for(u=m(f[(a=i[o])+1],s=f[a]),c=s;c!==u;++c)if(d[c]===a){n[a]/=p[c];break}for(h=n[a],c=s;c!==u;++c)(l=d[c])!==a&&(n[l]-=h*p[c])}return n},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,n,r,i,o){var a,s,u,c=0,l=i.length,h=this.k,f=this.k1,d=this.j;if(0===r[t])for(r[t]=1,d[0]=t,h[0]=s=e[t],f[0]=u=e[t+1];;)if(s>=u){if(i[l]=d[c],0===c)return;++l,s=h[--c],u=f[c]}else 0===r[a=o[n[s]]]?(r[a]=1,h[c]=s,d[++c]=a,s=e[a],f[c]=u=e[a+1]):++s},numeric.ccsLPSolve=function(t,e,n,r,i,o,a){var s,u,c,l,h,f,d,p,m,g=t[0],v=t[1],y=t[2],b=e[0],w=e[1],_=e[2];for(u=b[i],c=b[i+1],r.length=0,s=u;s<c;++s)a.dfs(o[w[s]],g,v,n,r,o);for(s=r.length-1;-1!==s;--s)n[r[s]]=0;for(s=u;s!==c;++s)n[l=o[w[s]]]=_[s];for(s=r.length-1;-1!==s;--s){for(f=g[(l=r[s])+1],d=h=g[l];d<f;++d)if(o[v[d]]===l){n[l]/=y[d];break}for(m=n[l],d=h;d<f;++d)(p=o[v[d]])!==l&&(n[p]-=m*y[d])}return n},numeric.ccsLUP1=function(t,e){var n,r,i,o,a,s,u,c=t[0].length-1,l=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],f=l[0],d=l[1],p=l[2],m=h[0],g=h[1],v=h[2],y=numeric.rep([c],0),b=numeric.rep([c],0),w=numeric.ccsLPSolve,_=(Math,Math.abs),x=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),M=new numeric.ccsDFS(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(w(l,t,y,b,n,S,M),o=-1,a=-1,r=b.length-1;-1!==r;--r)(i=b[r])<=n||(s=_(y[i]))>o&&(a=i,o=s);for(_(y[n])<e*o&&(r=x[n],x[n]=o=x[a],S[o]=n,x[a]=r,S[r]=a,o=y[n],y[n]=y[a],y[a]=o),a=m[n],u=y[n],d[o=f[n]]=x[n],p[o]=1,++o,r=b.length-1;-1!==r;--r)s=y[i=b[r]],b[r]=0,y[i]=0,i<=n?(g[a]=i,v[a]=s,++a):(d[o]=x[i],p[o]=s/u,++o);f[n+1]=o,m[n+1]=a}for(r=d.length-1;-1!==r;--r)d[r]=S[d[r]];return{L:l,U:h,P:x,Pinv:S}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,n,r,i,o,a){var s,u,c,l=0,h=i.length,f=this.k,d=this.k1,p=this.j;if(0===r[t])for(r[t]=1,p[0]=t,f[0]=u=e[o[t]],d[0]=c=e[o[t]+1];;){if(isNaN(u))throw new Error("Ow!");if(u>=c){if(i[h]=o[p[l]],0===l)return;++h,u=f[--l],c=d[l]}else 0===r[s=n[u]]?(r[s]=1,f[l]=u,p[++l]=s,u=e[s=o[s]],d[l]=c=e[s+1]):++u}},numeric.ccsLPSolve0=function(t,e,n,r,i,o,a,s){var u,c,l,h,f,d,p,m,g,v=t[0],y=t[1],b=t[2],w=e[0],_=e[1],x=e[2];for(c=w[i],l=w[i+1],r.length=0,u=c;u<l;++u)s.dfs(_[u],v,y,n,r,o,a);for(u=r.length-1;-1!==u;--u)n[a[h=r[u]]]=0;for(u=c;u!==l;++u)n[h=_[u]]=x[u];for(u=r.length-1;-1!==u;--u){for(m=a[h=r[u]],d=v[h+1],p=f=v[h];p<d;++p)if(y[p]===m){n[m]/=b[p];break}for(g=n[m],p=f;p<d;++p)n[y[p]]-=g*b[p];n[m]=g}},numeric.ccsLUP0=function(t,e){var n,r,i,o,a,s,u,c=t[0].length-1,l=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],f=l[0],d=l[1],p=l[2],m=h[0],g=h[1],v=h[2],y=numeric.rep([c],0),b=numeric.rep([c],0),w=numeric.ccsLPSolve0,_=(Math,Math.abs),x=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),M=new numeric.ccsDFS0(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(w(l,t,y,b,n,S,x,M),o=-1,a=-1,r=b.length-1;-1!==r;--r)(i=b[r])<=n||(s=_(y[x[i]]))>o&&(a=i,o=s);for(_(y[x[n]])<e*o&&(r=x[n],x[n]=o=x[a],S[o]=n,x[a]=r,S[r]=a),a=m[n],u=y[x[n]],d[o=f[n]]=x[n],p[o]=1,++o,r=b.length-1;-1!==r;--r)s=y[x[i=b[r]]],b[r]=0,y[x[i]]=0,i<=n?(g[a]=i,v[a]=s,++a):(d[o]=x[i],p[o]=s/u,++o);f[n+1]=o,m[n+1]=a}for(r=d.length-1;-1!==r;--r)d[r]=S[d[r]];return{L:l,U:h,P:x,Pinv:S}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,n){var r=numeric.ccsDim(t),i=r[0],o=r[1];void 0===e?e=numeric.linspace(0,i-1):"number"==typeof e&&(e=[e]),void 0===n?n=numeric.linspace(0,o-1):"number"==typeof n&&(n=[n]);var a,s,u,c,l=e.length,h=n.length,f=numeric.rep([o],0),d=[],p=[],m=[f,d,p],g=t[0],v=t[1],y=t[2],b=numeric.rep([i],0),w=0,_=numeric.rep([i],0);for(s=0;s<h;++s){var x=g[c=n[s]],S=g[c+1];for(a=x;a<S;++a)_[u=v[a]]=1,b[u]=y[a];for(a=0;a<l;++a)_[e[a]]&&(d[w]=a,p[w]=b[e[a]],++w);for(a=x;a<S;++a)_[u=v[a]]=0;f[s+1]=w}return m},numeric.ccsDot=function(t,e){var n,r,i,o,a,s,u,c,l,h,f=t[0],d=t[1],p=t[2],m=e[0],g=e[1],v=e[2],y=numeric.ccsDim(t),b=numeric.ccsDim(e),w=y[0],_=b[1],x=numeric.rep([w],0),S=numeric.rep([w],0),M=Array(w),C=numeric.rep([_],0),E=[],T=[],O=[C,E,T];for(i=0;i!==_;++i){for(a=m[i+1],c=0,r=o=m[i];r<a;++r)for(h=v[r],s=f[(l=g[r])+1],n=f[l];n<s;++n)0===S[u=d[n]]&&(M[c]=u,S[u]=1,c+=1),x[u]=x[u]+p[n]*h;for(C[i+1]=a=(o=C[i])+c,r=c-1;-1!==r;--r)E[h=o+r]=n=M[r],T[h]=x[n],S[n]=0,x[n]=0;C[i+1]=C[i]+c}return O},numeric.ccsLUPSolve=function(t,e){var n=t.L,r=t.U,i=e[0],o=!1;"object"!=typeof i&&(i=(e=[[0,e.length],numeric.linspace(0,e.length-1),e])[0],o=!0);var a,s,u,c,l,h=e[1],f=e[2],d=n[0].length-1,p=i.length-1,m=numeric.rep([d],0),g=Array(d),v=numeric.rep([d],0),y=Array(d),b=numeric.rep([p+1],0),w=[],_=[],x=numeric.ccsTSolve,S=0;for(a=0;a<p;++a){for(c=0,u=i[a+1],s=i[a];s<u;++s)y[c]=l=t.Pinv[h[s]],v[l]=f[s],++c;for(y.length=c,x(n,v,m,y,g),s=y.length-1;-1!==s;--s)v[y[s]]=0;if(x(r,m,v,g,y),o)return v;for(s=g.length-1;-1!==s;--s)m[g[s]]=0;for(s=y.length-1;-1!==s;--s)w[S]=l=y[s],_[S]=v[l],v[l]=0,++S;b[a+1]=S}return[b,w,_]},numeric.ccsbinop=function(t,e){return void 0===e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,n=t[0],r=t[1],i=t[2],o=numeric.sup(r)+1,a=n.length,s=numeric.rep([o],0),u=Array(a),c=Array(a),l=numeric.rep([o],0);for(e=0;e<a;++e)l[r[e]]++;for(e=0;e<o;++e)s[e+1]=s[e]+l[e];var h,f,d=s.slice(0);for(e=0;e<a;++e)u[h=d[f=r[e]]]=n[e],c[h]=i[e],d[f]=d[f]+1;return[s,u,c]},numeric.ccsGather=function(t){var e,n,r,i,o=t[0],a=t[1],s=t[2],u=o.length-1,c=a.length,l=Array(c),h=Array(c),f=Array(c);for(i=0,e=0;e<u;++e)for(r=o[e+1],n=o[e];n!==r;++n)h[i]=e,l[i]=a[n],f[i]=s[n],++i;return[l,h,f]},numeric.sdim=function t(e,n,r){if(void 0===n&&(n=[]),"object"!=typeof e)return n;var i;for(i in void 0===r&&(r=0),r in n||(n[r]=0),e.length>n[r]&&(n[r]=e.length),e)e.hasOwnProperty(i)&&t(e[i],n,r+1);return n},numeric.sclone=function t(e,n,r){void 0===n&&(n=0),void 0===r&&(r=numeric.sdim(e).length);var i,o=Array(e.length);if(n===r-1){for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);return o}for(i in e)e.hasOwnProperty(i)&&(o[i]=t(e[i],n+1,r));return o},numeric.sdiag=function(t){var e,n,r=t.length,i=Array(r);for(e=r-1;e>=1;e-=2)n=e-1,i[e]=[],i[e][e]=t[e],i[n]=[],i[n][n]=t[n];return 0===e&&(i[0]=[],i[0][0]=t[e]),i},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,n,r,i=[];for(e in t)if(t.hasOwnProperty(e))for(n in r=t[e])r.hasOwnProperty(n)&&("object"!=typeof i[n]&&(i[n]=[]),i[n][e]=r[n]);return i},numeric.sLUP=function(t,e){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var n,r,i,o,a,s,u,c=t.length,l=numeric.stranspose(e),h=l.length,f=Array(c);for(i=c-1;i>=0;i--){for(u=[],n=t[i],a=h-1;a>=0;a--){for(o in s=0,r=l[a],n)n.hasOwnProperty(o)&&o in r&&(s+=n[o]*r[o]);s&&(u[a]=s)}f[i]=u}return f},numeric.sdotMV=function(t,e){var n,r,i,o,a=t.length,s=Array(a);for(r=a-1;r>=0;r--){for(i in o=0,n=t[r])n.hasOwnProperty(i)&&e[i]&&(o+=n[i]*e[i]);o&&(s[r]=o)}return s},numeric.sdotVM=function(t,e){var n,r,i,o,a=[];for(n in t)if(t.hasOwnProperty(n))for(r in o=t[n],i=e[n])i.hasOwnProperty(r)&&(a[r]||(a[r]=0),a[r]+=o*i[r]);return a},numeric.sdotVV=function(t,e){var n,r=0;for(n in t)t[n]&&e[n]&&(r+=t[n]*e[n]);return r},numeric.sdot=function(t,e){var n=numeric.sdim(t).length,r=numeric.sdim(e).length;switch(1e3*n+r){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+r)}},numeric.sscatter=function(t){var e,n,r,i,o=t.length,a=[];for(n=t[0].length-1;n>=0;--n)if(t[o-1][n]){for(i=a,r=0;r<o-2;r++)i[e=t[r][n]]||(i[e]=[]),i=i[e];i[t[r][n]]=t[r+1][n]}return a},numeric.sgather=function t(e,n,r){var i,o,a;for(o in void 0===n&&(n=[]),void 0===r&&(r=[]),i=r.length,e)if(e.hasOwnProperty(o))if(r[i]=parseInt(o),"number"==typeof(a=e[o])){if(a){if(0===n.length)for(o=i+1;o>=0;--o)n[o]=[];for(o=i;o>=0;--o)n[o].push(r[o]);n[i+1].push(a)}}else t(a,n,r);return r.length>i&&r.pop(),n},numeric.cLU=function(t){var e,n,r,i,o,a,s=t[0],u=t[1],c=t[2],l=s.length,h=0;for(e=0;e<l;e++)s[e]>h&&(h=s[e]);h++;var f,d=Array(h),p=Array(h),m=numeric.rep([h],1/0),g=numeric.rep([h],-1/0);for(r=0;r<l;r++)(n=u[r])<m[e=s[r]]&&(m[e]=n),n>g[e]&&(g[e]=n);for(e=0;e<h-1;e++)g[e]>g[e+1]&&(g[e+1]=g[e]);for(e=h-1;e>=1;e--)m[e]<m[e-1]&&(m[e-1]=m[e]);for(e=0;e<h;e++)p[e]=numeric.rep([g[e]-m[e]+1],0),d[e]=numeric.rep([e-m[e]],0);for(r=0;r<l;r++)p[e=s[r]][u[r]-m[e]]=c[r];for(e=0;e<h-1;e++)for(i=e-m[e],b=p[e],n=e+1;m[n]<=e&&n<h;n++)if(a=g[e]-e,f=(w=p[n])[o=e-m[n]]/b[i]){for(r=1;r<=a;r++)w[r+o]-=f*b[r+i];d[n][e-m[n]]=f}var v,y,b=[],w=[],_=[],x=[],S=[],M=[];for(l=0,v=0,e=0;e<h;e++){for(i=m[e],o=g[e],y=p[e],n=e;n<=o;n++)y[n-i]&&(b[l]=e,w[l]=n,_[l]=y[n-i],l++);for(y=d[e],n=i;n<e;n++)y[n-i]&&(x[v]=e,S[v]=n,M[v]=y[n-i],v++);x[v]=e,S[v]=e,M[v]=1,v++}return{U:[b,w,_],L:[x,S,M]}},numeric.cLUsolve=function(t,e){var n,r,i=t.L,o=t.U,a=numeric.clone(e),s=i[1],u=i[2],c=o[1],l=o[2],h=o[0].length,f=a.length;for(r=0,n=0;n<f;n++){for(;s[r]<n;)a[n]-=u[r]*a[s[r]],r++;r++}for(r=h-1,n=f-1;n>=0;n--){for(;c[r]>n;)a[n]-=l[r]*a[c[r]],r--;a[n]/=l[r],r--}return a},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var n,r,i,o=numeric.rep(t,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,n){return e>=t[0]/2||n<t[1]/2};break;default:e=function(t,e){return!0}}for(i=0,n=1;n<t[0]-1;n++)for(r=1;r<t[1]-1;r++)e(n,r)&&(o[n][r]=i,i++);return o},numeric.cdelsq=function(t){var e,n,r,i,o,a=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),u=s[0],c=s[1],l=[],h=[],f=[];for(e=1;e<u-1;e++)for(n=1;n<c-1;n++)if(!(t[e][n]<0)){for(r=0;r<4;r++)t[i=e+a[r][0]][o=n+a[r][1]]<0||(l.push(t[e][n]),h.push(t[i][o]),f.push(-1));l.push(t[e][n]),h.push(t[e][n]),f.push(4)}return[l,h,f]},numeric.cdotMV=function(t,e){var n,r,i,o=t[0],a=t[1],s=t[2],u=o.length;for(i=0,r=0;r<u;r++)o[r]>i&&(i=o[r]);for(n=numeric.rep([++i],0),r=0;r<u;r++)n[o[r]]+=s[r]*e[a[r]];return n},numeric.Spline=function(t,e,n,r,i){this.x=t,this.yl=e,this.yr=n,this.kl=r,this.kr=i},numeric.Spline.prototype._at=function(t,e){var n,r,i,o=this.x,a=this.yl,s=this.yr,u=this.kr,c=numeric.add,l=numeric.sub,h=numeric.mul;n=l(h(this.kl[e],o[e+1]-o[e]),l(s[e+1],a[e])),r=c(h(u[e+1],o[e]-o[e+1]),l(s[e+1],a[e]));var f=(i=(t-o[e])/(o[e+1]-o[e]))*(1-i);return c(c(c(h(1-i,a[e]),h(i,s[e+1])),h(n,f*(1-i))),h(r,f*i))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,n,r,i=this.x,o=i.length,a=Math.floor;for(e=0,n=o-1;n-e>1;)i[r=a((e+n)/2)]<=t?e=r:n=r;return this._at(t,e)}o=t.length;var s,u=Array(o);for(s=o-1;-1!==s;--s)u[s]=this.at(t[s]);return u},numeric.Spline.prototype.diff=function(){var t,e,n,r=this.x,i=this.yl,o=this.yr,a=this.kl,s=this.kr,u=i.length,c=a,l=s,h=Array(u),f=Array(u),d=numeric.add,p=numeric.mul,m=numeric.div,g=numeric.sub;for(t=u-1;-1!==t;--t)e=r[t+1]-r[t],n=g(o[t+1],i[t]),h[t]=m(d(p(n,6),p(a[t],-4*e),p(s[t+1],-2*e)),e*e),f[t+1]=m(d(p(n,-6),p(a[t],2*e),p(s[t+1],4*e)),e*e);return new numeric.Spline(r,c,l,h,f)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],n=this.x,r=this.yl,i=this.yr,o=this.kl,a=this.kr;"number"==typeof r[0]&&(r=[r],i=[i],o=[o],a=[a]);var s,u,c,l,h,f,d,p,m,g,v,y,b,w,_,x,S,M,C,E,T,O,P,A=r.length,k=n.length-1,L=(e=Array(A),Math.sqrt);for(s=0;s!==A;++s){for(l=r[s],h=i[s],f=o[s],d=a[s],p=[],u=0;u!==k;u++){for(u>0&&h[u]*l[u]<0&&p.push(n[u]),b=(g=d[u+1]/(x=n[u+1]-n[u]))+3*(v=l[u])+2*(m=f[u]/x)-3*(y=h[u+1]),w=3*(g+m+2*(v-y)),(_=t(m-g+3*(v-y))+12*g*v)<=0?S=(M=b/w)>n[u]&&M<n[u+1]?[n[u],M,n[u+1]]:[n[u],n[u+1]]:(M=(b-L(_))/w,C=(b+L(_))/w,S=[n[u]],M>n[u]&&M<n[u+1]&&S.push(M),C>n[u]&&C<n[u+1]&&S.push(C),S.push(n[u+1])),M=this._at(T=S[0],u),c=0;c<S.length-1;c++)if(C=this._at(O=S[c+1],u),0!==M)if(0===C||M*C>0)T=O,M=C;else{for(var R=0;!((P=(M*O-C*T)/(M-C))<=T||P>=O);)if((E=this._at(P,u))*C>0)O=P,C=E,-1===R&&(M*=.5),R=-1;else{if(!(E*M>0))break;T=P,M=E,1===R&&(C*=.5),R=1}p.push(P),M=this._at(T=S[c+1],u)}else p.push(T),T=O,M=C;0===C&&p.push(O)}e[s]=p}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,n,r){var i,o=t.length,a=[],s=[],u=[],c=numeric.sub,l=numeric.mul,h=numeric.add;for(i=o-2;i>=0;i--)s[i]=t[i+1]-t[i],u[i]=c(e[i+1],e[i]);"string"!=typeof n&&"string"!=typeof r||(n=r="periodic");var f=[[],[],[]];switch(typeof n){case"undefined":a[0]=l(3/(s[0]*s[0]),u[0]),f[0].push(0,0),f[1].push(0,1),f[2].push(2/s[0],1/s[0]);break;case"string":a[0]=h(l(3/(s[o-2]*s[o-2]),u[o-2]),l(3/(s[0]*s[0]),u[0])),f[0].push(0,0,0),f[1].push(o-2,0,1),f[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:a[0]=n,f[0].push(0),f[1].push(0),f[2].push(1)}for(i=1;i<o-1;i++)a[i]=h(l(3/(s[i-1]*s[i-1]),u[i-1]),l(3/(s[i]*s[i]),u[i])),f[0].push(i,i,i),f[1].push(i-1,i,i+1),f[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof r){case"undefined":a[o-1]=l(3/(s[o-2]*s[o-2]),u[o-2]),f[0].push(o-1,o-1),f[1].push(o-2,o-1),f[2].push(1/s[o-2],2/s[o-2]);break;case"string":f[1][f[1].length-1]=0;break;default:a[o-1]=r,f[0].push(o-1),f[1].push(o-1),f[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var d=Array(a.length);if("string"==typeof n)for(i=d.length-1;-1!==i;--i)d[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(f)),a[i]),d[i][o-1]=d[i][0];else for(i=d.length-1;-1!==i;--i)d[i]=numeric.cLUsolve(numeric.cLU(f),a[i]);return d="number"==typeof e[0]?d[0]:numeric.transpose(d),new numeric.Spline(t,e,e,d,d)},numeric.fftpow2=function t(e,n){var r=e.length;if(1!==r){var i,o,a=Math.cos,s=Math.sin,u=Array(r/2),c=Array(r/2),l=Array(r/2),h=Array(r/2);for(o=r/2,i=r-1;-1!==i;--i)l[--o]=e[i],h[o]=n[i],u[o]=e[--i],c[o]=n[i];t(u,c),t(l,h),o=r/2;var f,d,p,m=-6.283185307179586/r;for(i=r-1;-1!==i;--i)-1==--o&&(o=r/2-1),d=a(f=m*i),p=s(f),e[i]=u[o]+d*l[o]-p*h[o],n[i]=c[o]+d*h[o]+p*l[o]}},numeric._ifftpow2=function t(e,n){var r=e.length;if(1!==r){var i,o,a=Math.cos,s=Math.sin,u=Array(r/2),c=Array(r/2),l=Array(r/2),h=Array(r/2);for(o=r/2,i=r-1;-1!==i;--i)l[--o]=e[i],h[o]=n[i],u[o]=e[--i],c[o]=n[i];t(u,c),t(l,h),o=r/2;var f,d,p,m=6.283185307179586/r;for(i=r-1;-1!==i;--i)-1==--o&&(o=r/2-1),d=a(f=m*i),p=s(f),e[i]=u[o]+d*l[o]-p*h[o],n[i]=c[o]+d*h[o]+p*l[o]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,n,r){var i,o,a,s,u;for(numeric.fftpow2(t,e),numeric.fftpow2(n,r),i=t.length-1;-1!==i;--i)t[i]=(o=t[i])*(a=n[i])-(s=e[i])*(u=r[i]),e[i]=o*u+s*a;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),h=Math.cos,f=Math.sin,d=-3.141592653589793/i,p=numeric.rep([u],0),m=numeric.rep([u],0);for(Math.floor(i/2),t=0;t<i;t++)p[t]=n[t];if(void 0!==r)for(t=0;t<i;t++)m[t]=r[t];for(c[0]=1,t=1;t<=u/2;t++)c[t]=h(e=d*t*t),l[t]=f(e),c[u-t]=h(e),l[u-t]=f(e);var g=new numeric.T(p,m),v=new numeric.T(c,l);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=i,g.y.length=i,g},numeric.T.prototype.ifft=function(){var t,e,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),h=Math.cos,f=Math.sin,d=3.141592653589793/i,p=numeric.rep([u],0),m=numeric.rep([u],0);for(Math.floor(i/2),t=0;t<i;t++)p[t]=n[t];if(void 0!==r)for(t=0;t<i;t++)m[t]=r[t];for(c[0]=1,t=1;t<=u/2;t++)c[t]=h(e=d*t*t),l[t]=f(e),c[u-t]=h(e),l[u-t]=f(e);var g=new numeric.T(p,m),v=new numeric.T(c,l);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=i,g.y.length=i,g.div(i)},numeric.gradient=function(t,e){var n=e.length,r=t(e);if(isNaN(r))throw new Error("gradient: f(x) is a NaN!");var i,o,a,s,u,c,l,h,f,d=Math.max,p=numeric.clone(e),m=Array(n),g=(d=Math.max,Math.abs),v=Math.min,y=0;for(i=0;i<n;i++)for(var b=d(1e-6*r,1e-8);;){if(++y>20)throw new Error("Numerical gradient fails");if(p[i]=e[i]+b,o=t(p),p[i]=e[i]-b,a=t(p),p[i]=e[i],isNaN(o)||isNaN(a))b/=16;else{if(m[i]=(o-a)/(2*b),s=e[i]-b,u=e[i],c=e[i]+b,l=(o-r)/b,h=(r-a)/b,f=d(g(m[i]),g(r),g(o),g(a),g(s),g(u),g(c),1e-8),!(v(d(g(l-m[i]),g(h-m[i]),g(l-h))/f,b/f)>.001))break;b/=16}}return m},numeric.uncmin=function(t,e,n,r,i,o,a){var s=numeric.gradient;void 0===a&&(a={}),void 0===n&&(n=1e-8),void 0===r&&(r=function(e){return s(t,e)}),void 0===i&&(i=1e3);var u,c,l=(e=numeric.clone(e)).length,h=t(e);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var f=Math.max,d=numeric.norm2;n=f(n,numeric.epsilon);var p,m,g,v,y,b,w,_,x,S,M=a.Hinv||numeric.identity(l),C=numeric.dot,E=numeric.sub,T=numeric.add,O=numeric.tensor,P=numeric.div,A=numeric.mul,k=numeric.all,L=numeric.isFinite,R=numeric.neg,D=0,N="";for(m=r(e);D<i;){if("function"==typeof o&&o(D,e,h,m,M)){N="Callback returned true";break}if(!k(L(m))){N="Gradient has Infinity or NaN";break}if(!k(L(p=R(C(M,m))))){N="Search direction has Infinity or NaN";break}if((S=d(p))<n){N="Newton step smaller than tol";break}for(x=1,c=C(m,p),y=e;D<i&&!(x*S<n)&&(y=T(e,v=A(p,x)),(u=t(y))-h>=.1*x*c||isNaN(u));)x*=.5,++D;if(x*S<n){N="Line search step size smaller than tol";break}if(D===i){N="maxit reached during line search";break}M=E(T(M,A(((_=C(b=E(g=r(y),m),v))+C(b,w=C(M,b)))/(_*_),O(v,v))),P(T(O(w,v),O(v,w)),_)),e=y,h=u,m=g,++D}return{solution:e,f:h,gradient:m,invHessian:M,iterations:D,message:N}},numeric.Dopri=function(t,e,n,r,i,o,a){this.x=t,this.y=e,this.f=n,this.ymid=r,this.iterations=i,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(t,e){function n(t){return t*t}var r,i,o,a,s,u,c,l,h,f=this.x,d=this.y,p=this.f,m=(Math,numeric.add),g=numeric.mul,v=numeric.sub;return s=d[e+1],u=this.ymid[e],c=v(p[e],g(a=d[e],1/((r=f[e])-(o=r+.5*((i=f[e+1])-r)))+2/(r-i))),l=v(p[e+1],g(s,1/(i-o)+2/(i-r))),m(m(m(m(g(a,(h=[n(t-i)*(t-o)/n(r-i)/(r-o),n(t-r)*n(t-i)/n(r-o)/n(i-o),n(t-r)*(t-o)/n(i-r)/(i-o),(t-r)*n(t-i)*(t-o)/n(r-i)/(r-o),(t-i)*n(t-r)*(t-o)/n(r-i)/(i-o)])[0]),g(u,h[1])),g(s,h[2])),g(c,h[3])),g(l,h[4]))},numeric.Dopri.prototype.at=function(t){var e,n,r,i=Math.floor;if("number"!=typeof t){var o=t.length,a=Array(o);for(e=o-1;-1!==e;--e)a[e]=this.at(t[e]);return a}var s=this.x;for(e=0,n=s.length-1;n-e>1;)s[r=i(.5*(e+n))]<=t?e=r:n=r;return this._at(t,e)},numeric.dopri=function(t,e,n,r,i,o,a){void 0===i&&(i=1e-6),void 0===o&&(o=1e3);var s,u,c,l,h,f,d,p,m,g,v,y,b,w=[t],_=[n],x=[r(t,n)],S=[],M=[.075,.225],C=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],T=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],O=[35/384,0,500/1113,125/192,-2187/6784,11/84],P=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],A=[.2,.3,.8,8/9,1,1],k=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],L=0,R=(e-t)/10,D=0,N=numeric.add,I=numeric.mul,j=(Math,Math.min),z=Math.abs,F=numeric.norminf,V=Math.pow,B=numeric.any,U=numeric.lt,H=numeric.and,G=new numeric.Dopri(w,_,x,S,-1,"");for("function"==typeof a&&(v=a(t,n));t<e&&D<o;)if(++D,t+R>e&&(R=e-t),s=r(t+A[0]*R,N(n,I(.2*R,x[L]))),u=r(t+A[1]*R,N(N(n,I(M[0]*R,x[L])),I(M[1]*R,s))),c=r(t+A[2]*R,N(N(N(n,I(C[0]*R,x[L])),I(C[1]*R,s)),I(C[2]*R,u))),l=r(t+A[3]*R,N(N(N(N(n,I(E[0]*R,x[L])),I(E[1]*R,s)),I(E[2]*R,u)),I(E[3]*R,c))),h=r(t+A[4]*R,N(N(N(N(N(n,I(T[0]*R,x[L])),I(T[1]*R,s)),I(T[2]*R,u)),I(T[3]*R,c)),I(T[4]*R,l))),f=r(t+R,m=N(N(N(N(N(n,I(x[L],R*O[0])),I(u,R*O[2])),I(c,R*O[3])),I(l,R*O[4])),I(h,R*O[5]))),(g="number"==typeof(d=N(N(N(N(N(I(x[L],R*k[0]),I(u,R*k[2])),I(c,R*k[3])),I(l,R*k[4])),I(h,R*k[5])),I(f,R*k[6])))?z(d):F(d))>i){if(t+(R=.2*R*V(i/g,.25))===t){G.msg="Step size became too small";break}}else{if(S[L]=N(N(N(N(N(N(n,I(x[L],R*P[0])),I(u,R*P[2])),I(c,R*P[3])),I(l,R*P[4])),I(h,R*P[5])),I(f,R*P[6])),w[++L]=t+R,_[L]=m,x[L]=f,"function"==typeof a){var W,q,Y=t,X=t+.5*R;if(y=a(X,S[L-1]),B(b=H(U(v,0),U(0,y)))||(Y=X,v=y,y=a(X=t+R,m),b=H(U(v,0),U(0,y))),B(b)){for(var Z,J,K=0,Q=1,$=1;;){if("number"==typeof v)q=($*y*Y-Q*v*X)/($*y-Q*v);else for(q=X,p=v.length-1;-1!==p;--p)v[p]<0&&y[p]>0&&(q=j(q,($*y[p]*Y-Q*v[p]*X)/($*y[p]-Q*v[p])));if(q<=Y||q>=X)break;J=a(q,W=G._at(q,L-1)),B(Z=H(U(v,0),U(0,J)))?(X=q,y=J,b=Z,$=1,-1===K?Q*=.5:Q=1,K=-1):(Y=q,v=J,Q=1,1===K?$*=.5:$=1,K=1)}return m=G._at(.5*(t+q),L-1),G.f[L]=r(q,W),G.x[L]=q,G.y[L]=W,G.ymid[L-1]=m,G.events=b,G.iterations=D,G}}t+=R,n=m,v=y,R=j(.8*R*V(i/g,.25),4*R)}return G.iterations=D,G},numeric.LU=function(t,e){e=e||!1;var n,r,i,o,a,s,u,c,l,h=Math.abs,f=t.length,d=f-1,p=new Array(f);for(e||(t=numeric.clone(t)),i=0;i<f;++i){for(u=i,l=h((s=t[i])[i]),r=i+1;r<f;++r)l<(o=h(t[r][i]))&&(l=o,u=r);for(p[i]=u,u!=i&&(t[i]=t[u],t[u]=s,s=t[i]),a=s[i],n=i+1;n<f;++n)t[n][i]/=a;for(n=i+1;n<f;++n){for(c=t[n],r=i+1;r<d;++r)c[r]-=c[i]*s[r],c[++r]-=c[i]*s[r];r===d&&(c[r]-=c[i]*s[r])}}return{LU:t,P:p}},numeric.LUsolve=function(t,e){var n,r,i,o,a,s=t.LU,u=s.length,c=numeric.clone(e),l=t.P;for(n=u-1;-1!==n;--n)c[n]=e[n];for(n=0;n<u;++n)for(i=l[n],l[n]!==n&&(a=c[n],c[n]=c[i],c[i]=a),o=s[n],r=0;r<n;++r)c[n]-=c[r]*o[r];for(n=u-1;n>=0;--n){for(o=s[n],r=n+1;r<u;++r)c[n]-=c[r]*o[r];c[n]/=o[n]}return c},numeric.solve=function(t,e,n){return numeric.LUsolve(numeric.LU(t,n),e)},numeric.echelonize=function(t){var e,n,r,i,o,a,s,u,c=numeric.dim(t),l=c[0],h=c[1],f=numeric.identity(l),d=Array(l),p=Math.abs,m=numeric.diveq;for(t=numeric.clone(t),e=0;e<l;++e){for(r=0,o=t[e],a=f[e],n=1;n<h;++n)p(o[r])<p(o[n])&&(r=n);for(d[e]=r,m(a,o[r]),m(o,o[r]),n=0;n<l;++n)if(n!==e){for(u=(s=t[n])[r],i=h-1;-1!==i;--i)s[i]-=o[i]*u;for(s=f[n],i=l-1;-1!==i;--i)s[i]-=a[i]*u}}return{I:f,A:t,P:d}},numeric.__solveLP=function(t,e,n,r,i,o,a){var s,u,c,l,h=numeric.sum,f=numeric.mul,d=numeric.sub,p=numeric.dot,m=numeric.div,g=numeric.add,v=t.length,y=n.length,b=!1,w=1,_=(numeric.transpose(e),numeric.transpose),x=Math.sqrt,S=Math.abs,M=Math.min,C=numeric.all,E=numeric.gt,T=Array(v),O=Array(y),P=(numeric.rep([y],1),numeric.solve),A=d(n,p(e,o)),k=p(t,t);for(c=0;c<i;++c){var L,R;for(L=y-1;-1!==L;--L)O[L]=m(e[L],A[L]);var D=_(O);for(L=v-1;-1!==L;--L)T[L]=h(D[L]);w=.25*S(k/p(t,T));var N=100*x(k/p(T,T));for((!isFinite(w)||w>N)&&(w=N),l=g(t,f(w,T)),u=p(D,O),L=v-1;-1!==L;--L)u[L][L]+=1;var I=m(A,p(e,R=P(u,m(l,w),!0))),j=1;for(L=y-1;-1!==L;--L)I[L]<0&&(j=M(j,-.999*I[L]));if(!C(E(A=d(n,p(e,s=d(o,f(R,j)))),0)))return{solution:o,message:"",iterations:c};if(o=s,w<r)return{solution:s,message:"",iterations:c};if(a){var z=p(t,l),F=p(e,l);for(b=!0,L=y-1;-1!==L;--L)if(z*F[L]<0){b=!1;break}}else b=!(o[v-1]>=0);if(b)return{solution:s,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,n,r,i){var o=t.length,a=n.length,s=numeric.sub,u=numeric.dot,c=numeric.rep([o],0).concat([1]),l=numeric.rep([a,1],-1),h=numeric.blockMatrix([[e,l]]),f=n,d=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),p=numeric.__solveLP(c,h,f,r,i,d,!1),m=numeric.clone(p.solution);if(m.length=o,numeric.inf(s(n,u(e,m)))<0)return{solution:NaN,message:"Infeasible",iterations:p.iterations};var g=numeric.__solveLP(t,e,n,r,i-p.iterations,m,!0);return g.iterations+=p.iterations,g},numeric.solveLP=function(t,e,n,r,i,o,a){if(void 0===a&&(a=1e3),void 0===o&&(o=numeric.epsilon),void 0===r)return numeric._solveLP(t,e,n,o,a);var s,u=r.length,c=r[0].length,l=e.length,h=numeric.echelonize(r),f=numeric.rep([c],0),d=h.P,p=[];for(s=d.length-1;-1!==s;--s)f[d[s]]=1;for(s=c-1;-1!==s;--s)0===f[s]&&p.push(s);var m=numeric.getRange,g=numeric.linspace(0,u-1),v=numeric.linspace(0,l-1),y=m(r,g,p),b=m(e,v,d),w=m(e,v,p),_=numeric.dot,x=numeric.sub,S=_(b,h.I),M=x(w,_(S,y)),C=x(n,_(S,i)),E=Array(d.length),T=Array(p.length);for(s=d.length-1;-1!==s;--s)E[s]=t[d[s]];for(s=p.length-1;-1!==s;--s)T[s]=t[p[s]];var O=x(T,_(E,_(h.I,y))),P=numeric._solveLP(O,M,C,o,a),A=P.solution;if(A!=A)return P;var k=_(h.I,x(i,_(y,A))),L=Array(t.length);for(s=d.length-1;-1!==s;--s)L[d[s]]=k[s];for(s=p.length-1;-1!==s;--s)L[p[s]]=A[s];return{solution:L,message:P.message,iterations:P.iterations}},numeric.MPStoLP=function(t){t instanceof String&&t.split("\n");var e,n,r,i,o=0,a=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],s=t.length,u=0,c={},l=[],h=0,f={},d=0,p=[],m=[],g=[];function v(n){throw new Error("MPStoLP: "+n+"\nLine "+e+": "+t[e]+"\nCurrent state: "+a[o]+"\n")}for(e=0;e<s;++e){var y=(r=t[e]).match(/\S*/g),b=[];for(n=0;n<y.length;++n)""!==y[n]&&b.push(y[n]);if(0!==b.length){for(n=0;n<a.length&&r.substr(0,a[n].length)!==a[n];++n);if(n<a.length){if(o=n,1===n&&(i=b[1]),6===n)return{name:i,c:p,A:numeric.transpose(m),b:g,rows:c,vars:f}}else switch(o){case 0:case 1:v("Unexpected line");case 2:switch(b[0]){case"N":0===u?u=b[1]:v("Two or more N rows");break;case"L":c[b[1]]=h,l[h]=1,g[h]=0,++h;break;case"G":c[b[1]]=h,l[h]=-1,g[h]=0,++h;break;case"E":c[b[1]]=h,l[h]=0,g[h]=0,++h;break;default:v("Parse error "+numeric.prettyPrint(b))}break;case 3:f.hasOwnProperty(b[0])||(f[b[0]]=d,p[d]=0,m[d]=numeric.rep([h],0),++d);var w=f[b[0]];for(n=1;n<b.length;n+=2)if(b[n]!==u){var _=c[b[n]];m[w][_]=(l[_]<0?-1:1)*parseFloat(b[n+1])}else p[w]=parseFloat(b[n+1]);break;case 4:for(n=1;n<b.length;n+=2)g[c[b[n]]]=(l[c[b[n]]]<0?-1:1)*parseFloat(b[n+1]);break;case 5:break;case 6:v("Internal error")}}}v("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,n,r,i,o,a){function s(t,e,n,r){for(t+="",n=0,r=0;r<t.length;r++)e[u(r)]=u((n^=19*e[u(r)])+t.charCodeAt(r));for(r in t="",e)t+=String.fromCharCode(e[r]);return t}function u(t){return t&n-1}e.seedrandom=function(r,c){var l,h=[];return r=s(function t(e,n,r,i,o){if(r=[],o=typeof e,n&&"object"==o)for(i in e)if(i.indexOf("S")<5)try{r.push(t(e[i],n-1))}catch(t){}return r.length?r:e+("string"!=o?"\0":"")}(c?[r,t]:arguments.length?r:[(new Date).getTime(),t,window],3),h),s((l=new function(t){var e,r=this,i=t.length,o=0,a=r.i=r.j=r.m=0;for(r.S=[],r.c=[],i||(t=[i++]);o<n;)r.S[o]=o++;for(o=0;o<n;o++)a=u(a+(e=r.S[o])+t[o%i]),r.S[o]=r.S[a],r.S[a]=e;r.g=function(t){var e=r.S,i=u(r.i+1),o=e[i],a=u(r.j+o),s=e[a];e[i]=s,e[a]=o;for(var c=e[u(o+s)];--t;)a=u(a+(o=e[i=u(i+1)])),e[i]=s=e[a],e[a]=o,c=c*n+e[u(o+s)];return r.i=i,r.j=a,c},r.g(n)}(h)).S,t),e.random=function(){for(var t=l.g(6),e=a,r=0;t<i;)t=(t+r)*n,e*=n,r=l.g(1);for(;t>=o;)t/=2,e/=2,r>>>=1;return(t+r)/e},r},a=e.pow(n,6),i=e.pow(2,i),o=2*i,s(e.random(),t)}([],numeric.seedrandom,256,0,52),function(t){function e(t){if("object"!=typeof t)return t;var n,r=[],i=t.length;for(n=0;n<i;n++)r[n+1]=e(t[n]);return r}function n(t){if("object"!=typeof t)return t;var e,r=[],i=t.length;for(e=1;e<i;e++)r[e-1]=n(t[e]);return r}numeric.solveQP=function(t,r,i,o,a,s){t=e(t),r=e(r),i=e(i);var u,c,l,h,f,d=[],p=[],m=[],g=[],v=[];if(a=a||0,s=s?e(s):[void 0,0],o=o?e(o):[],c=t.length-1,l=i[1].length-1,!o)for(u=1;u<=l;u+=1)o[u]=0;for(u=1;u<=l;u+=1)p[u]=0;for(h=Math.min(c,l),u=1;u<=c;u+=1)m[u]=0;for(d[1]=0,u=1;u<=2*c+h*(h+5)/2+2*l+1;u+=1)g[u]=0;for(u=1;u<=2;u+=1)v[u]=0;return function(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,m){var g,v,y,b,w,_,x,S,M,C,E,T,O,P,A,k,L,R,D,N,I,j,z,F,V,B,U;O=Math.min(r,c),y=2*r+O*(O+5)/2+2*c+1,F=1e-60;do{V=1+.1*(F+=F),B=1+.2*F}while(V<=1||B<=1);for(g=1;g<=r;g+=1)p[g]=e[g];for(g=r+1;g<=y;g+=1)p[g]=0;for(g=1;g<=c;g+=1)h[g]=0;if(w=[],0===m[1]){if(function(t,e,n,r){var i,o,a,s,u,c;for(o=1;o<=n;o+=1){if(r[1]=o,c=0,(a=o-1)<1){if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}else{for(s=1;s<=a;s+=1){for(u=t[s][o],i=1;i<s;i+=1)u-=t[i][o]*t[i][s];t[s][o]=u/=t[s][s],c+=u*u}if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}r[1]=0}}(t,0,r,w),0!==w[1])return void(m[1]=2);!function(t,e,n,r){var i,o,a,s;for(o=1;o<=n;o+=1){for(s=0,i=1;i<o;i+=1)s+=t[i][o]*r[i];r[o]=(r[o]-s)/t[o][o]}for(a=1;a<=n;a+=1)for(r[o=n+1-a]=r[o]/t[o][o],s=-r[o],i=1;i<o;i+=1)r[i]=r[i]+s*t[i][o]}(t,0,r,e),function(t,e,n){var r,i,o,a,s;for(o=1;o<=n;o+=1){for(t[o][o]=1/t[o][o],s=-t[o][o],r=1;r<o;r+=1)t[r][o]=s*t[r][o];if(n<(a=o+1))break;for(i=a;i<=n;i+=1)for(s=t[o][i],t[o][i]=0,r=1;r<=o;r+=1)t[r][i]=t[r][i]+s*t[r][o]}}(t,0,r)}else{for(v=1;v<=r;v+=1)for(i[v]=0,g=1;g<=v;g+=1)i[v]=i[v]+t[g][v]*e[g];for(v=1;v<=r;v+=1)for(e[v]=0,g=v;g<=r;g+=1)e[v]=e[v]+t[v][g]*i[g]}for(o[1]=0,v=1;v<=r;v+=1)for(i[v]=e[v],o[1]=o[1]+p[v]*i[v],p[v]=0,g=v+1;g<=r;g+=1)t[g][v]=0;for(o[1]=-o[1]/2,m[1]=0,P=(C=(M=(E=(S=(x=r)+r)+O)+O+1)+O*(O+1)/2)+c,g=1;g<=c;g+=1){for(k=0,v=1;v<=r;v+=1)k+=a[v][g]*a[v][g];p[P+g]=Math.sqrt(k)}function H(){for(d[1]=d[1]+1,y=C,g=1;g<=c;g+=1){for(y+=1,k=-s[g],v=1;v<=r;v+=1)k+=a[v][g]*i[v];if(Math.abs(k)<F&&(k=0),g>l)p[y]=k;else if(p[y]=-Math.abs(k),k>0){for(v=1;v<=r;v+=1)a[v][g]=-a[v][g];s[g]=-s[g]}}for(g=1;g<=f;g+=1)p[C+h[g]]=0;for(T=0,A=0,g=1;g<=c;g+=1)p[C+g]<A*p[P+g]&&(T=g,A=p[C+g]/p[P+g]);return 0===T?999:0}function G(){for(g=1;g<=r;g+=1){for(k=0,v=1;v<=r;v+=1)k+=t[v][g]*a[v][T];p[g]=k}for(b=x,g=1;g<=r;g+=1)p[b+g]=0;for(v=f+1;v<=r;v+=1)for(g=1;g<=r;g+=1)p[b+g]=p[b+g]+t[g][v]*p[v];for(j=!0,g=f;g>=1;g-=1){for(k=p[g],b=(y=M+g*(g+3)/2)-g,v=g+1;v<=f;v+=1)k-=p[y]*p[S+v],y+=v;if(p[S+g]=k/=p[b],h[g]<l)break;if(k<0)break;j=!1,_=g}if(!j)for(L=p[E+_]/p[S+_],g=1;g<=f&&!(h[g]<l)&&!(p[S+g]<0);g+=1)(A=p[E+g]/p[S+g])<L&&(L=A,_=g);for(k=0,g=x+1;g<=x+r;g+=1)k+=p[g]*p[g];if(Math.abs(k)<=F){if(j)return m[1]=1,999;for(g=1;g<=f;g+=1)p[E+g]=p[E+g]-L*p[S+g];return p[E+f+1]=p[E+f+1]+L,700}for(k=0,g=1;g<=r;g+=1)k+=p[x+g]*a[g][T];for(R=-p[C+T]/k,z=!0,j||L<R&&(R=L,z=!1),g=1;g<=r;g+=1)i[g]=i[g]+R*p[x+g],Math.abs(i[g])<F&&(i[g]=0);for(o[1]=o[1]+R*k*(R/2+p[E+f+1]),g=1;g<=f;g+=1)p[E+g]=p[E+g]-R*p[S+g];if(p[E+f+1]=p[E+f+1]+R,!z){for(k=-s[T],v=1;v<=r;v+=1)k+=i[v]*a[v][T];if(T>l)p[C+T]=k;else if(p[C+T]=-Math.abs(k),k>0){for(v=1;v<=r;v+=1)a[v][T]=-a[v][T];s[T]=-s[T]}return 700}for(h[f+=1]=T,y=M+(f-1)*f/2+1,g=1;g<=f-1;g+=1)p[y]=p[g],y+=1;if(f===r)p[y]=p[r];else{for(g=r;g>=f+1&&0!==p[g]&&(D=Math.max(Math.abs(p[g-1]),Math.abs(p[g])),N=Math.min(Math.abs(p[g-1]),Math.abs(p[g])),A=p[g-1]>=0?Math.abs(D*Math.sqrt(1+N*N/(D*D))):-Math.abs(D*Math.sqrt(1+N*N/(D*D))),N=p[g]/A,1!=(D=p[g-1]/A));g-=1)if(0===D)for(p[g-1]=N*A,v=1;v<=r;v+=1)A=t[v][g-1],t[v][g-1]=t[v][g],t[v][g]=A;else for(p[g-1]=A,I=N/(1+D),v=1;v<=r;v+=1)t[v][g]=I*(t[v][g-1]+(A=D*t[v][g-1]+N*t[v][g]))-t[v][g],t[v][g-1]=A;p[y]=p[f]}return 0}function W(){if(0===p[b=(y=M+_*(_+1)/2+1)+_])return 798;if(D=Math.max(Math.abs(p[b-1]),Math.abs(p[b])),N=Math.min(Math.abs(p[b-1]),Math.abs(p[b])),A=p[b-1]>=0?Math.abs(D*Math.sqrt(1+N*N/(D*D))):-Math.abs(D*Math.sqrt(1+N*N/(D*D))),N=p[b]/A,1==(D=p[b-1]/A))return 798;if(0===D){for(g=_+1;g<=f;g+=1)A=p[b-1],p[b-1]=p[b],p[b]=A,b+=g;for(g=1;g<=r;g+=1)A=t[g][_],t[g][_]=t[g][_+1],t[g][_+1]=A}else{for(I=N/(1+D),g=_+1;g<=f;g+=1)p[b]=I*(p[b-1]+(A=D*p[b-1]+N*p[b]))-p[b],p[b-1]=A,b+=g;for(g=1;g<=r;g+=1)t[g][_+1]=I*(t[g][_]+(A=D*t[g][_]+N*t[g][_+1]))-t[g][_+1],t[g][_]=A}return 0}function q(){for(b=y-_,g=1;g<=_;g+=1)p[b]=p[y],y+=1,b+=1;return p[E+_]=p[E+_+1],h[_]=h[_+1],(_+=1)<f?797:0}function Y(){return p[E+f]=p[E+f+1],p[E+f+1]=0,h[f]=0,f-=1,d[2]=d[2]+1,0}for(f=0,d[1]=0,d[2]=0,U=0;;){if(999===(U=H()))return;for(;0!==(U=G());){if(999===U)return;if(700===U)if(_===f)Y();else{for(;W(),797===(U=q()););Y()}}}}(t,r,0,c,m,d,i,o,0,l,a,p,0,v,g,s),f="",1===s[1]&&(f="constraints are inconsistent, no solution!"),2===s[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:n(m),value:n(d),unconstrained_solution:n(r),iterations:n(v),iact:n(p),message:f}}}(),numeric.svd=function(t){var e,n=numeric.epsilon,r=1e-64/n,i=0,o=0,a=0,s=0,u=0,c=numeric.clone(t),l=c.length,h=c[0].length;if(l<h)throw"Need more rows than columns";var f=new Array(h),d=new Array(h);for(o=0;o<h;o++)f[o]=d[o]=0;var p=numeric.rep([h,h],0);function m(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var g=0,v=0,y=0,b=0,w=0,_=0,x=0;for(o=0;o<h;o++){for(f[o]=v,x=0,u=o+1,a=o;a<l;a++)x+=c[a][o]*c[a][o];if(x<=r)v=0;else for(g=c[o][o],v=Math.sqrt(x),g>=0&&(v=-v),y=g*v-x,c[o][o]=g-v,a=u;a<h;a++){for(x=0,s=o;s<l;s++)x+=c[s][o]*c[s][a];for(g=x/y,s=o;s<l;s++)c[s][a]+=g*c[s][o]}for(d[o]=v,x=0,a=u;a<h;a++)x+=c[o][a]*c[o][a];if(x<=r)v=0;else{for(g=c[o][o+1],v=Math.sqrt(x),g>=0&&(v=-v),y=g*v-x,c[o][o+1]=g-v,a=u;a<h;a++)f[a]=c[o][a]/y;for(a=u;a<l;a++){for(x=0,s=u;s<h;s++)x+=c[a][s]*c[o][s];for(s=u;s<h;s++)c[a][s]+=x*f[s]}}(w=Math.abs(d[o])+Math.abs(f[o]))>b&&(b=w)}for(o=h-1;-1!=o;o+=-1){if(0!=v){for(y=v*c[o][o+1],a=u;a<h;a++)p[a][o]=c[o][a]/y;for(a=u;a<h;a++){for(x=0,s=u;s<h;s++)x+=c[o][s]*p[s][a];for(s=u;s<h;s++)p[s][a]+=x*p[s][o]}}for(a=u;a<h;a++)p[o][a]=0,p[a][o]=0;p[o][o]=1,v=f[o],u=o}for(o=h-1;-1!=o;o+=-1){for(v=d[o],a=u=o+1;a<h;a++)c[o][a]=0;if(0!=v){for(y=c[o][o]*v,a=u;a<h;a++){for(x=0,s=u;s<l;s++)x+=c[s][o]*c[s][a];for(g=x/y,s=o;s<l;s++)c[s][a]+=g*c[s][o]}for(a=o;a<l;a++)c[a][o]=c[a][o]/v}else for(a=o;a<l;a++)c[a][o]=0;c[o][o]+=1}for(n*=b,s=h-1;-1!=s;s+=-1)for(var S=0;S<50;S++){var M=!1;for(u=s;-1!=u;u+=-1){if(Math.abs(f[u])<=n){M=!0;break}if(Math.abs(d[u-1])<=n)break}if(!M){i=0,x=1;var C=u-1;for(o=u;o<s+1&&(g=x*f[o],f[o]=i*f[o],!(Math.abs(g)<=n));o++)for(y=m(g,v=d[o]),d[o]=y,i=v/y,x=-g/y,a=0;a<l;a++)c[a][C]=(w=c[a][C])*i+(_=c[a][o])*x,c[a][o]=-w*x+_*i}if(_=d[s],u==s){if(_<0)for(d[s]=-_,a=0;a<h;a++)p[a][s]=-p[a][s];break}if(S>=49)throw"Error: no convergence.";for(b=d[u],v=m(g=(((w=d[s-1])-_)*(w+_)+((v=f[s-1])-(y=f[s]))*(v+y))/(2*y*w),1),g=g<0?((b-_)*(b+_)+y*(w/(g-v)-y))/b:((b-_)*(b+_)+y*(w/(g+v)-y))/b,i=1,x=1,o=u+1;o<s+1;o++){for(w=d[o],y=x*(v=f[o]),v*=i,_=m(g,y),f[o-1]=_,g=b*(i=g/_)+v*(x=y/_),v=-b*x+v*i,y=w*x,w*=i,a=0;a<h;a++)p[a][o-1]=(b=p[a][o-1])*i+(_=p[a][o])*x,p[a][o]=-b*x+_*i;for(_=m(g,y),d[o-1]=_,g=(i=g/_)*v+(x=y/_)*w,b=-x*v+i*w,a=0;a<l;a++)c[a][o-1]=(w=c[a][o-1])*i+(_=c[a][o])*x,c[a][o]=-w*x+_*i}f[u]=0,f[s]=g,d[s]=b}for(o=0;o<d.length;o++)d[o]<n&&(d[o]=0);for(o=0;o<h;o++)for(a=o-1;a>=0;a--)if(d[a]<d[o]){for(i=d[a],d[a]=d[o],d[o]=i,s=0;s<c.length;s++)e=c[s][o],c[s][o]=c[s][a],c[s][a]=e;for(s=0;s<p.length;s++)e=p[s][o],p[s][o]=p[s][a],p[s][a]=e;o=a}return{U:c,S:d,V:p}}},zBeG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){this.minimum=t,this.maximum=e,t>e&&(this.minimum=e,this.maximum=t)}},zJjT:function(t,e,n){n("aNjz");var r=n("lrVJ").cjkRegex,i=n("cstk"),o={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"A","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"o","\xdf":"B","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"a","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"o","\xff":"y","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041a":"K","\u041b":"N","\u041c":"M","\u041d":"H","\u041e":"O","\u041f":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042a":"B","\u042b":"X","\u042c":"B","\u042d":"3","\u042e":"X","\u042f":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043a":"n","\u043b":"n","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044a":"a","\u044b":"m","\u044c":"a","\u044d":"e","\u044e":"m","\u044f":"r"};t.exports={metrics:{defaultRuleThickness:.04,bigOpSpacing1:.111,bigOpSpacing2:.166,bigOpSpacing3:.2,bigOpSpacing4:.6,bigOpSpacing5:.1,ptPerEm:10,doubleRuleSep:.2},sigmas:{slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]},getCharacterMetrics:function(t,e){var n=t.charCodeAt(0);t[0]in o?n=o[t[0]].charCodeAt(0):r.test(t[0])&&(n="M".charCodeAt(0));var a=i[e][n];if(a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}}}]);
//# sourceMappingURL=vendor.c9d7e612f3e3f4bed6f9.js.map